(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Sm={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function _S(){if(Wv)return Gl;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var f=null;if(u!==void 0&&(f=""+u),o.key!==void 0&&(f=""+o.key),"key"in o){u={};for(var p in o)p!=="key"&&(u[p]=o[p])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:f,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var eE;function vS(){return eE||(eE=1,Sm.exports=_S()),Sm.exports}var m=vS(),wm={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tE;function ES(){if(tE)return we;tE=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function j(k){return k===null||typeof k!="object"?null:(k=w&&k[w]||k["@@iterator"],typeof k=="function"?k:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,H={};function J(k,te,le){this.props=k,this.context=te,this.refs=H,this.updater=le||F}J.prototype.isReactComponent={},J.prototype.setState=function(k,te){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,te,"setState")},J.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function ie(){}ie.prototype=J.prototype;function re(k,te,le){this.props=k,this.context=te,this.refs=H,this.updater=le||F}var pe=re.prototype=new ie;pe.constructor=re,X(pe,J.prototype),pe.isPureReactComponent=!0;var _e=Array.isArray;function Ee(){}var N={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function I(k,te,le){var he=le.ref;return{$$typeof:r,type:k,key:te,ref:he!==void 0?he:null,props:le}}function V(k,te){return I(k.type,te,k.props)}function O(k){return typeof k=="object"&&k!==null&&k.$$typeof===r}function C(k){var te={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(le){return te[le]})}var x=/\/+/g;function se(k,te){return typeof k=="object"&&k!==null&&k.key!=null?C(""+k.key):te.toString(36)}function Me(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(Ee,Ee):(k.status="pending",k.then(function(te){k.status==="pending"&&(k.status="fulfilled",k.value=te)},function(te){k.status==="pending"&&(k.status="rejected",k.reason=te)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Y(k,te,le,he,Ae){var xe=typeof k;(xe==="undefined"||xe==="boolean")&&(k=null);var He=!1;if(k===null)He=!0;else switch(xe){case"bigint":case"string":case"number":He=!0;break;case"object":switch(k.$$typeof){case r:case e:He=!0;break;case T:return He=k._init,Y(He(k._payload),te,le,he,Ae)}}if(He)return Ae=Ae(k),He=he===""?"."+se(k,0):he,_e(Ae)?(le="",He!=null&&(le=He.replace(x,"$&/")+"/"),Y(Ae,te,le,"",function(Es){return Es})):Ae!=null&&(O(Ae)&&(Ae=V(Ae,le+(Ae.key==null||k&&k.key===Ae.key?"":(""+Ae.key).replace(x,"$&/")+"/")+He)),te.push(Ae)),1;He=0;var Mt=he===""?".":he+":";if(_e(k))for(var ot=0;ot<k.length;ot++)he=k[ot],xe=Mt+se(he,ot),He+=Y(he,te,le,xe,Ae);else if(ot=j(k),typeof ot=="function")for(k=ot.call(k),ot=0;!(he=k.next()).done;)he=he.value,xe=Mt+se(he,ot++),He+=Y(he,te,le,xe,Ae);else if(xe==="object"){if(typeof k.then=="function")return Y(Me(k),te,le,he,Ae);throw te=String(k),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(k,te,le){if(k==null)return k;var he=[],Ae=0;return Y(k,he,"","",function(xe){return te.call(le,xe,Ae++)}),he}function K(k){if(k._status===-1){var te=k._result;te=te(),te.then(function(le){(k._status===0||k._status===-1)&&(k._status=1,k._result=le)},function(le){(k._status===0||k._status===-1)&&(k._status=2,k._result=le)}),k._status===-1&&(k._status=0,k._result=te)}if(k._status===1)return k._result.default;throw k._result}var me=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},qe={map:oe,forEach:function(k,te,le){oe(k,function(){te.apply(this,arguments)},le)},count:function(k){var te=0;return oe(k,function(){te++}),te},toArray:function(k){return oe(k,function(te){return te})||[]},only:function(k){if(!O(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=A,we.Children=qe,we.Component=J,we.Fragment=n,we.Profiler=o,we.PureComponent=re,we.StrictMode=s,we.Suspense=g,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return N.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,te,le){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var he=X({},k.props),Ae=k.key;if(te!=null)for(xe in te.key!==void 0&&(Ae=""+te.key),te)!R.call(te,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&te.ref===void 0||(he[xe]=te[xe]);var xe=arguments.length-2;if(xe===1)he.children=le;else if(1<xe){for(var He=Array(xe),Mt=0;Mt<xe;Mt++)He[Mt]=arguments[Mt+2];he.children=He}return I(k.type,Ae,he)},we.createContext=function(k){return k={$$typeof:f,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},we.createElement=function(k,te,le){var he,Ae={},xe=null;if(te!=null)for(he in te.key!==void 0&&(xe=""+te.key),te)R.call(te,he)&&he!=="key"&&he!=="__self"&&he!=="__source"&&(Ae[he]=te[he]);var He=arguments.length-2;if(He===1)Ae.children=le;else if(1<He){for(var Mt=Array(He),ot=0;ot<He;ot++)Mt[ot]=arguments[ot+2];Ae.children=Mt}if(k&&k.defaultProps)for(he in He=k.defaultProps,He)Ae[he]===void 0&&(Ae[he]=He[he]);return I(k,xe,Ae)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:p,render:k}},we.isValidElement=O,we.lazy=function(k){return{$$typeof:T,_payload:{_status:-1,_result:k},_init:K}},we.memo=function(k,te){return{$$typeof:y,type:k,compare:te===void 0?null:te}},we.startTransition=function(k){var te=N.T,le={};N.T=le;try{var he=k(),Ae=N.S;Ae!==null&&Ae(le,he),typeof he=="object"&&he!==null&&typeof he.then=="function"&&he.then(Ee,me)}catch(xe){me(xe)}finally{te!==null&&le.types!==null&&(te.types=le.types),N.T=te}},we.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},we.use=function(k){return N.H.use(k)},we.useActionState=function(k,te,le){return N.H.useActionState(k,te,le)},we.useCallback=function(k,te){return N.H.useCallback(k,te)},we.useContext=function(k){return N.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,te){return N.H.useDeferredValue(k,te)},we.useEffect=function(k,te){return N.H.useEffect(k,te)},we.useEffectEvent=function(k){return N.H.useEffectEvent(k)},we.useId=function(){return N.H.useId()},we.useImperativeHandle=function(k,te,le){return N.H.useImperativeHandle(k,te,le)},we.useInsertionEffect=function(k,te){return N.H.useInsertionEffect(k,te)},we.useLayoutEffect=function(k,te){return N.H.useLayoutEffect(k,te)},we.useMemo=function(k,te){return N.H.useMemo(k,te)},we.useOptimistic=function(k,te){return N.H.useOptimistic(k,te)},we.useReducer=function(k,te,le){return N.H.useReducer(k,te,le)},we.useRef=function(k){return N.H.useRef(k)},we.useState=function(k){return N.H.useState(k)},we.useSyncExternalStore=function(k,te,le){return N.H.useSyncExternalStore(k,te,le)},we.useTransition=function(){return N.H.useTransition()},we.version="19.2.0",we}var nE;function Sp(){return nE||(nE=1,wm.exports=ES()),wm.exports}var L=Sp(),Rm={exports:{}},Ql={},Cm={exports:{}},Im={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iE;function TS(){return iE||(iE=1,(function(r){function e(Y,oe){var K=Y.length;Y.push(oe);e:for(;0<K;){var me=K-1>>>1,qe=Y[me];if(0<o(qe,oe))Y[me]=oe,Y[K]=qe,K=me;else break e}}function n(Y){return Y.length===0?null:Y[0]}function s(Y){if(Y.length===0)return null;var oe=Y[0],K=Y.pop();if(K!==oe){Y[0]=K;e:for(var me=0,qe=Y.length,k=qe>>>1;me<k;){var te=2*(me+1)-1,le=Y[te],he=te+1,Ae=Y[he];if(0>o(le,K))he<qe&&0>o(Ae,le)?(Y[me]=Ae,Y[he]=K,me=he):(Y[me]=le,Y[te]=K,me=te);else if(he<qe&&0>o(Ae,K))Y[me]=Ae,Y[he]=K,me=he;else break e}}return oe}function o(Y,oe){var K=Y.sortIndex-oe.sortIndex;return K!==0?K:Y.id-oe.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,p=f.now();r.unstable_now=function(){return f.now()-p}}var g=[],y=[],T=1,A=null,w=3,j=!1,F=!1,X=!1,H=!1,J=typeof setTimeout=="function"?setTimeout:null,ie=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;function pe(Y){for(var oe=n(y);oe!==null;){if(oe.callback===null)s(y);else if(oe.startTime<=Y)s(y),oe.sortIndex=oe.expirationTime,e(g,oe);else break;oe=n(y)}}function _e(Y){if(X=!1,pe(Y),!F)if(n(g)!==null)F=!0,Ee||(Ee=!0,C());else{var oe=n(y);oe!==null&&Me(_e,oe.startTime-Y)}}var Ee=!1,N=-1,R=5,I=-1;function V(){return H?!0:!(r.unstable_now()-I<R)}function O(){if(H=!1,Ee){var Y=r.unstable_now();I=Y;var oe=!0;try{e:{F=!1,X&&(X=!1,ie(N),N=-1),j=!0;var K=w;try{t:{for(pe(Y),A=n(g);A!==null&&!(A.expirationTime>Y&&V());){var me=A.callback;if(typeof me=="function"){A.callback=null,w=A.priorityLevel;var qe=me(A.expirationTime<=Y);if(Y=r.unstable_now(),typeof qe=="function"){A.callback=qe,pe(Y),oe=!0;break t}A===n(g)&&s(g),pe(Y)}else s(g);A=n(g)}if(A!==null)oe=!0;else{var k=n(y);k!==null&&Me(_e,k.startTime-Y),oe=!1}}break e}finally{A=null,w=K,j=!1}oe=void 0}}finally{oe?C():Ee=!1}}}var C;if(typeof re=="function")C=function(){re(O)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,se=x.port2;x.port1.onmessage=O,C=function(){se.postMessage(null)}}else C=function(){J(O,0)};function Me(Y,oe){N=J(function(){Y(r.unstable_now())},oe)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(Y){Y.callback=null},r.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Y?Math.floor(1e3/Y):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(Y){switch(w){case 1:case 2:case 3:var oe=3;break;default:oe=w}var K=w;w=oe;try{return Y()}finally{w=K}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(Y,oe){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=w;w=Y;try{return oe()}finally{w=K}},r.unstable_scheduleCallback=function(Y,oe,K){var me=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?me+K:me):K=me,Y){case 1:var qe=-1;break;case 2:qe=250;break;case 5:qe=1073741823;break;case 4:qe=1e4;break;default:qe=5e3}return qe=K+qe,Y={id:T++,callback:oe,priorityLevel:Y,startTime:K,expirationTime:qe,sortIndex:-1},K>me?(Y.sortIndex=K,e(y,Y),n(g)===null&&Y===n(y)&&(X?(ie(N),N=-1):X=!0,Me(_e,K-me))):(Y.sortIndex=qe,e(g,Y),F||j||(F=!0,Ee||(Ee=!0,C()))),Y},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(Y){var oe=w;return function(){var K=w;w=oe;try{return Y.apply(this,arguments)}finally{w=K}}}})(Im)),Im}var rE;function bS(){return rE||(rE=1,Cm.exports=TS()),Cm.exports}var xm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sE;function AS(){if(sE)return Zt;sE=1;var r=Sp();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)y+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,T){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:A==null?null:""+A,children:g,containerInfo:y,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(g,y){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,T)},Zt.flushSync=function(g){var y=f.T,T=s.p;try{if(f.T=null,s.p=2,g)return g()}finally{f.T=y,s.p=T,s.d.f()}},Zt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Zt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Zt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,j=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;T==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:j}):T==="script"&&s.d.X(g,{crossOrigin:A,integrity:w,fetchPriority:j,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Zt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var T=p(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Zt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var T=y.as,A=p(T,y.crossOrigin);s.d.L(g,T,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Zt.preloadModule=function(g,y){if(typeof g=="string")if(y){var T=p(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:T,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Zt.requestFormReset=function(g){s.d.r(g)},Zt.unstable_batchedUpdates=function(g,y){return g(y)},Zt.useFormState=function(g,y,T){return f.H.useFormState(g,y,T)},Zt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Zt.version="19.2.0",Zt}var aE;function SS(){if(aE)return xm.exports;aE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),xm.exports=AS(),xm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oE;function wS(){if(oE)return Ql;oE=1;var r=bS(),e=Sp(),n=SS();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function g(t){if(u(t)!==t)throw Error(s(188))}function y(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return g(h),t;if(d===l)return g(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=d;else{for(var v=!1,b=h.child;b;){if(b===a){v=!0,a=h,l=d;break}if(b===l){v=!0,l=h,a=d;break}b=b.sibling}if(!v){for(b=d.child;b;){if(b===a){v=!0,a=d,l=h;break}if(b===l){v=!0,l=d,a=h;break}b=b.sibling}if(!v)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),F=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),ie=Symbol.for("react.consumer"),re=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),_e=Symbol.for("react.suspense"),Ee=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function C(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var x=Symbol.for("react.client.reference");function se(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===x?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case J:return"Profiler";case H:return"StrictMode";case _e:return"Suspense";case Ee:return"SuspenseList";case I:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case F:return"Portal";case re:return t.displayName||"Context";case ie:return(t._context.displayName||"Context")+".Consumer";case pe:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:se(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return se(t(i))}catch{}}return null}var Me=Array.isArray,Y=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},me=[],qe=-1;function k(t){return{current:t}}function te(t){0>qe||(t.current=me[qe],me[qe]=null,qe--)}function le(t,i){qe++,me[qe]=t.current,t.current=i}var he=k(null),Ae=k(null),xe=k(null),He=k(null);function Mt(t,i){switch(le(xe,i),le(Ae,t),le(he,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?bv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=bv(i),t=Av(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}te(he),le(he,t)}function ot(){te(he),te(Ae),te(xe)}function Es(t){t.memoizedState!==null&&le(He,t);var i=he.current,a=Av(i,t.type);i!==a&&(le(Ae,t),le(he,a))}function ha(t){Ae.current===t&&(te(he),te(Ae)),He.current===t&&(te(He),Bl._currentValue=K)}var fa,da;function ci(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var Bo=!1;function Ts(t,i){if(!t||Bo)return"";Bo=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var q=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){q=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){q=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&q&&typeof Q.stack=="string")return[Q.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),v=d[0],b=d[1];if(v&&b){var D=v.split(`
`),B=b.split(`
`);for(h=l=0;l<D.length&&!D[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===D.length||h===B.length)for(l=D.length-1,h=B.length-1;1<=l&&0<=h&&D[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(D[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||D[l]!==B[h]){var $=`
`+D[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=h);break}}}finally{Bo=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?ci(a):""}function qo(t,i){switch(t.tag){case 26:case 27:case 5:return ci(t.type);case 16:return ci("Lazy");case 13:return t.child!==i&&i!==null?ci("Suspense Fallback"):ci("Suspense");case 19:return ci("SuspenseList");case 0:case 15:return Ts(t.type,!1);case 11:return Ts(t.type.render,!1);case 1:return Ts(t.type,!0);case 31:return ci("Activity");default:return""}}function Ho(t){try{var i="",a=null;do i+=qo(t,a),a=t,t=t.return;while(t);return i}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Tt=Object.prototype.hasOwnProperty,Vt=r.unstable_scheduleCallback,yr=r.unstable_cancelCallback,Rf=r.unstable_shouldYield,ju=r.unstable_requestPaint,sn=r.unstable_now,bs=r.unstable_getCurrentPriorityLevel,Fo=r.unstable_ImmediatePriority,Go=r.unstable_UserBlockingPriority,_r=r.unstable_NormalPriority,Cf=r.unstable_LowPriority,ku=r.unstable_IdlePriority,Pu=r.log,Lu=r.unstable_setDisableYieldValue,Gn=null,Ht=null;function xn(t){if(typeof Pu=="function"&&Lu(t),Ht&&typeof Ht.setStrictMode=="function")try{Ht.setStrictMode(Gn,t)}catch{}}var mt=Math.clz32?Math.clz32:zu,Uu=Math.log,ma=Math.LN2;function zu(t){return t>>>=0,t===0?32:31-(Uu(t)/ma|0)|0}var hi=256,As=262144,bt=4194304;function fi(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function di(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,d=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?h=fi(l):(v&=b,v!==0?h=fi(v):a||(a=b&~t,a!==0&&(h=fi(a))))):(b=l&~d,b!==0?h=fi(b):v!==0?h=fi(v):a||(a=l&~t,a!==0&&(h=fi(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Qn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function If(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bu(){var t=bt;return bt<<=1,(bt&62914560)===0&&(bt=4194304),t}function mi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function Ss(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function xf(t,i,a,l,h,d){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,D=t.expirationTimes,B=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-mt(a),ee=1<<$;b[$]=0,D[$]=-1;var q=B[$];if(q!==null)for(B[$]=null,$=0;$<q.length;$++){var Q=q[$];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&ws(t,l,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(v&~i))}function ws(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-mt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&261930}function Qo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-mt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Ko(t,i){var a=i&-i;return a=(a&42)!==0?1:Rs(a),(a&(t.suspendedLanes|i))!==0?0:a}function Rs(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function zi(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qu(){var t=oe.p;return t!==0?t:(t=window.event,t===void 0?32:Qv(t.type))}function Kn(t,i){var a=oe.p;try{return oe.p=t,i()}finally{oe.p=a}}var Yn=Math.random().toString(36).slice(2),At="__reactFiber$"+Yn,Pt="__reactProps$"+Yn,pi="__reactContainer$"+Yn,pa="__reactEvents$"+Yn,Nf="__reactListeners$"+Yn,Hu="__reactHandles$"+Yn,Fu="__reactResources$"+Yn,gi="__reactMarker$"+Yn;function ga(t){delete t[At],delete t[Pt],delete t[pa],delete t[Nf],delete t[Hu]}function yi(t){var i=t[At];if(i)return i;for(var a=t.parentNode;a;){if(i=a[pi]||a[At]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Nv(t);t!==null;){if(a=t[At])return a;t=Nv(t)}return i}t=a,a=t.parentNode}return null}function Nn(t){if(t=t[At]||t[pi]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function _n(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function _i(t){var i=t[Fu];return i||(i=t[Fu]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function St(t){t[gi]=!0}var Yo=new Set,$o={};function vi(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for($o[t]=i,t=0;t<i.length;t++)Yo.add(i[t])}var Xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Jo={},Zo={};function Gu(t){return Tt.call(Zo,t)?!0:Tt.call(Jo,t)?!1:Xo.test(t)?Zo[t]=!0:(Jo[t]=!0,!1)}function ya(t,i,a){if(Gu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function vn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function wt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}function Lt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vr(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Wo(t,i,a){var l=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,d=l.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(v){a=""+v,d.call(this,v)}}),Object.defineProperty(t,i,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(v){a=""+v},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Xe(t){if(!t._valueTracker){var i=vr(t)?"checked":"value";t._valueTracker=Wo(t,i,""+t[i])}}function Cs(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=vr(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function Ti(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Is=/[\n"\\]/g;function ln(t){return t.replace(Is,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,l,h,d,v,b){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),i!=null?v==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Lt(i)):t.value!==""+Lt(i)&&(t.value=""+Lt(i)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),i!=null?el(t,v,Lt(i)):a!=null?el(t,v,Lt(a)):l!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+Lt(b):t.removeAttribute("name")}function Qu(t,i,a,l,h,d,v,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Xe(t);return}a=a!=null?""+Lt(a):"",i=i!=null?""+Lt(i):a,b||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v),Xe(t)}function el(t,i,a){i==="number"&&Ti(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Er(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+Lt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Ku(t,i,a){if(i!=null&&(i=""+Lt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Lt(a):""}function Tr(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Me(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=Lt(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l),Xe(t)}function un(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Yu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tl(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||Yu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function nl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&tl(t,h,l)}else for(var d in i)i.hasOwnProperty(d)&&tl(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $u=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),br=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return br.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function $n(){}var il=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,bi=null;function xs(t){var i=Nn(t);if(i&&(t=i.stateNode)){var a=t[Pt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ln(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[Pt]||null;if(!h)throw Error(s(90));_a(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&Cs(l)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Er(t,!!a.multiple,i,!1)}}}var Ta=!1;function Sr(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var l=t(i);return l}finally{if(Ta=!1,(Ar!==null||bi!==null)&&(qc(),Ar&&(i=Ar,t=bi,bi=Ar=null,xs(i),t)))for(i=0;i<t.length;i++)xs(t[i])}}function Xn(t,i){var a=t.stateNode;if(a===null)return null;var l=a[Pt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var On=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ns=!1;if(On)try{var We={};Object.defineProperty(We,"passive",{get:function(){Ns=!0}}),window.addEventListener("test",We,We),window.removeEventListener("test",We,We)}catch{Ns=!1}var Ai=null,rl=null,Ds=null;function sl(){if(Ds)return Ds;var t,i=rl,a=i.length,l,h="value"in Ai?Ai.value:Ai.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var v=a-t;for(l=1;l<=v&&i[a-l]===h[d-l];l++);return Ds=h.slice(t,1<l?1-l:void 0)}function Os(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bi(){return!0}function Jn(){return!1}function Ft(t){function i(a,l,h,d,v){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=d,this.target=v,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Bi:Jn,this.isPropagationStopped=Jn,this}return A(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bi)},persist:function(){},isPersistent:Bi}),i}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ft(qi),wr=A({},qi,{view:0,detail:0}),al=Ft(wr),Rr,ba,wi,Aa=A({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wi&&(wi&&t.type==="mousemove"?(Rr=t.screenX-wi.screenX,ba=t.screenY-wi.screenY):ba=Rr=0,wi=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),ol=Ft(Aa),Ms=A({},Aa,{dataTransfer:0}),Xu=Ft(Ms),Ju=A({},wr,{relatedTarget:0}),Vs=Ft(Ju),ll=A({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),Zu=Ft(ll),Sa=A({},qi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Wu=Ft(Sa),ec=A({},qi,{data:0}),Ri=Ft(ec),tc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ic={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rc(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=ic[t])?!!i[t]:!1}function Cr(){return rc}var an=A({},wr,{key:function(t){if(t.key){var i=tc[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Os(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?nc[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Os(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Os(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),sc=Ft(an),ac=A({},Aa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hi=Ft(ac),c=A({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),_=Ft(c),E=A({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Ft(E),U=A({},Aa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),G=Ft(U),ae=A({},qi,{newState:0,oldState:0}),Ce=Ft(ae),pt=[9,13,27,32],Ke=On&&"CompositionEvent"in window,lt=null;On&&"documentMode"in document&&(lt=document.documentMode);var Mn=On&&"TextEvent"in window&&!lt,Ci=On&&(!Ke||lt&&8<lt&&11>=lt),Zn=" ",Wn=!1;function js(t,i){switch(t){case"keyup":return pt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ra=!1;function qb(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:(Wn=!0,Zn);case"textInput":return t=i.data,t===Zn&&Wn?null:t;default:return null}}function Hb(t,i){if(Ra)return t==="compositionend"||!Ke&&js(t,i)?(t=sl(),Ds=rl=Ai=null,Ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Ci&&i.locale!=="ko"?null:i.data;default:return null}}var Fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mg(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Fb[t.type]:i==="textarea"}function Vg(t,i,a,l){Ar?bi?bi.push(l):bi=[l]:Ar=l,i=$c(i,"onChange"),0<i.length&&(a=new Si("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var ul=null,cl=null;function Gb(t){gv(t,0)}function oc(t){var i=_n(t);if(Cs(i))return t}function jg(t,i){if(t==="change")return i}var kg=!1;if(On){var Df;if(On){var Of="oninput"in document;if(!Of){var Pg=document.createElement("div");Pg.setAttribute("oninput","return;"),Of=typeof Pg.oninput=="function"}Df=Of}else Df=!1;kg=Df&&(!document.documentMode||9<document.documentMode)}function Lg(){ul&&(ul.detachEvent("onpropertychange",Ug),cl=ul=null)}function Ug(t){if(t.propertyName==="value"&&oc(cl)){var i=[];Vg(i,cl,t,Dn(t)),Sr(Gb,i)}}function Qb(t,i,a){t==="focusin"?(Lg(),ul=i,cl=a,ul.attachEvent("onpropertychange",Ug)):t==="focusout"&&Lg()}function Kb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oc(cl)}function Yb(t,i){if(t==="click")return oc(i)}function $b(t,i){if(t==="input"||t==="change")return oc(i)}function Xb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var En=typeof Object.is=="function"?Object.is:Xb;function hl(t,i){if(En(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Tt.call(i,h)||!En(t[h],i[h]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,i){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function qg(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?qg(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Hg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=Ti(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=Ti(t.document)}return i}function Mf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Jb=On&&"documentMode"in document&&11>=document.documentMode,Ca=null,Vf=null,fl=null,jf=!1;function Fg(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;jf||Ca==null||Ca!==Ti(l)||(l=Ca,"selectionStart"in l&&Mf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),fl&&hl(fl,l)||(fl=l,l=$c(Vf,"onSelect"),0<l.length&&(i=new Si("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=Ca)))}function ks(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ia={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},kf={},Gg={};On&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Ps(t){if(kf[t])return kf[t];if(!Ia[t])return t;var i=Ia[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Gg)return kf[t]=i[a];return t}var Qg=Ps("animationend"),Kg=Ps("animationiteration"),Yg=Ps("animationstart"),Zb=Ps("transitionrun"),Wb=Ps("transitionstart"),eA=Ps("transitioncancel"),$g=Ps("transitionend"),Xg=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function ei(t,i){Xg.set(t,i),vi(i,[t])}var lc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Vn=[],xa=0,Lf=0;function uc(){for(var t=xa,i=Lf=xa=0;i<t;){var a=Vn[i];Vn[i++]=null;var l=Vn[i];Vn[i++]=null;var h=Vn[i];Vn[i++]=null;var d=Vn[i];if(Vn[i++]=null,l!==null&&h!==null){var v=l.pending;v===null?h.next=h:(h.next=v.next,v.next=h),l.pending=h}d!==0&&Jg(a,h,d)}}function cc(t,i,a,l){Vn[xa++]=t,Vn[xa++]=i,Vn[xa++]=a,Vn[xa++]=l,Lf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Uf(t,i,a,l){return cc(t,i,a,l),hc(t)}function Ls(t,i){return cc(t,null,null,i),hc(t)}function Jg(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-mt(a),t=d.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),d):null}function hc(t){if(50<Vl)throw Vl=0,Yd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Na={};function tA(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(t,i,a,l){return new tA(t,i,a,l)}function zf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fi(t,i){var a=t.alternate;return a===null?(a=Tn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Zg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function fc(t,i,a,l,h,d){var v=0;if(l=t,typeof t=="function")zf(t)&&(v=1);else if(typeof t=="string")v=aS(t,a,he.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case I:return t=Tn(31,a,i,h),t.elementType=I,t.lanes=d,t;case X:return Us(a.children,h,d,i);case H:v=8,h|=24;break;case J:return t=Tn(12,a,i,h|2),t.elementType=J,t.lanes=d,t;case _e:return t=Tn(13,a,i,h),t.elementType=_e,t.lanes=d,t;case Ee:return t=Tn(19,a,i,h),t.elementType=Ee,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case re:v=10;break e;case ie:v=9;break e;case pe:v=11;break e;case N:v=14;break e;case R:v=16,l=null;break e}v=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=Tn(v,a,i,h),i.elementType=t,i.type=l,i.lanes=d,i}function Us(t,i,a,l){return t=Tn(7,t,l,i),t.lanes=a,t}function Bf(t,i,a){return t=Tn(6,t,null,i),t.lanes=a,t}function Wg(t){var i=Tn(18,null,null,0);return i.stateNode=t,i}function qf(t,i,a){return i=Tn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var ey=new WeakMap;function jn(t,i){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ho(i)},ey.set(t,i),i)}return{value:t,source:i,stack:Ho(i)}}var Da=[],Oa=0,dc=null,dl=0,kn=[],Pn=0,Ir=null,Ii=1,xi="";function Gi(t,i){Da[Oa++]=dl,Da[Oa++]=dc,dc=t,dl=i}function ty(t,i,a){kn[Pn++]=Ii,kn[Pn++]=xi,kn[Pn++]=Ir,Ir=t;var l=Ii;t=xi;var h=32-mt(l)-1;l&=~(1<<h),a+=1;var d=32-mt(i)+h;if(30<d){var v=h-h%5;d=(l&(1<<v)-1).toString(32),l>>=v,h-=v,Ii=1<<32-mt(i)+h|a<<h|l,xi=d+t}else Ii=1<<d|a<<h|l,xi=t}function Hf(t){t.return!==null&&(Gi(t,1),ty(t,1,0))}function Ff(t){for(;t===dc;)dc=Da[--Oa],Da[Oa]=null,dl=Da[--Oa],Da[Oa]=null;for(;t===Ir;)Ir=kn[--Pn],kn[Pn]=null,xi=kn[--Pn],kn[Pn]=null,Ii=kn[--Pn],kn[Pn]=null}function ny(t,i){kn[Pn++]=Ii,kn[Pn++]=xi,kn[Pn++]=Ir,Ii=i.id,xi=i.overflow,Ir=t}var Gt=null,st=null,Be=!1,xr=null,Ln=!1,Gf=Error(s(519));function Nr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ml(jn(i,t)),Gf}function iy(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[At]=t,i[Pt]=l,a){case"dialog":je("cancel",i),je("close",i);break;case"iframe":case"object":case"embed":je("load",i);break;case"video":case"audio":for(a=0;a<kl.length;a++)je(kl[a],i);break;case"source":je("error",i);break;case"img":case"image":case"link":je("error",i),je("load",i);break;case"details":je("toggle",i);break;case"input":je("invalid",i),Qu(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":je("invalid",i);break;case"textarea":je("invalid",i),Tr(i,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Ev(i.textContent,a)?(l.popover!=null&&(je("beforetoggle",i),je("toggle",i)),l.onScroll!=null&&je("scroll",i),l.onScrollEnd!=null&&je("scrollend",i),l.onClick!=null&&(i.onclick=$n),i=!0):i=!1,i||Nr(t,!0)}function ry(t){for(Gt=t.return;Gt;)switch(Gt.tag){case 5:case 31:case 13:Ln=!1;return;case 27:case 3:Ln=!0;return;default:Gt=Gt.return}}function Ma(t){if(t!==Gt)return!1;if(!Be)return ry(t),Be=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&st&&Nr(t),ry(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=xv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));st=xv(t)}else i===27?(i=st,Fr(t.type)?(t=mm,mm=null,st=t):st=i):st=Gt?zn(t.stateNode.nextSibling):null;return!0}function zs(){st=Gt=null,Be=!1}function Qf(){var t=xr;return t!==null&&(dn===null?dn=t:dn.push.apply(dn,t),xr=null),t}function ml(t){xr===null?xr=[t]:xr.push(t)}var Kf=k(null),Bs=null,Qi=null;function Dr(t,i,a){le(Kf,i._currentValue),i._currentValue=a}function Ki(t){t._currentValue=Kf.current,te(Kf)}function Yf(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function $f(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var v=h.child;d=d.firstContext;e:for(;d!==null;){var b=d;d=h;for(var D=0;D<i.length;D++)if(b.context===i[D]){d.lanes|=a,b=d.alternate,b!==null&&(b.lanes|=a),Yf(d.return,a,t),l||(v=null);break e}d=b.next}}else if(h.tag===18){if(v=h.return,v===null)throw Error(s(341));v.lanes|=a,d=v.alternate,d!==null&&(d.lanes|=a),Yf(v,a,t),v=null}else v=h.child;if(v!==null)v.return=h;else for(v=h;v!==null;){if(v===t){v=null;break}if(h=v.sibling,h!==null){h.return=v.return,v=h;break}v=v.return}h=v}}function Va(t,i,a,l){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var v=h.alternate;if(v===null)throw Error(s(387));if(v=v.memoizedProps,v!==null){var b=h.type;En(h.pendingProps.value,v.value)||(t!==null?t.push(b):t=[b])}}else if(h===He.current){if(v=h.alternate,v===null)throw Error(s(387));v.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Bl):t=[Bl])}h=h.return}t!==null&&$f(i,t,a,l),i.flags|=262144}function mc(t){for(t=t.firstContext;t!==null;){if(!En(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function qs(t){Bs=t,Qi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Qt(t){return sy(Bs,t)}function pc(t,i){return Bs===null&&qs(t),sy(t,i)}function sy(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Qi===null){if(t===null)throw Error(s(308));Qi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Qi=Qi.next=i;return a}var nA=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},iA=r.unstable_scheduleCallback,rA=r.unstable_NormalPriority,Rt={$$typeof:re,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xf(){return{controller:new nA,data:new Map,refCount:0}}function pl(t){t.refCount--,t.refCount===0&&iA(rA,function(){t.controller.abort()})}var gl=null,Jf=0,ja=0,ka=null;function sA(t,i){if(gl===null){var a=gl=[];Jf=0,ja=em(),ka={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Jf++,i.then(ay,ay),i}function ay(){if(--Jf===0&&gl!==null){ka!==null&&(ka.status="fulfilled");var t=gl;gl=null,ja=0,ka=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function aA(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var oy=Y.S;Y.S=function(t,i){F_=sn(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&sA(t,i),oy!==null&&oy(t,i)};var Hs=k(null);function Zf(){var t=Hs.current;return t!==null?t:it.pooledCache}function gc(t,i){i===null?le(Hs,Hs.current):le(Hs,i.pool)}function ly(){var t=Zf();return t===null?null:{parent:Rt._currentValue,pool:t}}var Pa=Error(s(460)),Wf=Error(s(474)),yc=Error(s(542)),_c={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cy(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then($n,$n),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t;default:if(typeof i.status=="string")i.then($n,$n);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,fy(t),t}throw Gs=i,Pa}}function Fs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Gs=a,Pa):a}}var Gs=null;function hy(){if(Gs===null)throw Error(s(459));var t=Gs;return Gs=null,t}function fy(t){if(t===Pa||t===yc)throw Error(s(483))}var La=null,yl=0;function vc(t){var i=yl;return yl+=1,La===null&&(La=[]),cy(La,t,i)}function _l(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Ec(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function dy(t){function i(P,M){if(t){var z=P.deletions;z===null?(P.deletions=[M],P.flags|=16):z.push(M)}}function a(P,M){if(!t)return null;for(;M!==null;)i(P,M),M=M.sibling;return null}function l(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function h(P,M){return P=Fi(P,M),P.index=0,P.sibling=null,P}function d(P,M,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<M?(P.flags|=67108866,M):z):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function v(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function b(P,M,z,Z){return M===null||M.tag!==6?(M=Bf(z,P.mode,Z),M.return=P,M):(M=h(M,z),M.return=P,M)}function D(P,M,z,Z){var ge=z.type;return ge===X?$(P,M,z.props.children,Z,z.key):M!==null&&(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Fs(ge)===M.type)?(M=h(M,z.props),_l(M,z),M.return=P,M):(M=fc(z.type,z.key,z.props,null,P.mode,Z),_l(M,z),M.return=P,M)}function B(P,M,z,Z){return M===null||M.tag!==4||M.stateNode.containerInfo!==z.containerInfo||M.stateNode.implementation!==z.implementation?(M=qf(z,P.mode,Z),M.return=P,M):(M=h(M,z.children||[]),M.return=P,M)}function $(P,M,z,Z,ge){return M===null||M.tag!==7?(M=Us(z,P.mode,Z,ge),M.return=P,M):(M=h(M,z),M.return=P,M)}function ee(P,M,z){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Bf(""+M,P.mode,z),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case j:return z=fc(M.type,M.key,M.props,null,P.mode,z),_l(z,M),z.return=P,z;case F:return M=qf(M,P.mode,z),M.return=P,M;case R:return M=Fs(M),ee(P,M,z)}if(Me(M)||C(M))return M=Us(M,P.mode,z,null),M.return=P,M;if(typeof M.then=="function")return ee(P,vc(M),z);if(M.$$typeof===re)return ee(P,pc(P,M),z);Ec(P,M)}return null}function q(P,M,z,Z){var ge=M!==null?M.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return ge!==null?null:b(P,M,""+z,Z);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===ge?D(P,M,z,Z):null;case F:return z.key===ge?B(P,M,z,Z):null;case R:return z=Fs(z),q(P,M,z,Z)}if(Me(z)||C(z))return ge!==null?null:$(P,M,z,Z,null);if(typeof z.then=="function")return q(P,M,vc(z),Z);if(z.$$typeof===re)return q(P,M,pc(P,z),Z);Ec(P,z)}return null}function Q(P,M,z,Z,ge){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return P=P.get(z)||null,b(M,P,""+Z,ge);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case j:return P=P.get(Z.key===null?z:Z.key)||null,D(M,P,Z,ge);case F:return P=P.get(Z.key===null?z:Z.key)||null,B(M,P,Z,ge);case R:return Z=Fs(Z),Q(P,M,z,Z,ge)}if(Me(Z)||C(Z))return P=P.get(z)||null,$(M,P,Z,ge,null);if(typeof Z.then=="function")return Q(P,M,z,vc(Z),ge);if(Z.$$typeof===re)return Q(P,M,z,pc(M,Z),ge);Ec(M,Z)}return null}function fe(P,M,z,Z){for(var ge=null,Ge=null,de=M,Ne=M=0,Pe=null;de!==null&&Ne<z.length;Ne++){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var Qe=q(P,de,z[Ne],Z);if(Qe===null){de===null&&(de=Pe);break}t&&de&&Qe.alternate===null&&i(P,de),M=d(Qe,M,Ne),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe,de=Pe}if(Ne===z.length)return a(P,de),Be&&Gi(P,Ne),ge;if(de===null){for(;Ne<z.length;Ne++)de=ee(P,z[Ne],Z),de!==null&&(M=d(de,M,Ne),Ge===null?ge=de:Ge.sibling=de,Ge=de);return Be&&Gi(P,Ne),ge}for(de=l(de);Ne<z.length;Ne++)Pe=Q(de,P,Ne,z[Ne],Z),Pe!==null&&(t&&Pe.alternate!==null&&de.delete(Pe.key===null?Ne:Pe.key),M=d(Pe,M,Ne),Ge===null?ge=Pe:Ge.sibling=Pe,Ge=Pe);return t&&de.forEach(function($r){return i(P,$r)}),Be&&Gi(P,Ne),ge}function ve(P,M,z,Z){if(z==null)throw Error(s(151));for(var ge=null,Ge=null,de=M,Ne=M=0,Pe=null,Qe=z.next();de!==null&&!Qe.done;Ne++,Qe=z.next()){de.index>Ne?(Pe=de,de=null):Pe=de.sibling;var $r=q(P,de,Qe.value,Z);if($r===null){de===null&&(de=Pe);break}t&&de&&$r.alternate===null&&i(P,de),M=d($r,M,Ne),Ge===null?ge=$r:Ge.sibling=$r,Ge=$r,de=Pe}if(Qe.done)return a(P,de),Be&&Gi(P,Ne),ge;if(de===null){for(;!Qe.done;Ne++,Qe=z.next())Qe=ee(P,Qe.value,Z),Qe!==null&&(M=d(Qe,M,Ne),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return Be&&Gi(P,Ne),ge}for(de=l(de);!Qe.done;Ne++,Qe=z.next())Qe=Q(de,P,Ne,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&de.delete(Qe.key===null?Ne:Qe.key),M=d(Qe,M,Ne),Ge===null?ge=Qe:Ge.sibling=Qe,Ge=Qe);return t&&de.forEach(function(yS){return i(P,yS)}),Be&&Gi(P,Ne),ge}function nt(P,M,z,Z){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var ge=z.key;M!==null;){if(M.key===ge){if(ge=z.type,ge===X){if(M.tag===7){a(P,M.sibling),Z=h(M,z.props.children),Z.return=P,P=Z;break e}}else if(M.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===R&&Fs(ge)===M.type){a(P,M.sibling),Z=h(M,z.props),_l(Z,z),Z.return=P,P=Z;break e}a(P,M);break}else i(P,M);M=M.sibling}z.type===X?(Z=Us(z.props.children,P.mode,Z,z.key),Z.return=P,P=Z):(Z=fc(z.type,z.key,z.props,null,P.mode,Z),_l(Z,z),Z.return=P,P=Z)}return v(P);case F:e:{for(ge=z.key;M!==null;){if(M.key===ge)if(M.tag===4&&M.stateNode.containerInfo===z.containerInfo&&M.stateNode.implementation===z.implementation){a(P,M.sibling),Z=h(M,z.children||[]),Z.return=P,P=Z;break e}else{a(P,M);break}else i(P,M);M=M.sibling}Z=qf(z,P.mode,Z),Z.return=P,P=Z}return v(P);case R:return z=Fs(z),nt(P,M,z,Z)}if(Me(z))return fe(P,M,z,Z);if(C(z)){if(ge=C(z),typeof ge!="function")throw Error(s(150));return z=ge.call(z),ve(P,M,z,Z)}if(typeof z.then=="function")return nt(P,M,vc(z),Z);if(z.$$typeof===re)return nt(P,M,pc(P,z),Z);Ec(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,M!==null&&M.tag===6?(a(P,M.sibling),Z=h(M,z),Z.return=P,P=Z):(a(P,M),Z=Bf(z,P.mode,Z),Z.return=P,P=Z),v(P)):a(P,M)}return function(P,M,z,Z){try{yl=0;var ge=nt(P,M,z,Z);return La=null,ge}catch(de){if(de===Pa||de===yc)throw de;var Ge=Tn(29,de,null,P.mode);return Ge.lanes=Z,Ge.return=P,Ge}finally{}}}var Qs=dy(!0),my=dy(!1),Or=!1;function ed(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function td(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Mr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Vr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ye&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=hc(t),Jg(t,null,a),i}return cc(t,l,i,a),hc(t)}function vl(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}function nd(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=v:d=d.next=v,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var id=!1;function El(){if(id){var t=ka;if(t!==null)throw t}}function Tl(t,i,a,l){id=!1;var h=t.updateQueue;Or=!1;var d=h.firstBaseUpdate,v=h.lastBaseUpdate,b=h.shared.pending;if(b!==null){h.shared.pending=null;var D=b,B=D.next;D.next=null,v===null?d=B:v.next=B,v=D;var $=t.alternate;$!==null&&($=$.updateQueue,b=$.lastBaseUpdate,b!==v&&(b===null?$.firstBaseUpdate=B:b.next=B,$.lastBaseUpdate=D))}if(d!==null){var ee=h.baseState;v=0,$=B=D=null,b=d;do{var q=b.lane&-536870913,Q=q!==b.lane;if(Q?(ke&q)===q:(l&q)===q){q!==0&&q===ja&&(id=!0),$!==null&&($=$.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var fe=t,ve=b;q=i;var nt=a;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){ee=fe.call(nt,ee,q);break e}ee=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,q=typeof fe=="function"?fe.call(nt,ee,q):fe,q==null)break e;ee=A({},ee,q);break e;case 2:Or=!0}}q=b.callback,q!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=h.callbacks,Q===null?h.callbacks=[q]:Q.push(q))}else Q={lane:q,tag:b.tag,payload:b.payload,callback:b.callback,next:null},$===null?(B=$=Q,D=ee):$=$.next=Q,v|=q;if(b=b.next,b===null){if(b=h.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,h.lastBaseUpdate=Q,h.shared.pending=null}}while(!0);$===null&&(D=ee),h.baseState=D,h.firstBaseUpdate=B,h.lastBaseUpdate=$,d===null&&(h.shared.lanes=0),Ur|=v,t.lanes=v,t.memoizedState=ee}}function py(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function gy(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)py(a[t],i)}var Ua=k(null),Tc=k(0);function yy(t,i){t=nr,le(Tc,t),le(Ua,i),nr=t|i.baseLanes}function rd(){le(Tc,nr),le(Ua,Ua.current)}function sd(){nr=Tc.current,te(Ua),te(Tc)}var bn=k(null),Un=null;function jr(t){var i=t.alternate;le(gt,gt.current&1),le(bn,t),Un===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Un=t)}function ad(t){le(gt,gt.current),le(bn,t),Un===null&&(Un=t)}function _y(t){t.tag===22?(le(gt,gt.current),le(bn,t),Un===null&&(Un=t)):kr()}function kr(){le(gt,gt.current),le(bn,bn.current)}function An(t){te(bn),Un===t&&(Un=null),te(gt)}var gt=k(0);function bc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||fm(a)||dm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,Ie=null,et=null,Ct=null,Ac=!1,za=!1,Ks=!1,Sc=0,bl=0,Ba=null,oA=0;function ft(){throw Error(s(321))}function od(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!En(t[a],i[a]))return!1;return!0}function ld(t,i,a,l,h,d){return Yi=d,Ie=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Y.H=t===null||t.memoizedState===null?t_:Ad,Ks=!1,d=a(l,h),Ks=!1,za&&(d=Ey(i,a,l,h)),vy(t),d}function vy(t){Y.H=wl;var i=et!==null&&et.next!==null;if(Yi=0,Ct=et=Ie=null,Ac=!1,bl=0,Ba=null,i)throw Error(s(300));t===null||It||(t=t.dependencies,t!==null&&mc(t)&&(It=!0))}function Ey(t,i,a,l){Ie=t;var h=0;do{if(za&&(Ba=null),bl=0,za=!1,25<=h)throw Error(s(301));if(h+=1,Ct=et=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}Y.H=n_,d=i(a,l)}while(za);return d}function lA(){var t=Y.H,i=t.useState()[0];return i=typeof i.then=="function"?Al(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ie.flags|=1024),i}function ud(){var t=Sc!==0;return Sc=0,t}function cd(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function hd(t){if(Ac){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}Ac=!1}Yi=0,Ct=et=Ie=null,za=!1,bl=Sc=0,Ba=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t,Ct}function yt(){if(et===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=Ct===null?Ie.memoizedState:Ct.next;if(i!==null)Ct=i,et=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ct===null?Ie.memoizedState=Ct=t:Ct=Ct.next=t}return Ct}function wc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Al(t){var i=bl;return bl+=1,Ba===null&&(Ba=[]),t=cy(Ba,t,i),i=Ie,(Ct===null?i.memoizedState:Ct.next)===null&&(i=i.alternate,Y.H=i===null||i.memoizedState===null?t_:Ad),t}function Rc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Al(t);if(t.$$typeof===re)return Qt(t)}throw Error(s(438,String(t)))}function fd(t){var i=null,a=Ie.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=wc(),Ie.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=V;return i.index++,a}function $i(t,i){return typeof i=="function"?i(t):i}function Cc(t){var i=yt();return dd(i,et,t)}function dd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,d=l.pending;if(d!==null){if(h!==null){var v=h.next;h.next=d.next,d.next=v}i.baseQueue=h=d,l.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var b=v=null,D=null,B=i,$=!1;do{var ee=B.lane&-536870913;if(ee!==B.lane?(ke&ee)===ee:(Yi&ee)===ee){var q=B.revertLane;if(q===0)D!==null&&(D=D.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),ee===ja&&($=!0);else if((Yi&q)===q){B=B.next,q===ja&&($=!0);continue}else ee={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=ee,v=d):D=D.next=ee,Ie.lanes|=q,Ur|=q;ee=B.action,Ks&&a(d,ee),d=B.hasEagerState?B.eagerState:a(d,ee)}else q={lane:ee,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},D===null?(b=D=q,v=d):D=D.next=q,Ie.lanes|=ee,Ur|=ee;B=B.next}while(B!==null&&B!==i);if(D===null?v=d:D.next=b,!En(d,t.memoizedState)&&(It=!0,$&&(a=ka,a!==null)))throw a;t.memoizedState=d,t.baseState=v,t.baseQueue=D,l.lastRenderedState=d}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function md(t){var i=yt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var v=h=h.next;do d=t(d,v.action),v=v.next;while(v!==h);En(d,i.memoizedState)||(It=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,l]}function Ty(t,i,a){var l=Ie,h=yt(),d=Be;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var v=!En((et||h).memoizedState,a);if(v&&(h.memoizedState=a,It=!0),h=h.queue,yd(Sy.bind(null,l,h,t),[t]),h.getSnapshot!==i||v||Ct!==null&&Ct.memoizedState.tag&1){if(l.flags|=2048,qa(9,{destroy:void 0},Ay.bind(null,l,h,a,i),null),it===null)throw Error(s(349));d||(Yi&127)!==0||by(l,i,a)}return a}function by(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ie.updateQueue,i===null?(i=wc(),Ie.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Ay(t,i,a,l){i.value=a,i.getSnapshot=l,wy(i)&&Ry(t)}function Sy(t,i,a){return a(function(){wy(i)&&Ry(t)})}function wy(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!En(t,a)}catch{return!0}}function Ry(t){var i=Ls(t,2);i!==null&&mn(i,t,2)}function pd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),Ks){xn(!0);try{a()}finally{xn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},i}function Cy(t,i,a,l){return t.baseState=a,dd(t,et,typeof l=="function"?l:$i)}function uA(t,i,a,l,h){if(Nc(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){d.listeners.push(v)}};Y.T!==null?a(!0):d.isTransition=!1,l(d),a=i.pending,a===null?(d.next=i.pending=d,Iy(i,d)):(d.next=a.next,i.pending=a.next=d)}}function Iy(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var d=Y.T,v={};Y.T=v;try{var b=a(h,l),D=Y.S;D!==null&&D(v,b),xy(t,i,b)}catch(B){gd(t,i,B)}finally{d!==null&&v.types!==null&&(d.types=v.types),Y.T=d}}else try{d=a(h,l),xy(t,i,d)}catch(B){gd(t,i,B)}}function xy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Ny(t,i,l)},function(l){return gd(t,i,l)}):Ny(t,i,a)}function Ny(t,i,a){i.status="fulfilled",i.value=a,Dy(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Iy(t,a)))}function gd(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Dy(i),i=i.next;while(i!==l)}t.action=null}function Dy(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function Oy(t,i){return i}function My(t,i){if(Be){var a=it.formState;if(a!==null){e:{var l=Ie;if(Be){if(st){t:{for(var h=st,d=Ln;h.nodeType!==8;){if(!d){h=null;break t}if(h=zn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){st=zn(h.nextSibling),l=h.data==="F!";break e}}Nr(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oy,lastRenderedState:i},a.queue=l,a=Zy.bind(null,Ie,l),l.dispatch=a,l=pd(!1),d=bd.bind(null,Ie,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=uA.bind(null,Ie,h,d,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Vy(t){var i=yt();return jy(i,et,t)}function jy(t,i,a){if(i=dd(t,i,Oy)[0],t=Cc($i)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Al(i)}catch(v){throw v===Pa?yc:v}else l=i;i=yt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(Ie.flags|=2048,qa(9,{destroy:void 0},cA.bind(null,h,a),null)),[l,d,t]}function cA(t,i){t.action=i}function ky(t){var i=yt(),a=et;if(a!==null)return jy(i,a,t);yt(),i=i.memoizedState,a=yt();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function qa(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ie.updateQueue,i===null&&(i=wc(),Ie.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Py(){return yt().memoizedState}function Ic(t,i,a,l){var h=on();Ie.flags|=t,h.memoizedState=qa(1|i,{destroy:void 0},a,l===void 0?null:l)}function xc(t,i,a,l){var h=yt();l=l===void 0?null:l;var d=h.memoizedState.inst;et!==null&&l!==null&&od(l,et.memoizedState.deps)?h.memoizedState=qa(i,d,a,l):(Ie.flags|=t,h.memoizedState=qa(1|i,d,a,l))}function Ly(t,i){Ic(8390656,8,t,i)}function yd(t,i){xc(2048,8,t,i)}function hA(t){Ie.flags|=4;var i=Ie.updateQueue;if(i===null)i=wc(),Ie.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function Uy(t){var i=yt().memoizedState;return hA({ref:i,nextImpl:t}),function(){if((Ye&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function zy(t,i){return xc(4,2,t,i)}function By(t,i){return xc(4,4,t,i)}function qy(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Hy(t,i,a){a=a!=null?a.concat([t]):null,xc(4,4,qy.bind(null,i,t),a)}function _d(){}function Fy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&od(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Gy(t,i){var a=yt();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&od(i,l[1]))return l[0];if(l=t(),Ks){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l}function vd(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(ke&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=Q_(),Ie.lanes|=t,Ur|=t,a)}function Qy(t,i,a,l){return En(a,i)?a:Ua.current!==null?(t=vd(t,a,l),En(t,i)||(It=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(ke&261930)===0?(It=!0,t.memoizedState=a):(t=Q_(),Ie.lanes|=t,Ur|=t,i)}function Ky(t,i,a,l,h){var d=oe.p;oe.p=d!==0&&8>d?d:8;var v=Y.T,b={};Y.T=b,bd(t,!1,i,a);try{var D=h(),B=Y.S;if(B!==null&&B(b,D),D!==null&&typeof D=="object"&&typeof D.then=="function"){var $=aA(D,l);Sl(t,i,$,Rn(t))}else Sl(t,i,l,Rn(t))}catch(ee){Sl(t,i,{then:function(){},status:"rejected",reason:ee},Rn())}finally{oe.p=d,v!==null&&b.types!==null&&(v.types=b.types),Y.T=v}}function fA(){}function Ed(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=Yy(t).queue;Ky(t,h,i,K,a===null?fA:function(){return $y(t),a(l)})}function Yy(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:K},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function $y(t){var i=Yy(t);i.next===null&&(i=t.alternate.memoizedState),Sl(t,i.next.queue,{},Rn())}function Td(){return Qt(Bl)}function Xy(){return yt().memoizedState}function Jy(){return yt().memoizedState}function dA(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Rn();t=Mr(a);var l=Vr(i,t,a);l!==null&&(mn(l,i,a),vl(l,i,a)),i={cache:Xf()},t.payload=i;return}i=i.return}}function mA(t,i,a){var l=Rn();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Nc(t)?Wy(i,a):(a=Uf(t,i,a,l),a!==null&&(mn(a,t,l),e_(a,i,l)))}function Zy(t,i,a){var l=Rn();Sl(t,i,a,l)}function Sl(t,i,a,l){var h={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Nc(t))Wy(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var v=i.lastRenderedState,b=d(v,a);if(h.hasEagerState=!0,h.eagerState=b,En(b,v))return cc(t,i,h,0),it===null&&uc(),!1}catch{}finally{}if(a=Uf(t,i,h,l),a!==null)return mn(a,t,l),e_(a,i,l),!0}return!1}function bd(t,i,a,l){if(l={lane:2,revertLane:em(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Nc(t)){if(i)throw Error(s(479))}else i=Uf(t,a,l,2),i!==null&&mn(i,t,2)}function Nc(t){var i=t.alternate;return t===Ie||i!==null&&i===Ie}function Wy(t,i){za=Ac=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function e_(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Qo(t,a)}}var wl={readContext:Qt,use:Rc,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useLayoutEffect:ft,useInsertionEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useSyncExternalStore:ft,useId:ft,useHostTransitionStatus:ft,useFormState:ft,useActionState:ft,useOptimistic:ft,useMemoCache:ft,useCacheRefresh:ft};wl.useEffectEvent=ft;var t_={readContext:Qt,use:Rc,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Qt,useEffect:Ly,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Ic(4194308,4,qy.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Ic(4194308,4,t,i)},useInsertionEffect:function(t,i){Ic(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(Ks){xn(!0);try{t()}finally{xn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(Ks){xn(!0);try{a(i)}finally{xn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=mA.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=pd(t);var i=t.queue,a=Zy.bind(null,Ie,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:_d,useDeferredValue:function(t,i){var a=on();return vd(a,t,i)},useTransition:function(){var t=pd(!1);return t=Ky.bind(null,Ie,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ie,h=on();if(Be){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),it===null)throw Error(s(349));(ke&127)!==0||by(l,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,Ly(Sy.bind(null,l,d,t),[t]),l.flags|=2048,qa(9,{destroy:void 0},Ay.bind(null,l,d,a,i),null),a},useId:function(){var t=on(),i=it.identifierPrefix;if(Be){var a=xi,l=Ii;a=(l&~(1<<32-mt(l)-1)).toString(32)+a,i="_"+i+"R_"+a,a=Sc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=oA++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:Td,useFormState:My,useActionState:My,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=bd.bind(null,Ie,!0,a),a.dispatch=i,[t,i]},useMemoCache:fd,useCacheRefresh:function(){return on().memoizedState=dA.bind(null,Ie)},useEffectEvent:function(t){var i=on(),a={impl:t};return i.memoizedState=a,function(){if((Ye&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},Ad={readContext:Qt,use:Rc,useCallback:Fy,useContext:Qt,useEffect:yd,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:Gy,useReducer:Cc,useRef:Py,useState:function(){return Cc($i)},useDebugValue:_d,useDeferredValue:function(t,i){var a=yt();return Qy(a,et.memoizedState,t,i)},useTransition:function(){var t=Cc($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:Td,useFormState:Vy,useActionState:Vy,useOptimistic:function(t,i){var a=yt();return Cy(a,et,t,i)},useMemoCache:fd,useCacheRefresh:Jy};Ad.useEffectEvent=Uy;var n_={readContext:Qt,use:Rc,useCallback:Fy,useContext:Qt,useEffect:yd,useImperativeHandle:Hy,useInsertionEffect:zy,useLayoutEffect:By,useMemo:Gy,useReducer:md,useRef:Py,useState:function(){return md($i)},useDebugValue:_d,useDeferredValue:function(t,i){var a=yt();return et===null?vd(a,t,i):Qy(a,et.memoizedState,t,i)},useTransition:function(){var t=md($i)[0],i=yt().memoizedState;return[typeof t=="boolean"?t:Al(t),i]},useSyncExternalStore:Ty,useId:Xy,useHostTransitionStatus:Td,useFormState:ky,useActionState:ky,useOptimistic:function(t,i){var a=yt();return et!==null?Cy(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:fd,useCacheRefresh:Jy};n_.useEffectEvent=Uy;function Sd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:A({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var wd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=Mr(l);h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(mn(i,t,l),vl(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Rn(),h=Mr(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Vr(t,h,l),i!==null&&(mn(i,t,l),vl(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Rn(),l=Mr(a);l.tag=2,i!=null&&(l.callback=i),i=Vr(t,l,a),i!==null&&(mn(i,t,a),vl(i,t,a))}};function i_(t,i,a,l,h,d,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,v):i.prototype&&i.prototype.isPureReactComponent?!hl(a,l)||!hl(h,d):!0}function r_(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&wd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=A({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function s_(t){lc(t)}function a_(t){console.error(t)}function o_(t){lc(t)}function Dc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function l_(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Rd(t,i,a){return a=Mr(a),a.tag=3,a.payload={element:null},a.callback=function(){Dc(t,i)},a}function u_(t){return t=Mr(t),t.tag=3,t}function c_(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=l.value;t.payload=function(){return h(d)},t.callback=function(){l_(i,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){l_(i,a,l),typeof h!="function"&&(zr===null?zr=new Set([this]):zr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function pA(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=bn.current,a!==null){switch(a.tag){case 31:case 13:return Un===null?Hc():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===_c?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),Jd(t,l,h)),!1;case 22:return a.flags|=65536,l===_c?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),Jd(t,l,h)),!1}throw Error(s(435,a.tag))}return Jd(t,l,h),Hc(),!1}if(Be)return i=bn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==Gf&&(t=Error(s(422),{cause:l}),ml(jn(t,a)))):(l!==Gf&&(i=Error(s(423),{cause:l}),ml(jn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=jn(l,a),h=Rd(t.stateNode,l,h),nd(t,h),dt!==4&&(dt=2)),!1;var d=Error(s(520),{cause:l});if(d=jn(d,a),Ml===null?Ml=[d]:Ml.push(d),dt!==4&&(dt=2),i===null)return!0;l=jn(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Rd(a.stateNode,l,t),nd(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(zr===null||!zr.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=u_(h),c_(h,t,a,l),nd(a,h),!1}a=a.return}while(a!==null);return!1}var Cd=Error(s(461)),It=!1;function Kt(t,i,a,l){i.child=t===null?my(i,null,a,l):Qs(i,t.child,a,l)}function h_(t,i,a,l,h){a=a.render;var d=i.ref;if("ref"in l){var v={};for(var b in l)b!=="ref"&&(v[b]=l[b])}else v=l;return qs(i),l=ld(t,i,a,v,d,h),b=ud(),t!==null&&!It?(cd(t,i,h),Xi(t,i,h)):(Be&&b&&Hf(i),i.flags|=1,Kt(t,i,l,h),i.child)}function f_(t,i,a,l,h){if(t===null){var d=a.type;return typeof d=="function"&&!zf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,d_(t,i,d,l,h)):(t=fc(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!jd(t,h)){var v=d.memoizedProps;if(a=a.compare,a=a!==null?a:hl,a(v,l)&&t.ref===i.ref)return Xi(t,i,h)}return i.flags|=1,t=Fi(d,l),t.ref=i.ref,t.return=i,i.child=t}function d_(t,i,a,l,h){if(t!==null){var d=t.memoizedProps;if(hl(d,l)&&t.ref===i.ref)if(It=!1,i.pendingProps=l=d,jd(t,h))(t.flags&131072)!==0&&(It=!0);else return i.lanes=t.lanes,Xi(t,i,h)}return Id(t,i,a,l,h)}function m_(t,i,a,l){var h=l.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(l=i.child=t.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~d}else l=0,i.child=null;return p_(t,i,d,a,l)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&gc(i,d!==null?d.cachePool:null),d!==null?yy(i,d):rd(),_y(i);else return l=i.lanes=536870912,p_(t,i,d!==null?d.baseLanes|a:a,a,l)}else d!==null?(gc(i,d.cachePool),yy(i,d),kr(),i.memoizedState=null):(t!==null&&gc(i,null),rd(),kr());return Kt(t,i,h,a),i.child}function Rl(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function p_(t,i,a,l,h){var d=Zf();return d=d===null?null:{parent:Rt._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&gc(i,null),rd(),_y(i),t!==null&&Va(t,i,l,!0),i.childLanes=h,null}function Oc(t,i){return i=Vc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function g_(t,i,a){return Qs(i,t.child,null,a),t=Oc(i,i.pendingProps),t.flags|=2,An(i),i.memoizedState=null,t}function gA(t,i,a){var l=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Be){if(l.mode==="hidden")return t=Oc(i,l),i.lanes=536870912,Rl(null,t);if(ad(i),(t=st)?(t=Iv(t,Ln),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw Nr(i);return i.lanes=536870912,null}return Oc(i,l)}var d=t.memoizedState;if(d!==null){var v=d.dehydrated;if(ad(i),h)if(i.flags&256)i.flags&=-257,i=g_(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(It||Va(t,i,a,!1),h=(a&t.childLanes)!==0,It||h){if(l=it,l!==null&&(v=Ko(l,a),v!==0&&v!==d.retryLane))throw d.retryLane=v,Ls(t,v),mn(l,t,v),Cd;Hc(),i=g_(t,i,a)}else t=d.treeContext,st=zn(v.nextSibling),Gt=i,Be=!0,xr=null,Ln=!1,t!==null&&ny(i,t),i=Oc(i,l),i.flags|=4096;return i}return t=Fi(t.child,{mode:l.mode,children:l.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Mc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function Id(t,i,a,l,h){return qs(i),a=ld(t,i,a,l,void 0,h),l=ud(),t!==null&&!It?(cd(t,i,h),Xi(t,i,h)):(Be&&l&&Hf(i),i.flags|=1,Kt(t,i,a,h),i.child)}function y_(t,i,a,l,h,d){return qs(i),i.updateQueue=null,a=Ey(i,l,a,h),vy(t),l=ud(),t!==null&&!It?(cd(t,i,d),Xi(t,i,d)):(Be&&l&&Hf(i),i.flags|=1,Kt(t,i,a,d),i.child)}function __(t,i,a,l,h){if(qs(i),i.stateNode===null){var d=Na,v=a.contextType;typeof v=="object"&&v!==null&&(d=Qt(v)),d=new a(l,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=wd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=l,d.state=i.memoizedState,d.refs={},ed(i),v=a.contextType,d.context=typeof v=="object"&&v!==null?Qt(v):Na,d.state=i.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(Sd(i,a,v,l),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(v=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),v!==d.state&&wd.enqueueReplaceState(d,d.state,null),Tl(i,l,d,h),El(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){d=i.stateNode;var b=i.memoizedProps,D=Ys(a,b);d.props=D;var B=d.context,$=a.contextType;v=Na,typeof $=="object"&&$!==null&&(v=Qt($));var ee=a.getDerivedStateFromProps;$=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=i.pendingProps!==b,$||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||B!==v)&&r_(i,d,l,v),Or=!1;var q=i.memoizedState;d.state=q,Tl(i,l,d,h),El(),B=i.memoizedState,b||q!==B||Or?(typeof ee=="function"&&(Sd(i,a,ee,l),B=i.memoizedState),(D=Or||i_(i,a,D,l,q,B,v))?($||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),d.props=l,d.state=B,d.context=v,l=D):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{d=i.stateNode,td(t,i),v=i.memoizedProps,$=Ys(a,v),d.props=$,ee=i.pendingProps,q=d.context,B=a.contextType,D=Na,typeof B=="object"&&B!==null&&(D=Qt(B)),b=a.getDerivedStateFromProps,(B=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(v!==ee||q!==D)&&r_(i,d,l,D),Or=!1,q=i.memoizedState,d.state=q,Tl(i,l,d,h),El();var Q=i.memoizedState;v!==ee||q!==Q||Or||t!==null&&t.dependencies!==null&&mc(t.dependencies)?(typeof b=="function"&&(Sd(i,a,b,l),Q=i.memoizedState),($=Or||i_(i,a,$,l,q,Q,D)||t!==null&&t.dependencies!==null&&mc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,D),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,D)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=Q),d.props=l,d.state=Q,d.context=D,l=$):(typeof d.componentDidUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return d=l,Mc(t,i),l=(i.flags&128)!==0,d||l?(d=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&l?(i.child=Qs(i,t.child,null,h),i.child=Qs(i,null,a,h)):Kt(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Xi(t,i,h),t}function v_(t,i,a,l){return zs(),i.flags|=256,Kt(t,i,a,l),i.child}var xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nd(t){return{baseLanes:t,cachePool:ly()}}function Dd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=wn),t}function E_(t,i,a){var l=i.pendingProps,h=!1,d=(i.flags&128)!==0,v;if((v=d)||(v=t!==null&&t.memoizedState===null?!1:(gt.current&2)!==0),v&&(h=!0,i.flags&=-129),v=(i.flags&32)!==0,i.flags&=-33,t===null){if(Be){if(h?jr(i):kr(),(t=st)?(t=Iv(t,Ln),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Ir!==null?{id:Ii,overflow:xi}:null,retryLane:536870912,hydrationErrors:null},a=Wg(t),a.return=i,i.child=a,Gt=i,st=null)):t=null,t===null)throw Nr(i);return dm(t)?i.lanes=32:i.lanes=536870912,null}var b=l.children;return l=l.fallback,h?(kr(),h=i.mode,b=Vc({mode:"hidden",children:b},h),l=Us(l,h,a,null),b.return=i,l.return=i,b.sibling=l,i.child=b,l=i.child,l.memoizedState=Nd(a),l.childLanes=Dd(t,v,a),i.memoizedState=xd,Rl(null,l)):(jr(i),Od(i,b))}var D=t.memoizedState;if(D!==null&&(b=D.dehydrated,b!==null)){if(d)i.flags&256?(jr(i),i.flags&=-257,i=Md(t,i,a)):i.memoizedState!==null?(kr(),i.child=t.child,i.flags|=128,i=null):(kr(),b=l.fallback,h=i.mode,l=Vc({mode:"visible",children:l.children},h),b=Us(b,h,a,null),b.flags|=2,l.return=i,b.return=i,l.sibling=b,i.child=l,Qs(i,t.child,null,a),l=i.child,l.memoizedState=Nd(a),l.childLanes=Dd(t,v,a),i.memoizedState=xd,i=Rl(null,l));else if(jr(i),dm(b)){if(v=b.nextSibling&&b.nextSibling.dataset,v)var B=v.dgst;v=B,l=Error(s(419)),l.stack="",l.digest=v,ml({value:l,source:null,stack:null}),i=Md(t,i,a)}else if(It||Va(t,i,a,!1),v=(a&t.childLanes)!==0,It||v){if(v=it,v!==null&&(l=Ko(v,a),l!==0&&l!==D.retryLane))throw D.retryLane=l,Ls(t,l),mn(v,t,l),Cd;fm(b)||Hc(),i=Md(t,i,a)}else fm(b)?(i.flags|=192,i.child=t.child,i=null):(t=D.treeContext,st=zn(b.nextSibling),Gt=i,Be=!0,xr=null,Ln=!1,t!==null&&ny(i,t),i=Od(i,l.children),i.flags|=4096);return i}return h?(kr(),b=l.fallback,h=i.mode,D=t.child,B=D.sibling,l=Fi(D,{mode:"hidden",children:l.children}),l.subtreeFlags=D.subtreeFlags&65011712,B!==null?b=Fi(B,b):(b=Us(b,h,a,null),b.flags|=2),b.return=i,l.return=i,l.sibling=b,i.child=l,Rl(null,l),l=i.child,b=t.child.memoizedState,b===null?b=Nd(a):(h=b.cachePool,h!==null?(D=Rt._currentValue,h=h.parent!==D?{parent:D,pool:D}:h):h=ly(),b={baseLanes:b.baseLanes|a,cachePool:h}),l.memoizedState=b,l.childLanes=Dd(t,v,a),i.memoizedState=xd,Rl(t.child,l)):(jr(i),a=t.child,t=a.sibling,a=Fi(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(v=i.deletions,v===null?(i.deletions=[t],i.flags|=16):v.push(t)),i.child=a,i.memoizedState=null,a)}function Od(t,i){return i=Vc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function Vc(t,i){return t=Tn(22,t,null,i),t.lanes=0,t}function Md(t,i,a){return Qs(i,t.child,null,a),t=Od(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function T_(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),Yf(t.return,i,a)}function Vd(t,i,a,l,h,d){var v=t.memoizedState;v===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h,treeForkCount:d}:(v.isBackwards=i,v.rendering=null,v.renderingStartTime=0,v.last=l,v.tail=a,v.tailMode=h,v.treeForkCount=d)}function b_(t,i,a){var l=i.pendingProps,h=l.revealOrder,d=l.tail;l=l.children;var v=gt.current,b=(v&2)!==0;if(b?(v=v&1|2,i.flags|=128):v&=1,le(gt,v),Kt(t,i,l,a),l=Be?dl:0,!b&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&T_(t,a,i);else if(t.tag===19)T_(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&bc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Vd(i,!1,h,a,d,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&bc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Vd(i,!0,a,null,d,l);break;case"together":Vd(i,!1,null,null,void 0,l);break;default:i.memoizedState=null}return i.child}function Xi(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Ur|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Fi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Fi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function jd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&mc(t)))}function yA(t,i,a){switch(i.tag){case 3:Mt(i,i.stateNode.containerInfo),Dr(i,Rt,t.memoizedState.cache),zs();break;case 27:case 5:Es(i);break;case 4:Mt(i,i.stateNode.containerInfo);break;case 10:Dr(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,ad(i),null;break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(jr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?E_(t,i,a):(jr(i),t=Xi(t,i,a),t!==null?t.sibling:null);jr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(Va(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return b_(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),le(gt,gt.current),l)break;return null;case 22:return i.lanes=0,m_(t,i,a,i.pendingProps);case 24:Dr(i,Rt,t.memoizedState.cache)}return Xi(t,i,a)}function A_(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)It=!0;else{if(!jd(t,a)&&(i.flags&128)===0)return It=!1,yA(t,i,a);It=(t.flags&131072)!==0}else It=!1,Be&&(i.flags&1048576)!==0&&ty(i,dl,i.index);switch(i.lanes=0,i.tag){case 16:e:{var l=i.pendingProps;if(t=Fs(i.elementType),i.type=t,typeof t=="function")zf(t)?(l=Ys(t,l),i.tag=1,i=__(null,i,t,l,a)):(i.tag=0,i=Id(null,i,t,l,a));else{if(t!=null){var h=t.$$typeof;if(h===pe){i.tag=11,i=h_(null,i,t,l,a);break e}else if(h===N){i.tag=14,i=f_(null,i,t,l,a);break e}}throw i=se(t)||t,Error(s(306,i,""))}}return i;case 0:return Id(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Ys(l,i.pendingProps),__(t,i,l,h,a);case 3:e:{if(Mt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var d=i.memoizedState;h=d.element,td(t,i),Tl(i,l,null,a);var v=i.memoizedState;if(l=v.cache,Dr(i,Rt,l),l!==d.cache&&$f(i,[Rt],a,!0),El(),l=v.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:v.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=v_(t,i,l,a);break e}else if(l!==h){h=jn(Error(s(424)),i),ml(h),i=v_(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(st=zn(t.firstChild),Gt=i,Be=!0,xr=null,Ln=!0,a=my(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zs(),l===h){i=Xi(t,i,a);break e}Kt(t,i,l,a)}i=i.child}return i;case 26:return Mc(t,i),t===null?(a=Vv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Be||(a=i.type,t=i.pendingProps,l=Xc(xe.current).createElement(a),l[At]=i,l[Pt]=t,Yt(l,a,t),St(l),i.stateNode=l):i.memoizedState=Vv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return Es(i),t===null&&Be&&(l=i.stateNode=Dv(i.type,i.pendingProps,xe.current),Gt=i,Ln=!0,h=st,Fr(i.type)?(mm=h,st=zn(l.firstChild)):st=h),Kt(t,i,i.pendingProps.children,a),Mc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Be&&((h=l=st)&&(l=KA(l,i.type,i.pendingProps,Ln),l!==null?(i.stateNode=l,Gt=i,st=zn(l.firstChild),Ln=!1,h=!0):h=!1),h||Nr(i)),Es(i),h=i.type,d=i.pendingProps,v=t!==null?t.memoizedProps:null,l=d.children,um(h,d)?l=null:v!==null&&um(h,v)&&(i.flags|=32),i.memoizedState!==null&&(h=ld(t,i,lA,null,null,a),Bl._currentValue=h),Mc(t,i),Kt(t,i,l,a),i.child;case 6:return t===null&&Be&&((t=a=st)&&(a=YA(a,i.pendingProps,Ln),a!==null?(i.stateNode=a,Gt=i,st=null,t=!0):t=!1),t||Nr(i)),null;case 13:return E_(t,i,a);case 4:return Mt(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Qs(i,null,l,a):Kt(t,i,l,a),i.child;case 11:return h_(t,i,i.type,i.pendingProps,a);case 7:return Kt(t,i,i.pendingProps,a),i.child;case 8:return Kt(t,i,i.pendingProps.children,a),i.child;case 12:return Kt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,Dr(i,i.type,l.value),Kt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,qs(i),h=Qt(h),l=l(h),i.flags|=1,Kt(t,i,l,a),i.child;case 14:return f_(t,i,i.type,i.pendingProps,a);case 15:return d_(t,i,i.type,i.pendingProps,a);case 19:return b_(t,i,a);case 31:return gA(t,i,a);case 22:return m_(t,i,a,i.pendingProps);case 24:return qs(i),l=Qt(Rt),t===null?(h=Zf(),h===null&&(h=it,d=Xf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:l,cache:h},ed(i),Dr(i,Rt,h)):((t.lanes&a)!==0&&(td(t,i),Tl(i,null,null,a),El()),h=t.memoizedState,d=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Dr(i,Rt,l)):(l=d.cache,Dr(i,Rt,l),l!==h.cache&&$f(i,[Rt],a,!0))),Kt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ji(t){t.flags|=4}function kd(t,i,a,l,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(X_())t.flags|=8192;else throw Gs=_c,Wf}else t.flags&=-16777217}function S_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(i))if(X_())t.flags|=8192;else throw Gs=_c,Wf}function jc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Bu():536870912,t.lanes|=i,Qa|=i)}function Cl(t,i){if(!Be)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function at(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function _A(t,i,a){var l=i.pendingProps;switch(Ff(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return at(i),null;case 1:return at(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),Ki(Rt),ot(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Ji(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Qf())),at(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Ji(i),d!==null?(at(i),S_(i,d)):(at(i),kd(i,h,null,l,a))):d?d!==t.memoizedState?(Ji(i),at(i),S_(i,d)):(at(i),i.flags&=-16777217):(t=t.memoizedProps,t!==l&&Ji(i),at(i),kd(i,h,t,l,a)),null;case 27:if(ha(i),a=xe.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}t=he.current,Ma(i)?iy(i):(t=Dv(h,l,a),i.stateNode=t,Ji(i))}return at(i),null;case 5:if(ha(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return at(i),null}if(d=he.current,Ma(i))iy(i);else{var v=Xc(xe.current);switch(d){case 1:d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=v.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=v.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=v.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?v.createElement("select",{is:l.is}):v.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?v.createElement(h,{is:l.is}):v.createElement(h)}}d[At]=i,d[Pt]=l;e:for(v=i.child;v!==null;){if(v.tag===5||v.tag===6)d.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===i)break e;for(;v.sibling===null;){if(v.return===null||v.return===i)break e;v=v.return}v.sibling.return=v.return,v=v.sibling}i.stateNode=d;e:switch(Yt(d,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Ji(i)}}return at(i),kd(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ji(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=xe.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=Gt,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[At]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Ev(t.nodeValue,a)),t||Nr(i,!0)}else t=Xc(t).createTextNode(l),t[At]=i,i.stateNode=t}return at(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(l=Ma(i),a!==null){if(t===null){if(!l)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),t=!1}else a=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(An(i),i):(An(i),null);if((i.flags&128)!==0)throw Error(s(558))}return at(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=i}else zs(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;at(i),h=!1}else h=Qf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(An(i),i):(An(i),null)}return An(i),(i.flags&128)!==0?(i.lanes=a,i):(a=l!==null,t=t!==null&&t.memoizedState!==null,a&&(l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==h&&(l.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),jc(i,i.updateQueue),at(i),null);case 4:return ot(),t===null&&rm(i.stateNode.containerInfo),at(i),null;case 10:return Ki(i.type),at(i),null;case 19:if(te(gt),l=i.memoizedState,l===null)return at(i),null;if(h=(i.flags&128)!==0,d=l.rendering,d===null)if(h)Cl(l,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=bc(t),d!==null){for(i.flags|=128,Cl(l,!1),t=d.updateQueue,i.updateQueue=t,jc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Zg(a,t),a=a.sibling;return le(gt,gt.current&1|2),Be&&Gi(i,l.treeForkCount),i.child}t=t.sibling}l.tail!==null&&sn()>zc&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304)}else{if(!h)if(t=bc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,jc(i,t),Cl(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Be)return at(i),null}else 2*sn()-l.renderingStartTime>zc&&a!==536870912&&(i.flags|=128,h=!0,Cl(l,!1),i.lanes=4194304);l.isBackwards?(d.sibling=i.child,i.child=d):(t=l.last,t!==null?t.sibling=d:i.child=d,l.last=d)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=sn(),t.sibling=null,a=gt.current,le(gt,h?a&1|2:a&1),Be&&Gi(i,l.treeForkCount),t):(at(i),null);case 22:case 23:return An(i),sd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(at(i),i.subtreeFlags&6&&(i.flags|=8192)):at(i),a=i.updateQueue,a!==null&&jc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&te(Hs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Ki(Rt),at(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function vA(t,i){switch(Ff(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Ki(Rt),ot(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(An(i),i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zs()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return te(gt),null;case 4:return ot(),null;case 10:return Ki(i.type),null;case 22:case 23:return An(i),sd(),t!==null&&te(Hs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Ki(Rt),null;case 25:return null;default:return null}}function w_(t,i){switch(Ff(i),i.tag){case 3:Ki(Rt),ot();break;case 26:case 27:case 5:ha(i);break;case 4:ot();break;case 31:i.memoizedState!==null&&An(i);break;case 13:An(i);break;case 19:te(gt);break;case 10:Ki(i.type);break;case 22:case 23:An(i),sd(),t!==null&&te(Hs);break;case 24:Ki(Rt)}}function Il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var d=a.create,v=a.inst;l=d(),v.destroy=l}a=a.next}while(a!==h)}}catch(b){Ze(i,i.return,b)}}function Pr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var d=h.next;l=d;do{if((l.tag&t)===t){var v=l.inst,b=v.destroy;if(b!==void 0){v.destroy=void 0,h=i;var D=a,B=b;try{B()}catch($){Ze(h,D,$)}}}l=l.next}while(l!==d)}}catch($){Ze(i,i.return,$)}}function R_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{gy(i,a)}catch(l){Ze(t,t.return,l)}}}function C_(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Ze(t,i,l)}}function xl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){Ze(t,i,h)}}function Ni(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){Ze(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ze(t,i,h)}else a.current=null}function I_(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){Ze(t,t.return,h)}}function Pd(t,i,a){try{var l=t.stateNode;BA(l,t.type,a,i),l[Pt]=i}catch(h){Ze(t,t.return,h)}}function x_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Fr(t.type)||t.tag===4}function Ld(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||x_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Fr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ud(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=$n));else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Ud(t,i,a),t=t.sibling;t!==null;)Ud(t,i,a),t=t.sibling}function kc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&Fr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(kc(t,i,a),t=t.sibling;t!==null;)kc(t,i,a),t=t.sibling}function N_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Yt(i,l,a),i[At]=t,i[Pt]=a}catch(d){Ze(t,t.return,d)}}var Zi=!1,xt=!1,zd=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function EA(t,i){if(t=t.containerInfo,om=ih,t=Hg(t),Mf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var v=0,b=-1,D=-1,B=0,$=0,ee=t,q=null;t:for(;;){for(var Q;ee!==a||h!==0&&ee.nodeType!==3||(b=v+h),ee!==d||l!==0&&ee.nodeType!==3||(D=v+l),ee.nodeType===3&&(v+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)q=ee,ee=Q;for(;;){if(ee===t)break t;if(q===a&&++B===h&&(b=v),q===d&&++$===l&&(D=v),(Q=ee.nextSibling)!==null)break;ee=q,q=ee.parentNode}ee=Q}a=b===-1||D===-1?null:{start:b,end:D}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},ih=!1,Ut=i;Ut!==null;)if(i=Ut,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,Ut=t;else for(;Ut!==null;){switch(i=Ut,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var fe=Ys(a.type,h);t=l.getSnapshotBeforeUpdate(fe,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){Ze(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Ut=t;break}Ut=i.return}}function O_(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:er(t,a),l&4&&Il(5,a);break;case 1:if(er(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(v){Ze(a,a.return,v)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(v){Ze(a,a.return,v)}}l&64&&R_(a),l&512&&xl(a,a.return);break;case 3:if(er(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{gy(t,i)}catch(v){Ze(a,a.return,v)}}break;case 27:i===null&&l&4&&N_(a);case 26:case 5:er(t,a),i===null&&l&4&&I_(a),l&512&&xl(a,a.return);break;case 12:er(t,a);break;case 31:er(t,a),l&4&&j_(t,a);break;case 13:er(t,a),l&4&&k_(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=xA.bind(null,a),$A(t,a))));break;case 22:if(l=a.memoizedState!==null||Zi,!l){i=i!==null&&i.memoizedState!==null||xt,h=Zi;var d=xt;Zi=l,(xt=i)&&!d?tr(t,a,(a.subtreeFlags&8772)!==0):er(t,a),Zi=h,xt=d}break;case 30:break;default:er(t,a)}}function M_(t){var i=t.alternate;i!==null&&(t.alternate=null,M_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ut=null,cn=!1;function Wi(t,i,a){for(a=a.child;a!==null;)V_(t,i,a),a=a.sibling}function V_(t,i,a){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(Gn,a)}catch{}switch(a.tag){case 26:xt||Ni(a,i),Wi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ni(a,i);var l=ut,h=cn;Fr(a.type)&&(ut=a.stateNode,cn=!1),Wi(t,i,a),Ll(a.stateNode),ut=l,cn=h;break;case 5:xt||Ni(a,i);case 6:if(l=ut,h=cn,ut=null,Wi(t,i,a),ut=l,cn=h,ut!==null)if(cn)try{(ut.nodeType===9?ut.body:ut.nodeName==="HTML"?ut.ownerDocument.body:ut).removeChild(a.stateNode)}catch(d){Ze(a,i,d)}else try{ut.removeChild(a.stateNode)}catch(d){Ze(a,i,d)}break;case 18:ut!==null&&(cn?(t=ut,Rv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),eo(t)):Rv(ut,a.stateNode));break;case 4:l=ut,h=cn,ut=a.stateNode.containerInfo,cn=!0,Wi(t,i,a),ut=l,cn=h;break;case 0:case 11:case 14:case 15:Pr(2,a,i),xt||Pr(4,a,i),Wi(t,i,a);break;case 1:xt||(Ni(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&C_(a,i,l)),Wi(t,i,a);break;case 21:Wi(t,i,a);break;case 22:xt=(l=xt)||a.memoizedState!==null,Wi(t,i,a),xt=l;break;default:Wi(t,i,a)}}function j_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{eo(t)}catch(a){Ze(i,i.return,a)}}}function k_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{eo(t)}catch(a){Ze(i,i.return,a)}}function TA(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new D_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new D_),i;default:throw Error(s(435,t.tag))}}function Pc(t,i){var a=TA(t);i.forEach(function(l){if(!a.has(l)){a.add(l);var h=NA.bind(null,t,l);l.then(h,h)}})}function hn(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],d=t,v=i,b=v;e:for(;b!==null;){switch(b.tag){case 27:if(Fr(b.type)){ut=b.stateNode,cn=!1;break e}break;case 5:ut=b.stateNode,cn=!1;break e;case 3:case 4:ut=b.stateNode.containerInfo,cn=!0;break e}b=b.return}if(ut===null)throw Error(s(160));V_(d,v,h),ut=null,cn=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)P_(i,t),i=i.sibling}var ti=null;function P_(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:hn(i,t),fn(t),l&4&&(Pr(3,t,t.return),Il(3,t),Pr(5,t,t.return));break;case 1:hn(i,t),fn(t),l&512&&(xt||a===null||Ni(a,a.return)),l&64&&Zi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=ti;if(hn(i,t),fn(t),l&512&&(xt||a===null||Ni(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":d=h.getElementsByTagName("title")[0],(!d||d[gi]||d[At]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(l),h.head.insertBefore(d,h.querySelector("head > title"))),Yt(d,l,a),d[At]=t,St(d),l=d;break e;case"link":var v=Pv("link","href",h).get(l+(a.href||""));if(v){for(var b=0;b<v.length;b++)if(d=v[b],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;case"meta":if(v=Pv("meta","content",h).get(l+(a.content||""))){for(b=0;b<v.length;b++)if(d=v[b],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(b,1);break t}}d=h.createElement(l),Yt(d,l,a),h.head.appendChild(d);break;default:throw Error(s(468,l))}d[At]=t,St(d),l=d}t.stateNode=l}else Lv(h,t.type,t.stateNode);else t.stateNode=kv(h,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?Lv(h,t.type,t.stateNode):kv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Pd(t,t.memoizedProps,a.memoizedProps)}break;case 27:hn(i,t),fn(t),l&512&&(xt||a===null||Ni(a,a.return)),a!==null&&l&4&&Pd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(hn(i,t),fn(t),l&512&&(xt||a===null||Ni(a,a.return)),t.flags&32){h=t.stateNode;try{un(h,"")}catch(fe){Ze(t,t.return,fe)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Pd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(zd=!0);break;case 6:if(hn(i,t),fn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(fe){Ze(t,t.return,fe)}}break;case 3:if(Wc=null,h=ti,ti=Jc(i.containerInfo),hn(i,t),ti=h,fn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{eo(i.containerInfo)}catch(fe){Ze(t,t.return,fe)}zd&&(zd=!1,L_(t));break;case 4:l=ti,ti=Jc(t.stateNode.containerInfo),hn(i,t),fn(t),ti=l;break;case 12:hn(i,t),fn(t);break;case 31:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 13:hn(i,t),fn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Uc=sn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 22:h=t.memoizedState!==null;var D=a!==null&&a.memoizedState!==null,B=Zi,$=xt;if(Zi=B||h,xt=$||D,hn(i,t),xt=$,Zi=B,fn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||D||Zi||xt||$s(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){D=a=i;try{if(d=D.stateNode,h)v=d.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{b=D.stateNode;var ee=D.memoizedProps.style,q=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;b.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ze(D,D.return,fe)}}}else if(i.tag===6){if(a===null){D=i;try{D.stateNode.nodeValue=h?"":D.memoizedProps}catch(fe){Ze(D,D.return,fe)}}}else if(i.tag===18){if(a===null){D=i;try{var Q=D.stateNode;h?Cv(Q,!0):Cv(D.stateNode,!1)}catch(fe){Ze(D,D.return,fe)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Pc(t,a))));break;case 19:hn(i,t),fn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Pc(t,l)));break;case 30:break;case 21:break;default:hn(i,t),fn(t)}}function fn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(x_(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=Ld(t);kc(t,d,h);break;case 5:var v=a.stateNode;a.flags&32&&(un(v,""),a.flags&=-33);var b=Ld(t);kc(t,b,v);break;case 3:case 4:var D=a.stateNode.containerInfo,B=Ld(t);Ud(t,B,D);break;default:throw Error(s(161))}}catch($){Ze(t,t.return,$)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function L_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;L_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function er(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)O_(t,i.alternate,i),i=i.sibling}function $s(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:Pr(4,i,i.return),$s(i);break;case 1:Ni(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&C_(i,i.return,a),$s(i);break;case 27:Ll(i.stateNode);case 26:case 5:Ni(i,i.return),$s(i);break;case 22:i.memoizedState===null&&$s(i);break;case 30:$s(i);break;default:$s(i)}t=t.sibling}}function tr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,d=i,v=d.flags;switch(d.tag){case 0:case 11:case 15:tr(h,d,a),Il(4,d);break;case 1:if(tr(h,d,a),l=d,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ze(l,l.return,B)}if(l=d,h=l.updateQueue,h!==null){var b=l.stateNode;try{var D=h.shared.hiddenCallbacks;if(D!==null)for(h.shared.hiddenCallbacks=null,h=0;h<D.length;h++)py(D[h],b)}catch(B){Ze(l,l.return,B)}}a&&v&64&&R_(d),xl(d,d.return);break;case 27:N_(d);case 26:case 5:tr(h,d,a),a&&l===null&&v&4&&I_(d),xl(d,d.return);break;case 12:tr(h,d,a);break;case 31:tr(h,d,a),a&&v&4&&j_(h,d);break;case 13:tr(h,d,a),a&&v&4&&k_(h,d);break;case 22:d.memoizedState===null&&tr(h,d,a),xl(d,d.return);break;case 30:break;default:tr(h,d,a)}i=i.sibling}}function Bd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&pl(a))}function qd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t))}function ni(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)U_(t,i,a,l),i=i.sibling}function U_(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ni(t,i,a,l),h&2048&&Il(9,i);break;case 1:ni(t,i,a,l);break;case 3:ni(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&pl(t)));break;case 12:if(h&2048){ni(t,i,a,l),t=i.stateNode;try{var d=i.memoizedProps,v=d.id,b=d.onPostCommit;typeof b=="function"&&b(v,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(D){Ze(i,i.return,D)}}else ni(t,i,a,l);break;case 31:ni(t,i,a,l);break;case 13:ni(t,i,a,l);break;case 23:break;case 22:d=i.stateNode,v=i.alternate,i.memoizedState!==null?d._visibility&2?ni(t,i,a,l):Nl(t,i):d._visibility&2?ni(t,i,a,l):(d._visibility|=2,Ha(t,i,a,l,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Bd(v,i);break;case 24:ni(t,i,a,l),h&2048&&qd(i.alternate,i);break;default:ni(t,i,a,l)}}function Ha(t,i,a,l,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,v=i,b=a,D=l,B=v.flags;switch(v.tag){case 0:case 11:case 15:Ha(d,v,b,D,h),Il(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?Ha(d,v,b,D,h):Nl(d,v):($._visibility|=2,Ha(d,v,b,D,h)),h&&B&2048&&Bd(v.alternate,v);break;case 24:Ha(d,v,b,D,h),h&&B&2048&&qd(v.alternate,v);break;default:Ha(d,v,b,D,h)}i=i.sibling}}function Nl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:Nl(a,l),h&2048&&Bd(l.alternate,l);break;case 24:Nl(a,l),h&2048&&qd(l.alternate,l);break;default:Nl(a,l)}i=i.sibling}}var Dl=8192;function Fa(t,i,a){if(t.subtreeFlags&Dl)for(t=t.child;t!==null;)z_(t,i,a),t=t.sibling}function z_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&Dl&&t.memoizedState!==null&&oS(a,ti,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var l=ti;ti=Jc(t.stateNode.containerInfo),Fa(t,i,a),ti=l;break;case 22:t.memoizedState===null&&(l=t.alternate,l!==null&&l.memoizedState!==null?(l=Dl,Dl=16777216,Fa(t,i,a),Dl=l):Fa(t,i,a));break;default:Fa(t,i,a)}}function B_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function Ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,H_(l,t)}B_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)q_(t),t=t.sibling}function q_(t){switch(t.tag){case 0:case 11:case 15:Ol(t),t.flags&2048&&Pr(9,t,t.return);break;case 3:Ol(t);break;case 12:Ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Lc(t)):Ol(t);break;default:Ol(t)}}function Lc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Ut=l,H_(l,t)}B_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:Pr(8,i,i.return),Lc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Lc(i));break;default:Lc(i)}t=t.sibling}}function H_(t,i){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:Pr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:pl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var h=l.sibling,d=l.return;if(M_(l),l===a){Ut=null;break e}if(h!==null){h.return=d,Ut=h;break e}Ut=d}}}var bA={getCacheForType:function(t){var i=Qt(Rt),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Qt(Rt).controller.signal}},AA=typeof WeakMap=="function"?WeakMap:Map,Ye=0,it=null,Ve=null,ke=0,Je=0,Sn=null,Lr=!1,Ga=!1,Hd=!1,nr=0,dt=0,Ur=0,Xs=0,Fd=0,wn=0,Qa=0,Ml=null,dn=null,Gd=!1,Uc=0,F_=0,zc=1/0,Bc=null,zr=null,jt=0,Br=null,Ka=null,ir=0,Qd=0,Kd=null,G_=null,Vl=0,Yd=null;function Rn(){return(Ye&2)!==0&&ke!==0?ke&-ke:Y.T!==null?em():qu()}function Q_(){if(wn===0)if((ke&536870912)===0||Be){var t=As;As<<=1,(As&3932160)===0&&(As=262144),wn=t}else wn=536870912;return t=bn.current,t!==null&&(t.flags|=32),wn}function mn(t,i,a){(t===it&&(Je===2||Je===9)||t.cancelPendingCommit!==null)&&(Ya(t,0),qr(t,ke,wn,!1)),Ss(t,a),((Ye&2)===0||t!==it)&&(t===it&&((Ye&2)===0&&(Xs|=a),dt===4&&qr(t,ke,wn,!1)),Di(t))}function K_(t,i,a){if((Ye&6)!==0)throw Error(s(327));var l=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Qn(t,i),h=l?RA(t,i):Xd(t,i,!0),d=l;do{if(h===0){Ga&&!l&&qr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!SA(a)){h=Xd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){i=v;e:{var b=t;h=Ml;var D=b.current.memoizedState.isDehydrated;if(D&&(Ya(b,v).flags|=256),v=Xd(b,v,!1),v!==2){if(Hd&&!D){b.errorRecoveryDisabledLanes|=d,Xs|=d,h=4;break e}d=dn,dn=h,d!==null&&(dn===null?dn=d:dn.push.apply(dn,d))}h=v}if(d=!1,h!==2)continue}}if(h===1){Ya(t,0),qr(t,i,0,!0);break}e:{switch(l=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:qr(l,i,wn,!Lr);break e;case 2:dn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Uc+300-sn(),10<h)){if(qr(l,i,wn,!Lr),di(l,0,!0)!==0)break e;ir=i,l.timeoutHandle=Sv(Y_.bind(null,l,a,dn,Bc,Gd,i,wn,Xs,Qa,Lr,d,"Throttled",-0,0),h);break e}Y_(l,a,dn,Bc,Gd,i,wn,Xs,Qa,Lr,d,null,-0,0)}}break}while(!0);Di(t)}function Y_(t,i,a,l,h,d,v,b,D,B,$,ee,q,Q){if(t.timeoutHandle=-1,ee=i.subtreeFlags,ee&8192||(ee&16785408)===16785408){ee={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},z_(i,d,ee);var fe=(d&62914560)===d?Uc-sn():(d&4194048)===d?F_-sn():0;if(fe=lS(ee,fe),fe!==null){ir=d,t.cancelPendingCommit=fe(nv.bind(null,t,i,d,a,l,h,v,b,D,$,ee,null,q,Q)),qr(t,d,v,!B);return}}nv(t,i,d,a,l,h,v,b,D)}function SA(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],d=h.getSnapshot;h=h.value;try{if(!En(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function qr(t,i,a,l){i&=~Fd,i&=~Xs,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var d=31-mt(h),v=1<<d;l[d]=-1,h&=~v}a!==0&&ws(t,a,i)}function qc(){return(Ye&6)===0?(jl(0),!1):!0}function $d(){if(Ve!==null){if(Je===0)var t=Ve.return;else t=Ve,Qi=Bs=null,hd(t),La=null,yl=0,t=Ve;for(;t!==null;)w_(t.alternate,t),t=t.return;Ve=null}}function Ya(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,FA(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),ir=0,$d(),it=t,Ve=a=Fi(t.current,null),ke=i,Je=0,Sn=null,Lr=!1,Ga=Qn(t,i),Hd=!1,Qa=wn=Fd=Xs=Ur=dt=0,dn=Ml=null,Gd=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-mt(l),d=1<<h;i|=t[h],l&=~d}return nr=i,uc(),a}function $_(t,i){Ie=null,Y.H=wl,i===Pa||i===yc?(i=hy(),Je=3):i===Wf?(i=hy(),Je=4):Je=i===Cd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Sn=i,Ve===null&&(dt=1,Dc(t,jn(i,t.current)))}function X_(){var t=bn.current;return t===null?!0:(ke&4194048)===ke?Un===null:(ke&62914560)===ke||(ke&536870912)!==0?t===Un:!1}function J_(){var t=Y.H;return Y.H=wl,t===null?wl:t}function Z_(){var t=Y.A;return Y.A=bA,t}function Hc(){dt=4,Lr||(ke&4194048)!==ke&&bn.current!==null||(Ga=!0),(Ur&134217727)===0&&(Xs&134217727)===0||it===null||qr(it,ke,wn,!1)}function Xd(t,i,a){var l=Ye;Ye|=2;var h=J_(),d=Z_();(it!==t||ke!==i)&&(Bc=null,Ya(t,i)),i=!1;var v=dt;e:do try{if(Je!==0&&Ve!==null){var b=Ve,D=Sn;switch(Je){case 8:$d(),v=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(i=!0);var B=Je;if(Je=0,Sn=null,$a(t,b,D,B),a&&Ga){v=0;break e}break;default:B=Je,Je=0,Sn=null,$a(t,b,D,B)}}wA(),v=dt;break}catch($){$_(t,$)}while(!0);return i&&t.shellSuspendCounter++,Qi=Bs=null,Ye=l,Y.H=h,Y.A=d,Ve===null&&(it=null,ke=0,uc()),v}function wA(){for(;Ve!==null;)W_(Ve)}function RA(t,i){var a=Ye;Ye|=2;var l=J_(),h=Z_();it!==t||ke!==i?(Bc=null,zc=sn()+500,Ya(t,i)):Ga=Qn(t,i);e:do try{if(Je!==0&&Ve!==null){i=Ve;var d=Sn;t:switch(Je){case 1:Je=0,Sn=null,$a(t,i,d,1);break;case 2:case 9:if(uy(d)){Je=0,Sn=null,ev(i);break}i=function(){Je!==2&&Je!==9||it!==t||(Je=7),Di(t)},d.then(i,i);break e;case 3:Je=7;break e;case 4:Je=5;break e;case 7:uy(d)?(Je=0,Sn=null,ev(i)):(Je=0,Sn=null,$a(t,i,d,7));break;case 5:var v=null;switch(Ve.tag){case 26:v=Ve.memoizedState;case 5:case 27:var b=Ve;if(v?Uv(v):b.stateNode.complete){Je=0,Sn=null;var D=b.sibling;if(D!==null)Ve=D;else{var B=b.return;B!==null?(Ve=B,Fc(B)):Ve=null}break t}}Je=0,Sn=null,$a(t,i,d,5);break;case 6:Je=0,Sn=null,$a(t,i,d,6);break;case 8:$d(),dt=6;break e;default:throw Error(s(462))}}CA();break}catch($){$_(t,$)}while(!0);return Qi=Bs=null,Y.H=l,Y.A=h,Ye=a,Ve!==null?0:(it=null,ke=0,uc(),dt)}function CA(){for(;Ve!==null&&!Rf();)W_(Ve)}function W_(t){var i=A_(t.alternate,t,nr);t.memoizedProps=t.pendingProps,i===null?Fc(t):Ve=i}function ev(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=y_(a,i,i.pendingProps,i.type,void 0,ke);break;case 11:i=y_(a,i,i.pendingProps,i.type.render,i.ref,ke);break;case 5:hd(i);default:w_(a,i),i=Ve=Zg(i,nr),i=A_(a,i,nr)}t.memoizedProps=t.pendingProps,i===null?Fc(t):Ve=i}function $a(t,i,a,l){Qi=Bs=null,hd(i),La=null,yl=0;var h=i.return;try{if(pA(t,h,i,a,ke)){dt=1,Dc(t,jn(a,t.current)),Ve=null;return}}catch(d){if(h!==null)throw Ve=h,d;dt=1,Dc(t,jn(a,t.current)),Ve=null;return}i.flags&32768?(Be||l===1?t=!0:Ga||(ke&536870912)!==0?t=!1:(Lr=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tv(i,t)):Fc(i)}function Fc(t){var i=t;do{if((i.flags&32768)!==0){tv(i,Lr);return}t=i.return;var a=_A(i.alternate,i,nr);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);dt===0&&(dt=5)}function tv(t,i){do{var a=vA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);dt=6,Ve=null}function nv(t,i,a,l,h,d,v,b,D){t.cancelPendingCommit=null;do Gc();while(jt!==0);if((Ye&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=Lf,xf(t,a,d,v,b,D),t===it&&(Ve=it=null,ke=0),Ka=i,Br=t,ir=a,Qd=d,Kd=h,G_=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,DA(_r,function(){return ov(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=Y.T,Y.T=null,h=oe.p,oe.p=2,v=Ye,Ye|=4;try{EA(t,i,a)}finally{Ye=v,oe.p=h,Y.T=l}}jt=1,iv(),rv(),sv()}}function iv(){if(jt===1){jt=0;var t=Br,i=Ka,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{P_(i,t);var d=lm,v=Hg(t.containerInfo),b=d.focusedElem,D=d.selectionRange;if(v!==b&&b&&b.ownerDocument&&qg(b.ownerDocument.documentElement,b)){if(D!==null&&Mf(b)){var B=D.start,$=D.end;if($===void 0&&($=B),"selectionStart"in b)b.selectionStart=B,b.selectionEnd=Math.min($,b.value.length);else{var ee=b.ownerDocument||document,q=ee&&ee.defaultView||window;if(q.getSelection){var Q=q.getSelection(),fe=b.textContent.length,ve=Math.min(D.start,fe),nt=D.end===void 0?ve:Math.min(D.end,fe);!Q.extend&&ve>nt&&(v=nt,nt=ve,ve=v);var P=Bg(b,ve),M=Bg(b,nt);if(P&&M&&(Q.rangeCount!==1||Q.anchorNode!==P.node||Q.anchorOffset!==P.offset||Q.focusNode!==M.node||Q.focusOffset!==M.offset)){var z=ee.createRange();z.setStart(P.node,P.offset),Q.removeAllRanges(),ve>nt?(Q.addRange(z),Q.extend(M.node,M.offset)):(z.setEnd(M.node,M.offset),Q.addRange(z))}}}}for(ee=[],Q=b;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<ee.length;b++){var Z=ee[b];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}ih=!!om,lm=om=null}finally{Ye=h,oe.p=l,Y.T=a}}t.current=i,jt=2}}function rv(){if(jt===2){jt=0;var t=Br,i=Ka,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=Y.T,Y.T=null;var l=oe.p;oe.p=2;var h=Ye;Ye|=4;try{O_(t,i.alternate,i)}finally{Ye=h,oe.p=l,Y.T=a}}jt=3}}function sv(){if(jt===4||jt===3){jt=0,ju();var t=Br,i=Ka,a=ir,l=G_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?jt=5:(jt=0,Ka=Br=null,av(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(zr=null),zi(a),i=i.stateNode,Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(Gn,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=Y.T,h=oe.p,oe.p=2,Y.T=null;try{for(var d=t.onRecoverableError,v=0;v<l.length;v++){var b=l[v];d(b.value,{componentStack:b.stack})}}finally{Y.T=i,oe.p=h}}(ir&3)!==0&&Gc(),Di(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Yd?Vl++:(Vl=0,Yd=t):Vl=0,jl(0)}}function av(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,pl(i)))}function Gc(){return iv(),rv(),sv(),ov()}function ov(){if(jt!==5)return!1;var t=Br,i=Qd;Qd=0;var a=zi(ir),l=Y.T,h=oe.p;try{oe.p=32>a?32:a,Y.T=null,a=Kd,Kd=null;var d=Br,v=ir;if(jt=0,Ka=Br=null,ir=0,(Ye&6)!==0)throw Error(s(331));var b=Ye;if(Ye|=4,q_(d.current),U_(d,d.current,v,a),Ye=b,jl(0,!1),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(Gn,d)}catch{}return!0}finally{oe.p=h,Y.T=l,av(t,i)}}function lv(t,i,a){i=jn(a,i),i=Rd(t.stateNode,i,2),t=Vr(t,i,2),t!==null&&(Ss(t,2),Di(t))}function Ze(t,i,a){if(t.tag===3)lv(t,t,a);else for(;i!==null;){if(i.tag===3){lv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(zr===null||!zr.has(l))){t=jn(a,t),a=u_(2),l=Vr(i,a,2),l!==null&&(c_(a,l,i,t),Ss(l,2),Di(l));break}}i=i.return}}function Jd(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new AA;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Hd=!0,h.add(a),t=IA.bind(null,t,i,a),i.then(t,t))}function IA(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(ke&a)===a&&(dt===4||dt===3&&(ke&62914560)===ke&&300>sn()-Uc?(Ye&2)===0&&Ya(t,0):Fd|=a,Qa===ke&&(Qa=0)),Di(t)}function uv(t,i){i===0&&(i=Bu()),t=Ls(t,i),t!==null&&(Ss(t,i),Di(t))}function xA(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),uv(t,a)}function NA(t,i){var a=0;switch(t.tag){case 31:case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),uv(t,a)}function DA(t,i){return Vt(t,i)}var Qc=null,Xa=null,Zd=!1,Kc=!1,Wd=!1,Hr=0;function Di(t){t!==Xa&&t.next===null&&(Xa===null?Qc=Xa=t:Xa=Xa.next=t),Kc=!0,Zd||(Zd=!0,MA())}function jl(t,i){if(!Wd&&Kc){Wd=!0;do for(var a=!1,l=Qc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var d=0;else{var v=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-mt(42|t)+1)-1,d&=h&~(v&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,dv(l,d))}else d=ke,d=di(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||Qn(l,d)||(a=!0,dv(l,d));l=l.next}while(a);Wd=!1}}function OA(){cv()}function cv(){Kc=Zd=!1;var t=0;Hr!==0&&HA()&&(t=Hr);for(var i=sn(),a=null,l=Qc;l!==null;){var h=l.next,d=hv(l,i);d===0?(l.next=null,a===null?Qc=h:a.next=h,h===null&&(Xa=a)):(a=l,(t!==0||(d&3)!==0)&&(Kc=!0)),l=h}jt!==0&&jt!==5||jl(t),Hr!==0&&(Hr=0)}function hv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var v=31-mt(d),b=1<<v,D=h[v];D===-1?((b&a)===0||(b&l)!==0)&&(h[v]=If(b,i)):D<=i&&(t.expiredLanes|=b),d&=~b}if(i=it,a=ke,a=di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(Je===2||Je===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&yr(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Qn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&yr(l),zi(a)){case 2:case 8:a=Go;break;case 32:a=_r;break;case 268435456:a=ku;break;default:a=_r}return l=fv.bind(null,t),a=Vt(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&yr(l),t.callbackPriority=2,t.callbackNode=null,2}function fv(t,i){if(jt!==0&&jt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Gc()&&t.callbackNode!==a)return null;var l=ke;return l=di(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(K_(t,l,i),hv(t,sn()),t.callbackNode!=null&&t.callbackNode===a?fv.bind(null,t):null)}function dv(t,i){if(Gc())return null;K_(t,i,!0)}function MA(){GA(function(){(Ye&6)!==0?Vt(Fo,OA):cv()})}function em(){if(Hr===0){var t=ja;t===0&&(t=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Hr=t}return Hr}function mv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function pv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function VA(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var d=mv((h[Pt]||null).action),v=l.submitter;v&&(i=(i=v[Pt]||null)?mv(i.formAction):v.getAttribute("formAction"),i!==null&&(d=i,v=null));var b=new Si("action","action",null,l,h);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Hr!==0){var D=v?pv(h,v):new FormData(h);Ed(a,{pending:!0,data:D,method:h.method,action:d},null,D)}}else typeof d=="function"&&(b.preventDefault(),D=v?pv(h,v):new FormData(h),Ed(a,{pending:!0,data:D,method:h.method,action:d},d,D))},currentTarget:h}]})}}for(var tm=0;tm<Pf.length;tm++){var nm=Pf[tm],jA=nm.toLowerCase(),kA=nm[0].toUpperCase()+nm.slice(1);ei(jA,"on"+kA)}ei(Qg,"onAnimationEnd"),ei(Kg,"onAnimationIteration"),ei(Yg,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(Zb,"onTransitionRun"),ei(Wb,"onTransitionStart"),ei(eA,"onTransitionCancel"),ei($g,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(kl));function gv(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var d=void 0;if(i)for(var v=l.length-1;0<=v;v--){var b=l[v],D=b.instance,B=b.currentTarget;if(b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch($){lc($)}h.currentTarget=null,d=D}else for(v=0;v<l.length;v++){if(b=l[v],D=b.instance,B=b.currentTarget,b=b.listener,D!==d&&h.isPropagationStopped())break e;d=b,h.currentTarget=B;try{d(h)}catch($){lc($)}h.currentTarget=null,d=D}}}}function je(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var l=t+"__bubble";a.has(l)||(yv(i,t,2,!1),a.add(l))}function im(t,i,a){var l=0;i&&(l|=4),yv(a,t,l,i)}var Yc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[Yc]){t[Yc]=!0,Yo.forEach(function(a){a!=="selectionchange"&&(PA.has(a)||im(a,!1,t),im(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Yc]||(i[Yc]=!0,im("selectionchange",!1,i))}}function yv(t,i,a,l){switch(Qv(i)){case 2:var h=hS;break;case 8:h=fS;break;default:h=vm}a=h.bind(null,i,a,t),h=void 0,!Ns||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function sm(t,i,a,l,h){var d=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var b=l.stateNode.containerInfo;if(b===h)break;if(v===4)for(v=l.return;v!==null;){var D=v.tag;if((D===3||D===4)&&v.stateNode.containerInfo===h)return;v=v.return}for(;b!==null;){if(v=yi(b),v===null)return;if(D=v.tag,D===5||D===6||D===26||D===27){l=d=v;continue e}b=b.parentNode}}l=l.return}Sr(function(){var B=d,$=Dn(a),ee=[];e:{var q=Xg.get(t);if(q!==void 0){var Q=Si,fe=t;switch(t){case"keypress":if(Os(a)===0)break e;case"keydown":case"keyup":Q=sc;break;case"focusin":fe="focus",Q=Vs;break;case"focusout":fe="blur",Q=Vs;break;case"beforeblur":case"afterblur":Q=Vs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=Xu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=_;break;case Qg:case Kg:case Yg:Q=Zu;break;case $g:Q=S;break;case"scroll":case"scrollend":Q=al;break;case"wheel":Q=G;break;case"copy":case"cut":case"paste":Q=Wu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=Hi;break;case"toggle":case"beforetoggle":Q=Ce}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),P=ve?q!==null?q+"Capture":null:q;ve=[];for(var M=B,z;M!==null;){var Z=M;if(z=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||z===null||P===null||(Z=Xn(M,P),Z!=null&&ve.push(Pl(M,Z,z))),nt)break;M=M.return}0<ve.length&&(q=new Q(q,fe,null,a,$),ee.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",q&&a!==il&&(fe=a.relatedTarget||a.fromElement)&&(yi(fe)||fe[pi]))break e;if((Q||q)&&(q=$.window===$?$:(q=$.ownerDocument)?q.defaultView||q.parentWindow:window,Q?(fe=a.relatedTarget||a.toElement,Q=B,fe=fe?yi(fe):null,fe!==null&&(nt=u(fe),ve=fe.tag,fe!==nt||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(Q=null,fe=B),Q!==fe)){if(ve=ol,Z="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Hi,Z="onPointerLeave",P="onPointerEnter",M="pointer"),nt=Q==null?q:_n(Q),z=fe==null?q:_n(fe),q=new ve(Z,M+"leave",Q,a,$),q.target=nt,q.relatedTarget=z,Z=null,yi($)===B&&(ve=new ve(P,M+"enter",fe,a,$),ve.target=z,ve.relatedTarget=nt,Z=ve),nt=Z,Q&&fe)t:{for(ve=LA,P=Q,M=fe,z=0,Z=P;Z;Z=ve(Z))z++;Z=0;for(var ge=M;ge;ge=ve(ge))Z++;for(;0<z-Z;)P=ve(P),z--;for(;0<Z-z;)M=ve(M),Z--;for(;z--;){if(P===M||M!==null&&P===M.alternate){ve=P;break t}P=ve(P),M=ve(M)}ve=null}else ve=null;Q!==null&&_v(ee,q,Q,ve,!1),fe!==null&&nt!==null&&_v(ee,nt,fe,ve,!0)}}e:{if(q=B?_n(B):window,Q=q.nodeName&&q.nodeName.toLowerCase(),Q==="select"||Q==="input"&&q.type==="file")var Ge=jg;else if(Mg(q))if(kg)Ge=$b;else{Ge=Kb;var de=Qb}else Q=q.nodeName,!Q||Q.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&va(B.elementType)&&(Ge=jg):Ge=Yb;if(Ge&&(Ge=Ge(t,B))){Vg(ee,Ge,a,$);break e}de&&de(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&el(q,"number",q.value)}switch(de=B?_n(B):window,t){case"focusin":(Mg(de)||de.contentEditable==="true")&&(Ca=de,Vf=B,fl=null);break;case"focusout":fl=Vf=Ca=null;break;case"mousedown":jf=!0;break;case"contextmenu":case"mouseup":case"dragend":jf=!1,Fg(ee,a,$);break;case"selectionchange":if(Jb)break;case"keydown":case"keyup":Fg(ee,a,$)}var Ne;if(Ke)e:{switch(t){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ra?js(t,a)&&(Pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(Ci&&a.locale!=="ko"&&(Ra||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ra&&(Ne=sl()):(Ai=$,rl="value"in Ai?Ai.value:Ai.textContent,Ra=!0)),de=$c(B,Pe),0<de.length&&(Pe=new Ri(Pe,t,null,a,$),ee.push({event:Pe,listeners:de}),Ne?Pe.data=Ne:(Ne=wa(a),Ne!==null&&(Pe.data=Ne)))),(Ne=Mn?qb(t,a):Hb(t,a))&&(Pe=$c(B,"onBeforeInput"),0<Pe.length&&(de=new Ri("onBeforeInput","beforeinput",null,a,$),ee.push({event:de,listeners:Pe}),de.data=Ne)),VA(ee,t,B,a,$)}gv(ee,i)})}function Pl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function $c(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Xn(t,a),h!=null&&l.unshift(Pl(t,h,d)),h=Xn(t,i),h!=null&&l.push(Pl(t,h,d))),t.tag===3)return l;t=t.return}return[]}function LA(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function _v(t,i,a,l,h){for(var d=i._reactName,v=[];a!==null&&a!==l;){var b=a,D=b.alternate,B=b.stateNode;if(b=b.tag,D!==null&&D===l)break;b!==5&&b!==26&&b!==27||B===null||(D=B,h?(B=Xn(a,d),B!=null&&v.unshift(Pl(a,B,D))):h||(B=Xn(a,d),B!=null&&v.push(Pl(a,B,D)))),a=a.return}v.length!==0&&t.push({event:i,listeners:v})}var UA=/\r\n?/g,zA=/\u0000|\uFFFD/g;function vv(t){return(typeof t=="string"?t:""+t).replace(UA,`
`).replace(zA,"")}function Ev(t,i){return i=vv(i),vv(t)===i}function tt(t,i,a,l,h,d){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||un(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&un(t,""+l);break;case"className":vn(t,"class",l);break;case"tabIndex":vn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":vn(t,a,l);break;case"style":nl(t,l,d);break;case"data":if(i!=="object"){vn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Ea(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=$n);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":je("beforetoggle",t),je("toggle",t),ya(t,"popover",l);break;case"xlinkActuate":wt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ya(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$u.get(a)||a,ya(t,a,l))}}function am(t,i,a,l,h,d){switch(a){case"style":nl(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?un(t,l):(typeof l=="number"||typeof l=="bigint")&&un(t,""+l);break;case"onScroll":l!=null&&je("scroll",t);break;case"onScrollEnd":l!=null&&je("scrollend",t);break;case"onClick":l!=null&&(t.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$o.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Pt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):ya(t,a,l)}}}function Yt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":je("error",t),je("load",t);var l=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var v=a[d];if(v!=null)switch(d){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,d,v,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":je("invalid",t);var b=d=v=h=null,D=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":h=$;break;case"type":v=$;break;case"checked":D=$;break;case"defaultChecked":B=$;break;case"value":d=$;break;case"defaultValue":b=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,i));break;default:tt(t,i,l,$,a,null)}}Qu(t,d,b,D,B,v,h,!1);return;case"select":je("invalid",t),l=v=d=null;for(h in a)if(a.hasOwnProperty(h)&&(b=a[h],b!=null))switch(h){case"value":d=b;break;case"defaultValue":v=b;break;case"multiple":l=b;default:tt(t,i,h,b,a,null)}i=d,a=v,t.multiple=!!l,i!=null?Er(t,!!l,i,!1):a!=null&&Er(t,!!l,a,!0);return;case"textarea":je("invalid",t),d=h=l=null;for(v in a)if(a.hasOwnProperty(v)&&(b=a[v],b!=null))switch(v){case"value":l=b;break;case"defaultValue":h=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:tt(t,i,v,b,a,null)}Tr(t,l,h,d);return;case"option":for(D in a)if(a.hasOwnProperty(D)&&(l=a[D],l!=null))switch(D){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,D,l,a,null)}return;case"dialog":je("beforetoggle",t),je("toggle",t),je("cancel",t),je("close",t);break;case"iframe":case"object":je("load",t);break;case"video":case"audio":for(l=0;l<kl.length;l++)je(kl[l],t);break;case"image":je("error",t),je("load",t);break;case"details":je("toggle",t);break;case"embed":case"source":case"link":je("error",t),je("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,B,l,a,null)}return;default:if(va(i)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&am(t,i,$,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&tt(t,i,b,l,a,null))}function BA(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,v=null,b=null,D=null,B=null,$=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":D=ee;default:l.hasOwnProperty(Q)||tt(t,i,Q,null,l,ee)}}for(var q in l){var Q=l[q];if(ee=a[q],l.hasOwnProperty(q)&&(Q!=null||ee!=null))switch(q){case"type":d=Q;break;case"name":h=Q;break;case"checked":B=Q;break;case"defaultChecked":$=Q;break;case"value":v=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Q!==ee&&tt(t,i,q,Q,l,ee)}}_a(t,v,b,D,B,$,d,h);return;case"select":Q=v=b=q=null;for(d in a)if(D=a[d],a.hasOwnProperty(d)&&D!=null)switch(d){case"value":break;case"multiple":Q=D;default:l.hasOwnProperty(d)||tt(t,i,d,null,l,D)}for(h in l)if(d=l[h],D=a[h],l.hasOwnProperty(h)&&(d!=null||D!=null))switch(h){case"value":q=d;break;case"defaultValue":b=d;break;case"multiple":v=d;default:d!==D&&tt(t,i,h,d,l,D)}i=b,a=v,l=Q,q!=null?Er(t,!!a,q,!1):!!l!=!!a&&(i!=null?Er(t,!!a,i,!0):Er(t,!!a,a?[]:"",!1));return;case"textarea":Q=q=null;for(b in a)if(h=a[b],a.hasOwnProperty(b)&&h!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:tt(t,i,b,null,l,h)}for(v in l)if(h=l[v],d=a[v],l.hasOwnProperty(v)&&(h!=null||d!=null))switch(v){case"value":q=h;break;case"defaultValue":Q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&tt(t,i,v,h,l,d)}Ku(t,q,Q);return;case"option":for(var fe in a)if(q=a[fe],a.hasOwnProperty(fe)&&q!=null&&!l.hasOwnProperty(fe))switch(fe){case"selected":t.selected=!1;break;default:tt(t,i,fe,null,l,q)}for(D in l)if(q=l[D],Q=a[D],l.hasOwnProperty(D)&&q!==Q&&(q!=null||Q!=null))switch(D){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(t,i,D,q,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,q);for(B in l)if(q=l[B],Q=a[B],l.hasOwnProperty(B)&&q!==Q&&(q!=null||Q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:tt(t,i,B,q,l,Q)}return;default:if(va(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&am(t,i,nt,void 0,l,q);for($ in l)q=l[$],Q=a[$],!l.hasOwnProperty($)||q===Q||q===void 0&&Q===void 0||am(t,i,$,q,l,Q);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!l.hasOwnProperty(P)&&tt(t,i,P,null,l,q);for(ee in l)q=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||q===Q||q==null&&Q==null||tt(t,i,ee,q,l,Q)}function Tv(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qA(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var h=a[l],d=h.transferSize,v=h.initiatorType,b=h.duration;if(d&&b&&Tv(v)){for(v=0,b=h.responseEnd,l+=1;l<a.length;l++){var D=a[l],B=D.startTime;if(B>b)break;var $=D.transferSize,ee=D.initiatorType;$&&Tv(ee)&&(D=D.responseEnd,v+=$*(D<b?1:(b-B)/(D-B)))}if(--l,i+=8*(d+v)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var om=null,lm=null;function Xc(t){return t.nodeType===9?t:t.ownerDocument}function bv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Av(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function um(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var cm=null;function HA(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var Sv=typeof setTimeout=="function"?setTimeout:void 0,FA=typeof clearTimeout=="function"?clearTimeout:void 0,wv=typeof Promise=="function"?Promise:void 0,GA=typeof queueMicrotask=="function"?queueMicrotask:typeof wv<"u"?function(t){return wv.resolve(null).then(t).catch(QA)}:Sv;function QA(t){setTimeout(function(){throw t})}function Fr(t){return t==="head"}function Rv(t,i){var a=i,l=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(l===0){t.removeChild(h),eo(i);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")Ll(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Ll(a);for(var d=a.firstChild;d;){var v=d.nextSibling,b=d.nodeName;d[gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=v}}else a==="body"&&Ll(t.ownerDocument.body);a=h}while(a);eo(i)}function Cv(t,i){var a=t;t=0;do{var l=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=l}while(a)}function hm(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function KA(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[gi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=zn(t.nextSibling),t===null)break}return null}function YA(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=zn(t.nextSibling),t===null))return null;return t}function Iv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=zn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$?"||t.data==="$~"}function dm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function $A(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function zn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var mm=null;function xv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return zn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function Nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function Dv(t,i,a){switch(i=Xc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Ll(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Bn=new Map,Ov=new Set;function Jc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var rr=oe.d;oe.d={f:XA,r:JA,D:ZA,C:WA,L:eS,m:tS,X:iS,S:nS,M:rS};function XA(){var t=rr.f(),i=qc();return t||i}function JA(t){var i=Nn(t);i!==null&&i.tag===5&&i.type==="form"?$y(i):rr.r(t)}var Ja=typeof document>"u"?null:document;function Mv(t,i,a){var l=Ja;if(l&&typeof i=="string"&&i){var h=ln(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Ov.has(h)||(Ov.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function ZA(t){rr.D(t),Mv("dns-prefetch",t,null)}function WA(t,i){rr.C(t,i),Mv("preconnect",t,i)}function eS(t,i,a){rr.L(t,i,a);var l=Ja;if(l&&t&&i){var h='link[rel="preload"][as="'+ln(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+ln(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+ln(a.imageSizes)+'"]')):h+='[href="'+ln(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=Wa(t)}Bn.has(d)||(t=A({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Bn.set(d,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(Ul(d))||i==="script"&&l.querySelector(zl(d))||(i=l.createElement("link"),Yt(i,"link",t),St(i),l.head.appendChild(i)))}}function tS(t,i){rr.m(t,i);var a=Ja;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(t)+'"]',d=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Bn.has(d)&&(t=A({rel:"modulepreload",href:t},i),Bn.set(d,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(zl(d)))return}l=a.createElement("link"),Yt(l,"link",t),St(l),a.head.appendChild(l)}}}function nS(t,i,a){rr.S(t,i,a);var l=Ja;if(l&&t){var h=_i(l).hoistableStyles,d=Za(t);i=i||"default";var v=h.get(d);if(!v){var b={loading:0,preload:null};if(v=l.querySelector(Ul(d)))b.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Bn.get(d))&&pm(t,a);var D=v=l.createElement("link");St(D),Yt(D,"link",t),D._p=new Promise(function(B,$){D.onload=B,D.onerror=$}),D.addEventListener("load",function(){b.loading|=1}),D.addEventListener("error",function(){b.loading|=2}),b.loading|=4,Zc(v,i,l)}v={type:"stylesheet",instance:v,count:1,state:b},h.set(d,v)}}}function iS(t,i){rr.X(t,i);var a=Ja;if(a&&t){var l=_i(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(t=A({src:t,async:!0},i),(i=Bn.get(h))&&gm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function rS(t,i){rr.M(t,i);var a=Ja;if(a&&t){var l=_i(a).hoistableScripts,h=Wa(t),d=l.get(h);d||(d=a.querySelector(zl(h)),d||(t=A({src:t,async:!0,type:"module"},i),(i=Bn.get(h))&&gm(t,i),d=a.createElement("script"),St(d),Yt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(h,d))}}function Vv(t,i,a,l){var h=(h=xe.current)?Jc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=_i(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=_i(h).hoistableStyles,v=d.get(t);if(v||(h=h.ownerDocument||h,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,v),(d=h.querySelector(Ul(t)))&&!d._p&&(v.instance=d,v.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),d||sS(h,t,a,v.state))),i&&l===null)throw Error(s(528,""));return v}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=_i(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+ln(t)+'"'}function Ul(t){return'link[rel="stylesheet"]['+t+"]"}function jv(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function sS(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Yt(i,"link",a),St(i),t.head.appendChild(i))}function Wa(t){return'[src="'+ln(t)+'"]'}function zl(t){return"script[async]"+t}function kv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+ln(a.href)+'"]');if(l)return i.instance=l,St(l),l;var h=A({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),St(l),Yt(l,"style",h),Zc(l,a.precedence,t),i.instance=l;case"stylesheet":h=Za(a.href);var d=t.querySelector(Ul(h));if(d)return i.state.loading|=4,i.instance=d,St(d),d;l=jv(a),(h=Bn.get(h))&&pm(l,h),d=(t.ownerDocument||t).createElement("link"),St(d);var v=d;return v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Yt(d,"link",l),i.state.loading|=4,Zc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(zl(d)))?(i.instance=h,St(h),h):(l=a,(h=Bn.get(d))&&(l=A({},a),gm(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),St(h),Yt(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,Zc(l,a.precedence,t));return i.instance}function Zc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,d=h,v=0;v<l.length;v++){var b=l[v];if(b.dataset.precedence===i)d=b;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function pm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function gm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Wc=null;function Pv(t,i,a){if(Wc===null){var l=new Map,h=Wc=new Map;h.set(a,l)}else h=Wc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[gi]||d[At]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var v=d.getAttribute(i)||"";v=t+v;var b=l.get(v);b?b.push(d):l.set(v,[d])}}return l}function Lv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function aS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function oS(t,i,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(l.href),d=i.querySelector(Ul(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=eh.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,St(d);return}d=i.ownerDocument||i,l=jv(l),(h=Bn.get(h))&&pm(l,h),d=d.createElement("link"),St(d);var v=d;v._p=new Promise(function(b,D){v.onload=b,v.onerror=D}),Yt(d,"link",l),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=eh.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var ym=0;function lS(t,i){return t.stylesheets&&t.count===0&&nh(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var l=setTimeout(function(){if(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&ym===0&&(ym=62500*qA());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&nh(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>ym?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function eh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nh(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var th=null;function nh(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,th=new Map,i.forEach(uS,t),th=null,eh.call(t))}function uS(t,i){if(!(i.state.loading&4)){var a=th.get(t);if(a)var l=a.get(null);else{a=new Map,th.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var v=h[d];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}h=i.instance,v=h.getAttribute("data-precedence"),d=a.get(v)||l,d===l&&a.set(null,h),a.set(v,h),this.count++,l=eh.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Bl={$$typeof:re,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function cS(t,i,a,l,h,d,v,b,D){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=D,this.incompleteTransitions=new Map}function zv(t,i,a,l,h,d,v,b,D,B,$,ee){return t=new cS(t,i,a,v,D,B,$,ee,b),i=1,d===!0&&(i|=24),d=Tn(3,null,null,i),t.current=d,d.stateNode=t,i=Xf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:i},ed(d),t}function Bv(t){return t?(t=Na,t):Na}function qv(t,i,a,l,h,d){h=Bv(h),l.context===null?l.context=h:l.pendingContext=h,l=Mr(i),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Vr(t,l,i),a!==null&&(mn(a,t,i),vl(a,t,i))}function Hv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function _m(t,i){Hv(t,i),(t=t.alternate)&&Hv(t,i)}function Fv(t){if(t.tag===13||t.tag===31){var i=Ls(t,67108864);i!==null&&mn(i,t,67108864),_m(t,67108864)}}function Gv(t){if(t.tag===13||t.tag===31){var i=Rn();i=Rs(i);var a=Ls(t,i);a!==null&&mn(a,t,i),_m(t,i)}}var ih=!0;function hS(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=2,vm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function fS(t,i,a,l){var h=Y.T;Y.T=null;var d=oe.p;try{oe.p=8,vm(t,i,a,l)}finally{oe.p=d,Y.T=h}}function vm(t,i,a,l){if(ih){var h=Em(l);if(h===null)sm(t,i,l,rh,a),Kv(t,l);else if(mS(h,t,i,a,l))l.stopPropagation();else if(Kv(t,l),i&4&&-1<dS.indexOf(t)){for(;h!==null;){var d=Nn(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var v=fi(d.pendingLanes);if(v!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;v;){var D=1<<31-mt(v);b.entanglements[1]|=D,v&=~D}Di(d),(Ye&6)===0&&(zc=sn()+500,jl(0))}}break;case 31:case 13:b=Ls(d,2),b!==null&&mn(b,d,2),qc(),_m(d,2)}if(d=Em(l),d===null&&sm(t,i,l,rh,a),d===h)break;h=d}h!==null&&l.stopPropagation()}else sm(t,i,l,null,a)}}function Em(t){return t=Dn(t),Tm(t)}var rh=null;function Tm(t){if(rh=null,t=yi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=p(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return rh=t,null}function Qv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(bs()){case Fo:return 2;case Go:return 8;case _r:case Cf:return 32;case ku:return 268435456;default:return 32}default:return 32}}var bm=!1,Gr=null,Qr=null,Kr=null,ql=new Map,Hl=new Map,Yr=[],dS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Kv(t,i){switch(t){case"focusin":case"focusout":Gr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":ql.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(i.pointerId)}}function Fl(t,i,a,l,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[h]},i!==null&&(i=Nn(i),i!==null&&Fv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function mS(t,i,a,l,h){switch(i){case"focusin":return Gr=Fl(Gr,t,i,a,l,h),!0;case"dragenter":return Qr=Fl(Qr,t,i,a,l,h),!0;case"mouseover":return Kr=Fl(Kr,t,i,a,l,h),!0;case"pointerover":var d=h.pointerId;return ql.set(d,Fl(ql.get(d)||null,t,i,a,l,h)),!0;case"gotpointercapture":return d=h.pointerId,Hl.set(d,Fl(Hl.get(d)||null,t,i,a,l,h)),!0}return!1}function Yv(t){var i=yi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Gv(a)});return}}else if(i===31){if(i=p(a),i!==null){t.blockedOn=i,Kn(t.priority,function(){Gv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sh(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Em(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);il=l,a.target.dispatchEvent(l),il=null}else return i=Nn(a),i!==null&&Fv(i),t.blockedOn=a,!1;i.shift()}return!0}function $v(t,i,a){sh(t)&&a.delete(i)}function pS(){bm=!1,Gr!==null&&sh(Gr)&&(Gr=null),Qr!==null&&sh(Qr)&&(Qr=null),Kr!==null&&sh(Kr)&&(Kr=null),ql.forEach($v),Hl.forEach($v)}function ah(t,i){t.blockedOn===i&&(t.blockedOn=null,bm||(bm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,pS)))}var oh=null;function Xv(t){oh!==t&&(oh=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){oh===t&&(oh=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Tm(l||a)===null)continue;break}var d=Nn(a);d!==null&&(t.splice(i,3),i-=3,Ed(d,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function eo(t){function i(D){return ah(D,t)}Gr!==null&&ah(Gr,t),Qr!==null&&ah(Qr,t),Kr!==null&&ah(Kr,t),ql.forEach(i),Hl.forEach(i);for(var a=0;a<Yr.length;a++){var l=Yr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Yr.length&&(a=Yr[0],a.blockedOn===null);)Yv(a),a.blockedOn===null&&Yr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],d=a[l+1],v=h[Pt]||null;if(typeof d=="function")v||Xv(a);else if(v){var b=null;if(d&&d.hasAttribute("formAction")){if(h=d,v=d[Pt]||null)b=v.formAction;else if(Tm(h)!==null)continue}else b=v.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),Xv(a)}}}function Jv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(v){return h=v})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function Am(t){this._internalRoot=t}lh.prototype.render=Am.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Rn();qv(a,l,t,i,null,null)},lh.prototype.unmount=Am.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;qv(t.current,2,null,t,null,null),qc(),i[pi]=null}};function lh(t){this._internalRoot=t}lh.prototype.unstable_scheduleHydration=function(t){if(t){var i=qu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Yr.length&&i!==0&&i<Yr[a].priority;a++);Yr.splice(a,0,t),a===0&&Yv(t)}};var Zv=e.version;if(Zv!=="19.2.0")throw Error(s(527,Zv,"19.2.0"));oe.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=y(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var gS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Y,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uh.isDisabled&&uh.supportsFiber)try{Gn=uh.inject(gS),Ht=uh}catch{}}return Ql.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=s_,d=a_,v=o_;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(v=i.onRecoverableError)),i=zv(t,1,!1,null,null,a,l,null,h,d,v,Jv),t[pi]=i.current,rm(t),new Am(i)},Ql.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",d=s_,v=a_,b=o_,D=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.formState!==void 0&&(D=a.formState)),i=zv(t,1,!0,i,a??null,l,h,D,d,v,b,Jv),i.context=Bv(null),a=i.current,l=Rn(),l=Rs(l),h=Mr(l),h.callback=null,Vr(a,h,l),a=l,i.current.lanes=a,Ss(i,a),Di(i),t[pi]=i.current,rm(t),new lh(i)},Ql.version="19.2.0",Ql}var lE;function RS(){if(lE)return Rm.exports;lE=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Rm.exports=wS(),Rm.exports}var CS=RS();const IS=()=>{};var uE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K0=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},xS=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],f=r[n++],p=r[n++],g=((o&7)<<18|(u&63)<<12|(f&63)<<6|p&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|f&63)}}return e.join("")},Y0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],f=o+1<r.length,p=f?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,T=u>>2,A=(u&3)<<4|p>>4;let w=(p&15)<<2|y>>6,j=y&63;g||(j=64,f||(w=64)),s.push(n[T],n[A],n[w],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(K0(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):xS(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],p=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const A=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||p==null||y==null||A==null)throw new NS;const w=u<<2|p>>4;if(s.push(w),y!==64){const j=p<<4&240|y>>2;if(s.push(j),A!==64){const F=y<<6&192|A;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class NS extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DS=function(r){const e=K0(r);return Y0.encodeByteArray(e,!0)},Dh=function(r){return DS(r).replace(/\./g,"")},$0=function(r){try{return Y0.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS=()=>OS().__FIREBASE_DEFAULTS__,VS=()=>{if(typeof process>"u"||typeof uE>"u")return;const r=uE.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},jS=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&$0(r[1]);return e&&JSON.parse(e)},Zh=()=>{try{return IS()||MS()||VS()||jS()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},X0=r=>Zh()?.emulatorHosts?.[r],kS=r=>{const e=X0(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},J0=()=>Zh()?.config,Z0=r=>Zh()?.[`_${r}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Co(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function W0(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Dh(JSON.stringify(n)),Dh(JSON.stringify(f)),""].join(".")}const iu={};function US(){const r={prod:[],emulator:[]};for(const e of Object.keys(iu))iu[e]?r.emulator.push(e):r.prod.push(e);return r}function zS(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let cE=!1;function eT(r,e){if(typeof window>"u"||typeof document>"u"||!Co(window.location.host)||iu[r]===e||iu[r]||cE)return;iu[r]=e;function n(w){return`__firebase__banner__${w}`}const s="__firebase__banner",u=US().prod.length>0;function f(){const w=document.getElementById(s);w&&w.remove()}function p(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function g(w,j){w.setAttribute("width","24"),w.setAttribute("id",j),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function y(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{cE=!0,f()},w}function T(w,j){w.setAttribute("id",j),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function A(){const w=zS(s),j=n("text"),F=document.getElementById(j)||document.createElement("span"),X=n("learnmore"),H=document.getElementById(X)||document.createElement("a"),J=n("preprendIcon"),ie=document.getElementById(J)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const re=w.element;p(re),T(H,X);const pe=y();g(ie,J),re.append(ie,F,H,pe),document.body.appendChild(re)}u?(F.innerText="Preview backend disconnected.",ie.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ie.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,F.innerText="Preview backend running in this workspace."),F.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function qS(){const r=Zh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function HS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function FS(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function GS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function QS(){const r=rn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function KS(){return!qS()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function YS(){try{return typeof indexedDB=="object"}catch{return!1}}function $S(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{e(o.error?.message||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=XS,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],f=u?JS(u,s):"Error",p=`${this.serviceName}: ${f} (${o}).`;return new gr(o,p,s)}}function JS(r,e){return r.replace(ZS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const ZS=/\{\$([^}]+)}/g;function WS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function ea(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],f=e[o];if(hE(u)&&hE(f)){if(!ea(u,f))return!1}else if(u!==f)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function hE(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Jl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Zl(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function ew(r,e){const n=new tw(r,e);return n.subscribe.bind(n)}class tw{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");nw(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Nm),o.error===void 0&&(o.error=Nm),o.complete===void 0&&(o.complete=Nm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nw(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Nm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(r){return r&&r._delegate?r._delegate:r}class ta{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new PS;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sw(e))try{this.getOrInitializeService({instanceIdentifier:Js})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Js){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Js){return this.instances.has(e)}getOptions(e=Js){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(u);s===p&&f.resolve(o)}return o}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),o=this.onInitCallbacks.get(s)??new Set;o.add(e),this.onInitCallbacks.set(s,o);const u=this.instances.get(s);return u&&e(u,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:rw(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Js){return this.component?this.component.multipleInstances?e:Js:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function rw(r){return r===Js?void 0:r}function sw(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new iw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Le||(Le={}));const ow={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},lw=Le.INFO,uw={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},cw=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=uw[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wp{constructor(e){this.name=e,this._logLevel=lw,this._logHandler=cw,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ow[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const hw=(r,e)=>e.some(n=>r instanceof n);let fE,dE;function fw(){return fE||(fE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dw(){return dE||(dE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tT=new WeakMap,Qm=new WeakMap,nT=new WeakMap,Dm=new WeakMap,Rp=new WeakMap;function mw(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(ns(r.result)),o()},f=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&tT.set(n,r)}).catch(()=>{}),Rp.set(e,r),e}function pw(r){if(Qm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),o()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Qm.set(r,e)}let Km={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Qm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||nT.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ns(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function gw(r){Km=r(Km)}function yw(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Om(this),e,...n);return nT.set(s,e.sort?e.sort():[e]),ns(s)}:dw().includes(r)?function(...e){return r.apply(Om(this),e),ns(tT.get(this))}:function(...e){return ns(r.apply(Om(this),e))}}function _w(r){return typeof r=="function"?yw(r):(r instanceof IDBTransaction&&pw(r),hw(r,fw())?new Proxy(r,Km):r)}function ns(r){if(r instanceof IDBRequest)return mw(r);if(Dm.has(r))return Dm.get(r);const e=_w(r);return e!==r&&(Dm.set(r,e),Rp.set(e,r)),e}const Om=r=>Rp.get(r);function vw(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const f=indexedDB.open(r,e),p=ns(f);return s&&f.addEventListener("upgradeneeded",g=>{s(ns(f.result),g.oldVersion,g.newVersion,ns(f.transaction),g)}),n&&f.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),p.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const Ew=["get","getKey","getAll","getAllKeys","count"],Tw=["put","add","delete","clear"],Mm=new Map;function mE(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Mm.get(e))return Mm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=Tw.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||Ew.includes(n)))return;const u=async function(f,...p){const g=this.transaction(f,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(p.shift())),(await Promise.all([y[n](...p),o&&g.done]))[0]};return Mm.set(e,u),u}gw(r=>({...r,get:(e,n,s)=>mE(e,n)||r.get(e,n,s),has:(e,n)=>!!mE(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Aw(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Aw(r){return r.getComponent()?.type==="VERSION"}const Ym="@firebase/app",pE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hr=new wp("@firebase/app"),Sw="@firebase/app-compat",ww="@firebase/analytics-compat",Rw="@firebase/analytics",Cw="@firebase/app-check-compat",Iw="@firebase/app-check",xw="@firebase/auth",Nw="@firebase/auth-compat",Dw="@firebase/database",Ow="@firebase/data-connect",Mw="@firebase/database-compat",Vw="@firebase/functions",jw="@firebase/functions-compat",kw="@firebase/installations",Pw="@firebase/installations-compat",Lw="@firebase/messaging",Uw="@firebase/messaging-compat",zw="@firebase/performance",Bw="@firebase/performance-compat",qw="@firebase/remote-config",Hw="@firebase/remote-config-compat",Fw="@firebase/storage",Gw="@firebase/storage-compat",Qw="@firebase/firestore",Kw="@firebase/ai",Yw="@firebase/firestore-compat",$w="firebase",Xw="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="[DEFAULT]",Jw={[Ym]:"fire-core",[Sw]:"fire-core-compat",[Rw]:"fire-analytics",[ww]:"fire-analytics-compat",[Iw]:"fire-app-check",[Cw]:"fire-app-check-compat",[xw]:"fire-auth",[Nw]:"fire-auth-compat",[Dw]:"fire-rtdb",[Ow]:"fire-data-connect",[Mw]:"fire-rtdb-compat",[Vw]:"fire-fn",[jw]:"fire-fn-compat",[kw]:"fire-iid",[Pw]:"fire-iid-compat",[Lw]:"fire-fcm",[Uw]:"fire-fcm-compat",[zw]:"fire-perf",[Bw]:"fire-perf-compat",[qw]:"fire-rc",[Hw]:"fire-rc-compat",[Fw]:"fire-gcs",[Gw]:"fire-gcs-compat",[Qw]:"fire-fst",[Yw]:"fire-fst-compat",[Kw]:"fire-vertex","fire-js":"fire-js",[$w]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oh=new Map,Zw=new Map,Xm=new Map;function gE(r,e){try{r.container.addComponent(e)}catch(n){hr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function yo(r){const e=r.name;if(Xm.has(e))return hr.debug(`There were multiple attempts to register component ${e}.`),!1;Xm.set(e,r);for(const n of Oh.values())gE(n,r);for(const n of Zw.values())gE(n,r);return!0}function Cp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function qn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ww={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},is=new Tu("app","Firebase",Ww);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw is.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=Xw;function iT(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:$m,automaticDataCollectionEnabled:!0,...e},o=s.name;if(typeof o!="string"||!o)throw is.create("bad-app-name",{appName:String(o)});if(n||(n=J0()),!n)throw is.create("no-options");const u=Oh.get(o);if(u){if(ea(n,u.options)&&ea(s,u.config))return u;throw is.create("duplicate-app",{appName:o})}const f=new aw(o);for(const g of Xm.values())f.addComponent(g);const p=new e2(n,s,f);return Oh.set(o,p),p}function rT(r=$m){const e=Oh.get(r);if(!e&&r===$m&&J0())return iT();if(!e)throw is.create("no-app",{appName:r});return e}function rs(r,e,n){let s=Jw[r]??r;n&&(s+=`-${n}`);const o=s.match(/\s|\//),u=e.match(/\s|\//);if(o||u){const f=[`Unable to register library "${s}" with version "${e}":`];o&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hr.warn(f.join(" "));return}yo(new ta(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t2="firebase-heartbeat-database",n2=1,uu="firebase-heartbeat-store";let Vm=null;function sT(){return Vm||(Vm=vw(t2,n2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(r=>{throw is.create("idb-open",{originalErrorMessage:r.message})})),Vm}async function i2(r){try{const n=(await sT()).transaction(uu),s=await n.objectStore(uu).get(aT(r));return await n.done,s}catch(e){if(e instanceof gr)hr.warn(e.message);else{const n=is.create("idb-get",{originalErrorMessage:e?.message});hr.warn(n.message)}}}async function yE(r,e){try{const s=(await sT()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,aT(r)),await s.done}catch(n){if(n instanceof gr)hr.warn(n.message);else{const s=is.create("idb-set",{originalErrorMessage:n?.message});hr.warn(s.message)}}}function aT(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r2=1024,s2=30;class a2{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new l2(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_E();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>s2){const o=u2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){hr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=_E(),{heartbeatsToSend:n,unsentEntries:s}=o2(this._heartbeatsCache.heartbeats),o=Dh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(e){return hr.warn(e),""}}}function _E(){return new Date().toISOString().substring(0,10)}function o2(r,e=r2){const n=[];let s=r.slice();for(const o of r){const u=n.find(f=>f.agent===o.agent);if(u){if(u.dates.push(o.date),vE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),vE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class l2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YS()?$S().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await i2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return yE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function vE(r){return Dh(JSON.stringify({version:2,heartbeats:r})).length}function u2(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c2(r){yo(new ta("platform-logger",e=>new bw(e),"PRIVATE")),yo(new ta("heartbeat",e=>new a2(e),"PRIVATE")),rs(Ym,pE,r),rs(Ym,pE,"esm2020"),rs("fire-js","")}c2("");var h2="firebase",f2="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rs(h2,f2,"app");function oT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const d2=oT,lT=new Tu("auth","Firebase",oT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mh=new wp("@firebase/auth");function m2(r,...e){Mh.logLevel<=Le.WARN&&Mh.warn(`Auth (${Io}): ${r}`,...e)}function vh(r,...e){Mh.logLevel<=Le.ERROR&&Mh.error(`Auth (${Io}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(r,...e){throw Ip(r,...e)}function Mi(r,...e){return Ip(r,...e)}function uT(r,e,n){const s={...d2(),[e]:n};return new Tu("auth","Firebase",s).create(e,{appName:r.name})}function lr(r){return uT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return lT.create(r,...e)}function Te(r,e,...n){if(!r)throw Ip(e,...n)}function sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw vh(e),new Error(e)}function fr(r,e){r||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jm(){return typeof self<"u"&&self.location?.href||""}function p2(){return EE()==="http:"||EE()==="https:"}function EE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p2()||FS()||"connection"in navigator)?navigator.onLine:!0}function y2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n){this.shortDelay=e,this.longDelay=n,fr(n>e,"Short delay should be less than long delay!"),this.isMobile=BS()||GS()}get(){return g2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xp(r,e){fr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],E2=new Au(3e4,6e4);function ps(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function gs(r,e,n,s,o={}){return hT(r,o,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const p=bu({key:r.config.apiKey,...f}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y={method:e,headers:g,...u};return HS()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Co(r.emulatorConfig.host)&&(y.credentials="include"),cT.fetch()(await fT(r,r.config.apiHost,n,p),y)})}async function hT(r,e,n){r._canInitEmulator=!1;const s={..._2,...e};try{const o=new b2(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw ch(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const p=u.ok?f.errorMessage:f.error.message,[g,y]=p.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw ch(r,"credential-already-in-use",f);if(g==="EMAIL_EXISTS")throw ch(r,"email-already-in-use",f);if(g==="USER_DISABLED")throw ch(r,"user-disabled",f);const T=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw uT(r,T,y);ri(r,T)}}catch(o){if(o instanceof gr)throw o;ri(r,"network-request-failed",{message:String(o)})}}async function Su(r,e,n,s,o={}){const u=await gs(r,e,n,s,o);return"mfaPendingCredential"in u&&ri(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function fT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,f=u.config.emulator?xp(r.config,o):`${r.config.apiScheme}://${o}`;return v2.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function T2(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class b2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Mi(this.auth,"network-request-failed")),E2.get())})}}function ch(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Mi(r,e,s);return o.customData._tokenResponse=n,o}function TE(r){return r!==void 0&&r.enterprise!==void 0}class A2{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return T2(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function S2(r,e){return gs(r,"GET","/v2/recaptchaConfig",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w2(r,e){return gs(r,"POST","/v1/accounts:delete",e)}async function Vh(r,e){return gs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function R2(r,e=!1){const n=qt(r),s=await n.getIdToken(e),o=Np(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,f=u?.sign_in_provider;return{claims:o,token:s,authTime:ru(jm(o.auth_time)),issuedAtTime:ru(jm(o.iat)),expirationTime:ru(jm(o.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function jm(r){return Number(r)*1e3}function Np(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const o=$0(n);return o?JSON.parse(o):(vh("Failed to decode base64 JWT payload"),null)}catch(o){return vh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function bE(r){const e=Np(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&C2(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function C2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I2{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(r){const e=r.auth,n=await r.getIdToken(),s=await cu(r,Vh(e,{idToken:n}));Te(s?.users.length,e,"internal-error");const o=s.users[0];r._notifyReloadListener(o);const u=o.providerUserInfo?.length?dT(o.providerUserInfo):[],f=N2(r.providerData,u),p=r.isAnonymous,g=!(r.email&&o.passwordHash)&&!f?.length,y=p?g:!1,T={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:f,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:y};Object.assign(r,T)}async function x2(r){const e=qt(r);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function N2(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function dT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D2(r,e){const n=await hT(r,{},async()=>{const s=bu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,f=await fT(r,o,"/v1/token",`key=${u}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:p,body:s};return r.emulatorConfig&&Co(r.emulatorConfig.host)&&(g.credentials="include"),cT.fetch()(f,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function O2(r,e){return gs(r,"POST","/v2/accounts:revokeToken",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await D2(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,f=new uo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),f.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new uo,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ii{constructor({uid:e,auth:n,stsTokenManager:s,...o}){this.providerId="firebase",this.proactiveRefresh=new I2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Zm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return R2(this,e)}reload(){return x2(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ii({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await jh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(qn(this.auth.app))return Promise.reject(lr(this.auth));const e=await this.getIdToken();return await cu(this,w2(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,o=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,p=n.tenantId??void 0,g=n._redirectEventId??void 0,y=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:A,emailVerified:w,isAnonymous:j,providerData:F,stsTokenManager:X}=n;Te(A&&X,e,"internal-error");const H=uo.fromJSON(this.name,X);Te(typeof A=="string",e,"internal-error"),Xr(s,e.name),Xr(o,e.name),Te(typeof w=="boolean",e,"internal-error"),Te(typeof j=="boolean",e,"internal-error"),Xr(u,e.name),Xr(f,e.name),Xr(p,e.name),Xr(g,e.name),Xr(y,e.name),Xr(T,e.name);const J=new ii({uid:A,auth:e,email:o,emailVerified:w,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:p,stsTokenManager:H,createdAt:y,lastLoginAt:T});return F&&Array.isArray(F)&&(J.providerData=F.map(ie=>({...ie}))),g&&(J._redirectEventId=g),J}static async _fromIdTokenResponse(e,n,s=!1){const o=new uo;o.updateFromServerResponse(n);const u=new ii({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await jh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?dT(o.providerUserInfo):[],f=!(o.email&&o.passwordHash)&&!u?.length,p=new uo;p.updateFromIdToken(s);const g=new ii({uid:o.localId,auth:e,stsTokenManager:p,isAnonymous:f}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Zm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AE=new Map;function ar(r){fr(r instanceof Function,"Expected a class definition");let e=AE.get(r);return e?(fr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,AE.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}mT.type="NONE";const SE=mT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eh(r,e,n){return`firebase:${r}:${e}:${n}`}class co{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Eh(this.userKey,o.apiKey,u),this.fullPersistenceKey=Eh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Vh(this.auth,{idToken:e}).catch(()=>{});return n?ii._fromGetAccountInfoResponse(this.auth,n,e):null}return ii._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new co(ar(SE),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||ar(SE);const f=Eh(s,e.config.apiKey,e.name);let p=null;for(const y of n)try{const T=await y._get(f);if(T){let A;if(typeof T=="string"){const w=await Vh(e,{idToken:T}).catch(()=>{});if(!w)break;A=await ii._fromGetAccountInfoResponse(e,w,T)}else A=ii._fromJSON(e,T);y!==u&&(p=A),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new co(u,e,s):(u=g[0],p&&await u._set(f,p.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(f)}catch{}})),new co(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_T(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(pT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ET(e))return"Blackberry";if(TT(e))return"Webos";if(gT(e))return"Safari";if((e.includes("chrome/")||yT(e))&&!e.includes("edge/"))return"Chrome";if(vT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function pT(r=rn()){return/firefox\//i.test(r)}function gT(r=rn()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function yT(r=rn()){return/crios\//i.test(r)}function _T(r=rn()){return/iemobile/i.test(r)}function vT(r=rn()){return/android/i.test(r)}function ET(r=rn()){return/blackberry/i.test(r)}function TT(r=rn()){return/webos/i.test(r)}function Dp(r=rn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function M2(r=rn()){return Dp(r)&&!!window.navigator?.standalone}function V2(){return QS()&&document.documentMode===10}function bT(r=rn()){return Dp(r)||vT(r)||TT(r)||ET(r)||/windows phone/i.test(r)||_T(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(r,e=[]){let n;switch(r){case"Browser":n=wE(rn());break;case"Worker":n=`${wE(rn())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j2{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,p)=>{try{const g=e(u);f(g)}catch(g){p(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k2(r,e={}){return gs(r,"GET","/v2/passwordPolicy",ps(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2=6;class L2{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??P2,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new j2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=lT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ar(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await co.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Vh(this,{idToken:e}),s=await ii._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(qn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,p=await this.tryRedirectSignIn(e);(!u||u===f)&&p?.user&&(s=p.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=y2()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(qn(this.app))return Promise.reject(lr(this));const n=e?qt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return qn(this.app)?Promise.reject(lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return qn(this.app)?Promise.reject(lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await k2(this),n=new L2(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Tu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await O2(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ar(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await co.create(this,[ar(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(p,this,"internal-error"),p.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{f=!0,g()}}else{const g=e.addObserver(n);return()=>{f=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=AT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(qn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&m2(`Error while retrieving App Check token: ${e.error}`),e?.token}}function aa(r){return qt(r)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=ew(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function z2(r){Wh=r}function ST(r){return Wh.loadJS(r)}function B2(){return Wh.recaptchaEnterpriseScript}function q2(){return Wh.gapiScript}function H2(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class F2{constructor(){this.enterprise=new G2}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class G2{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Q2="recaptcha-enterprise",wT="NO_RECAPTCHA";class K2{constructor(e){this.type=Q2,this.auth=aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,p)=>{S2(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(g=>{if(g.recaptchaKey===void 0)p(new Error("recaptcha Enterprise site key undefined"));else{const y=new A2(g);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,f(y.siteKey)}}).catch(g=>{p(g)})})}function o(u,f,p){const g=window.grecaptcha;TE(g)?g.enterprise.ready(()=>{g.enterprise.execute(u,{action:e}).then(y=>{f(y)}).catch(()=>{f(wT)})}):p(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F2().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(p=>{if(!n&&TE(window.grecaptcha))o(p,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let g=B2();g.length!==0&&(g+=p),ST(g).then(()=>{o(p,u,f)}).catch(y=>{f(y)})}}).catch(p=>{f(p)})})}}async function CE(r,e,n,s=!1,o=!1){const u=new K2(r);let f;if(o)f=wT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const p={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in p){const g=p.phoneEnrollmentInfo.phoneNumber,y=p.phoneEnrollmentInfo.recaptchaToken;Object.assign(p,{phoneEnrollmentInfo:{phoneNumber:g,recaptchaToken:y,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in p){const g=p.phoneSignInInfo.recaptchaToken;Object.assign(p,{phoneSignInInfo:{recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return p}return s?Object.assign(p,{captchaResp:f}):Object.assign(p,{captchaResponse:f}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}async function Wm(r,e,n,s,o){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await CE(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await CE(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y2(r,e){const n=Cp(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(ea(u,e??{}))return o;ri(o,"already-initialized")}return n.initialize({options:e})}function $2(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function X2(r,e,n){const s=aa(r);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=RT(e),{host:f,port:p}=J2(e),g=p===null?"":`:${p}`,y={url:`${u}//${f}${g}/`},T=Object.freeze({host:f,port:p,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(ea(y,s.config.emulator)&&ea(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Co(f)?(W0(`${u}//${f}${g}`),eT("Auth",!0)):Z2()}function RT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function J2(r){const e=RT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:IE(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:IE(f)}}}function IE(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function Z2(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function W2(r,e){return gs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eR(r,e){return Su(r,"POST","/v1/accounts:signInWithPassword",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tR(r,e){return Su(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}async function nR(r,e){return Su(r,"POST","/v1/accounts:signInWithEmailLink",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Op{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,n,"signInWithPassword",eR);case"emailLink":return tR(e,{email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Wm(e,s,"signUpPassword",W2);case"emailLink":return nR(e,{idToken:n,email:this._email,oobCode:this._password});default:ri(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ho(r,e){return Su(r,"POST","/v1/accounts:signInWithIdp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iR="http://localhost";class na extends Op{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new na(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ri("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o,...u}=n;if(!s||!o)return null;const f=new na(s,o);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ho(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ho(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ho(e,n)}buildRequest(){const e={requestUri:iR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=bu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function sR(r){const e=Jl(Zl(r)).link,n=e?Jl(Zl(e)).deep_link_id:null,s=Jl(Zl(r)).deep_link_id;return(s?Jl(Zl(s)).link:null)||s||n||e||r}class Mp{constructor(e){const n=Jl(Zl(e)),s=n.apiKey??null,o=n.oobCode??null,u=rR(n.mode??null);Te(s&&o&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=o,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=sR(e);try{return new Mp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(){this.providerId=xo.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Mp.parseLink(n);return Te(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}xo.PROVIDER_ID="password";xo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends CT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends wu{constructor(){super("facebook.com")}static credential(e){return na._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Jr.credential(e.oauthAccessToken)}catch{return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zr extends wu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return na._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Zr.credential(n,s)}catch{return null}}}Zr.GOOGLE_SIGN_IN_METHOD="google.com";Zr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr extends wu{constructor(){super("github.com")}static credential(e){return na._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Wr.credential(e.oauthAccessToken)}catch{return null}}}Wr.GITHUB_SIGN_IN_METHOD="github.com";Wr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends wu{constructor(){super("twitter.com")}static credential(e,n){return na._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return es.credential(n,s)}catch{return null}}}es.TWITTER_SIGN_IN_METHOD="twitter.com";es.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aR(r,e){return Su(r,"POST","/v1/accounts:signUp",ps(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ii._fromIdTokenResponse(e,s,o),f=xE(s);return new ia({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=xE(s);return new ia({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function xE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends gr{constructor(e,n,s,o){super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,kh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new kh(e,n,s,o)}}function IT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?kh._fromErrorAndOperation(r,u,e,s):u})}async function oR(r,e,n=!1){const s=await cu(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return ia._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lR(r,e,n=!1){const{auth:s}=r;if(qn(s.app))return Promise.reject(lr(s));const o="reauthenticate";try{const u=await cu(r,IT(s,o,e,r),n);Te(u.idToken,s,"internal-error");const f=Np(u.idToken);Te(f,s,"internal-error");const{sub:p}=f;return Te(r.uid===p,s,"user-mismatch"),ia._forOperation(r,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ri(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xT(r,e,n=!1){if(qn(r.app))return Promise.reject(lr(r));const s="signIn",o=await IT(r,s,e),u=await ia._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}async function uR(r,e){return xT(aa(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NT(r){const e=aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function cR(r,e,n){if(qn(r.app))return Promise.reject(lr(r));const s=aa(r),f=await Wm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",aR).catch(g=>{throw g.code==="auth/password-does-not-meet-requirements"&&NT(r),g}),p=await ia._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(p.user),p}function hR(r,e,n){return qn(r.app)?Promise.reject(lr(r)):uR(qt(r),xo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&NT(r),s})}function fR(r,e,n,s){return qt(r).onIdTokenChanged(e,n,s)}function dR(r,e,n){return qt(r).beforeAuthStateChanged(e,n)}function mR(r,e,n,s){return qt(r).onAuthStateChanged(e,n,s)}function pR(r){return qt(r).signOut()}const Ph="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ph,"1"),this.storage.removeItem(Ph),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=1e3,yR=10;class OT extends DT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=bT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,p,g)=>{this.notifyListeners(f,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);V2()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,yR):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},gR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}OT.type="LOCAL";const _R=OT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT extends DT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}MT.type="SESSION";const VT=MT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,f=this.handlersMap[o];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const p=Array.from(f).map(async y=>y(n.origin,u)),g=await vR(p);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,f;return new Promise((p,g)=>{const y=Vp("",20);o.port1.start();const T=setTimeout(()=>{g(new Error("unsupported_event"))},s);f={messageChannel:o,onMessage(A){const w=A;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),p(w.data.response);break;default:clearTimeout(T),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(f),o.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vi(){return window}function TR(r){Vi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jT(){return typeof Vi().WorkerGlobalScope<"u"&&typeof Vi().importScripts=="function"}async function bR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function AR(){return navigator?.serviceWorker?.controller||null}function SR(){return jT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT="firebaseLocalStorageDb",wR=1,Lh="firebaseLocalStorage",PT="fbase_key";class Ru{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(r,e){return r.transaction([Lh],e?"readwrite":"readonly").objectStore(Lh)}function RR(){const r=indexedDB.deleteDatabase(kT);return new Ru(r).toPromise()}function ep(){const r=indexedDB.open(kT,wR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Lh,{keyPath:PT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Lh)?e(s):(s.close(),await RR(),e(await ep()))})})}async function NE(r,e,n){const s=tf(r,!0).put({[PT]:e,value:n});return new Ru(s).toPromise()}async function CR(r,e){const n=tf(r,!1).get(e),s=await new Ru(n).toPromise();return s===void 0?null:s.value}function DE(r,e){const n=tf(r,!0).delete(e);return new Ru(n).toPromise()}const IR=800,xR=3;class LT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ep(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>xR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return jT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(SR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await bR(),!this.activeServiceWorker)return;this.sender=new ER(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||AR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ep();return await NE(e,Ph,"1"),await DE(e,Ph),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>CR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new Ru(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}LT.type="LOCAL";const NR=LT;new Au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(r,e){return e?ar(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends Op{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ho(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ho(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ho(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function OR(r){return xT(r.auth,new jp(r),r.bypassAuthState)}function MR(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),lR(n,new jp(r),r.bypassAuthState)}async function VR(r){const{auth:e,user:n}=r;return Te(n,e,"internal-error"),oR(n,new jp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:f,type:p}=e;if(f){this.reject(f);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return OR;case"linkViaPopup":case"linkViaRedirect":return VR;case"reauthViaPopup":case"reauthViaRedirect":return MR;default:ri(this.auth,"internal-error")}}resolve(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR=new Au(2e3,1e4);class lo extends UT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,lo.currentPopupAction&&lo.currentPopupAction.cancel(),lo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){fr(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Mi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,lo.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jR.get())};e()}}lo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="pendingRedirect",Th=new Map;class PR extends UT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Th.get(this.auth._key());if(!e){try{const s=await LR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Th.set(this.auth._key(),e)}return this.bypassAuthState||Th.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function LR(r,e){const n=BR(e),s=zR(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function UR(r,e){Th.set(r._key(),e)}function zR(r){return ar(r._redirectPersistence)}function BR(r){return Eh(kR,r.config.apiKey,r.name)}async function qR(r,e,n=!1){if(qn(r.app))return Promise.reject(lr(r));const s=aa(r),o=DR(s,e),f=await new PR(s,o,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HR=600*1e3;class FR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!GR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!zT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Mi(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=HR&&this.cachedEventUids.clear(),this.cachedEventUids.has(OE(e))}saveEventToCache(e){this.cachedEventUids.add(OE(e)),this.lastProcessedEventTime=Date.now()}}function OE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function zT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function GR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return zT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QR(r,e={}){return gs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YR=/^https?/;async function $R(r){if(r.config.emulator)return;const{authorizedDomains:e}=await QR(r);for(const n of e)try{if(XR(n))return}catch{}ri(r,"unauthorized-domain")}function XR(r){const e=Jm(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!YR.test(n))return!1;if(KR.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new Au(3e4,6e4);function ME(){const r=Vi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function ZR(r){return new Promise((e,n)=>{function s(){ME(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{ME(),n(Mi(r,"network-request-failed"))},timeout:JR.get()})}if(Vi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Vi().gapi?.load)s();else{const o=H2("iframefcb");return Vi()[o]=()=>{gapi.load?s():n(Mi(r,"network-request-failed"))},ST(`${q2()}?onload=${o}`).catch(u=>n(u))}}).catch(e=>{throw bh=null,e})}let bh=null;function WR(r){return bh=bh||ZR(r),bh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=new Au(5e3,15e3),tC="__/auth/iframe",nC="emulator/auth/iframe",iC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},rC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sC(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?xp(e,nC):`https://${r.config.authDomain}/${tC}`,s={apiKey:e.apiKey,appName:r.name,v:Io},o=rC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${bu(s).slice(1)}`}async function aC(r){const e=await WR(r),n=Vi().gapi;return Te(n,r,"internal-error"),e.open({where:document.body,url:sC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const f=Mi(r,"network-request-failed"),p=Vi().setTimeout(()=>{u(f)},eC.get());function g(){Vi().clearTimeout(p),o(s)}s.ping(g).then(g,()=>{u(f)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lC=500,uC=600,cC="_blank",hC="http://localhost";class VE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fC(r,e,n,s=lC,o=uC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let p="";const g={...oC,width:s.toString(),height:o.toString(),top:u,left:f},y=rn().toLowerCase();n&&(p=yT(y)?cC:n),pT(y)&&(e=e||hC,g.scrollbars="yes");const T=Object.entries(g).reduce((w,[j,F])=>`${w}${j}=${F},`,"");if(M2(y)&&p!=="_self")return dC(e||"",p),new VE(null);const A=window.open(e||"",p,T);Te(A,r,"popup-blocked");try{A.focus()}catch{}return new VE(A)}function dC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC="__/auth/handler",pC="emulator/auth/handler",gC=encodeURIComponent("fac");async function jE(r,e,n,s,o,u){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof CT){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",WS(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,A]of Object.entries({}))f[T]=A}if(e instanceof wu){const T=e.getScopes().filter(A=>A!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const p=f;for(const T of Object.keys(p))p[T]===void 0&&delete p[T];const g=await r._getAppCheckToken(),y=g?`#${gC}=${encodeURIComponent(g)}`:"";return`${yC(r)}?${bu(p).slice(1)}${y}`}function yC({config:r}){return r.emulator?xp(r,pC):`https://${r.authDomain}/${mC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km="webStorageSupport";class _C{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=VT,this._completeRedirectFn=qR,this._overrideRedirectResult=UR}async _openPopup(e,n,s,o){fr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await jE(e,n,s,Jm(),o);return fC(e,u,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await jE(e,n,s,Jm(),o);return TR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(fr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await aC(e),s=new FR(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(km,{type:km},o=>{const u=o?.[0]?.[km];u!==void 0&&n(!!u),ri(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=$R(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return bT()||gT()||Dp()}}const vC=_C;var kE="@firebase/auth",PE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function bC(r){yo(new ta("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:p}=s.options;Te(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:f,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:AT(r)},y=new U2(s,o,u,g);return $2(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),yo(new ta("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(s=>new EC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),rs(kE,PE,TC(r)),rs(kE,PE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=300,SC=Z0("authIdTokenMaxAge")||AC;let LE=null;const wC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>SC)return;const o=n?.token;LE!==o&&(LE=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function RC(r=rT()){const e=Cp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Y2(r,{popupRedirectResolver:vC,persistence:[NR,_R,VT]}),s=Z0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=wC(u.toString());dR(n,f,()=>f(n.currentUser)),fR(n,p=>f(p))}}const o=X0("auth");return o&&X2(n,`http://${o}`),n}function CC(){return document.getElementsByTagName("head")?.[0]??document}z2({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=Mi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",CC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});bC("Browser");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ss,BT;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function I(){}I.prototype=R.prototype,N.F=R.prototype,N.prototype=new I,N.prototype.constructor=N,N.D=function(V,O,C){for(var x=Array(arguments.length-2),se=2;se<arguments.length;se++)x[se-2]=arguments[se];return R.prototype[O].apply(V,x)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,R,I){I||(I=0);const V=Array(16);if(typeof R=="string")for(var O=0;O<16;++O)V[O]=R.charCodeAt(I++)|R.charCodeAt(I++)<<8|R.charCodeAt(I++)<<16|R.charCodeAt(I++)<<24;else for(O=0;O<16;++O)V[O]=R[I++]|R[I++]<<8|R[I++]<<16|R[I++]<<24;R=N.g[0],I=N.g[1],O=N.g[2];let C=N.g[3],x;x=R+(C^I&(O^C))+V[0]+3614090360&4294967295,R=I+(x<<7&4294967295|x>>>25),x=C+(O^R&(I^O))+V[1]+3905402710&4294967295,C=R+(x<<12&4294967295|x>>>20),x=O+(I^C&(R^I))+V[2]+606105819&4294967295,O=C+(x<<17&4294967295|x>>>15),x=I+(R^O&(C^R))+V[3]+3250441966&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(C^I&(O^C))+V[4]+4118548399&4294967295,R=I+(x<<7&4294967295|x>>>25),x=C+(O^R&(I^O))+V[5]+1200080426&4294967295,C=R+(x<<12&4294967295|x>>>20),x=O+(I^C&(R^I))+V[6]+2821735955&4294967295,O=C+(x<<17&4294967295|x>>>15),x=I+(R^O&(C^R))+V[7]+4249261313&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(C^I&(O^C))+V[8]+1770035416&4294967295,R=I+(x<<7&4294967295|x>>>25),x=C+(O^R&(I^O))+V[9]+2336552879&4294967295,C=R+(x<<12&4294967295|x>>>20),x=O+(I^C&(R^I))+V[10]+4294925233&4294967295,O=C+(x<<17&4294967295|x>>>15),x=I+(R^O&(C^R))+V[11]+2304563134&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(C^I&(O^C))+V[12]+1804603682&4294967295,R=I+(x<<7&4294967295|x>>>25),x=C+(O^R&(I^O))+V[13]+4254626195&4294967295,C=R+(x<<12&4294967295|x>>>20),x=O+(I^C&(R^I))+V[14]+2792965006&4294967295,O=C+(x<<17&4294967295|x>>>15),x=I+(R^O&(C^R))+V[15]+1236535329&4294967295,I=O+(x<<22&4294967295|x>>>10),x=R+(O^C&(I^O))+V[1]+4129170786&4294967295,R=I+(x<<5&4294967295|x>>>27),x=C+(I^O&(R^I))+V[6]+3225465664&4294967295,C=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(C^R))+V[11]+643717713&4294967295,O=C+(x<<14&4294967295|x>>>18),x=I+(C^R&(O^C))+V[0]+3921069994&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^C&(I^O))+V[5]+3593408605&4294967295,R=I+(x<<5&4294967295|x>>>27),x=C+(I^O&(R^I))+V[10]+38016083&4294967295,C=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(C^R))+V[15]+3634488961&4294967295,O=C+(x<<14&4294967295|x>>>18),x=I+(C^R&(O^C))+V[4]+3889429448&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^C&(I^O))+V[9]+568446438&4294967295,R=I+(x<<5&4294967295|x>>>27),x=C+(I^O&(R^I))+V[14]+3275163606&4294967295,C=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(C^R))+V[3]+4107603335&4294967295,O=C+(x<<14&4294967295|x>>>18),x=I+(C^R&(O^C))+V[8]+1163531501&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(O^C&(I^O))+V[13]+2850285829&4294967295,R=I+(x<<5&4294967295|x>>>27),x=C+(I^O&(R^I))+V[2]+4243563512&4294967295,C=R+(x<<9&4294967295|x>>>23),x=O+(R^I&(C^R))+V[7]+1735328473&4294967295,O=C+(x<<14&4294967295|x>>>18),x=I+(C^R&(O^C))+V[12]+2368359562&4294967295,I=O+(x<<20&4294967295|x>>>12),x=R+(I^O^C)+V[5]+4294588738&4294967295,R=I+(x<<4&4294967295|x>>>28),x=C+(R^I^O)+V[8]+2272392833&4294967295,C=R+(x<<11&4294967295|x>>>21),x=O+(C^R^I)+V[11]+1839030562&4294967295,O=C+(x<<16&4294967295|x>>>16),x=I+(O^C^R)+V[14]+4259657740&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^C)+V[1]+2763975236&4294967295,R=I+(x<<4&4294967295|x>>>28),x=C+(R^I^O)+V[4]+1272893353&4294967295,C=R+(x<<11&4294967295|x>>>21),x=O+(C^R^I)+V[7]+4139469664&4294967295,O=C+(x<<16&4294967295|x>>>16),x=I+(O^C^R)+V[10]+3200236656&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^C)+V[13]+681279174&4294967295,R=I+(x<<4&4294967295|x>>>28),x=C+(R^I^O)+V[0]+3936430074&4294967295,C=R+(x<<11&4294967295|x>>>21),x=O+(C^R^I)+V[3]+3572445317&4294967295,O=C+(x<<16&4294967295|x>>>16),x=I+(O^C^R)+V[6]+76029189&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(I^O^C)+V[9]+3654602809&4294967295,R=I+(x<<4&4294967295|x>>>28),x=C+(R^I^O)+V[12]+3873151461&4294967295,C=R+(x<<11&4294967295|x>>>21),x=O+(C^R^I)+V[15]+530742520&4294967295,O=C+(x<<16&4294967295|x>>>16),x=I+(O^C^R)+V[2]+3299628645&4294967295,I=O+(x<<23&4294967295|x>>>9),x=R+(O^(I|~C))+V[0]+4096336452&4294967295,R=I+(x<<6&4294967295|x>>>26),x=C+(I^(R|~O))+V[7]+1126891415&4294967295,C=R+(x<<10&4294967295|x>>>22),x=O+(R^(C|~I))+V[14]+2878612391&4294967295,O=C+(x<<15&4294967295|x>>>17),x=I+(C^(O|~R))+V[5]+4237533241&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~C))+V[12]+1700485571&4294967295,R=I+(x<<6&4294967295|x>>>26),x=C+(I^(R|~O))+V[3]+2399980690&4294967295,C=R+(x<<10&4294967295|x>>>22),x=O+(R^(C|~I))+V[10]+4293915773&4294967295,O=C+(x<<15&4294967295|x>>>17),x=I+(C^(O|~R))+V[1]+2240044497&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~C))+V[8]+1873313359&4294967295,R=I+(x<<6&4294967295|x>>>26),x=C+(I^(R|~O))+V[15]+4264355552&4294967295,C=R+(x<<10&4294967295|x>>>22),x=O+(R^(C|~I))+V[6]+2734768916&4294967295,O=C+(x<<15&4294967295|x>>>17),x=I+(C^(O|~R))+V[13]+1309151649&4294967295,I=O+(x<<21&4294967295|x>>>11),x=R+(O^(I|~C))+V[4]+4149444226&4294967295,R=I+(x<<6&4294967295|x>>>26),x=C+(I^(R|~O))+V[11]+3174756917&4294967295,C=R+(x<<10&4294967295|x>>>22),x=O+(R^(C|~I))+V[2]+718787259&4294967295,O=C+(x<<15&4294967295|x>>>17),x=I+(C^(O|~R))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(O+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+C&4294967295}s.prototype.v=function(N,R){R===void 0&&(R=N.length);const I=R-this.blockSize,V=this.C;let O=this.h,C=0;for(;C<R;){if(O==0)for(;C<=I;)o(this,N,C),C+=this.blockSize;if(typeof N=="string"){for(;C<R;)if(V[O++]=N.charCodeAt(C++),O==this.blockSize){o(this,V),O=0;break}}else for(;C<R;)if(V[O++]=N[C++],O==this.blockSize){o(this,V),O=0;break}}this.h=O,this.o+=R},s.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var I=N.length-8;I<N.length;++I)N[I]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,I=0;I<4;++I)for(let V=0;V<32;V+=8)N[R++]=this.g[I]>>>V&255;return N};function u(N,R){var I=p;return Object.prototype.hasOwnProperty.call(I,N)?I[N]:I[N]=R(N)}function f(N,R){this.h=R;const I=[];let V=!0;for(let O=N.length-1;O>=0;O--){const C=N[O]|0;V&&C==R||(I[O]=C,V=!1)}this.g=I}var p={};function g(N){return-128<=N&&N<128?u(N,function(R){return new f([R|0],R<0?-1:0)}):new f([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return A;if(N<0)return H(y(-N));const R=[];let I=1;for(let V=0;N>=I;V++)R[V]=N/I|0,I*=4294967296;return new f(R,0)}function T(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return H(T(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const I=y(Math.pow(R,8));let V=A;for(let C=0;C<N.length;C+=8){var O=Math.min(8,N.length-C);const x=parseInt(N.substring(C,C+O),R);O<8?(O=y(Math.pow(R,O)),V=V.j(O).add(y(x))):(V=V.j(I),V=V.add(y(x)))}return V}var A=g(0),w=g(1),j=g(16777216);r=f.prototype,r.m=function(){if(X(this))return-H(this).m();let N=0,R=1;for(let I=0;I<this.g.length;I++){const V=this.i(I);N+=(V>=0?V:4294967296+V)*R,R*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(X(this))return"-"+H(this).toString(N);const R=y(Math.pow(N,6));var I=this;let V="";for(;;){const O=pe(I,R).g;I=J(I,O.j(R));let C=((I.g.length>0?I.g[0]:I.h)>>>0).toString(N);if(I=O,F(I))return C+V;for(;C.length<6;)C="0"+C;V=C+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function X(N){return N.h==-1}r.l=function(N){return N=J(this,N),X(N)?-1:F(N)?0:1};function H(N){const R=N.g.length,I=[];for(let V=0;V<R;V++)I[V]=~N.g[V];return new f(I,~N.h).add(w)}r.abs=function(){return X(this)?H(this):this},r.add=function(N){const R=Math.max(this.g.length,N.g.length),I=[];let V=0;for(let O=0;O<=R;O++){let C=V+(this.i(O)&65535)+(N.i(O)&65535),x=(C>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);V=x>>>16,C&=65535,x&=65535,I[O]=x<<16|C}return new f(I,I[I.length-1]&-2147483648?-1:0)};function J(N,R){return N.add(H(R))}r.j=function(N){if(F(this)||F(N))return A;if(X(this))return X(N)?H(this).j(H(N)):H(H(this).j(N));if(X(N))return H(this.j(H(N)));if(this.l(j)<0&&N.l(j)<0)return y(this.m()*N.m());const R=this.g.length+N.g.length,I=[];for(var V=0;V<2*R;V++)I[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<N.g.length;O++){const C=this.i(V)>>>16,x=this.i(V)&65535,se=N.i(O)>>>16,Me=N.i(O)&65535;I[2*V+2*O]+=x*Me,ie(I,2*V+2*O),I[2*V+2*O+1]+=C*Me,ie(I,2*V+2*O+1),I[2*V+2*O+1]+=x*se,ie(I,2*V+2*O+1),I[2*V+2*O+2]+=C*se,ie(I,2*V+2*O+2)}for(N=0;N<R;N++)I[N]=I[2*N+1]<<16|I[2*N];for(N=R;N<2*R;N++)I[N]=0;return new f(I,0)};function ie(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function re(N,R){this.g=N,this.h=R}function pe(N,R){if(F(R))throw Error("division by zero");if(F(N))return new re(A,A);if(X(N))return R=pe(H(N),R),new re(H(R.g),H(R.h));if(X(R))return R=pe(N,H(R)),new re(H(R.g),R.h);if(N.g.length>30){if(X(N)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var I=w,V=R;V.l(N)<=0;)I=_e(I),V=_e(V);var O=Ee(I,1),C=Ee(V,1);for(V=Ee(V,2),I=Ee(I,2);!F(V);){var x=C.add(V);x.l(N)<=0&&(O=O.add(I),C=x),V=Ee(V,1),I=Ee(I,1)}return R=J(N,O.j(R)),new re(O,R)}for(O=A;N.l(R)>=0;){for(I=Math.max(1,Math.floor(N.m()/R.m())),V=Math.ceil(Math.log(I)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),C=y(I),x=C.j(R);X(x)||x.l(N)>0;)I-=V,C=y(I),x=C.j(R);F(C)&&(C=w),O=O.add(C),N=J(N,x)}return new re(O,N)}r.B=function(N){return pe(this,N).h},r.and=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)&N.i(V);return new f(I,this.h&N.h)},r.or=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)|N.i(V);return new f(I,this.h|N.h)},r.xor=function(N){const R=Math.max(this.g.length,N.g.length),I=[];for(let V=0;V<R;V++)I[V]=this.i(V)^N.i(V);return new f(I,this.h^N.h)};function _e(N){const R=N.g.length+1,I=[];for(let V=0;V<R;V++)I[V]=N.i(V)<<1|N.i(V-1)>>>31;return new f(I,N.h)}function Ee(N,R){const I=R>>5;R%=32;const V=N.g.length-I,O=[];for(let C=0;C<V;C++)O[C]=R>0?N.i(C+I)>>>R|N.i(C+I+1)<<32-R:N.i(C+I);return new f(O,N.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,BT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=y,f.fromString=T,ss=f}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var hh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qT,Wl,HT,Ah,tp,FT,GT,QT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof hh=="object"&&hh];for(var _=0;_<c.length;++_){var E=c[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function o(c,_){if(_)e:{var E=s;c=c.split(".");for(var S=0;S<c.length-1;S++){var U=c[S];if(!(U in E))break e;E=E[U]}c=c[c.length-1],S=E[c],_=_(S),_!=S&&_!=null&&e(E,c,{configurable:!0,writable:!0,value:_})}}o("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(c){return c||function(_){var E=[],S;for(S in _)Object.prototype.hasOwnProperty.call(_,S)&&E.push([S,_[S]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function p(c){var _=typeof c;return _=="object"&&c!=null||_=="function"}function g(c,_,E){return c.call.apply(c.bind,arguments)}function y(c,_,E){return y=g,y.apply(null,arguments)}function T(c,_){var E=Array.prototype.slice.call(arguments,1);return function(){var S=E.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function A(c,_){function E(){}E.prototype=_.prototype,c.Z=_.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(S,U,G){for(var ae=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)ae[Ce-2]=arguments[Ce];return _.prototype[U].apply(S,ae)}}var w=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const _=c.length;if(_>0){const E=Array(_);for(let S=0;S<_;S++)E[S]=c[S];return E}return[]}function F(c,_){for(let S=1;S<arguments.length;S++){const U=arguments[S];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=c.length||0;const G=U.length||0;c.length=E+G;for(let ae=0;ae<G;ae++)c[E+ae]=U[ae]}else c.push(U)}}class X{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function H(c){f.setTimeout(()=>{throw c},0)}function J(){var c=N;let _=null;return c.g&&(_=c.g,c.g=c.g.next,c.g||(c.h=null),_.next=null),_}class ie{constructor(){this.h=this.g=null}add(_,E){const S=re.get();S.set(_,E),this.h?this.h.next=S:this.g=S,this.h=S}}var re=new X(()=>new pe,c=>c.reset());class pe{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,Ee=!1,N=new ie,R=()=>{const c=Promise.resolve(void 0);_e=()=>{c.then(I)}};function I(){for(var c;c=J();){try{c.h.call(c.g)}catch(E){H(E)}var _=re;_.j(c),_.h<100&&(_.h++,c.next=_.g,_.g=c)}Ee=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(c,_){this.type=c,this.g=this.target=_,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var C=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,_=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,_),f.removeEventListener("test",E,_)}catch{}return c})();function x(c){return/^[\s\xa0]*$/.test(c)}function se(c,_){O.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,_)}A(se,O),se.prototype.init=function(c,_){const E=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=_,_=c.relatedTarget,_||(E=="mouseover"?_=c.fromElement:E=="mouseout"&&(_=c.toElement)),this.relatedTarget=_,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&se.Z.h.call(this)},se.prototype.h=function(){se.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Me="closure_listenable_"+(Math.random()*1e6|0),Y=0;function oe(c,_,E,S,U){this.listener=c,this.proxy=null,this.src=_,this.type=E,this.capture=!!S,this.ha=U,this.key=++Y,this.da=this.fa=!1}function K(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function me(c,_,E){for(const S in c)_.call(E,c[S],S,c)}function qe(c,_){for(const E in c)_.call(void 0,c[E],E,c)}function k(c){const _={};for(const E in c)_[E]=c[E];return _}const te="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function le(c,_){let E,S;for(let U=1;U<arguments.length;U++){S=arguments[U];for(E in S)c[E]=S[E];for(let G=0;G<te.length;G++)E=te[G],Object.prototype.hasOwnProperty.call(S,E)&&(c[E]=S[E])}}function he(c){this.src=c,this.g={},this.h=0}he.prototype.add=function(c,_,E,S,U){const G=c.toString();c=this.g[G],c||(c=this.g[G]=[],this.h++);const ae=xe(c,_,S,U);return ae>-1?(_=c[ae],E||(_.fa=!1)):(_=new oe(_,this.src,G,!!S,U),_.fa=E,c.push(_)),_};function Ae(c,_){const E=_.type;if(E in c.g){var S=c.g[E],U=Array.prototype.indexOf.call(S,_,void 0),G;(G=U>=0)&&Array.prototype.splice.call(S,U,1),G&&(K(_),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,_,E,S){for(let U=0;U<c.length;++U){const G=c[U];if(!G.da&&G.listener==_&&G.capture==!!E&&G.ha==S)return U}return-1}var He="closure_lm_"+(Math.random()*1e6|0),Mt={};function ot(c,_,E,S,U){if(Array.isArray(_)){for(let G=0;G<_.length;G++)ot(c,_[G],E,S,U);return null}return E=Ho(E),c&&c[Me]?c.J(_,E,p(S)?!!S.capture:!1,U):Es(c,_,E,!1,S,U)}function Es(c,_,E,S,U,G){if(!_)throw Error("Invalid event type");const ae=p(U)?!!U.capture:!!U;let Ce=Ts(c);if(Ce||(c[He]=Ce=new he(c)),E=Ce.add(_,E,S,ae,G),E.proxy)return E;if(S=ha(),E.proxy=S,S.src=c,S.listener=E,c.addEventListener)C||(U=ae),U===void 0&&(U=!1),c.addEventListener(_.toString(),S,U);else if(c.attachEvent)c.attachEvent(ci(_.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ha(){function c(E){return _.call(c.src,c.listener,E)}const _=Bo;return c}function fa(c,_,E,S,U){if(Array.isArray(_))for(var G=0;G<_.length;G++)fa(c,_[G],E,S,U);else S=p(S)?!!S.capture:!!S,E=Ho(E),c&&c[Me]?(c=c.i,G=String(_).toString(),G in c.g&&(_=c.g[G],E=xe(_,E,S,U),E>-1&&(K(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete c.g[G],c.h--)))):c&&(c=Ts(c))&&(_=c.g[_.toString()],c=-1,_&&(c=xe(_,E,S,U)),(E=c>-1?_[c]:null)&&da(E))}function da(c){if(typeof c!="number"&&c&&!c.da){var _=c.src;if(_&&_[Me])Ae(_.i,c);else{var E=c.type,S=c.proxy;_.removeEventListener?_.removeEventListener(E,S,c.capture):_.detachEvent?_.detachEvent(ci(E),S):_.addListener&&_.removeListener&&_.removeListener(S),(E=Ts(_))?(Ae(E,c),E.h==0&&(E.src=null,_[He]=null)):K(c)}}}function ci(c){return c in Mt?Mt[c]:Mt[c]="on"+c}function Bo(c,_){if(c.da)c=!0;else{_=new se(_,this);const E=c.listener,S=c.ha||c.src;c.fa&&da(c),c=E.call(S,_)}return c}function Ts(c){return c=c[He],c instanceof he?c:null}var qo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ho(c){return typeof c=="function"?c:(c[qo]||(c[qo]=function(_){return c.handleEvent(_)}),c[qo])}function Tt(){V.call(this),this.i=new he(this),this.M=this,this.G=null}A(Tt,V),Tt.prototype[Me]=!0,Tt.prototype.removeEventListener=function(c,_,E,S){fa(this,c,_,E,S)};function Vt(c,_){var E,S=c.G;if(S)for(E=[];S;S=S.G)E.push(S);if(c=c.M,S=_.type||_,typeof _=="string")_=new O(_,c);else if(_ instanceof O)_.target=_.target||c;else{var U=_;_=new O(S,c),le(_,U)}U=!0;let G,ae;if(E)for(ae=E.length-1;ae>=0;ae--)G=_.g=E[ae],U=yr(G,S,!0,_)&&U;if(G=_.g=c,U=yr(G,S,!0,_)&&U,U=yr(G,S,!1,_)&&U,E)for(ae=0;ae<E.length;ae++)G=_.g=E[ae],U=yr(G,S,!1,_)&&U}Tt.prototype.N=function(){if(Tt.Z.N.call(this),this.i){var c=this.i;for(const _ in c.g){const E=c.g[_];for(let S=0;S<E.length;S++)K(E[S]);delete c.g[_],c.h--}}this.G=null},Tt.prototype.J=function(c,_,E,S){return this.i.add(String(c),_,!1,E,S)},Tt.prototype.K=function(c,_,E,S){return this.i.add(String(c),_,!0,E,S)};function yr(c,_,E,S){if(_=c.i.g[String(_)],!_)return!0;_=_.concat();let U=!0;for(let G=0;G<_.length;++G){const ae=_[G];if(ae&&!ae.da&&ae.capture==E){const Ce=ae.listener,pt=ae.ha||ae.src;ae.fa&&Ae(c.i,ae),U=Ce.call(pt,S)!==!1&&U}}return U&&!S.defaultPrevented}function Rf(c,_){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=y(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:f.setTimeout(c,_||0)}function ju(c){c.g=Rf(()=>{c.g=null,c.i&&(c.i=!1,ju(c))},c.l);const _=c.h;c.h=null,c.m.apply(null,_)}class sn extends V{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:ju(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bs(c){V.call(this),this.h=c,this.g={}}A(bs,V);var Fo=[];function Go(c){me(c.g,function(_,E){this.g.hasOwnProperty(E)&&da(_)},c),c.g={}}bs.prototype.N=function(){bs.Z.N.call(this),Go(this)},bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _r=f.JSON.stringify,Cf=f.JSON.parse,ku=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function Pu(){}function Lu(){}var Gn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ht(){O.call(this,"d")}A(Ht,O);function xn(){O.call(this,"c")}A(xn,O);var mt={},Uu=null;function ma(){return Uu=Uu||new Tt}mt.Ia="serverreachability";function zu(c){O.call(this,mt.Ia,c)}A(zu,O);function hi(c){const _=ma();Vt(_,new zu(_))}mt.STAT_EVENT="statevent";function As(c,_){O.call(this,mt.STAT_EVENT,c),this.stat=_}A(As,O);function bt(c){const _=ma();Vt(_,new As(_,c))}mt.Ja="timingevent";function fi(c,_){O.call(this,mt.Ja,c),this.size=_}A(fi,O);function di(c,_){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},_)}function Qn(){this.g=!0}Qn.prototype.ua=function(){this.g=!1};function If(c,_,E,S,U,G){c.info(function(){if(c.g)if(G){var ae="",Ce=G.split("&");for(let Ke=0;Ke<Ce.length;Ke++){var pt=Ce[Ke].split("=");if(pt.length>1){const lt=pt[0];pt=pt[1];const Mn=lt.split("_");ae=Mn.length>=2&&Mn[1]=="type"?ae+(lt+"="+pt+"&"):ae+(lt+"=redacted&")}}}else ae=null;else ae=G;return"XMLHTTP REQ ("+S+") [attempt "+U+"]: "+_+`
`+E+`
`+ae})}function Bu(c,_,E,S,U,G,ae){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+U+"]: "+_+`
`+E+`
`+G+" "+ae})}function mi(c,_,E,S){c.info(function(){return"XMLHTTP TEXT ("+_+"): "+xf(c,E)+(S?" "+S:"")})}function Ss(c,_){c.info(function(){return"TIMEOUT: "+_})}Qn.prototype.info=function(){};function xf(c,_){if(!c.g)return _;if(!_)return null;try{const G=JSON.parse(_);if(G){for(c=0;c<G.length;c++)if(Array.isArray(G[c])){var E=G[c];if(!(E.length<2)){var S=E[1];if(Array.isArray(S)&&!(S.length<1)){var U=S[0];if(U!="noop"&&U!="stop"&&U!="close")for(let ae=1;ae<S.length;ae++)S[ae]=""}}}}return _r(G)}catch{return _}}var ws={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Qo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ko;function Rs(){}A(Rs,Pu),Rs.prototype.g=function(){return new XMLHttpRequest},Ko=new Rs;function zi(c){return encodeURIComponent(String(c))}function qu(c){var _=1;c=c.split(":");const E=[];for(;_>0&&c.length;)E.push(c.shift()),_--;return c.length&&E.push(c.join(":")),E}function Kn(c,_,E,S){this.j=c,this.i=_,this.l=E,this.S=S||1,this.V=new bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Yn}function Yn(){this.i=null,this.g="",this.h=!1}var At={},Pt={};function pi(c,_,E){c.M=1,c.A=Cs(wt(_)),c.u=E,c.R=!0,pa(c,null)}function pa(c,_){c.F=Date.now(),gi(c),c.B=wt(c.A);var E=c.B,S=c.S;Array.isArray(S)||(S=[String(S)]),va(E.i,"t",S),c.C=0,E=c.j.L,c.h=new Yn,c.g=ic(c.j,E?_:null,!c.u),c.P>0&&(c.O=new sn(y(c.Y,c,c.g),c.P)),_=c.V,E=c.g,S=c.ba;var U="readystatechange";Array.isArray(U)||(U&&(Fo[0]=U.toString()),U=Fo);for(let G=0;G<U.length;G++){const ae=ot(E,U[G],S||_.handleEvent,!1,_.h||_);if(!ae)break;_.g[ae.key]=ae}_=c.J?k(c.J):{},c.u?(c.v||(c.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,_)):(c.v="GET",c.g.ea(c.B,c.v,null,_)),hi(),If(c.i,c.v,c.B,c.l,c.S,c.u)}Kn.prototype.ba=function(c){c=c.target;const _=this.O;_&&Jn(c)==3?_.j():this.Y(c)},Kn.prototype.Y=function(c){try{if(c==this.g)e:{const Ce=Jn(this.g),pt=this.g.ya(),Ke=this.g.ca();if(!(Ce<3)&&(Ce!=3||this.g&&(this.h.h||this.g.la()||Ft(this.g)))){this.K||Ce!=4||pt==7||(pt==8||Ke<=0?hi(3):hi(2)),yi(this);var _=this.g.ca();this.X=_;var E=Nf(this);if(this.o=_==200,Bu(this.i,this.v,this.B,this.l,this.S,Ce,_),this.o){if(this.U&&!this.L){t:{if(this.g){var S,U=this.g;if((S=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(S)){var G=S;break t}}G=null}if(c=G)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,bt(12),_n(this),Nn(this);break e}}if(this.R){c=!0;let lt;for(;!this.K&&this.C<E.length;)if(lt=Fu(this,E),lt==Pt){Ce==4&&(this.m=4,bt(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(lt==At){this.m=4,bt(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,lt,null),_i(this,lt);if(Hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ce!=4||E.length!=0||this.h.h||(this.m=1,bt(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),_n(this),Nn(this);else if(E.length>0&&!this.W){this.W=!0;var ae=this.j;ae.g==this&&ae.aa&&!ae.P&&(ae.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),ll(ae),ae.P=!0,bt(11))}}else mi(this.i,this.l,E,null),_i(this,E);Ce==4&&_n(this),this.o&&!this.K&&(Ce==4?Wu(this.j,this):(this.o=!1,gi(this)))}else qi(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,bt(12)):(this.m=0,bt(13)),_n(this),Nn(this)}}}catch{}finally{}};function Nf(c){if(!Hu(c))return c.g.la();const _=Ft(c.g);if(_==="")return"";let E="";const S=_.length,U=Jn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return _n(c),Nn(c),"";c.h.i=new f.TextDecoder}for(let G=0;G<S;G++)c.h.h=!0,E+=c.h.i.decode(_[G],{stream:!(U&&G==S-1)});return _.length=0,c.h.g+=E,c.C=0,c.h.g}function Hu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Fu(c,_){var E=c.C,S=_.indexOf(`
`,E);return S==-1?Pt:(E=Number(_.substring(E,S)),isNaN(E)?At:(S+=1,S+E>_.length?Pt:(_=_.slice(S,S+E),c.C=S+E,_)))}Kn.prototype.cancel=function(){this.K=!0,_n(this)};function gi(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,_){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(y(c.aa,c),_)}function yi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Kn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Ss(this.i,this.B),this.M!=2&&(hi(),bt(17)),_n(this),this.m=2,Nn(this)):ga(this,this.T-c)};function Nn(c){c.j.I==0||c.K||Wu(c.j,c)}function _n(c){yi(c);var _=c.O;_&&typeof _.dispose=="function"&&_.dispose(),c.O=null,Go(c.V),c.g&&(_=c.g,c.g=null,_.abort(),_.dispose())}function _i(c,_){try{var E=c.j;if(E.I!=0&&(E.g==c||Ei(E.h,c))){if(!c.L&&Ei(E.h,c)&&E.I==3){try{var S=E.Ba.g.parse(_)}catch{S=null}if(Array.isArray(S)&&S.length==3){var U=S;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Sa(E),Rr(E);else break e;Vs(E),bt(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(y(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ri(E,11)}else if((c.L||E.g==c)&&Sa(E),!x(_))for(U=E.Ba.g.parse(_),_=0;_<U.length;_++){let Ke=U[_];const lt=Ke[0];if(!(lt<=E.K))if(E.K=lt,Ke=Ke[1],E.I==2)if(Ke[0]=="c"){E.M=Ke[1],E.ba=Ke[2];const Mn=Ke[3];Mn!=null&&(E.ka=Mn,E.j.info("VER="+E.ka));const Ci=Ke[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const Zn=Ke[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(S=1.5*Zn,E.O=S,E.j.info("backChannelRequestTimeoutMs_="+S)),S=E;const Wn=c.g;if(Wn){const js=Wn.g?Wn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(js){var G=S.h;G.g||js.indexOf("spdy")==-1&&js.indexOf("quic")==-1&&js.indexOf("h2")==-1||(G.j=G.l,G.g=new Set,G.h&&(Xo(G,G.h),G.h=null))}if(S.G){const wa=Wn.g?Wn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(S.wa=wa,Xe(S.J,S.G,wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),S=E;var ae=c;if(S.na=nc(S,S.L?S.ba:null,S.W),ae.L){Jo(S.h,ae);var Ce=ae,pt=S.O;pt&&(Ce.H=pt),Ce.D&&(yi(Ce),gi(Ce)),S.g=ae}else Ju(S);E.i.length>0&&wi(E)}else Ke[0]!="stop"&&Ke[0]!="close"||Ri(E,7);else E.I==3&&(Ke[0]=="stop"||Ke[0]=="close"?Ke[0]=="stop"?Ri(E,7):al(E):Ke[0]!="noop"&&E.l&&E.l.qa(Ke),E.A=0)}}hi(4)}catch{}}var St=class{constructor(c,_){this.g=c,this.map=_}};function Yo(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function $o(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,_){return c.h?c.h==_:c.g?c.g.has(_):!1}function Xo(c,_){c.g?c.g.add(_):c.h=_}function Jo(c,_){c.h&&c.h==_?c.h=null:c.g&&c.g.has(_)&&c.g.delete(_)}Yo.prototype.cancel=function(){if(this.i=Zo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Zo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let _=c.i;for(const E of c.g.values())_=_.concat(E.G);return _}return j(c.i)}var Gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,_){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const S=c[E].indexOf("=");let U,G=null;S>=0?(U=c[E].substring(0,S),G=c[E].substring(S+1)):U=c[E],_(U,G?decodeURIComponent(G.replace(/\+/g," ")):"")}}}function vn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;c instanceof vn?(this.l=c.l,Lt(this,c.j),this.o=c.o,this.g=c.g,vr(this,c.u),this.h=c.h,Wo(this,$u(c.i)),this.m=c.m):c&&(_=String(c).match(Gu))?(this.l=!1,Lt(this,_[1]||"",!0),this.o=Ti(_[2]||""),this.g=Ti(_[3]||"",!0),vr(this,_[4]),this.h=Ti(_[5]||"",!0),Wo(this,_[6]||"",!0),this.m=Ti(_[7]||"")):(this.l=!1,this.i=new Tr(null,this.l))}vn.prototype.toString=function(){const c=[];var _=this.j;_&&c.push(Is(_,_a,!0),":");var E=this.g;return(E||_=="file")&&(c.push("//"),(_=this.o)&&c.push(Is(_,_a,!0),"@"),c.push(zi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Is(E,E.charAt(0)=="/"?el:Qu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Is(E,Ku)),c.join("")},vn.prototype.resolve=function(c){const _=wt(this);let E=!!c.j;E?Lt(_,c.j):E=!!c.o,E?_.o=c.o:E=!!c.g,E?_.g=c.g:E=c.u!=null;var S=c.h;if(E)vr(_,c.u);else if(E=!!c.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var U=_.h.lastIndexOf("/");U!=-1&&(S=_.h.slice(0,U+1)+S)}if(U=S,U==".."||U==".")S="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){S=U.lastIndexOf("/",0)==0,U=U.split("/");const G=[];for(let ae=0;ae<U.length;){const Ce=U[ae++];Ce=="."?S&&ae==U.length&&G.push(""):Ce==".."?((G.length>1||G.length==1&&G[0]!="")&&G.pop(),S&&ae==U.length&&G.push("")):(G.push(Ce),S=!0)}S=G.join("/")}else S=U}return E?_.h=S:E=c.i.toString()!=="",E?Wo(_,$u(c.i)):E=!!c.m,E&&(_.m=c.m),_};function wt(c){return new vn(c)}function Lt(c,_,E){c.j=E?Ti(_,!0):_,c.j&&(c.j=c.j.replace(/:$/,""))}function vr(c,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);c.u=_}else c.u=null}function Wo(c,_,E){_ instanceof Tr?(c.i=_,Ea(c.i,c.l)):(E||(_=Is(_,Er)),c.i=new Tr(_,c.l))}function Xe(c,_,E){c.i.set(_,E)}function Cs(c){return Xe(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,_){return c?_?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Is(c,_,E){return typeof c=="string"?(c=encodeURI(c).replace(_,ln),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ln(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Qu=/[#\?:]/g,el=/[#\?]/g,Er=/[#\?@]/g,Ku=/#/g;function Tr(c,_){this.h=this.g=null,this.i=c||null,this.j=!!_}function un(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(_,E){c.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}r=Tr.prototype,r.add=function(c,_){un(this),this.i=null,c=br(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(_),this.h+=1,this};function Yu(c,_){un(c),_=br(c,_),c.g.has(_)&&(c.i=null,c.h-=c.g.get(_).length,c.g.delete(_))}function tl(c,_){return un(c),_=br(c,_),c.g.has(_)}r.forEach=function(c,_){un(this),this.g.forEach(function(E,S){E.forEach(function(U){c.call(_,U,S,this)},this)},this)};function nl(c,_){un(c);let E=[];if(typeof _=="string")tl(c,_)&&(E=E.concat(c.g.get(br(c,_))));else for(c=Array.from(c.g.values()),_=0;_<c.length;_++)E=E.concat(c[_]);return E}r.set=function(c,_){return un(this),this.i=null,c=br(this,c),tl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[_]),this.h+=1,this},r.get=function(c,_){return c?(c=nl(this,c),c.length>0?String(c[0]):_):_};function va(c,_,E){Yu(c,_),E.length>0&&(c.i=null,c.g.set(br(c,_),j(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],_=Array.from(this.g.keys());for(let S=0;S<_.length;S++){var E=_[S];const U=zi(E);E=nl(this,E);for(let G=0;G<E.length;G++){let ae=U;E[G]!==""&&(ae+="="+zi(E[G])),c.push(ae)}}return this.i=c.join("&")};function $u(c){const _=new Tr;return _.i=c.i,c.g&&(_.g=new Map(c.g),_.h=c.h),_}function br(c,_){return _=String(_),c.j&&(_=_.toLowerCase()),_}function Ea(c,_){_&&!c.j&&(un(c),c.i=null,c.g.forEach(function(E,S){const U=S.toLowerCase();S!=U&&(Yu(this,S),va(this,U,E))},c)),c.j=_}function $n(c,_){const E=new Qn;if(f.Image){const S=new Image;S.onload=T(Dn,E,"TestLoadImage: loaded",!0,_,S),S.onerror=T(Dn,E,"TestLoadImage: error",!1,_,S),S.onabort=T(Dn,E,"TestLoadImage: abort",!1,_,S),S.ontimeout=T(Dn,E,"TestLoadImage: timeout",!1,_,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else _(!1)}function il(c,_){const E=new Qn,S=new AbortController,U=setTimeout(()=>{S.abort(),Dn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(c,{signal:S.signal}).then(G=>{clearTimeout(U),G.ok?Dn(E,"TestPingServer: ok",!0,_):Dn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(U),Dn(E,"TestPingServer: error",!1,_)})}function Dn(c,_,E,S,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),S(E)}catch{}}function Ar(){this.g=new ku}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}A(bi,Pu),bi.prototype.g=function(){return new xs(this.i,this.h)};function xs(c,_){Tt.call(this),this.H=c,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}A(xs,Tt),r=xs.prototype,r.open=function(c,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=_,this.readyState=1,Xn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(_.body=c),(this.H||f).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Sr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var _=c.value?c.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!c.done}))&&(this.response=this.responseText+=_)}c.done?Sr(this):Xn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,Sr(this))},r.Na=function(c){this.g&&(this.response=c,Sr(this))},r.ga=function(){this.g&&Sr(this)};function Sr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Xn(c)}r.setRequestHeader=function(c,_){this.A.append(c,_)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=_.next();return c.join(`\r
`)};function Xn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(xs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function On(c){let _="";return me(c,function(E,S){_+=S,_+=":",_+=E,_+=`\r
`}),_}function Ns(c,_,E){e:{for(S in E){var S=!1;break e}S=!0}S||(E=On(E),typeof c=="string"?E!=null&&zi(E):Xe(c,_,E))}function We(c){Tt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}A(We,Tt);var Ai=/^https?$/i,rl=["POST","PUT"];r=We.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,_,E,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);_=_?_.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ko.g(),this.g.onreadystatechange=w(y(this.Ca,this));try{this.B=!0,this.g.open(_,String(c),!0),this.B=!1}catch(G){Ds(this,G);return}if(c=E||"",E=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var U in S)E.set(U,S[U]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const G of S.keys())E.set(G,S.get(G));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(E.keys()).find(G=>G.toLowerCase()=="content-type"),U=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(rl,_,void 0)>=0)||S||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[G,ae]of E)this.g.setRequestHeader(G,ae);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(G){Ds(this,G)}};function Ds(c,_){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=_,c.o=5,sl(c),Bi(c)}function sl(c){c.A||(c.A=!0,Vt(c,"complete"),Vt(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Vt(this,"complete"),Vt(this,"abort"),Bi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bi(this,!0)),We.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Os(this):this.Xa())},r.Xa=function(){Os(this)};function Os(c){if(c.h&&typeof u<"u"){if(c.v&&Jn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Vt(c,"readystatechange"),Jn(c)==4){c.h=!1;try{const G=c.ca();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var E;if(!(E=_)){var S;if(S=G===0){let ae=String(c.D).match(Gu)[1]||null;!ae&&f.self&&f.self.location&&(ae=f.self.location.protocol.slice(0,-1)),S=!Ai.test(ae?ae.toLowerCase():"")}E=S}if(E)Vt(c,"complete"),Vt(c,"success");else{c.o=6;try{var U=Jn(c)>2?c.g.statusText:""}catch{U=""}c.l=U+" ["+c.ca()+"]",sl(c)}}finally{Bi(c)}}}}function Bi(c,_){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,_||Vt(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Jn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Jn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var _=this.g.responseText;return c&&_.indexOf(c)==0&&(_=_.substring(c.length)),Cf(_)}};function Ft(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(c){const _={};c=(c.g&&Jn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(x(c[S]))continue;var E=qu(c[S]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const G=_[U]||[];_[U]=G,G.push(E)}qe(_,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||_}function wr(c){this.za=0,this.i=[],this.j=new Qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new Yo(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=wr.prototype,r.ka=8,r.I=1,r.connect=function(c,_,E,S){bt(0),this.W=c,this.H=_||{},E&&S!==void 0&&(this.H.OSID=E,this.H.OAID=S),this.F=this.X,this.J=nc(this,null,this.W),wi(this)};function al(c){if(ba(c),c.I==3){var _=c.V++,E=wt(c.J);if(Xe(E,"SID",c.M),Xe(E,"RID",_),Xe(E,"TYPE","terminate"),Ms(c,E),_=new Kn(c,c.j,_),_.M=2,_.A=Cs(wt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=_.A,E=!0),E||(_.g=ic(_.j,null),_.g.ea(_.A)),_.F=Date.now(),gi(_)}tc(c)}function Rr(c){c.g&&(ll(c),c.g.cancel(),c.g=null)}function ba(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Sa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function wi(c){if(!$o(c.h)&&!c.m){c.m=!0;var _=c.Ea;_e||R(),Ee||(_e(),Ee=!0),N.add(_,c),c.D=0}}function Aa(c,_){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=_.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(y(c.Ea,c,_),ec(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const U=new Kn(this,this.j,c);let G=this.o;if(this.U&&(G?(G=k(G),le(G,this.U)):G=this.U),this.u!==null||this.R||(U.J=G,G=null),this.S)e:{for(var _=0,E=0;E<this.i.length;E++){t:{var S=this.i[E];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(_+=S,_>4096){_=E;break e}if(_===4096||E===this.i.length-1){_=E+1;break e}}_=1e3}else _=1e3;_=Xu(this,U,_),E=wt(this.J),Xe(E,"RID",c),Xe(E,"CVER",22),this.G&&Xe(E,"X-HTTP-Session-Id",this.G),Ms(this,E),G&&(this.R?_="headers="+zi(On(G))+"&"+_:this.u&&Ns(E,this.u,G)),Xo(this.h,U),this.Ra&&Xe(E,"TYPE","init"),this.S?(Xe(E,"$req",_),Xe(E,"SID","null"),U.U=!0,pi(U,E,null)):pi(U,E,_),this.I=2}}else this.I==3&&(c?ol(this,c):this.i.length==0||$o(this.h)||ol(this))};function ol(c,_){var E;_?E=_.l:E=c.V++;const S=wt(c.J);Xe(S,"SID",c.M),Xe(S,"RID",E),Xe(S,"AID",c.K),Ms(c,S),c.u&&c.o&&Ns(S,c.u,c.o),E=new Kn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),_&&(c.i=_.G.concat(c.i)),_=Xu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Xo(c.h,E),pi(E,S,_)}function Ms(c,_){c.H&&me(c.H,function(E,S){Xe(_,S,E)}),c.l&&me({},function(E,S){Xe(_,S,E)})}function Xu(c,_,E){E=Math.min(c.i.length,E);const S=c.l?y(c.l.Ka,c.l,c):null;e:{var U=c.i;let Ce=-1;for(;;){const pt=["count="+E];Ce==-1?E>0?(Ce=U[0].g,pt.push("ofs="+Ce)):Ce=0:pt.push("ofs="+Ce);let Ke=!0;for(let lt=0;lt<E;lt++){var G=U[lt].g;const Mn=U[lt].map;if(G-=Ce,G<0)Ce=Math.max(0,U[lt].g-100),Ke=!1;else try{G="req"+G+"_"||"";try{var ae=Mn instanceof Map?Mn:Object.entries(Mn);for(const[Ci,Zn]of ae){let Wn=Zn;p(Zn)&&(Wn=_r(Zn)),pt.push(G+Ci+"="+encodeURIComponent(Wn))}}catch(Ci){throw pt.push(G+"type="+encodeURIComponent("_badmap")),Ci}}catch{S&&S(Mn)}}if(Ke){ae=pt.join("&");break e}}ae=void 0}return c=c.i.splice(0,E),_.G=c,ae}function Ju(c){if(!c.g&&!c.v){c.Y=1;var _=c.Da;_e||R(),Ee||(_e(),Ee=!0),N.add(_,c),c.A=0}}function Vs(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(y(c.Da,c),ec(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,Zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(y(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,bt(10),Rr(this),Zu(this))};function ll(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function Zu(c){c.g=new Kn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var _=wt(c.na);Xe(_,"RID","rpc"),Xe(_,"SID",c.M),Xe(_,"AID",c.K),Xe(_,"CI",c.F?"0":"1"),!c.F&&c.ia&&Xe(_,"TO",c.ia),Xe(_,"TYPE","xmlhttp"),Ms(c,_),c.u&&c.o&&Ns(_,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Cs(wt(_)),E.u=null,E.R=!0,pa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Vs(this),bt(19))};function Sa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Wu(c,_){var E=null;if(c.g==_){Sa(c),ll(c),c.g=null;var S=2}else if(Ei(c.h,_))E=_.G,Jo(c.h,_),S=1;else return;if(c.I!=0){if(_.o)if(S==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var U=c.D;S=ma(),Vt(S,new fi(S,E)),wi(c)}else Ju(c);else if(U=_.m,U==3||U==0&&_.X>0||!(S==1&&Aa(c,_)||S==2&&Vs(c)))switch(E&&E.length>0&&(_=c.h,_.i=_.i.concat(E)),U){case 1:Ri(c,5);break;case 4:Ri(c,10);break;case 3:Ri(c,6);break;default:Ri(c,2)}}}function ec(c,_){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*_}function Ri(c,_){if(c.j.info("Error code "+_),_==2){var E=y(c.bb,c),S=c.Ua;const U=!S;S=new vn(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Lt(S,"https"),Cs(S),U?$n(S.toString(),E):il(S.toString(),E)}else bt(2);c.I=0,c.l&&c.l.pa(_),tc(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),bt(2)):(this.j.info("Failed to ping google.com"),bt(1))};function tc(c){if(c.I=0,c.ja=[],c.l){const _=Zo(c.h);(_.length!=0||c.i.length!=0)&&(F(c.ja,_),F(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function nc(c,_,E){var S=E instanceof vn?wt(E):new vn(E);if(S.g!="")_&&(S.g=_+"."+S.g),vr(S,S.u);else{var U=f.location;S=U.protocol,_=_?_+"."+U.hostname:U.hostname,U=+U.port;const G=new vn(null);S&&Lt(G,S),_&&(G.g=_),U&&vr(G,U),E&&(G.h=E),S=G}return E=c.G,_=c.wa,E&&_&&Xe(S,E,_),Xe(S,"VER",c.ka),Ms(c,S),S}function ic(c,_,E){if(_&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=c.Aa&&!c.ma?new We(new bi({ab:E})):new We(c.ma),_.Fa(c.L),_}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function rc(){}r=rc.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,_){return new an(c,_)};function an(c,_){Tt.call(this),this.g=new wr(_),this.l=c,this.h=_&&_.messageUrlParams||null,c=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(c?c["X-WebChannel-Content-Type"]=_.messageContentType:c={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(c?c["X-WebChannel-Client-Profile"]=_.sa:c={"X-WebChannel-Client-Profile":_.sa}),this.g.U=c,(c=_&&_.Qb)&&!x(c)&&(this.g.u=c),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!x(_)&&(this.g.G=_,c=this.h,c!==null&&_ in c&&(c=this.h,_ in c&&delete c[_])),this.j=new Hi(this)}A(an,Tt),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){al(this.g)},an.prototype.o=function(c){var _=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=_r(c),c=E);_.i.push(new St(_.Ya++,c)),_.I==3&&wi(_)},an.prototype.N=function(){this.g.l=null,delete this.j,al(this.g),delete this.g,an.Z.N.call(this)};function sc(c){Ht.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var _=c.__sm__;if(_){e:{for(const E in _){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,_=_!==null&&c in _?_[c]:void 0),this.data=_}else this.data=c}A(sc,Ht);function ac(){xn.call(this),this.status=1}A(ac,xn);function Hi(c){this.g=c}A(Hi,rc),Hi.prototype.ra=function(){Vt(this.g,"a")},Hi.prototype.qa=function(c){Vt(this.g,new sc(c))},Hi.prototype.pa=function(c){Vt(this.g,new ac)},Hi.prototype.oa=function(){Vt(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,QT=function(){return new Cr},GT=function(){return ma()},FT=mt,tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ws.NO_ERROR=0,ws.TIMEOUT=8,ws.HTTP_ERROR=6,Ah=ws,Qo.COMPLETE="complete",HT=Qo,Lu.EventType=Gn,Gn.OPEN="a",Gn.CLOSE="b",Gn.ERROR="c",Gn.MESSAGE="d",Tt.prototype.listen=Tt.prototype.J,Wl=Lu,We.prototype.listenOnce=We.prototype.K,We.prototype.getLastError=We.prototype.Ha,We.prototype.getLastErrorCode=We.prototype.ya,We.prototype.getStatus=We.prototype.ca,We.prototype.getResponseJson=We.prototype.La,We.prototype.getResponseText=We.prototype.la,We.prototype.send=We.prototype.ea,We.prototype.setWithCredentials=We.prototype.Fa,qT=We}).apply(typeof hh<"u"?hh:typeof self<"u"?self:typeof window<"u"?window:{});const zE="@firebase/firestore",BE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let en=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new wp("@firebase/firestore");function io(){return ra.logLevel}function ce(r,...e){if(ra.logLevel<=Le.DEBUG){const n=e.map(kp);ra.debug(`Firestore (${No}): ${r}`,...n)}}function dr(r,...e){if(ra.logLevel<=Le.ERROR){const n=e.map(kp);ra.error(`Firestore (${No}): ${r}`,...n)}}function _o(r,...e){if(ra.logLevel<=Le.WARN){const n=e.map(kp);ra.warn(`Firestore (${No}): ${r}`,...n)}}function kp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,KT(r,s,n)}function KT(r,e,n){let s=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw dr(s),new Error(s)}function $e(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||KT(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ur{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(en.UNAUTHENTICATED)))}shutdown(){}}class xC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class NC{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){$e(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ur;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ur,e.enqueueRetryable((()=>o(this.currentUser)))};const f=()=>{const g=u;e.enqueueRetryable((async()=>{await g.promise,await o(this.currentUser)}))},p=g=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((g=>p(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?p(g):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ur)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?($e(typeof s.accessToken=="string",31837,{l:s}),new YT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return $e(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class DC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new DC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(en.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,qn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){$e(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>o(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new qE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?($e(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new qE(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=VC(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ue(r,e){return r<e?-1:r>e?1:0}function np(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const o=r.charAt(s),u=e.charAt(s);if(o!==u)return Pm(o)===Pm(u)?Ue(o,u):Pm(o)?1:-1}return Ue(r.length,e.length)}const jC=55296,kC=57343;function Pm(r){const e=r.charCodeAt(0);return e>=jC&&e<=kC}function vo(r,e,n){return r.length===e.length&&r.every(((s,o)=>n(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="__name__";class Oi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&be(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Oi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Oi?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=Oi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ue(e.length,n.length)}static compareSegments(e,n){const s=Oi.isNumericId(e),o=Oi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?Oi.extractNumericId(e).compare(Oi.extractNumericId(n)):np(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ss.fromString(e.substring(4,e.length-2))}}class rt extends Oi{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(W.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((o=>o.length>0)))}return new rt(n)}static emptyPath(){return new rt([])}}const PC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xt extends Oi{construct(e,n,s){return new Xt(e,n,s)}static isValidIdentifier(e){return PC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===HE}static keyField(){return new Xt([HE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;o<e.length;){const p=e[o];if(p==="\\"){if(o+1===e.length)throw new ue(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new ue(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else p==="`"?(f=!f,o++):p!=="."||f?(s+=p,o++):(u(),o++)}if(u(),f)throw new ue(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xt(n)}static emptyPath(){return new Xt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(rt.fromString(e))}static fromName(e){return new ye(rt.fromString(e).popFirst(5))}static empty(){return new ye(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $T(r,e,n){if(!n)throw new ue(W.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function LC(r,e,n,s){if(e===!0&&s===!0)throw new ue(W.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function FE(r){if(!ye.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function GE(r){if(ye.isDocumentKey(r))throw new ue(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function XT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function nf(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":be(12329,{type:typeof r})}function si(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ue(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=nf(r);throw new ue(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(r,e){const n={typeString:r};return e&&(n.value=e),n}function Cu(r,e){if(!XT(r))throw new ue(W.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(o&&typeof f!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new ue(W.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QE=-62135596800,KE=1e6;class De{static now(){return De.fromMillis(Date.now())}static fromDate(e){return De.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*KE);return new De(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<QE)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:De._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cu(e,De._jsonSchema))return new De(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-QE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}De._jsonSchemaVersion="firestore/timestamp/1.0",De._jsonSchema={type:Ot("string",De._jsonSchemaVersion),seconds:Ot("number"),nanoseconds:Ot("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new De(0,0))}static max(){return new Se(new De(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function UC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new De(n+1,0):new De(n,s));return new us(o,ye.empty(),e)}function zC(r){return new us(r.readTime,r.key,fu)}class us{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new us(Se.min(),ye.empty(),fu)}static max(){return new us(Se.max(),ye.empty(),fu)}}function BC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Ue(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(r){if(r.code!==W.FAILED_PRECONDITION||r.message!==qC)throw r;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ne(((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ne?n:ne.resolve(n)}catch(n){return ne.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ne.reject(n)}static resolve(e){return new ne(((n,s)=>{n(e)}))}static reject(e){return new ne(((n,s)=>{s(e)}))}static waitFor(e){return new ne(((n,s)=>{let o=0,u=0,f=!1;e.forEach((p=>{++o,p.next((()=>{++u,f&&u===o&&n()}),(g=>s(g)))})),f=!0,u===o&&n()}))}static or(e){let n=ne.resolve(!1);for(const s of e)n=n.next((o=>o?ne.resolve(o):s()));return n}static forEach(e,n){const s=[];return e.forEach(((o,u)=>{s.push(n.call(this,o,u))})),this.waitFor(s)}static mapArray(e,n){return new ne(((s,o)=>{const u=e.length,f=new Array(u);let p=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next((T=>{f[y]=T,++p,p===u&&s(f)}),(T=>o(T)))}}))}static doWhile(e,n){return new ne(((s,o)=>{const u=()=>{e()===!0?n().next((()=>{u()}),o):s()};u()}))}}function FC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}rf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lp=-1;function sf(r){return r==null}function Uh(r){return r===0&&1/r==-1/0}function GC(r){return typeof r=="number"&&Number.isInteger(r)&&!Uh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="";function QC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=YE(e)),e=KC(r.get(n),e);return YE(e)}function KC(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case JT:n+="";break;default:n+=u}}return n}function YE(r){return r+JT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $E(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function ys(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function ZT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fh(this.root,e,this.comparator,!1)}getReverseIterator(){return new fh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fh(this.root,e,this.comparator,!0)}}class fh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??$t.RED,this.left=o??$t.EMPTY,this.right=u??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new $t(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return $t.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw be(43730,{key:this.key,value:this.value});if(this.right.isRed())throw be(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw be(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw be(57766)}get value(){throw be(16141)}get color(){throw be(16727)}get left(){throw be(29726)}get right(){throw be(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new kt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(e){this.fields=e,e.sort(Xt.comparator)}static empty(){return new In([])}unionWith(e){let n=new kt(Xt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new In(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return vo(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new WT("Invalid base64 string: "+u):u}})(e);return new Jt(n)}static fromUint8Array(e){const n=(function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u})(e);return new Jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jt.EMPTY_BYTE_STRING=new Jt("");const YC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function cs(r){if($e(!!r,39018),typeof r=="string"){let e=0;const n=YC.exec(r);if($e(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:_t(r.seconds),nanos:_t(r.nanos)}}function _t(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function hs(r){return typeof r=="string"?Jt.fromBase64String(r):Jt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="server_timestamp",t1="__type__",n1="__previous_value__",i1="__local_write_time__";function Up(r){return(r?.mapValue?.fields||{})[t1]?.stringValue===e1}function af(r){const e=r.mapValue.fields[n1];return Up(e)?af(e):e}function du(r){const e=cs(r.mapValue.fields[i1].timestampValue);return new De(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n,s,o,u,f,p,g,y,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=p,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=T}}const zh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||zh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===zh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1="__type__",XC="__max__",dh={mapValue:{}},s1="__vector__",Bh="value";function fs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Up(r)?4:ZC(r)?9007199254740991:JC(r)?10:11:be(28295,{value:r})}function Ui(r,e){if(r===e)return!0;const n=fs(r);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return du(r).isEqual(du(e));case 3:return(function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=cs(o.timestampValue),p=cs(u.timestampValue);return f.seconds===p.seconds&&f.nanos===p.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,u){return hs(o.bytesValue).isEqual(hs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,u){return _t(o.geoPointValue.latitude)===_t(u.geoPointValue.latitude)&&_t(o.geoPointValue.longitude)===_t(u.geoPointValue.longitude)})(r,e);case 2:return(function(o,u){if("integerValue"in o&&"integerValue"in u)return _t(o.integerValue)===_t(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=_t(o.doubleValue),p=_t(u.doubleValue);return f===p?Uh(f)===Uh(p):isNaN(f)&&isNaN(p)}return!1})(r,e);case 9:return vo(r.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(o,u){const f=o.mapValue.fields||{},p=u.mapValue.fields||{};if($E(f)!==$E(p))return!1;for(const g in f)if(f.hasOwnProperty(g)&&(p[g]===void 0||!Ui(f[g],p[g])))return!1;return!0})(r,e);default:return be(52216,{left:r})}}function pu(r,e){return(r.values||[]).find((n=>Ui(n,e)))!==void 0}function Eo(r,e){if(r===e)return 0;const n=fs(r),s=fs(e);if(n!==s)return Ue(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const p=_t(u.integerValue||u.doubleValue),g=_t(f.integerValue||f.doubleValue);return p<g?-1:p>g?1:p===g?0:isNaN(p)?isNaN(g)?0:-1:1})(r,e);case 3:return JE(r.timestampValue,e.timestampValue);case 4:return JE(du(r),du(e));case 5:return np(r.stringValue,e.stringValue);case 6:return(function(u,f){const p=hs(u),g=hs(f);return p.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const p=u.split("/"),g=f.split("/");for(let y=0;y<p.length&&y<g.length;y++){const T=Ue(p[y],g[y]);if(T!==0)return T}return Ue(p.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const p=Ue(_t(u.latitude),_t(f.latitude));return p!==0?p:Ue(_t(u.longitude),_t(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return ZE(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const p=u.fields||{},g=f.fields||{},y=p[Bh]?.arrayValue,T=g[Bh]?.arrayValue,A=Ue(y?.values?.length||0,T?.values?.length||0);return A!==0?A:ZE(y,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===dh.mapValue&&f===dh.mapValue)return 0;if(u===dh.mapValue)return 1;if(f===dh.mapValue)return-1;const p=u.fields||{},g=Object.keys(p),y=f.fields||{},T=Object.keys(y);g.sort(),T.sort();for(let A=0;A<g.length&&A<T.length;++A){const w=np(g[A],T[A]);if(w!==0)return w;const j=Eo(p[g[A]],y[T[A]]);if(j!==0)return j}return Ue(g.length,T.length)})(r.mapValue,e.mapValue);default:throw be(23264,{he:n})}}function JE(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ue(r,e);const n=cs(r),s=cs(e),o=Ue(n.seconds,s.seconds);return o!==0?o:Ue(n.nanos,s.nanos)}function ZE(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Eo(n[o],s[o]);if(u)return u}return Ue(n.length,s.length)}function To(r){return ip(r)}function ip(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=cs(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return hs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return ye.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ip(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const f of s)u?u=!1:o+=",",o+=`${f}:${ip(n.fields[f])}`;return o+"}"})(r.mapValue):be(61005,{value:r})}function Sh(r){switch(fs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=af(r);return e?16+Sh(e):16;case 5:return 2*r.stringValue.length;case 6:return hs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,u)=>o+Sh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let o=0;return ys(s.fields,((u,f)=>{o+=u.length+Sh(f)})),o})(r.mapValue);default:throw be(13486,{value:r})}}function WE(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function rp(r){return!!r&&"integerValue"in r}function zp(r){return!!r&&"arrayValue"in r}function e0(r){return!!r&&"nullValue"in r}function t0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function wh(r){return!!r&&"mapValue"in r}function JC(r){return(r?.mapValue?.fields||{})[r1]?.stringValue===s1}function su(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return ys(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=su(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(r.arrayValue.values[n]);return e}return{...r}}function ZC(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===XC}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!wh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Xt.emptyPath(),s={},o=[];e.forEach(((f,p)=>{if(!n.isImmediateParentOf(p)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=p.popLast()}f?s[p.lastSegment()]=su(f):o.push(p.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());wh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];wh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ys(n,((o,u)=>e[o]=u));for(const o of s)delete e[o]}clone(){return new yn(su(this.value))}}function a1(r){const e=[];return ys(r.fields,((n,s)=>{const o=new Xt([n]);if(wh(s)){const u=a1(s.mapValue).fields;if(u.length===0)e.push(o);else for(const f of u)e.push(o.child(f))}else e.push(o)})),new In(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,f,p){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=f,this.documentState=p}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),yn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function n0(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],f=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(f.referenceValue),n.key):s=Eo(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function i0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!Ui(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n="asc"){this.field=e,this.dir=n}}function WC(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{}class Dt extends o1{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new tI(e,n,s):n==="array-contains"?new rI(e,s):n==="in"?new sI(e,s):n==="not-in"?new aI(e,s):n==="array-contains-any"?new oI(e,s):new Dt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new nI(e,s):new iI(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends o1{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ai(e,n)}matches(e){return l1(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function l1(r){return r.op==="and"}function u1(r){return eI(r)&&l1(r)}function eI(r){for(const e of r.filters)if(e instanceof ai)return!1;return!0}function sp(r){if(r instanceof Dt)return r.field.canonicalString()+r.op.toString()+To(r.value);if(u1(r))return r.filters.map((e=>sp(e))).join(",");{const e=r.filters.map((n=>sp(n))).join(",");return`${r.op}(${e})`}}function c1(r,e){return r instanceof Dt?(function(s,o){return o instanceof Dt&&s.op===o.op&&s.field.isEqual(o.field)&&Ui(s.value,o.value)})(r,e):r instanceof ai?(function(s,o){return o instanceof ai&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((u,f,p)=>u&&c1(f,o.filters[p])),!0):!1})(r,e):void be(19439)}function h1(r){return r instanceof Dt?(function(n){return`${n.field.canonicalString()} ${n.op} ${To(n.value)}`})(r):r instanceof ai?(function(n){return n.op.toString()+" {"+n.getFilters().map(h1).join(" ,")+"}"})(r):"Filter"}class tI extends Dt{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class nI extends Dt{constructor(e,n){super(e,"in",n),this.keys=f1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class iI extends Dt{constructor(e,n){super(e,"not-in",n),this.keys=f1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function f1(r,e){return(e.arrayValue?.values||[]).map((n=>ye.fromName(n.referenceValue)))}class rI extends Dt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return zp(n)&&pu(n.arrayValue,this.value)}}class sI extends Dt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class aI extends Dt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class oI extends Dt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!zp(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>pu(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e,n=null,s=[],o=[],u=null,f=null,p=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=f,this.endAt=p,this.Te=null}}function r0(r,e=null,n=[],s=[],o=null,u=null,f=null){return new lI(r,e,n,s,o,u,f)}function Bp(r){const e=Re(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>sp(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),sf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>To(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>To(s))).join(",")),e.Te=n}return e.Te}function qp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!WC(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!c1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!i0(r.startAt,e.startAt)&&i0(r.endAt,e.endAt)}function ap(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],u=null,f="F",p=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=f,this.startAt=p,this.endAt=g,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uI(r,e,n,s,o,u,f,p){return new Mo(r,e,n,s,o,u,f,p)}function Hp(r){return new Mo(r)}function s0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function d1(r){return r.collectionGroup!==null}function au(r){const e=Re(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let p=new kt(Xt.comparator);return f.filters.forEach((g=>{g.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new gu(u,s))})),n.has(Xt.keyField().canonicalString())||e.Ie.push(new gu(Xt.keyField(),s))}return e.Ie}function ji(r){const e=Re(r);return e.Ee||(e.Ee=cI(e,au(r))),e.Ee}function cI(r,e){if(r.limitType==="F")return r0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const u=o.dir==="desc"?"asc":"desc";return new gu(o.field,u)}));const n=r.endAt?new qh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new qh(r.startAt.position,r.startAt.inclusive):null;return r0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function op(r,e){const n=r.filters.concat([e]);return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function lp(r,e,n){return new Mo(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function of(r,e){return qp(ji(r),ji(e))&&r.limitType===e.limitType}function m1(r){return`${Bp(ji(r))}|lt:${r.limitType}`}function ro(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((o=>h1(o))).join(", ")}]`),sf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((o=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(o))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((o=>To(o))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((o=>To(o))).join(",")),`Target(${s})`})(ji(r))}; limitType=${r.limitType})`}function lf(r,e){return e.isFoundDocument()&&(function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0})(r,e)&&(function(s,o){return!(s.startAt&&!(function(f,p,g){const y=n0(f,p,g);return f.inclusive?y<=0:y<0})(s.startAt,au(s),o)||s.endAt&&!(function(f,p,g){const y=n0(f,p,g);return f.inclusive?y>=0:y>0})(s.endAt,au(s),o))})(r,e)}function hI(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function p1(r){return(e,n)=>{let s=!1;for(const o of au(r)){const u=fI(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function fI(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):(function(u,f,p){const g=f.data.field(u),y=p.data.field(u);return g!==null&&y!==null?Eo(g,y):be(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return be(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ys(this.inner,((n,s)=>{for(const[o,u]of s)e(o,u)}))}isEmpty(){return ZT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=new ht(ye.comparator);function mr(){return dI}const g1=new ht(ye.comparator);function eu(...r){let e=g1;for(const n of r)e=e.insert(n.key,n);return e}function y1(r){let e=g1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function Zs(){return ou()}function _1(){return ou()}function ou(){return new oa((r=>r.toString()),((r,e)=>r.isEqual(e)))}const mI=new ht(ye.comparator),pI=new kt(ye.comparator);function ze(...r){let e=pI;for(const n of r)e=e.add(n);return e}const gI=new kt(Ue);function yI(){return gI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uh(e)?"-0":e}}function v1(r){return{integerValue:""+r}}function _I(r,e){return GC(e)?v1(e):Fp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function vI(r,e,n){return r instanceof Hh?(function(o,u){const f={fields:{[t1]:{stringValue:e1},[i1]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Up(u)&&(u=af(u)),u&&(f.fields[n1]=u),{mapValue:f}})(n,e):r instanceof yu?T1(r,e):r instanceof _u?b1(r,e):(function(o,u){const f=E1(o,u),p=a0(f)+a0(o.Ae);return rp(f)&&rp(o.Ae)?v1(p):Fp(o.serializer,p)})(r,e)}function EI(r,e,n){return r instanceof yu?T1(r,e):r instanceof _u?b1(r,e):n}function E1(r,e){return r instanceof Fh?(function(s){return rp(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class Hh extends uf{}class yu extends uf{constructor(e){super(),this.elements=e}}function T1(r,e){const n=A1(e);for(const s of r.elements)n.some((o=>Ui(o,s)))||n.push(s);return{arrayValue:{values:n}}}class _u extends uf{constructor(e){super(),this.elements=e}}function b1(r,e){let n=A1(e);for(const s of r.elements)n=n.filter((o=>!Ui(o,s)));return{arrayValue:{values:n}}}class Fh extends uf{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function a0(r){return _t(r.integerValue||r.doubleValue)}function A1(r){return zp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function TI(r,e){return r.field.isEqual(e.field)&&(function(s,o){return s instanceof yu&&o instanceof yu||s instanceof _u&&o instanceof _u?vo(s.elements,o.elements,Ui):s instanceof Fh&&o instanceof Fh?Ui(s.Ae,o.Ae):s instanceof Hh&&o instanceof Hh})(r.transform,e.transform)}class bI{constructor(e,n){this.version=e,this.transformResults=n}}class Fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Fn}static exists(e){return new Fn(void 0,e)}static updateTime(e){return new Fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Rh(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class cf{}function S1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Gp(r.key,Fn.none()):new Iu(r.key,r.data,Fn.none());{const n=r.data,s=yn.empty();let o=new kt(Xt.comparator);for(let u of e.fields)if(!o.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),o=o.add(u)}return new _s(r.key,s,new In(o.toArray()),Fn.none())}}function AI(r,e,n){r instanceof Iu?(function(o,u,f){const p=o.value.clone(),g=l0(o.fieldTransforms,u,f.transformResults);p.setAll(g),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):r instanceof _s?(function(o,u,f){if(!Rh(o.precondition,u))return void u.convertToUnknownDocument(f.version);const p=l0(o.fieldTransforms,u,f.transformResults),g=u.data;g.setAll(w1(o)),g.setAll(p),u.convertToFoundDocument(f.version,g).setHasCommittedMutations()})(r,e,n):(function(o,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function lu(r,e,n,s){return r instanceof Iu?(function(u,f,p,g){if(!Rh(u.precondition,f))return p;const y=u.value.clone(),T=u0(u.fieldTransforms,g,f);return y.setAll(T),f.convertToFoundDocument(f.version,y).setHasLocalMutations(),null})(r,e,n,s):r instanceof _s?(function(u,f,p,g){if(!Rh(u.precondition,f))return p;const y=u0(u.fieldTransforms,g,f),T=f.data;return T.setAll(w1(u)),T.setAll(y),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),p===null?null:p.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((A=>A.field)))})(r,e,n,s):(function(u,f,p){return Rh(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):p})(r,e,n)}function SI(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=E1(s.transform,o||null);u!=null&&(n===null&&(n=yn.empty()),n.set(s.field,u))}return n||null}function o0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&vo(s,o,((u,f)=>TI(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Iu extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class _s extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function w1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function l0(r,e,n){const s=new Map;$e(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let o=0;o<n.length;o++){const u=r[o],f=u.transform,p=e.data.field(u.field);s.set(u.field,EI(f,p,n[o]))}return s}function u0(r,e,n){const s=new Map;for(const o of r){const u=o.transform,f=n.data.field(o.field);s.set(o.field,vI(u,f,e))}return s}class Gp extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wI extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&AI(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=_1();return this.mutations.forEach((o=>{const u=e.get(o.key),f=u.overlayedDocument;let p=this.applyToLocalView(f,u.mutatedFields);p=n.has(o.key)?null:p;const g=S1(f,p);g!==null&&s.set(o.key,g),f.isValidDocument()||f.convertToNoDocument(Se.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),ze())}isEqual(e){return this.batchId===e.batchId&&vo(this.mutations,e.mutations,((n,s)=>o0(n,s)))&&vo(this.baseMutations,e.baseMutations,((n,s)=>o0(n,s)))}}class Qp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){$e(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let o=(function(){return mI})();const u=e.mutations;for(let f=0;f<u.length;f++)o=o.insert(u[f].key,s[f].version);return new Qp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CI{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Nt,Fe;function xI(r){switch(r){case W.OK:return be(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return be(15467,{code:r})}}function R1(r){if(r===void 0)return dr("GRPC error has no .code"),W.UNKNOWN;switch(r){case Nt.OK:return W.OK;case Nt.CANCELLED:return W.CANCELLED;case Nt.UNKNOWN:return W.UNKNOWN;case Nt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Nt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Nt.INTERNAL:return W.INTERNAL;case Nt.UNAVAILABLE:return W.UNAVAILABLE;case Nt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Nt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Nt.NOT_FOUND:return W.NOT_FOUND;case Nt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Nt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Nt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Nt.ABORTED:return W.ABORTED;case Nt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Nt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Nt.DATA_LOSS:return W.DATA_LOSS;default:return be(39323,{code:r})}}(Fe=Nt||(Nt={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=new ss([4294967295,4294967295],0);function c0(r){const e=NI().encode(r),n=new BT;return n.update(e),new Uint8Array(n.digest())}function h0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ss([n,s],0),new ss([o,u],0)]}class Kp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new tu(`Invalid padding: ${n}`);if(s<0)throw new tu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new tu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new tu(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=ss.fromNumber(this.ge)}ye(e,n,s){let o=e.add(n.multiply(ss.fromNumber(s)));return o.compare(DI)===1&&(o=new ss([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=c0(e),[s,o]=h0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new Kp(u,o,n);return s.forEach((p=>f.insert(p))),f}insert(e){if(this.ge===0)return;const n=c0(e),[s,o]=h0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,o,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class tu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,xu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(Se.min(),o,new ht(Ue),mr(),ze())}}class xu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new xu(s,n,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,n,s,o){this.be=e,this.removedTargetIds=n,this.key=s,this.De=o}}class C1{constructor(e,n){this.targetId=e,this.Ce=n}}class I1{constructor(e,n,s=Jt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class f0{constructor(){this.ve=0,this.Fe=d0(),this.Me=Jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),n=ze(),s=ze();return this.Fe.forEach(((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be(38017,{changeType:u})}})),new xu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=d0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,$e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OI{constructor(e){this.Ge=e,this.ze=new Map,this.je=mr(),this.Je=mh(),this.He=mh(),this.Ye=new ht(Ue)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:be(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,o)=>{this.rt(o)&&n(o)}))}st(e){const n=e.targetId,s=e.Ce.count,o=this.ot(n);if(o){const u=o.target;if(ap(u))if(s===0){const f=new ye(u.path);this.et(n,f,tn.newNoDocument(f,Se.min()))}else $e(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const p=this.ut(e),g=p?this.ct(p,e,f):1;if(g!==0){this.it(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,y)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let f,p;try{f=hs(s).toUint8Array()}catch(g){if(g instanceof WT)return _o("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{p=new Kp(f,o,u)}catch(g){return _o(g instanceof tu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return p.ge===0?null:p}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let o=0;return s.forEach((u=>{const f=this.Ge.ht(),p=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(p)||(this.et(n,u,null),o++)})),o}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const p=this.ot(f);if(p){if(u.current&&ap(p.target)){const g=new ye(p.target.path);this.It(g).has(f)||this.Et(f,g)||this.et(f,g,tn.newNoDocument(g,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=ze();this.He.forEach(((u,f)=>{let p=!0;f.forEachWhile((g=>{const y=this.ot(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const o=new hf(e,n,this.Ye,this.je,s);return this.je=mr(),this.Je=mh(),this.He=mh(),this.Ye=new ht(Ue),o}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const o=this.nt(e);this.Et(e,n)?o.Qe(n,1):o.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new f0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new kt(Ue),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new kt(Ue),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new f0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function mh(){return new ht(ye.comparator)}function d0(){return new ht(ye.comparator)}const MI={asc:"ASCENDING",desc:"DESCENDING"},VI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},jI={and:"AND",or:"OR"};class kI{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function up(r,e){return r.useProto3Json||sf(e)?e:{value:e}}function Gh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function x1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function PI(r,e){return Gh(r,e.toTimestamp())}function ki(r){return $e(!!r,49232),Se.fromTimestamp((function(n){const s=cs(n);return new De(s.seconds,s.nanos)})(r))}function Yp(r,e){return cp(r,e).canonicalString()}function cp(r,e){const n=(function(o){return new rt(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?n:n.child(e)}function N1(r){const e=rt.fromString(r);return $e(j1(e),10190,{key:e.toString()}),e}function hp(r,e){return Yp(r.databaseId,e.path)}function Lm(r,e){const n=N1(e);if(n.get(1)!==r.databaseId.projectId)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new ue(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(O1(n))}function D1(r,e){return Yp(r.databaseId,e)}function LI(r){const e=N1(r);return e.length===4?rt.emptyPath():O1(e)}function fp(r){return new rt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function O1(r){return $e(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function m0(r,e,n){return{name:hp(r,e),fields:n.value.mapValue.fields}}function UI(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:be(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=(function(y,T){return y.useProto3Json?($e(T===void 0||typeof T=="string",58123),Jt.fromBase64String(T||"")):($e(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Jt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,p=f&&(function(y){const T=y.code===void 0?W.UNKNOWN:R1(y.code);return new ue(T,y.message||"")})(f);n=new I1(s,o,u,p||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Lm(r,s.document.name),u=ki(s.document.updateTime),f=s.document.createTime?ki(s.document.createTime):Se.min(),p=new yn({mapValue:{fields:s.document.fields}}),g=tn.newFoundDocument(o,u,f,p),y=s.targetIds||[],T=s.removedTargetIds||[];n=new Ch(y,T,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Lm(r,s.document),u=s.readTime?ki(s.readTime):Se.min(),f=tn.newNoDocument(o,u),p=s.removedTargetIds||[];n=new Ch([],p,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Lm(r,s.document),u=s.removedTargetIds||[];n=new Ch([],u,o,null)}else{if(!("filter"in e))return be(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,f=new II(o,u),p=s.targetId;n=new C1(p,f)}}return n}function zI(r,e){let n;if(e instanceof Iu)n={update:m0(r,e.key,e.value)};else if(e instanceof Gp)n={delete:hp(r,e.key)};else if(e instanceof _s)n={update:m0(r,e.key,e.data),updateMask:$I(e.fieldMask)};else{if(!(e instanceof wI))return be(16599,{Vt:e.type});n={verify:hp(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const p=f.transform;if(p instanceof Hh)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _u)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Fh)return{fieldPath:f.field.canonicalString(),increment:p.Ae};throw be(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(o,u){return u.updateTime!==void 0?{updateTime:PI(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be(27497)})(r,e.precondition)),n}function BI(r,e){return r&&r.length>0?($e(e!==void 0,14353),r.map((n=>(function(o,u){let f=o.updateTime?ki(o.updateTime):ki(u);return f.isEqual(Se.min())&&(f=ki(u)),new bI(f,o.transformResults||[])})(n,e)))):[]}function qI(r,e){return{documents:[D1(r,e.path)]}}function HI(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=D1(r,o);const u=(function(y){if(y.length!==0)return V1(ai.create(y,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(y){if(y.length!==0)return y.map((T=>(function(w){return{field:so(w.field),direction:QI(w.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const p=up(r,e.limit);return p!==null&&(n.structuredQuery.limit=p),e.startAt&&(n.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{ft:n,parent:o}}function FI(r){let e=LI(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){$e(s===1,65062);const T=n.from[0];T.allDescendants?o=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(A){const w=M1(A);return w instanceof ai&&u1(w)?w.getFilters():[w]})(n.where));let f=[];n.orderBy&&(f=(function(A){return A.map((w=>(function(F){return new gu(ao(F.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(F.direction))})(w)))})(n.orderBy));let p=null;n.limit&&(p=(function(A){let w;return w=typeof A=="object"?A.value:A,sf(w)?null:w})(n.limit));let g=null;n.startAt&&(g=(function(A){const w=!!A.before,j=A.values||[];return new qh(j,w)})(n.startAt));let y=null;return n.endAt&&(y=(function(A){const w=!A.before,j=A.values||[];return new qh(j,w)})(n.endAt)),uI(e,o,f,u,p,"F",g,y)}function GI(r,e){const n=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be(28987,{purpose:o})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=ao(n.unaryFilter.field);return Dt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=ao(n.unaryFilter.field);return Dt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=ao(n.unaryFilter.field);return Dt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=ao(n.unaryFilter.field);return Dt.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return be(61313);default:return be(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Dt.create(ao(n.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return be(58110);default:return be(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ai.create(n.compositeFilter.filters.map((s=>M1(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be(1026)}})(n.compositeFilter.op))})(r):be(30097,{filter:r})}function QI(r){return MI[r]}function KI(r){return VI[r]}function YI(r){return jI[r]}function so(r){return{fieldPath:r.canonicalString()}}function ao(r){return Xt.fromServerFormat(r.fieldPath)}function V1(r){return r instanceof Dt?(function(n){if(n.op==="=="){if(t0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NAN"}};if(e0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(t0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NAN"}};if(e0(n.value))return{unaryFilter:{field:so(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:so(n.field),op:KI(n.op),value:n.value}}})(r):r instanceof ai?(function(n){const s=n.getFilters().map((o=>V1(o)));return s.length===1?s[0]:{compositeFilter:{op:YI(n.op),filters:s}}})(r):be(54877,{filter:r})}function $I(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function j1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,s,o,u=Se.min(),f=Se.min(),p=Jt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=p,this.expectedCount=g}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XI{constructor(e){this.yt=e}}function JI(r){const e=FI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?lp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this.Cn=new WI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ne.resolve()}getCollectionParents(e,n){return ne.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ne.resolve()}deleteFieldIndex(e,n){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,n){return ne.resolve()}getDocumentsMatchingTarget(e,n){return ne.resolve(null)}getIndexType(e,n){return ne.resolve(0)}getFieldIndexes(e,n){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,n){return ne.resolve(us.min())}getMinOffsetFromCollectionGroup(e,n){return ne.resolve(us.min())}updateCollectionGroup(e,n,s){return ne.resolve()}updateIndexEntries(e,n){return ne.resolve()}}class WI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new kt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},k1=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(k1,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new bo(0)}static cr(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0="LruGarbageCollector",ex=1048576;function y0([r,e],[n,s]){const o=Ue(r,n);return o===0?Ue(e,s):o}class tx{constructor(e){this.Ir=e,this.buffer=new kt(y0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();y0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class nx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ce(g0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ce(g0,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.Vr(3e5)}))}}class ix{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ne.resolve(rf.ce);const s=new tx(n);return this.mr.forEachTarget(e,(o=>s.Ar(o.sequenceNumber))).next((()=>this.mr.pr(e,(o=>s.Ar(o))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(p0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),p0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,o,u,f,p,g,y;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((A=>(A>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),o=this.params.maximumSequenceNumbersToCollect):o=A,f=Date.now(),this.nthSequenceNumber(e,o)))).next((A=>(s=A,p=Date.now(),this.removeTargets(e,s,n)))).next((A=>(u=A,g=Date.now(),this.removeOrphanedDocuments(e,s)))).next((A=>(y=Date.now(),io()<=Le.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${o} in `+(p-f)+`ms
	Removed ${u} targets in `+(g-p)+`ms
	Removed ${A} documents in `+(y-g)+`ms
Total Duration: ${y-T}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:A}))))}}function rx(r,e){return new ix(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(){this.changes=new oa((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ne.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ox{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,n)))).next((o=>(s!==null&&lu(s.mutation,o,In.empty(),De.now()),o)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=ze()){const o=Zs();return this.populateOverlays(e,o,n).next((()=>this.computeViews(e,n,o,s).next((u=>{let f=eu();return u.forEach(((p,g)=>{f=f.insert(p,g.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=Zs();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,ze())))}populateOverlays(e,n,s){const o=[];return s.forEach((u=>{n.has(u)||o.push(u)})),this.documentOverlayCache.getOverlays(e,o).next((u=>{u.forEach(((f,p)=>{n.set(f,p)}))}))}computeViews(e,n,s,o){let u=mr();const f=ou(),p=(function(){return ou()})();return n.forEach(((g,y)=>{const T=s.get(y.key);o.has(y.key)&&(T===void 0||T.mutation instanceof _s)?u=u.insert(y.key,y):T!==void 0?(f.set(y.key,T.mutation.getFieldMask()),lu(T.mutation,y,T.mutation.getFieldMask(),De.now())):f.set(y.key,In.empty())})),this.recalculateAndSaveOverlays(e,u).next((g=>(g.forEach(((y,T)=>f.set(y,T))),n.forEach(((y,T)=>p.set(y,new ax(T,f.get(y)??null)))),p)))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new ht(((f,p)=>f-p)),u=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const p of f)p.keys().forEach((g=>{const y=n.get(g);if(y===null)return;let T=s.get(g)||In.empty();T=p.applyToLocalView(y,T),s.set(g,T);const A=(o.get(p.batchId)||ze()).add(g);o=o.insert(p.batchId,A)}))})).next((()=>{const f=[],p=o.getReverseIterator();for(;p.hasNext();){const g=p.getNext(),y=g.key,T=g.value,A=_1();T.forEach((w=>{if(!u.has(w)){const j=S1(n.get(w),s.get(w));j!==null&&A.set(w,j),u=u.add(w)}})),f.push(this.documentOverlayCache.saveOverlays(e,y,A))}return ne.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,o){return(function(f){return ye.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):d1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next((u=>{const f=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):ne.resolve(Zs());let p=fu,g=u;return f.next((y=>ne.forEach(y,((T,A)=>(p<A.largestBatchId&&(p=A.largestBatchId),u.get(T)?ne.resolve():this.remoteDocumentCache.getEntry(e,T).next((w=>{g=g.insert(T,w)}))))).next((()=>this.populateOverlays(e,y,u))).next((()=>this.computeViews(e,g,y,ze()))).next((T=>({batchId:p,changes:y1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next((s=>{let o=eu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let f=eu();return this.indexManager.getCollectionParents(e,u).next((p=>ne.forEach(p,(g=>{const y=(function(A,w){return new Mo(w,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)})(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next((T=>{T.forEach(((A,w)=>{f=f.insert(A,w)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o)))).next((f=>{u.forEach(((g,y)=>{const T=y.getKey();f.get(T)===null&&(f=f.insert(T,tn.newInvalidDocument(T)))}));let p=eu();return f.forEach(((g,y)=>{const T=u.get(g);T!==void 0&&lu(T.mutation,y,In.empty(),De.now()),lf(n,y)&&(p=p.insert(g,y))})),p}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ne.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(o){return{id:o.id,version:o.version,createTime:ki(o.createTime)}})(n)),ne.resolve()}getNamedQuery(e,n){return ne.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(o){return{name:o.name,query:JI(o.bundledQuery),readTime:ki(o.readTime)}})(n)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(){this.overlays=new ht(ye.comparator),this.qr=new Map}getOverlay(e,n){return ne.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Zs();return ne.forEach(n,(o=>this.getOverlay(e,o).next((u=>{u!==null&&s.set(o,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((o,u)=>{this.St(e,n,u)})),ne.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.qr.get(s);return o!==void 0&&(o.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ne.resolve()}getOverlaysForCollection(e,n,s){const o=Zs(),u=n.length+1,f=new ye(n.child("")),p=this.overlays.getIteratorFrom(f);for(;p.hasNext();){const g=p.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return ne.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ht(((y,T)=>y-T));const f=this.overlays.getIterator();for(;f.hasNext();){const y=f.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let T=u.get(y.largestBatchId);T===null&&(T=Zs(),u=u.insert(y.largestBatchId,T)),T.set(y.getKey(),y)}}const p=Zs(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((y,T)=>p.set(y,T))),!(p.size()>=o)););return ne.resolve(p)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const f=this.qr.get(o.largestBatchId).delete(s.key);this.qr.set(o.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new CI(n,s));let u=this.qr.get(n);u===void 0&&(u=ze(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(){this.sessionToken=Jt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $p{constructor(){this.Qr=new kt(Bt.$r),this.Ur=new kt(Bt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new Bt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new Bt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new ye(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1),u=[];return this.Ur.forEachInRange([s,o],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new ye(new rt([])),s=new Bt(n,e),o=new Bt(n,e+1);let u=ze();return this.Ur.forEachInRange([s,o],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new Bt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Bt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return ye.comparator(e.key,n.key)||Ue(e.Yr,n.Yr)}static Kr(e,n){return Ue(e.Yr,n.Yr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new kt(Bt.$r)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new RI(u,n,s,o);this.mutationQueue.push(f);for(const p of o)this.Zr=this.Zr.add(new Bt(p.key,u)),this.indexManager.addToCollectionParentIndex(e,p.key.path.popLast());return ne.resolve(f)}lookupMutationBatch(e,n){return ne.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ei(s),u=o<0?0:o;return ne.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Lp:this.tr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Bt(n,0),o=new Bt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,o],(f=>{const p=this.Xr(f.Yr);u.push(p)})),ne.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new kt(Ue);return n.forEach((o=>{const u=new Bt(o,0),f=new Bt(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(p=>{s=s.add(p.Yr)}))})),ne.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const f=new Bt(new ye(u),0);let p=new kt(Ue);return this.Zr.forEachWhile((g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(p=p.add(g.Yr)),!0)}),f),ne.resolve(this.ti(p))}ti(e){const n=[];return e.forEach((s=>{const o=this.Xr(s);o!==null&&n.push(o)})),n}removeMutationBatch(e,n){$e(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ne.forEach(n.mutations,(o=>{const u=new Bt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new Bt(n,0),o=this.Zr.firstAfterOrEqual(s);return ne.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.ri=e,this.docs=(function(){return new ht(ye.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ne.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=mr();return n.forEach((o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))})),ne.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=mr();const f=n.path,p=new ye(f.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(p);for(;g.hasNext();){const{key:y,value:{document:T}}=g.getNext();if(!f.isPrefixOf(y.path))break;y.path.length>f.length+1||BC(zC(T),s)<=0||(o.has(T.key)||lf(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ne.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be(9500)}ii(e,n){return ne.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new dx(this)}getSize(e){return ne.resolve(this.size)}}class dx extends sx{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?n.push(this.Nr.addEntry(e,o)):this.Nr.removeEntry(s)})),ne.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this.persistence=e,this.si=new oa((n=>Bp(n)),qp),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new $p,this.targetCount=0,this.ai=bo.ur()}forEachTarget(e,n){return this.si.forEach(((s,o)=>n(o))),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ne.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ne.resolve()}updateTargetData(e,n){return this.Pr(n),ne.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.si.forEach(((f,p)=>{p.sequenceNumber<=n&&s.get(p.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,p.targetId)),o++)})),ne.waitFor(u).next((()=>o))}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ne.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ne.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach((f=>{u.push(o.markPotentiallyOrphaned(e,f))})),ne.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ne.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ne.resolve(s)}containsKey(e,n){return ne.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.ui={},this.overlays={},this.ci=new rf(0),this.li=!1,this.li=!0,this.hi=new cx,this.referenceDelegate=e(this),this.Pi=new mx(this),this.indexManager=new ZI,this.remoteDocumentCache=(function(o){return new fx(o)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new XI(n),this.Ii=new lx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new ux,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new hx(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new px(this.ci.next());return this.referenceDelegate.Ei(),s(o).next((u=>this.referenceDelegate.di(o).next((()=>u)))).toPromise().then((u=>(o.raiseOnCommittedEvent(),u)))}Ai(e,n){return ne.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class px extends HC{constructor(e){super(),this.currentSequenceNumber=e}}class Xp{constructor(e){this.persistence=e,this.Ri=new $p,this.Vi=null}static mi(e){return new Xp(e)}get fi(){if(this.Vi)return this.Vi;throw be(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ne.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ne.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ne.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((o=>this.fi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((o=>{o.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.fi,(s=>{const o=ye.fromPath(s);return this.gi(e,o).next((u=>{u||n.removeEntry(o,Se.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ne.or([()=>ne.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.pi=new oa((s=>QC(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=rx(this,n)}static mi(e,n){return new Qh(e,n)}Ei(){}di(e){return ne.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((o=>s+o))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ne.forEach(this.pi,((s,o)=>this.br(e,s,o).next((u=>u?ne.resolve():n(o)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ii(e,(f=>this.br(e,f,n).next((p=>{p||(s++,u.removeEntry(f,Se.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ne.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Sh(e.data.value)),n}br(e,n,s){return ne.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.pi.get(n);return ne.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=o}static As(e,n){let s=ze(),o=ze();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Jp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return KS()?8:FC(rn())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,o,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new gx;return this.Ss(e,n,f).next((p=>{if(u.result=p,this.Vs)return this.bs(e,n,f,p.size)}))})).next((()=>u.result))}bs(e,n,s,o){return s.documentReadCount<this.fs?(io()<=Le.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",ro(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ne.resolve()):(io()<=Le.DEBUG&&ce("QueryEngine","Query:",ro(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.gs*o?(io()<=Le.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",ro(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ji(n))):ne.resolve())}ys(e,n){if(s0(n))return ne.resolve(null);let s=ji(n);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(n.limit!==null&&o===1&&(n=lp(n,null,"F"),s=ji(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=ze(...u);return this.ps.getDocuments(e,f).next((p=>this.indexManager.getMinOffset(e,s).next((g=>{const y=this.Ds(n,p);return this.Cs(n,y,f,g.readTime)?this.ys(e,lp(n,null,"F")):this.vs(e,y,n,g)}))))})))))}ws(e,n,s,o){return s0(n)||o.isEqual(Se.min())?ne.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,o)?ne.resolve(null):(io()<=Le.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ro(n)),this.vs(e,f,n,UC(o,fu)).next((p=>p)))}))}Ds(e,n){let s=new kt(p1(e));return n.forEach(((o,u)=>{lf(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return io()<=Le.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",ro(n)),this.ps.getDocumentsMatchingQuery(e,n,us.min(),s)}vs(e,n,s,o){return this.ps.getDocumentsMatchingQuery(e,s,o).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zp="LocalStore",_x=3e8;class vx{constructor(e,n,s,o){this.persistence=e,this.Fs=n,this.serializer=o,this.Ms=new ht(Ue),this.xs=new oa((u=>Bp(u)),qp),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new ox(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function Ex(r,e,n,s){return new vx(r,e,n,s)}async function L1(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next((u=>(o=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],p=[];let g=ze();for(const y of o){f.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}for(const y of u){p.push(y.batchId);for(const T of y.mutations)g=g.add(T.key)}return n.localDocuments.getDocuments(s,g).next((y=>({Ls:y,removedBatchIds:f,addedBatchIds:p})))}))}))}function Tx(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,g,y,T){const A=y.batch,w=A.keys();let j=ne.resolve();return w.forEach((F=>{j=j.next((()=>T.getEntry(g,F))).next((X=>{const H=y.docVersions.get(F);$e(H!==null,48541),X.version.compareTo(H)<0&&(A.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),T.addEntry(X)))}))})),j.next((()=>p.mutationQueue.removeMutationBatch(g,A)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(p){let g=ze();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(g=g.add(p.batch.mutations[y].key));return g})(e)))).next((()=>n.localDocuments.getDocuments(s,o)))}))}function U1(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function bx(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});o=n.Ms;const p=[];e.targetChanges.forEach(((T,A)=>{const w=o.get(A);if(!w)return;p.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,A).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,A))));let j=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(A)!==null?j=j.withResumeToken(Jt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),o=o.insert(A,j),(function(X,H,J){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=_x?!0:J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0})(w,j,T)&&p.push(n.Pi.updateTargetData(u,j))}));let g=mr(),y=ze();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&p.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),p.push(Ax(u,f,e.documentUpdates).next((T=>{g=T.ks,y=T.qs}))),!s.isEqual(Se.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((A=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));p.push(T)}return ne.waitFor(p).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,g,y))).next((()=>g))})).then((u=>(n.Ms=o,u)))}function Ax(r,e,n){let s=ze(),o=ze();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=mr();return n.forEach(((p,g)=>{const y=u.get(p);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(p)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(p,g.readTime),f=f.insert(p,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),f=f.insert(p,g)):ce(Zp,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",g.version)})),{ks:f,qs:o}}))}function Sx(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Lp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function wx(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return n.Pi.getTargetData(s,e).next((u=>u?(o=u,ne.resolve(o)):n.Pi.allocateTargetId(s).next((f=>(o=new ts(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=n.Ms.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function dp(r,e,n){const s=Re(r),o=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,o)))}catch(f){if(!Oo(f))throw f;ce(Zp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(o.target)}function _0(r,e,n){const s=Re(r);let o=Se.min(),u=ze();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(g,y,T){const A=Re(g),w=A.xs.get(T);return w!==void 0?ne.resolve(A.Ms.get(w)):A.Pi.getTargetData(y,T)})(s,f,ji(e)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,p.targetId).next((g=>{u=g}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?o:Se.min(),n?u:ze()))).next((p=>(Rx(s,hI(e),p),{documents:p,Qs:u})))))}function Rx(r,e,n){let s=r.Os.get(e)||Se.min();n.forEach(((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class v0{constructor(){this.activeTargetIds=yI()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cx{constructor(){this.Mo=new v0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new v0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class T0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ce(E0,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ce(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ph=null;function mp(){return ph===null?ph=(function(){return 268435456+Math.round(2147483648*Math.random())})():ph++,"0x"+ph.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Um="RestConnection",xx={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nx{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${o}`,this.Wo=this.databaseId.database===zh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Go(e,n,s,o,u){const f=mp(),p=this.zo(e,n.toUriEncodedString());ce(Um,`Sending RPC '${e}' ${f}:`,p,s);const g={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(g,o,u);const{host:y}=new URL(p),T=Co(y);return this.Jo(e,p,g,s,T).then((A=>(ce(Um,`Received RPC '${e}' ${f}: `,A),A)),(A=>{throw _o(Um,`RPC '${e}' ${f} failed with error: `,A,"url: ",p,"request:",s),A}))}Ho(e,n,s,o,u,f){return this.Go(e,n,s,o,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+No})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((o,u)=>e[u]=o)),s&&s.headers.forEach(((o,u)=>e[u]=o))}zo(e,n){const s=xx[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class Ox extends Nx{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const f=mp();return new Promise(((p,g)=>{const y=new qT;y.setWithCredentials(!0),y.listenOnce(HT.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ah.NO_ERROR:const A=y.getResponseJson();ce(Wt,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(A)),p(A);break;case Ah.TIMEOUT:ce(Wt,`RPC '${e}' ${f} timed out`),g(new ue(W.DEADLINE_EXCEEDED,"Request time out"));break;case Ah.HTTP_ERROR:const w=y.getStatus();if(ce(Wt,`RPC '${e}' ${f} failed with status:`,w,"response text:",y.getResponseText()),w>0){let j=y.getResponseJson();Array.isArray(j)&&(j=j[0]);const F=j?.error;if(F&&F.status&&F.message){const X=(function(J){const ie=J.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(ie)>=0?ie:W.UNKNOWN})(F.status);g(new ue(X,F.message))}else g(new ue(W.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new ue(W.UNAVAILABLE,"Connection failed."));break;default:be(9055,{l_:e,streamId:f,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{ce(Wt,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(o);ce(Wt,`RPC '${e}' ${f} sending request:`,o),y.send(n,"POST",T,s,15)}))}T_(e,n,s){const o=mp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=QT(),p=GT(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.jo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const T=u.join("");ce(Wt,`Creating RPC '${e}' stream ${o}: ${T}`,g);const A=f.createWebChannel(T,g);this.I_(A);let w=!1,j=!1;const F=new Dx({Yo:H=>{j?ce(Wt,`Not sending because RPC '${e}' stream ${o} is closed:`,H):(w||(ce(Wt,`Opening RPC '${e}' stream ${o} transport.`),A.open(),w=!0),ce(Wt,`RPC '${e}' stream ${o} sending:`,H),A.send(H))},Zo:()=>A.close()}),X=(H,J,ie)=>{H.listen(J,(re=>{try{ie(re)}catch(pe){setTimeout((()=>{throw pe}),0)}}))};return X(A,Wl.EventType.OPEN,(()=>{j||(ce(Wt,`RPC '${e}' stream ${o} transport opened.`),F.o_())})),X(A,Wl.EventType.CLOSE,(()=>{j||(j=!0,ce(Wt,`RPC '${e}' stream ${o} transport closed`),F.a_(),this.E_(A))})),X(A,Wl.EventType.ERROR,(H=>{j||(j=!0,_o(Wt,`RPC '${e}' stream ${o} transport errored. Name:`,H.name,"Message:",H.message),F.a_(new ue(W.UNAVAILABLE,"The operation could not be completed")))})),X(A,Wl.EventType.MESSAGE,(H=>{if(!j){const J=H.data[0];$e(!!J,16349);const ie=J,re=ie?.error||ie[0]?.error;if(re){ce(Wt,`RPC '${e}' stream ${o} received error:`,re);const pe=re.status;let _e=(function(R){const I=Nt[R];if(I!==void 0)return R1(I)})(pe),Ee=re.message;_e===void 0&&(_e=W.INTERNAL,Ee="Unknown error status: "+pe+" with message "+re.message),j=!0,F.a_(new ue(_e,Ee)),A.close()}else ce(Wt,`RPC '${e}' stream ${o} received:`,J),F.u_(J)}})),X(p,FT.STAT_EVENT,(H=>{H.stat===tp.PROXY?ce(Wt,`RPC '${e}' stream ${o} detected buffering proxy`):H.stat===tp.NOPROXY&&ce(Wt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{F.__()}),0),F}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(r){return new kI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=o,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0="PersistentStream";class B1{constructor(e,n,s,o,u,f,p,g){this.Mi=e,this.S_=s,this.b_=o,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=p,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new z1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(dr(n.toString()),dr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.D_===n&&this.G_(s,o)}),(s=>{e((()=>{const o=new ue(W.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(o)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{s((()=>this.z_(o)))})),this.stream.onMessage((o=>{s((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ce(b0,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(ce(b0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Mx extends B1{constructor(e,n,s,o,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=UI(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Se.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Se.min():f.readTime?ki(f.readTime):Se.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=fp(this.serializer),n.addTarget=(function(u,f){let p;const g=f.target;if(p=ap(g)?{documents:qI(u,g)}:{query:HI(u,g).ft},p.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){p.resumeToken=x1(u,f.resumeToken);const y=up(u,f.expectedCount);y!==null&&(p.expectedCount=y)}else if(f.snapshotVersion.compareTo(Se.min())>0){p.readTime=Gh(u,f.snapshotVersion.toTimestamp());const y=up(u,f.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,e);const s=GI(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=fp(this.serializer),n.removeTarget=e,this.q_(n)}}class Vx extends B1{constructor(e,n,s,o,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return $e(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,$e(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){$e(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=BI(e.writeResults,e.commitTime),s=ki(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=fp(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>zI(this.serializer,s)))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class kx extends jx{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,cp(n,s),o,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(W.UNKNOWN,u.toString())}))}Ho(e,n,s,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,p])=>this.connection.Ho(e,cp(n,s),o,f,p,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new ue(W.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Px{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dr(n),this.aa=!1):ce("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa="RemoteStore";class Lx{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{la(this)&&(ce(sa,"Restarting streams for network reachability change."),await(async function(g){const y=Re(g);y.Ea.add(4),await Nu(y),y.Ra.set("Unknown"),y.Ea.delete(4),await df(y)})(this))}))})),this.Ra=new Px(s,o)}}async function df(r){if(la(r))for(const e of r.da)await e(!0)}async function Nu(r){for(const e of r.da)await e(!1)}function q1(r,e){const n=Re(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),ng(n)?tg(n):Vo(n).O_()&&eg(n,e))}function Wp(r,e){const n=Re(r),s=Vo(n);n.Ia.delete(e),s.O_()&&H1(n,e),n.Ia.size===0&&(s.O_()?s.L_():la(n)&&n.Ra.set("Unknown"))}function eg(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(r).Y_(e)}function H1(r,e){r.Va.Ue(e),Vo(r).Z_(e)}function tg(r){r.Va=new OI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Vo(r).start(),r.Ra.ua()}function ng(r){return la(r)&&!Vo(r).x_()&&r.Ia.size>0}function la(r){return Re(r).Ea.size===0}function F1(r){r.Va=void 0}async function Ux(r){r.Ra.set("Online")}async function zx(r){r.Ia.forEach(((e,n)=>{eg(r,e)}))}async function Bx(r,e){F1(r),ng(r)?(r.Ra.ha(e),tg(r)):r.Ra.set("Unknown")}async function qx(r,e,n){if(r.Ra.set("Online"),e instanceof I1&&e.state===2&&e.cause)try{await(async function(o,u){const f=u.cause;for(const p of u.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,f),o.Ia.delete(p),o.Va.removeTarget(p))})(r,e)}catch(s){ce(sa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Kh(r,s)}else if(e instanceof Ch?r.Va.Ze(e):e instanceof C1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Se.min()))try{const s=await U1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const p=u.Va.Tt(f);return p.targetChanges.forEach(((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const T=u.Ia.get(y);T&&u.Ia.set(y,T.withResumeToken(g.resumeToken,f))}})),p.targetMismatches.forEach(((g,y)=>{const T=u.Ia.get(g);if(!T)return;u.Ia.set(g,T.withResumeToken(Jt.EMPTY_BYTE_STRING,T.snapshotVersion)),H1(u,g);const A=new ts(T.target,g,y,T.sequenceNumber);eg(u,A)})),u.remoteSyncer.applyRemoteEvent(p)})(r,n)}catch(s){ce(sa,"Failed to raise snapshot:",s),await Kh(r,s)}}async function Kh(r,e,n){if(!Oo(e))throw e;r.Ea.add(1),await Nu(r),r.Ra.set("Offline"),n||(n=()=>U1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ce(sa,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await df(r)}))}function G1(r,e){return e().catch((n=>Kh(r,n,e)))}async function mf(r){const e=Re(r),n=ds(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Lp;for(;Hx(e);)try{const o=await Sx(e.localStore,s);if(o===null){e.Ta.length===0&&n.L_();break}s=o.batchId,Fx(e,o)}catch(o){await Kh(e,o)}Q1(e)&&K1(e)}function Hx(r){return la(r)&&r.Ta.length<10}function Fx(r,e){r.Ta.push(e);const n=ds(r);n.O_()&&n.X_&&n.ea(e.mutations)}function Q1(r){return la(r)&&!ds(r).x_()&&r.Ta.length>0}function K1(r){ds(r).start()}async function Gx(r){ds(r).ra()}async function Qx(r){const e=ds(r);for(const n of r.Ta)e.ea(n.mutations)}async function Kx(r,e,n){const s=r.Ta.shift(),o=Qp.from(s,e,n);await G1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await mf(r)}async function Yx(r,e){e&&ds(r).X_&&await(async function(s,o){if((function(f){return xI(f)&&f!==W.ABORTED})(o.code)){const u=s.Ta.shift();ds(s).B_(),await G1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o))),await mf(s)}})(r,e),Q1(r)&&K1(r)}async function A0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),ce(sa,"RemoteStore received new credentials");const s=la(n);n.Ea.add(3),await Nu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await df(n)}async function $x(r,e){const n=Re(r);e?(n.Ea.delete(2),await df(n)):e||(n.Ea.add(2),await Nu(n),n.Ra.set("Unknown"))}function Vo(r){return r.ma||(r.ma=(function(n,s,o){const u=Re(n);return u.sa(),new Mx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Ux.bind(null,r),t_:zx.bind(null,r),r_:Bx.bind(null,r),H_:qx.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),ng(r)?tg(r):r.Ra.set("Unknown")):(await r.ma.stop(),F1(r))}))),r.ma}function ds(r){return r.fa||(r.fa=(function(n,s,o){const u=Re(n);return u.sa(),new Vx(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:Gx.bind(null,r),r_:Yx.bind(null,r),ta:Qx.bind(null,r),na:Kx.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await mf(r)):(await r.fa.stop(),r.Ta.length>0&&(ce(sa,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const f=Date.now()+s,p=new ig(e,n,f,o,u);return p.start(s),p}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function rg(r,e){if(dr("AsyncQueue",`${e}: ${r}`),Oo(r))return new ue(W.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static emptySet(e){return new fo(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=eu(),this.sortedSet=new ht(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof fo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new fo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(){this.ga=new ht(ye.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):be(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class Ao{constructor(e,n,s,o,u,f,p,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=p,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const f=[];return n.forEach((p=>{f.push({type:0,doc:p})})),new Ao(e,n,fo.emptySet(n),f,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Jx{constructor(){this.queries=w0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=w0(),u.forEach(((f,p)=>{for(const g of p.Sa)g.onError(s)}))})(this,new ue(W.ABORTED,"Firestore shutting down"))}}function w0(){return new oa((r=>m1(r)),of)}async function Y1(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.ba()&&e.Da()&&(s=2):(u=new Xx,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(o,!0);break;case 1:u.wa=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(f){const p=rg(f,`Initialization of query '${ro(e.query)}' failed`);return void e.onError(p)}n.queries.set(o,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&sg(n)}async function $1(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?o=e.Da()?0:1:!u.ba()&&e.Da()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function Zx(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,f=n.queries.get(u);if(f){for(const p of f.Sa)p.Fa(o)&&(s=!0);f.wa=o}}s&&sg(n)}function Wx(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function sg(r){r.Ca.forEach((e=>{e.next()}))}var pp,R0;(R0=pp||(pp={})).Ma="default",R0.Cache="cache";class X1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==pp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1{constructor(e){this.key=e}}class Z1{constructor(e){this.key=e}}class eN{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=p1(e),this.tu=new fo(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new S0,o=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=o,p=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((T,A)=>{const w=o.get(T),j=lf(this.query,A)?A:null,F=!!w&&this.mutatedKeys.has(w.key),X=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;w&&j?w.data.isEqual(j.data)?F!==X&&(s.track({type:3,doc:j}),H=!0):this.su(w,j)||(s.track({type:2,doc:j}),H=!0,(g&&this.eu(j,g)>0||y&&this.eu(j,y)<0)&&(p=!0)):!w&&j?(s.track({type:0,doc:j}),H=!0):w&&!j&&(s.track({type:1,doc:w}),H=!0,(g||y)&&(p=!0)),H&&(j?(f=f.add(j),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:p,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,A)=>(function(j,F){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be(20277,{Rt:H})}};return X(j)-X(F)})(T.type,A.type)||this.eu(T.doc,A.doc))),this.ou(s),o=o??!1;const p=n&&!o?this._u():[],g=this.Xa.size===0&&this.current&&!o?1:0,y=g!==this.Za;return this.Za=g,f.length!==0||y?{snapshot:new Ao(this.query,e.tu,u,f,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new S0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new Z1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new J1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=ze();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ag="SyncEngine";class tN{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class nN{constructor(e){this.key=e,this.hu=!1}}class iN{constructor(e,n,s,o,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new oa((p=>m1(p)),of),this.Iu=new Map,this.Eu=new Set,this.du=new ht(ye.comparator),this.Au=new Map,this.Ru=new $p,this.Vu={},this.mu=new Map,this.fu=bo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function rN(r,e,n=!0){const s=rb(r);let o;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.lu()):o=await W1(s,e,n,!0),o}async function sN(r,e){const n=rb(r);await W1(n,e,!0,!1)}async function W1(r,e,n,s){const o=await wx(r.localStore,ji(e)),u=o.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let p;return s&&(p=await aN(r,e,u,f==="current",o.resumeToken)),r.isPrimaryClient&&n&&q1(r.remoteStore,o),p}async function aN(r,e,n,s,o){r.pu=(A,w,j)=>(async function(X,H,J,ie){let re=H.view.ru(J);re.Cs&&(re=await _0(X.localStore,H.query,!1).then((({documents:N})=>H.view.ru(N,re))));const pe=ie&&ie.targetChanges.get(H.targetId),_e=ie&&ie.targetMismatches.get(H.targetId)!=null,Ee=H.view.applyChanges(re,X.isPrimaryClient,pe,_e);return I0(X,H.targetId,Ee.au),Ee.snapshot})(r,A,w,j);const u=await _0(r.localStore,e,!0),f=new eN(e,u.Qs),p=f.ru(u.documents),g=xu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=f.applyChanges(p,r.isPrimaryClient,g);I0(r,n,y.au);const T=new tN(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),y.snapshot}async function oN(r,e,n){const s=Re(r),o=s.Tu.get(e),u=s.Iu.get(o.targetId);if(u.length>1)return s.Iu.set(o.targetId,u.filter((f=>!of(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await dp(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),n&&Wp(s.remoteStore,o.targetId),gp(s,o.targetId)})).catch(Do)):(gp(s,o.targetId),await dp(s.localStore,o.targetId,!0))}async function lN(r,e){const n=Re(r),s=n.Tu.get(e),o=n.Iu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Wp(n.remoteStore,s.targetId))}async function uN(r,e,n){const s=gN(r);try{const o=await(function(f,p){const g=Re(f),y=De.now(),T=p.reduce(((j,F)=>j.add(F.key)),ze());let A,w;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let F=mr(),X=ze();return g.Ns.getEntries(j,T).next((H=>{F=H,F.forEach(((J,ie)=>{ie.isValidDocument()||(X=X.add(J))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,F))).next((H=>{A=H;const J=[];for(const ie of p){const re=SI(ie,A.get(ie.key).overlayedDocument);re!=null&&J.push(new _s(ie.key,re,a1(re.value.mapValue),Fn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,y,J,p)})).next((H=>{w=H;const J=H.applyToLocalDocumentSet(A,X);return g.documentOverlayCache.saveOverlays(j,H.batchId,J)}))})).then((()=>({batchId:w.batchId,changes:y1(A)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(f,p,g){let y=f.Vu[f.currentUser.toKey()];y||(y=new ht(Ue)),y=y.insert(p,g),f.Vu[f.currentUser.toKey()]=y})(s,o.batchId,n),await Du(s,o.changes),await mf(s.remoteStore)}catch(o){const u=rg(o,"Failed to persist write");n.reject(u)}}async function eb(r,e){const n=Re(r);try{const s=await bx(n.localStore,e);e.targetChanges.forEach(((o,u)=>{const f=n.Au.get(u);f&&($e(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?f.hu=!0:o.modifiedDocuments.size>0?$e(f.hu,14607):o.removedDocuments.size>0&&($e(f.hu,42227),f.hu=!1))})),await Du(n,s,e)}catch(s){await Do(s)}}function C0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Tu.forEach(((u,f)=>{const p=f.view.va(e);p.snapshot&&o.push(p.snapshot)})),(function(f,p){const g=Re(f);g.onlineState=p;let y=!1;g.queries.forEach(((T,A)=>{for(const w of A.Sa)w.va(p)&&(y=!0)})),y&&sg(g)})(s.eventManager,e),o.length&&s.Pu.H_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function cN(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Au.get(e),u=o&&o.key;if(u){let f=new ht(ye.comparator);f=f.insert(u,tn.newNoDocument(u,Se.min()));const p=ze().add(u),g=new hf(Se.min(),new Map,new ht(Ue),f,p);await eb(s,g),s.du=s.du.remove(u),s.Au.delete(e),og(s)}else await dp(s.localStore,e,!1).then((()=>gp(s,e,n))).catch(Do)}async function hN(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await Tx(n.localStore,e);nb(n,s,null),tb(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Du(n,o)}catch(o){await Do(o)}}async function fN(r,e,n){const s=Re(r);try{const o=await(function(f,p){const g=Re(f);return g.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let T;return g.mutationQueue.lookupMutationBatch(y,p).next((A=>($e(A!==null,37113),T=A.keys(),g.mutationQueue.removeMutationBatch(y,A)))).next((()=>g.mutationQueue.performConsistencyCheck(y))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(y,T,p))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,T))).next((()=>g.localDocuments.getDocuments(y,T)))}))})(s.localStore,e);nb(s,e,n),tb(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Du(s,o)}catch(o){await Do(o)}}function tb(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function nb(r,e,n){const s=Re(r);let o=s.Vu[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Vu[s.currentUser.toKey()]=o}}function gp(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||ib(r,s)}))}function ib(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Wp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),og(r))}function I0(r,e,n){for(const s of n)s instanceof J1?(r.Ru.addReference(s.key,e),dN(r,s)):s instanceof Z1?(ce(ag,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||ib(r,s.key)):be(19791,{wu:s})}function dN(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(ce(ag,"New document in limbo: "+n),r.Eu.add(s),og(r))}function og(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new ye(rt.fromString(e)),s=r.fu.next();r.Au.set(s,new nN(n)),r.du=r.du.insert(n,s),q1(r.remoteStore,new ts(ji(Hp(n.path)),s,"TargetPurposeLimboResolution",rf.ce))}}async function Du(r,e,n){const s=Re(r),o=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((p,g)=>{f.push(s.pu(g,e,n).then((y=>{if((y||n)&&s.isPrimaryClient){const T=y?!y.fromCache:n?.targetChanges.get(g.targetId)?.current;s.sharedClientState.updateQueryState(g.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Jp.As(g.targetId,y);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(o),await(async function(g,y){const T=Re(g);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(A=>ne.forEach(y,(w=>ne.forEach(w.Es,(j=>T.persistence.referenceDelegate.addReference(A,w.targetId,j))).next((()=>ne.forEach(w.ds,(j=>T.persistence.referenceDelegate.removeReference(A,w.targetId,j)))))))))}catch(A){if(!Oo(A))throw A;ce(Zp,"Failed to update sequence numbers: "+A)}for(const A of y){const w=A.targetId;if(!A.fromCache){const j=T.Ms.get(w),F=j.snapshotVersion,X=j.withLastLimboFreeSnapshotVersion(F);T.Ms=T.Ms.insert(w,X)}}})(s.localStore,u))}async function mN(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){ce(ag,"User change. New user:",e.toKey());const s=await L1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((p=>{p.forEach((g=>{g.reject(new ue(W.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Du(n,s.Ls)}}function pN(r,e){const n=Re(r),s=n.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let o=ze();const u=n.Iu.get(e);if(!u)return o;for(const f of u){const p=n.Tu.get(f);o=o.unionWith(p.view.nu)}return o}}function rb(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=eb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cN.bind(null,e),e.Pu.H_=Zx.bind(null,e.eventManager),e.Pu.yu=Wx.bind(null,e.eventManager),e}function gN(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fN.bind(null,e),e}class Yh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return Ex(this.persistence,new yx,e.initialUser,this.serializer)}Cu(e){return new P1(Xp.mi,this.serializer)}Du(e){return new Cx}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Yh.provider={build:()=>new Yh};class yN extends Yh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){$e(this.persistence.referenceDelegate instanceof Qh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new nx(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new P1((s=>Qh.mi(s,n)),this.serializer)}}class yp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>C0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=mN.bind(null,this.syncEngine),await $x(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Jx})()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=(function(u){return new Ox(u)})(e.databaseInfo);return(function(u,f,p,g){return new kx(u,f,p,g)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,o,u,f,p){return new Lx(s,o,u,f,p)})(this.localStore,this.datastore,e.asyncQueue,(n=>C0(this.syncEngine,n,0)),(function(){return T0.v()?new T0:new Ix})())}createSyncEngine(e,n){return(function(o,u,f,p,g,y,T){const A=new iN(o,u,f,p,g,y);return T&&(A.gu=!0),A})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Re(n);ce(sa,"RemoteStore shutting down."),s.Ea.add(5),await Nu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}yp.provider={build:()=>new yp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ms="FirestoreClient";class _N{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=Pp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{ce(ms,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(ce(ms,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=rg(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Bm(r,e){r.asyncQueue.verifyOperationInProgress(),ce(ms,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async o=>{s.isEqual(o)||(await L1(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function x0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await vN(r);ce(ms,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>A0(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,o)=>A0(e.remoteStore,o))),r._onlineComponents=e}async function vN(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ce(ms,"Using user provided OfflineComponentProvider");try{await Bm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Bm(r,new Yh)}}else ce(ms,"Using default OfflineComponentProvider"),await Bm(r,new yN(void 0));return r._offlineComponents}async function ab(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ce(ms,"Using user provided OnlineComponentProvider"),await x0(r,r._uninitializedComponentsProvider._online)):(ce(ms,"Using default OnlineComponentProvider"),await x0(r,new yp))),r._onlineComponents}function EN(r){return ab(r).then((e=>e.syncEngine))}async function ob(r){const e=await ab(r),n=e.eventManager;return n.onListen=rN.bind(null,e.syncEngine),n.onUnlisten=oN.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=sN.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=lN.bind(null,e.syncEngine),n}function TN(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new sb({next:w=>{T.Nu(),f.enqueueAndForget((()=>$1(u,A)));const j=w.docs.has(p);!j&&w.fromCache?y.reject(new ue(W.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&w.fromCache&&g&&g.source==="server"?y.reject(new ue(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new X1(Hp(p.path),T,{includeMetadataChanges:!0,qa:!0});return Y1(u,A)})(await ob(r),r.asyncQueue,e,n,s))),s.promise}function bN(r,e,n={}){const s=new ur;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,p,g,y){const T=new sb({next:w=>{T.Nu(),f.enqueueAndForget((()=>$1(u,A))),w.fromCache&&g.source==="server"?y.reject(new ue(W.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),A=new X1(p,T,{includeMetadataChanges:!0,qa:!0});return Y1(u,A)})(await ob(r),r.asyncQueue,e,n,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub="firestore.googleapis.com",D0=!0;class O0{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ue(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ub,this.ssl=D0}else this.host=e.host,this.ssl=e.ssl??D0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=k1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<ex)throw new ue(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=lb(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(W.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new O0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new O0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IC;switch(s.type){case"firstParty":return new OC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=N0.get(n);s&&(ce("ComponentProvider","Removing Datastore"),N0.delete(n),s.terminate())})(this),Promise.resolve()}}function AN(r,e,n,s={}){r=si(r,pf);const o=Co(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},p=`${e}:${n}`;o&&(W0(`https://${p}`),eT("Firestore",!0)),u.host!==ub&&u.host!==p&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...u,host:p,ssl:o,emulatorOptions:s};if(!ea(g,f)&&(r._setSettings(g),s.mockUserToken)){let y,T;if(typeof s.mockUserToken=="string")y=s.mockUserToken,T=en.MOCK_USER;else{y=LS(s.mockUserToken,r._app?.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new ue(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new en(A)}r._authCredentials=new xC(new YT(y,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class Et{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new as(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Et(this.firestore,e,this._key)}toJSON(){return{type:Et._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(Cu(n,Et._jsonSchema))return new Et(e,s||null,new ye(rt.fromString(n.referencePath)))}}Et._jsonSchemaVersion="firestore/documentReference/1.0",Et._jsonSchema={type:Ot("string",Et._jsonSchemaVersion),referencePath:Ot("string")};class as extends ua{constructor(e,n,s){super(e,n,Hp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Et(this.firestore,null,new ye(e))}withConverter(e){return new as(this.firestore,e,this._path)}}function So(r,e,...n){if(r=qt(r),$T("collection","path",e),r instanceof pf){const s=rt.fromString(e,...n);return GE(s),new as(r,null,s)}{if(!(r instanceof Et||r instanceof as))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return GE(s),new as(r.firestore,null,s)}}function nn(r,e,...n){if(r=qt(r),arguments.length===1&&(e=Pp.newId()),$T("doc","path",e),r instanceof pf){const s=rt.fromString(e,...n);return FE(s),new Et(r,null,new ye(s))}{if(!(r instanceof Et||r instanceof as))throw new ue(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(rt.fromString(e,...n));return FE(s),new Et(r.firestore,r instanceof as?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new z1(this,"async_queue_retry"),this._c=()=>{const s=zm();s&&ce(M0,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new ur;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Oo(e))throw e;ce(M0,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,dr("INTERNAL UNHANDLED ERROR: ",j0(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const o=ig.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(o),o}uc(){this.nc&&be(47125,{Pc:j0(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function j0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ca extends pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new V0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function SN(r,e){const n=typeof r=="object"?r:rT(),s=typeof r=="string"?r:zh,o=Cp(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=kS("firestore");u&&AN(o,...u)}return o}function lg(r){if(r._terminated)throw new ue(W.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||wN(r),r._firestoreClient}function wN(r){const e=r._freezeSettings(),n=(function(o,u,f,p){return new $C(o,u,f,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,lb(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new _N(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(o){const u=o?._online.build();return{_offline:o?._offline.build(u),_online:u}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hn(Jt.fromBase64String(e))}catch(n){throw new ue(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hn(Jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Hn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cu(e,Hn._jsonSchema))return Hn.fromBase64String(e.bytes)}}Hn._jsonSchemaVersion="firestore/bytes/1.0",Hn._jsonSchema={type:Ot("string",Hn._jsonSchemaVersion),bytes:Ot("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Cu(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ot("string",Pi._jsonSchemaVersion),latitude:Ot("number"),longitude:Ot("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cu(e,Li._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Li(e.vectorValues);throw new ue(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ot("string",Li._jsonSchemaVersion),vectorValues:Ot("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=/^__.*__$/;class CN{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new _s(e,this.data,this.fieldMask,n,this.fieldTransforms):new Iu(e,this.data,n,this.fieldTransforms)}}class cb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new _s(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function hb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be(40011,{Ac:r})}}class cg{constructor(e,n,s,o,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new cg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return $h(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(hb(this.Ac)&&RN.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class IN{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}Cc(e,n,s,o=!1){return new cg({Ac:e,methodName:n,Dc:s,path:Xt.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function yf(r){const e=r._freezeSettings(),n=ff(r._databaseId);return new IN(r._databaseId,!!e.ignoreUndefinedProperties,n)}function fb(r,e,n,s,o,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,o);hg("Data must be an object, but it was:",f,s);const p=db(s,f);let g,y;if(u.merge)g=new In(f.fieldMask),y=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const A of u.mergeFields){const w=_p(e,A,n);if(!f.contains(w))throw new ue(W.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);pb(T,w)||T.push(w)}g=new In(T),y=f.fieldTransforms.filter((A=>g.covers(A.field)))}else g=null,y=f.fieldTransforms;return new CN(new yn(p),g,y)}class _f extends ug{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _f}}function xN(r,e,n,s){const o=r.Cc(1,e,n);hg("Data must be an object, but it was:",o,s);const u=[],f=yn.empty();ys(s,((g,y)=>{const T=fg(e,g,n);y=qt(y);const A=o.yc(T);if(y instanceof _f)u.push(T);else{const w=Ou(y,A);w!=null&&(u.push(T),f.set(T,w))}}));const p=new In(u);return new cb(f,p,o.fieldTransforms)}function NN(r,e,n,s,o,u){const f=r.Cc(1,e,n),p=[_p(e,s,n)],g=[o];if(u.length%2!=0)throw new ue(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)p.push(_p(e,u[w])),g.push(u[w+1]);const y=[],T=yn.empty();for(let w=p.length-1;w>=0;--w)if(!pb(y,p[w])){const j=p[w];let F=g[w];F=qt(F);const X=f.yc(j);if(F instanceof _f)y.push(j);else{const H=Ou(F,X);H!=null&&(y.push(j),T.set(j,H))}}const A=new In(y);return new cb(T,A,f.fieldTransforms)}function DN(r,e,n,s=!1){return Ou(n,r.Cc(s?4:3,e))}function Ou(r,e){if(mb(r=qt(r)))return hg("Unsupported field value:",e,r),db(r,e);if(r instanceof ug)return(function(s,o){if(!hb(o.Ac))throw o.Sc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,o){const u=[];let f=0;for(const p of s){let g=Ou(p,o.wc(f));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,o){if((s=qt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return _I(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=De.fromDate(s);return{timestampValue:Gh(o.serializer,u)}}if(s instanceof De){const u=new De(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Gh(o.serializer,u)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Hn)return{bytesValue:x1(o.serializer,s._byteString)};if(s instanceof Et){const u=o.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw o.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Yp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof Li)return(function(f,p){return{mapValue:{fields:{[r1]:{stringValue:s1},[Bh]:{arrayValue:{values:f.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Fp(p.serializer,y)}))}}}}}})(s,o);throw o.Sc(`Unsupported field value: ${nf(s)}`)})(r,e)}function db(r,e){const n={};return ZT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ys(r,((s,o)=>{const u=Ou(o,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function mb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof De||r instanceof Pi||r instanceof Hn||r instanceof Et||r instanceof ug||r instanceof Li)}function hg(r,e,n){if(!mb(n)||!XT(n)){const s=nf(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function _p(r,e,n){if((e=qt(e))instanceof gf)return e._internalPath;if(typeof e=="string")return fg(r,e);throw $h("Field path arguments must be of type string or ",r,!1,void 0,n)}const ON=new RegExp("[~\\*/\\[\\]]");function fg(r,e,n){if(e.search(ON)>=0)throw $h(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new gf(...e.split("."))._internalPath}catch{throw $h(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function $h(r,e,n,s,o){const u=s&&!s.isEmpty(),f=o!==void 0;let p=`Function ${e}() called with invalid data`;n&&(p+=" (via `toFirestore()`)"),p+=". ";let g="";return(u||f)&&(g+=" (found",u&&(g+=` in field ${s}`),f&&(g+=` in document ${o}`),g+=")"),new ue(W.INVALID_ARGUMENT,p+r+g)}function pb(r,e){return r.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Et(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MN(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MN extends gb{data(){return super.data()}}function vf(r,e){return typeof e=="string"?fg(r,e):e instanceof gf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ue(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class dg{}class yb extends dg{}function mg(r,e,...n){let s=[];e instanceof dg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((g=>g instanceof gg)).length,p=u.filter((g=>g instanceof Ef)).length;if(f>1||f>0&&p>0)throw new ue(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)r=o._apply(r);return r}class Ef extends yb{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ef(e,n,s)}_apply(e){const n=this._parse(e);return _b(e._query,n),new ua(e.firestore,e.converter,op(e._query,n))}_parse(e){const n=yf(e.firestore);return(function(u,f,p,g,y,T,A){let w;if(y.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new ue(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){P0(A,T);const F=[];for(const X of A)F.push(k0(g,u,X));w={arrayValue:{values:F}}}else w=k0(g,u,A)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||P0(A,T),w=DN(p,f,A,T==="in"||T==="not-in");return Dt.create(y,T,w)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function pg(r,e,n){const s=e,o=vf("where",r);return Ef._create(o,s,n)}class gg extends dg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new gg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ai.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(o,u){let f=o;const p=u.getFlattenedFilters();for(const g of p)_b(f,g),f=op(f,g)})(e._query,n),new ua(e.firestore,e.converter,op(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yg extends yb{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new yg(e,n)}_apply(e){const n=(function(o,u,f){if(o.startAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new gu(u,f)})(e._query,this._field,this._direction);return new ua(e.firestore,e.converter,(function(o,u){const f=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)})(e._query,n))}}function _g(r,e="asc"){const n=e,s=vf("orderBy",r);return yg._create(s,n)}function k0(r,e,n){if(typeof(n=qt(n))=="string"){if(n==="")throw new ue(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!d1(e)&&n.indexOf("/")!==-1)throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(rt.fromString(n));if(!ye.isDocumentKey(s))throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return WE(r,new ye(s))}if(n instanceof Et)return WE(r,n._key);throw new ue(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function P0(r,e){if(!Array.isArray(r)||r.length===0)throw new ue(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function _b(r,e){const n=(function(o,u){for(const f of o)for(const p of f.getFlattenedFilters())if(u.indexOf(p.op)>=0)return p.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jN{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return _t(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(hs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ys(e,((o,u)=>{s[o]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Bh].arrayValue?.values?.map((s=>_t(s.doubleValue)));return new Li(n)}convertGeoPoint(e){return new Pi(_t(e.latitude),_t(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=af(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=cs(e);return new De(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);$e(j1(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||dr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class nu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ws extends gb{constructor(e,n,s,o,u,f){super(e,n,s,o,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ih(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Ws._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ws._jsonSchema={type:Ot("string",Ws._jsonSchemaVersion),bundleSource:Ot("string","DocumentSnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Ih extends Ws{data(e={}){return super.data(e)}}class mo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new nu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new Ih(this._firestore,this._userDataWriter,s.key,s,new nu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map((p=>{const g=new Ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:g,oldIndex:-1,newIndex:f++}}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>u||p.type!==3)).map((p=>{const g=new Ih(o._firestore,o._userDataWriter,p.doc.key,p.doc,new nu(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,T=-1;return p.type!==0&&(y=f.indexOf(p.doc.key),f=f.delete(p.doc.key)),p.type!==1&&(f=f.add(p.doc),T=f.indexOf(p.doc.key)),{type:kN(p.type),doc:g,oldIndex:y,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=mo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Pp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function kN(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(r){r=si(r,Et);const e=si(r.firestore,ca);return TN(lg(e),r._key).then((n=>PN(e,r,n)))}mo._jsonSchemaVersion="firestore/querySnapshot/1.0",mo._jsonSchema={type:Ot("string",mo._jsonSchemaVersion),bundleSource:Ot("string","QuerySnapshot"),bundleName:Ot("string"),bundle:Ot("string")};class Eb extends jN{constructor(e){super(),this.firestore=e}convertBytes(e){return new Hn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Et(this.firestore,null,n)}}function vg(r){r=si(r,ua);const e=si(r.firestore,ca),n=lg(e),s=new Eb(e);return VN(r._query),bN(n,r._query).then((o=>new mo(e,s,r,o)))}function L0(r,e,n){r=si(r,Et);const s=si(r.firestore,ca),o=vb(r.converter,e);return Tf(s,[fb(yf(s),"setDoc",r._key,o,r.converter!==null,n).toMutation(r._key,Fn.none())])}function vu(r,e,n,...s){r=si(r,Et);const o=si(r.firestore,ca),u=yf(o);let f;return f=typeof(e=qt(e))=="string"||e instanceof gf?NN(u,"updateDoc",r._key,e,n,s):xN(u,"updateDoc",r._key,e),Tf(o,[f.toMutation(r._key,Fn.exists(!0))])}function Eg(r){return Tf(si(r.firestore,ca),[new Gp(r._key,Fn.none())])}function Tg(r,e){const n=si(r.firestore,ca),s=nn(r),o=vb(r.converter,e);return Tf(n,[fb(yf(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Fn.exists(!1))]).then((()=>s))}function Tf(r,e){return(function(s,o){const u=new ur;return s.asyncQueue.enqueueAndForget((async()=>uN(await EN(s),o,u))),u.promise})(lg(r),e)}function PN(r,e,n){const s=n.docs.get(e._key),o=new Eb(r);return new Ws(r,o,e._key,s,new nu(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){No=o})(Io),yo(new ta("firestore",((s,{instanceIdentifier:o,options:u})=>{const f=s.getProvider("app").getImmediate(),p=new ca(new NC(s.getProvider("auth-internal")),new MC(f,s.getProvider("app-check-internal")),(function(y,T){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ue(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(y.options.projectId,T)})(f,o),f);return u={useFetchStreams:n,...u},p._setSettings(u),p}),"PUBLIC").setMultipleInstances(!0)),rs(zE,BE,e),rs(zE,BE,"esm2020")})();const LN={apiKey:"AIzaSyCPjYXHSx_RgxBs8fXhYKbX1kCohqARi7k",authDomain:"carlos-3d173.firebaseapp.com",projectId:"carlos-3d173",storageBucket:"carlos-3d173.firebasestorage.app",messagingSenderId:"477163826623",appId:"1:477163826623:web:e6f176af4ff42df0fdc50a"},Tb=iT(LN),gh=RC(Tb),vt=SN(Tb);function po(r){if(typeof r=="string")return r;switch(r?.code||""){case"auth/user-not-found":return"Usuário não encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email inválido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexão. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configuração. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const qm={async logOut(){try{await pR(gh)}catch(r){const e=po(r);throw new Error(e)}},async login(r){try{const n=(await hR(gh,r.email,r.password)).user,s=await wo(nn(vt,"users",n.uid));if(!s.exists())throw new Error("Usuário não encontrado");const u={...s.data(),lastLogin:new Date};return await L0(nn(vt,"users",n.uid),u),u}catch(e){const n=po(e);throw new Error(n)}},async register(r){try{if(!r.email||!r.password||!r.name)throw new Error("Todos os campos são obrigatórios");if(r.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const n=(await cR(gh,r.email,r.password)).user,s={uid:n.uid,email:r.email,name:r.name,createdAt:new Date,updatedAt:new Date,role:r.role||"user"};return await L0(nn(vt,"users",n.uid),s),s}catch(e){const n=po(e);throw new Error(n)}},observeAuthState(r){try{return mR(gh,async e=>{if(console.log("🔄 Auth state changed:",e?e.uid:"null"),e)try{const n=await wo(nn(vt,"users",e.uid));if(n.exists()){const s=n.data();console.log("✅ Usuário autenticado:",s),r(s)}else console.log("❌ Usuário não encontrado no Firestore"),r(null)}catch(n){console.error("❌ Erro ao buscar dados do usuário:",n),r(null)}else console.log("🚪 Usuário deslogado"),r(null)})}catch(e){throw new Error("Erro ao observar estado de autenticação: "+e)}}},bb=L.createContext(void 0);function UN({children:r}){const[e,n]=L.useState(null),[s,o]=L.useState(!0),[u,f]=L.useState(null);L.useEffect(()=>{n(null),o(!1)},[]);const A={user:e,loading:s,error:u,login:async w=>{try{o(!0),f(null);const j=await qm.login(w);n(j),o(!1)}catch(j){const F=po(j);f(F),o(!1),n(null)}},register:async w=>{try{o(!0),f(null);const j=await qm.register(w);n(j),o(!1)}catch(j){const F=po(j);f(F),o(!1),n(null)}},logout:async()=>{try{o(!0),f(null),await qm.logOut(),n(null),o(!1)}catch(w){const j=po(w);f(j),o(!1)}},clearError:()=>{f(null)}};return m.jsx(bb.Provider,{value:A,children:r})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var U0="popstate";function zN(r={}){function e(s,o){let{pathname:u,search:f,hash:p}=s.location;return vp("",{pathname:u,search:f,hash:p},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:Eu(o)}return qN(e,n,null,r)}function ct(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function oi(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BN(){return Math.random().toString(36).substring(2,10)}function z0(r,e){return{usr:r.state,key:r.key,idx:e}}function vp(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?jo(e):e,state:n,key:e&&e.key||s||BN()}}function Eu({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function jo(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function qN(r,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,f=o.history,p="POP",g=null,y=T();y==null&&(y=0,f.replaceState({...f.state,idx:y},""));function T(){return(f.state||{idx:null}).idx}function A(){p="POP";let H=T(),J=H==null?null:H-y;y=H,g&&g({action:p,location:X.location,delta:J})}function w(H,J){p="PUSH";let ie=vp(X.location,H,J);y=T()+1;let re=z0(ie,y),pe=X.createHref(ie);try{f.pushState(re,"",pe)}catch(_e){if(_e instanceof DOMException&&_e.name==="DataCloneError")throw _e;o.location.assign(pe)}u&&g&&g({action:p,location:X.location,delta:1})}function j(H,J){p="REPLACE";let ie=vp(X.location,H,J);y=T();let re=z0(ie,y),pe=X.createHref(ie);f.replaceState(re,"",pe),u&&g&&g({action:p,location:X.location,delta:0})}function F(H){return HN(H)}let X={get action(){return p},get location(){return r(o,f)},listen(H){if(g)throw new Error("A history only accepts one active listener");return o.addEventListener(U0,A),g=H,()=>{o.removeEventListener(U0,A),g=null}},createHref(H){return e(o,H)},createURL:F,encodeLocation(H){let J=F(H);return{pathname:J.pathname,search:J.search,hash:J.hash}},push:w,replace:j,go(H){return f.go(H)}};return X}function HN(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ct(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Eu(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function Ab(r,e,n="/"){return FN(r,e,n,!1)}function FN(r,e,n,s){let o=typeof e=="string"?jo(e):e,u=pr(o.pathname||"/",n);if(u==null)return null;let f=Sb(r);GN(f);let p=null;for(let g=0;p==null&&g<f.length;++g){let y=nD(u);p=eD(f[g],y,s)}return p}function Sb(r,e=[],n=[],s="",o=!1){let u=(f,p,g=o,y)=>{let T={relativePath:y===void 0?f.path||"":y,caseSensitive:f.caseSensitive===!0,childrenIndex:p,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&g)return;ct(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let A=cr([s,T.relativePath]),w=n.concat(T);f.children&&f.children.length>0&&(ct(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Sb(f.children,e,w,A,g)),!(f.path==null&&!f.index)&&e.push({path:A,score:ZN(A,f.index),routesMeta:w})};return r.forEach((f,p)=>{if(f.path===""||!f.path?.includes("?"))u(f,p);else for(let g of wb(f.path))u(f,p,!0,g)}),e}function wb(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let f=wb(s.join("/")),p=[];return p.push(...f.map(g=>g===""?u:[u,g].join("/"))),o&&p.push(...f),p.map(g=>r.startsWith("/")&&g===""?"/":g)}function GN(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:WN(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var QN=/^:[\w-]+$/,KN=3,YN=2,$N=1,XN=10,JN=-2,B0=r=>r==="*";function ZN(r,e){let n=r.split("/"),s=n.length;return n.some(B0)&&(s+=JN),e&&(s+=YN),n.filter(o=>!B0(o)).reduce((o,u)=>o+(QN.test(u)?KN:u===""?$N:XN),s)}function WN(r,e){return r.length===e.length&&r.slice(0,-1).every((s,o)=>s===e[o])?r[r.length-1]-e[e.length-1]:0}function eD(r,e,n=!1){let{routesMeta:s}=r,o={},u="/",f=[];for(let p=0;p<s.length;++p){let g=s[p],y=p===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",A=Xh({path:g.relativePath,caseSensitive:g.caseSensitive,end:y},T),w=g.route;if(!A&&y&&n&&!s[s.length-1].route.index&&(A=Xh({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},T)),!A)return null;Object.assign(o,A.params),f.push({params:o,pathname:cr([u,A.pathname]),pathnameBase:aD(cr([u,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(u=cr([u,A.pathnameBase]))}return f}function Xh(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=tD(r.path,r.caseSensitive,r.end),o=e.match(n);if(!o)return null;let u=o[0],f=u.replace(/(.)\/+$/,"$1"),p=o.slice(1);return{params:s.reduce((y,{paramName:T,isOptional:A},w)=>{if(T==="*"){let F=p[w]||"";f=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const j=p[w];return A&&!j?y[T]=void 0:y[T]=(j||"").replace(/%2F/g,"/"),y},{}),pathname:u,pathnameBase:f,pattern:r}}function tD(r,e=!1,n=!0){oi(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,p,g)=>(s.push({paramName:p,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function nD(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oi(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function pr(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}function iD(r,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof r=="string"?jo(r):r;return{pathname:n?n.startsWith("/")?n:rD(n,e):e,search:oD(s),hash:lD(o)}}function rD(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Hm(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function sD(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function bg(r){let e=sD(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ag(r,e,n,s=!1){let o;typeof r=="string"?o=jo(r):(o={...r},ct(!o.pathname||!o.pathname.includes("?"),Hm("?","pathname","search",o)),ct(!o.pathname||!o.pathname.includes("#"),Hm("#","pathname","hash",o)),ct(!o.search||!o.search.includes("#"),Hm("#","search","hash",o)));let u=r===""||o.pathname==="",f=u?"/":o.pathname,p;if(f==null)p=n;else{let A=e.length-1;if(!s&&f.startsWith("..")){let w=f.split("/");for(;w[0]==="..";)w.shift(),A-=1;o.pathname=w.join("/")}p=A>=0?e[A]:"/"}let g=iD(o,p),y=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(y||T)&&(g.pathname+="/"),g}var cr=r=>r.join("/").replace(/\/\/+/g,"/"),aD=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),oD=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,lD=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function uD(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}var Rb=["POST","PUT","PATCH","DELETE"];new Set(Rb);var cD=["GET",...Rb];new Set(cD);var ko=L.createContext(null);ko.displayName="DataRouter";var bf=L.createContext(null);bf.displayName="DataRouterState";L.createContext(!1);var Cb=L.createContext({isTransitioning:!1});Cb.displayName="ViewTransition";var hD=L.createContext(new Map);hD.displayName="Fetchers";var fD=L.createContext(null);fD.displayName="Await";var li=L.createContext(null);li.displayName="Navigation";var Mu=L.createContext(null);Mu.displayName="Location";var ui=L.createContext({outlet:null,matches:[],isDataRoute:!1});ui.displayName="Route";var Sg=L.createContext(null);Sg.displayName="RouteError";function dD(r,{relative:e}={}){ct(Po(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=L.useContext(li),{hash:o,pathname:u,search:f}=Vu(r,{relative:e}),p=u;return n!=="/"&&(p=u==="/"?n:cr([n,u])),s.createHref({pathname:p,search:f,hash:o})}function Po(){return L.useContext(Mu)!=null}function vs(){return ct(Po(),"useLocation() may be used only in the context of a <Router> component."),L.useContext(Mu).location}var Ib="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function xb(r){L.useContext(li).static||L.useLayoutEffect(r)}function Lo(){let{isDataRoute:r}=L.useContext(ui);return r?RD():mD()}function mD(){ct(Po(),"useNavigate() may be used only in the context of a <Router> component.");let r=L.useContext(ko),{basename:e,navigator:n}=L.useContext(li),{matches:s}=L.useContext(ui),{pathname:o}=vs(),u=JSON.stringify(bg(s)),f=L.useRef(!1);return xb(()=>{f.current=!0}),L.useCallback((g,y={})=>{if(oi(f.current,Ib),!f.current)return;if(typeof g=="number"){n.go(g);return}let T=Ag(g,JSON.parse(u),o,y.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:cr([e,T.pathname])),(y.replace?n.replace:n.push)(T,y.state,y)},[e,n,u,o,r])}L.createContext(null);function Af(){let{matches:r}=L.useContext(ui),e=r[r.length-1];return e?e.params:{}}function Vu(r,{relative:e}={}){let{matches:n}=L.useContext(ui),{pathname:s}=vs(),o=JSON.stringify(bg(n));return L.useMemo(()=>Ag(r,JSON.parse(o),s,e==="path"),[r,o,s,e])}function pD(r,e){return Nb(r,e)}function Nb(r,e,n,s,o){ct(Po(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=L.useContext(li),{matches:f}=L.useContext(ui),p=f[f.length-1],g=p?p.params:{},y=p?p.pathname:"/",T=p?p.pathnameBase:"/",A=p&&p.route;{let ie=A&&A.path||"";Db(y,!A||ie.endsWith("*")||ie.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${y}" (under <Route path="${ie}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ie}"> to <Route path="${ie==="/"?"*":`${ie}/*`}">.`)}let w=vs(),j;if(e){let ie=typeof e=="string"?jo(e):e;ct(T==="/"||ie.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ie.pathname}" was given in the \`location\` prop.`),j=ie}else j=w;let F=j.pathname||"/",X=F;if(T!=="/"){let ie=T.replace(/^\//,"").split("/");X="/"+F.replace(/^\//,"").split("/").slice(ie.length).join("/")}let H=Ab(r,{pathname:X});oi(A||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),oi(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let J=ED(H&&H.map(ie=>Object.assign({},ie,{params:Object.assign({},g,ie.params),pathname:cr([T,u.encodeLocation?u.encodeLocation(ie.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathname]),pathnameBase:ie.pathnameBase==="/"?T:cr([T,u.encodeLocation?u.encodeLocation(ie.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ie.pathnameBase])})),f,n,s,o);return e&&J?L.createElement(Mu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},J):J}function gD(){let r=wD(),e=uD(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=L.createElement(L.Fragment,null,L.createElement("p",null,"💿 Hey developer 👋"),L.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",L.createElement("code",{style:u},"ErrorBoundary")," or"," ",L.createElement("code",{style:u},"errorElement")," prop on your route.")),L.createElement(L.Fragment,null,L.createElement("h2",null,"Unexpected Application Error!"),L.createElement("h3",{style:{fontStyle:"italic"}},e),n?L.createElement("pre",{style:o},n):null,f)}var yD=L.createElement(gD,null),_D=class extends L.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.unstable_onError?this.props.unstable_onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?L.createElement(ui.Provider,{value:this.props.routeContext},L.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vD({routeContext:r,match:e,children:n}){let s=L.useContext(ko);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),L.createElement(ui.Provider,{value:r},n)}function ED(r,e=[],n=null,s=null,o=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let y=u.findIndex(T=>T.route.id&&f?.[T.route.id]!==void 0);ct(y>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,y+1))}let p=!1,g=-1;if(n)for(let y=0;y<u.length;y++){let T=u[y];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(g=y),T.route.id){let{loaderData:A,errors:w}=n,j=T.route.loader&&!A.hasOwnProperty(T.route.id)&&(!w||w[T.route.id]===void 0);if(T.route.lazy||j){p=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((y,T,A)=>{let w,j=!1,F=null,X=null;n&&(w=f&&T.route.id?f[T.route.id]:void 0,F=T.route.errorElement||yD,p&&(g<0&&A===0?(Db("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,X=null):g===A&&(j=!0,X=T.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,A+1)),J=()=>{let ie;return w?ie=F:j?ie=X:T.route.Component?ie=L.createElement(T.route.Component,null):T.route.element?ie=T.route.element:ie=y,L.createElement(vD,{match:T,routeContext:{outlet:y,matches:H,isDataRoute:n!=null},children:ie})};return n&&(T.route.ErrorBoundary||T.route.errorElement||A===0)?L.createElement(_D,{location:n.location,revalidation:n.revalidation,component:F,error:w,children:J(),routeContext:{outlet:null,matches:H,isDataRoute:!0},unstable_onError:s}):J()},null)}function wg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TD(r){let e=L.useContext(ko);return ct(e,wg(r)),e}function bD(r){let e=L.useContext(bf);return ct(e,wg(r)),e}function AD(r){let e=L.useContext(ui);return ct(e,wg(r)),e}function Rg(r){let e=AD(r),n=e.matches[e.matches.length-1];return ct(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function SD(){return Rg("useRouteId")}function wD(){let r=L.useContext(Sg),e=bD("useRouteError"),n=Rg("useRouteError");return r!==void 0?r:e.errors?.[n]}function RD(){let{router:r}=TD("useNavigate"),e=Rg("useNavigate"),n=L.useRef(!1);return xb(()=>{n.current=!0}),L.useCallback(async(o,u={})=>{oi(n.current,Ib),n.current&&(typeof o=="number"?r.navigate(o):await r.navigate(o,{fromRouteId:e,...u}))},[r,e])}var q0={};function Db(r,e,n){!e&&!q0[r]&&(q0[r]=!0,oi(!1,n))}L.memo(CD);function CD({routes:r,future:e,state:n,unstable_onError:s}){return Nb(r,void 0,n,s,e)}function Cg({to:r,replace:e,state:n,relative:s}){ct(Po(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=L.useContext(li);oi(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=L.useContext(ui),{pathname:f}=vs(),p=Lo(),g=Ag(r,bg(u),f,s==="path"),y=JSON.stringify(g);return L.useEffect(()=>{p(JSON.parse(y),{replace:e,state:n,relative:s})},[p,y,s,e,n]),null}function zt(r){ct(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ID({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ct(!Po(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),p=L.useMemo(()=>({basename:f,navigator:o,static:u,future:{}}),[f,o,u]);typeof n=="string"&&(n=jo(n));let{pathname:g="/",search:y="",hash:T="",state:A=null,key:w="default"}=n,j=L.useMemo(()=>{let F=pr(g,f);return F==null?null:{location:{pathname:F,search:y,hash:T,state:A,key:w},navigationType:s}},[f,g,y,T,A,w,s]);return oi(j!=null,`<Router basename="${f}"> is not able to match the URL "${g}${y}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:L.createElement(li.Provider,{value:p},L.createElement(Mu.Provider,{children:e,value:j}))}function xD({children:r,location:e}){return pD(Ep(r),e)}function Ep(r,e=[]){let n=[];return L.Children.forEach(r,(s,o)=>{if(!L.isValidElement(s))return;let u=[...e,o];if(s.type===L.Fragment){n.push.apply(n,Ep(s.props.children,u));return}ct(s.type===zt,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ct(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Ep(s.props.children,u)),n.push(f)}),n}var xh="get",Nh="application/x-www-form-urlencoded";function Sf(r){return r!=null&&typeof r.tagName=="string"}function ND(r){return Sf(r)&&r.tagName.toLowerCase()==="button"}function DD(r){return Sf(r)&&r.tagName.toLowerCase()==="form"}function OD(r){return Sf(r)&&r.tagName.toLowerCase()==="input"}function MD(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function VD(r,e){return r.button===0&&(!e||e==="_self")&&!MD(r)}var yh=null;function jD(){if(yh===null)try{new FormData(document.createElement("form"),0),yh=!1}catch{yh=!0}return yh}var kD=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fm(r){return r!=null&&!kD.has(r)?(oi(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Nh}"`),null):r}function PD(r,e){let n,s,o,u,f;if(DD(r)){let p=r.getAttribute("action");s=p?pr(p,e):null,n=r.getAttribute("method")||xh,o=Fm(r.getAttribute("enctype"))||Nh,u=new FormData(r)}else if(ND(r)||OD(r)&&(r.type==="submit"||r.type==="image")){let p=r.form;if(p==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=r.getAttribute("formaction")||p.getAttribute("action");if(s=g?pr(g,e):null,n=r.getAttribute("formmethod")||p.getAttribute("method")||xh,o=Fm(r.getAttribute("formenctype"))||Fm(p.getAttribute("enctype"))||Nh,u=new FormData(p,r),!jD()){let{name:y,type:T,value:A}=r;if(T==="image"){let w=y?`${y}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else y&&u.append(y,A)}}else{if(Sf(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=xh,s=null,o=Nh,f=r}return u&&o==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ig(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function LD(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&pr(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function UD(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zD(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function BD(r,e,n){let s=await Promise.all(r.map(async o=>{let u=e.routes[o.route.id];if(u){let f=await UD(u,n);return f.links?f.links():[]}return[]}));return GD(s.flat(1).filter(zD).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function H0(r,e,n,s,o,u){let f=(g,y)=>n[y]?g.route.id!==n[y].route.id:!0,p=(g,y)=>n[y].pathname!==g.pathname||n[y].route.path?.endsWith("*")&&n[y].params["*"]!==g.params["*"];return u==="assets"?e.filter((g,y)=>f(g,y)||p(g,y)):u==="data"?e.filter((g,y)=>{let T=s.routes[g.route.id];if(!T||!T.hasLoader)return!1;if(f(g,y)||p(g,y))return!0;if(g.route.shouldRevalidate){let A=g.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function qD(r,e,{includeHydrateFallback:n}={}){return HD(r.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function HD(r){return[...new Set(r)]}function FD(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function GD(r,e){let n=new Set;return new Set(e),r.reduce((s,o)=>{let u=JSON.stringify(FD(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function Ob(){let r=L.useContext(ko);return Ig(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function QD(){let r=L.useContext(bf);return Ig(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var xg=L.createContext(void 0);xg.displayName="FrameworkContext";function Mb(){let r=L.useContext(xg);return Ig(r,"You must render this element inside a <HydratedRouter> element"),r}function KD(r,e){let n=L.useContext(xg),[s,o]=L.useState(!1),[u,f]=L.useState(!1),{onFocus:p,onBlur:g,onMouseEnter:y,onMouseLeave:T,onTouchStart:A}=e,w=L.useRef(null);L.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=J=>{J.forEach(ie=>{f(ie.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return w.current&&H.observe(w.current),()=>{H.disconnect()}}},[r]),L.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let j=()=>{o(!0)},F=()=>{o(!1),f(!1)};return n?r!=="intent"?[u,w,{}]:[u,w,{onFocus:Kl(p,j),onBlur:Kl(g,F),onMouseEnter:Kl(y,j),onMouseLeave:Kl(T,F),onTouchStart:Kl(A,j)}]:[!1,w,{}]}function Kl(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function YD({page:r,...e}){let{router:n}=Ob(),s=L.useMemo(()=>Ab(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?L.createElement(XD,{page:r,matches:s,...e}):null}function $D(r){let{manifest:e,routeModules:n}=Mb(),[s,o]=L.useState([]);return L.useEffect(()=>{let u=!1;return BD(r,e,n).then(f=>{u||o(f)}),()=>{u=!0}},[r,e,n]),s}function XD({page:r,matches:e,...n}){let s=vs(),{manifest:o,routeModules:u}=Mb(),{basename:f}=Ob(),{loaderData:p,matches:g}=QD(),y=L.useMemo(()=>H0(r,e,g,o,s,"data"),[r,e,g,o,s]),T=L.useMemo(()=>H0(r,e,g,o,s,"assets"),[r,e,g,o,s]),A=L.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let F=new Set,X=!1;if(e.forEach(J=>{let ie=o.routes[J.route.id];!ie||!ie.hasLoader||(!y.some(re=>re.route.id===J.route.id)&&J.route.id in p&&u[J.route.id]?.shouldRevalidate||ie.hasClientLoader?X=!0:F.add(J.route.id))}),F.size===0)return[];let H=LD(r,f,"data");return X&&F.size>0&&H.searchParams.set("_routes",e.filter(J=>F.has(J.route.id)).map(J=>J.route.id).join(",")),[H.pathname+H.search]},[f,p,s,o,y,e,r,u]),w=L.useMemo(()=>qD(T,o),[T,o]),j=$D(T);return L.createElement(L.Fragment,null,A.map(F=>L.createElement("link",{key:F,rel:"prefetch",as:"fetch",href:F,...n})),w.map(F=>L.createElement("link",{key:F,rel:"modulepreload",href:F,...n})),j.map(({key:F,link:X})=>L.createElement("link",{key:F,nonce:n.nonce,...X})))}function JD(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Vb&&(window.__reactRouterVersion="7.9.4")}catch{}function ZD({basename:r,children:e,window:n}){let s=L.useRef();s.current==null&&(s.current=zN({window:n,v5Compat:!0}));let o=s.current,[u,f]=L.useState({action:o.action,location:o.location}),p=L.useCallback(g=>{L.startTransition(()=>f(g))},[f]);return L.useLayoutEffect(()=>o.listen(p),[o,p]),L.createElement(ID,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:o})}var jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wf=L.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:f,state:p,target:g,to:y,preventScrollReset:T,viewTransition:A,...w},j){let{basename:F}=L.useContext(li),X=typeof y=="string"&&jb.test(y),H,J=!1;if(typeof y=="string"&&X&&(H=y,Vb))try{let I=new URL(window.location.href),V=y.startsWith("//")?new URL(I.protocol+y):new URL(y),O=pr(V.pathname,F);V.origin===I.origin&&O!=null?y=O+V.search+V.hash:J=!0}catch{oi(!1,`<Link to="${y}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ie=dD(y,{relative:o}),[re,pe,_e]=KD(s,w),Ee=tO(y,{replace:f,state:p,target:g,preventScrollReset:T,relative:o,viewTransition:A});function N(I){e&&e(I),I.defaultPrevented||Ee(I)}let R=L.createElement("a",{...w,..._e,href:H||ie,onClick:J||u?e:N,ref:JD(j,pe),target:g,"data-discover":!X&&n==="render"?"true":void 0});return re&&!X?L.createElement(L.Fragment,null,R,L.createElement(YD,{page:ie})):R});wf.displayName="Link";var kb=L.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:f,viewTransition:p,children:g,...y},T){let A=Vu(f,{relative:y.relative}),w=vs(),j=L.useContext(bf),{navigator:F,basename:X}=L.useContext(li),H=j!=null&&aO(A)&&p===!0,J=F.encodeLocation?F.encodeLocation(A).pathname:A.pathname,ie=w.pathname,re=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ie=ie.toLowerCase(),re=re?re.toLowerCase():null,J=J.toLowerCase()),re&&X&&(re=pr(re,X)||re);const pe=J!=="/"&&J.endsWith("/")?J.length-1:J.length;let _e=ie===J||!o&&ie.startsWith(J)&&ie.charAt(pe)==="/",Ee=re!=null&&(re===J||!o&&re.startsWith(J)&&re.charAt(J.length)==="/"),N={isActive:_e,isPending:Ee,isTransitioning:H},R=_e?e:void 0,I;typeof s=="function"?I=s(N):I=[s,_e?"active":null,Ee?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(N):u;return L.createElement(wf,{...y,"aria-current":R,className:I,ref:T,style:V,to:f,viewTransition:p},typeof g=="function"?g(N):g)});kb.displayName="NavLink";var WD=L.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:f=xh,action:p,onSubmit:g,relative:y,preventScrollReset:T,viewTransition:A,...w},j)=>{let F=rO(),X=sO(p,{relative:y}),H=f.toLowerCase()==="get"?"get":"post",J=typeof p=="string"&&jb.test(p),ie=re=>{if(g&&g(re),re.defaultPrevented)return;re.preventDefault();let pe=re.nativeEvent.submitter,_e=pe?.getAttribute("formmethod")||f;F(pe||re.currentTarget,{fetcherKey:e,method:_e,navigate:n,replace:o,state:u,relative:y,preventScrollReset:T,viewTransition:A})};return L.createElement("form",{ref:j,method:H,action:X,onSubmit:s?g:ie,...w,"data-discover":!J&&r==="render"?"true":void 0})});WD.displayName="Form";function eO(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Pb(r){let e=L.useContext(ko);return ct(e,eO(r)),e}function tO(r,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:f}={}){let p=Lo(),g=vs(),y=Vu(r,{relative:u});return L.useCallback(T=>{if(VD(T,e)){T.preventDefault();let A=n!==void 0?n:Eu(g)===Eu(y);p(r,{replace:A,state:s,preventScrollReset:o,relative:u,viewTransition:f})}},[g,p,y,n,s,e,r,o,u,f])}var nO=0,iO=()=>`__${String(++nO)}__`;function rO(){let{router:r}=Pb("useSubmit"),{basename:e}=L.useContext(li),n=SD();return L.useCallback(async(s,o={})=>{let{action:u,method:f,encType:p,formData:g,body:y}=PD(s,e);if(o.navigate===!1){let T=o.fetcherKey||iO();await r.fetch(T,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,flushSync:o.flushSync})}else await r.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:g,body:y,formMethod:o.method||f,formEncType:o.encType||p,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[r,e,n])}function sO(r,{relative:e}={}){let{basename:n}=L.useContext(li),s=L.useContext(ui);ct(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Vu(r||".",{relative:e})},f=vs();if(r==null){u.search=f.search;let p=new URLSearchParams(u.search),g=p.getAll("index");if(g.some(T=>T==="")){p.delete("index"),g.filter(A=>A).forEach(A=>p.append("index",A));let T=p.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:cr([n,u.pathname])),Eu(u)}function aO(r,{relative:e}={}){let n=L.useContext(Cb);ct(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=Pb("useViewTransitionState"),o=Vu(r,{relative:e});if(!n.isTransitioning)return!1;let u=pr(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=pr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Xh(o.pathname,f)!=null||Xh(o.pathname,u)!=null}const or={home:"/",login:"/login",register:"/register",dashboard:"/dashboard"},Uo=()=>{const r=L.useContext(bb);if(r===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return r};function pn({children:r}){const{user:e,loading:n}=Uo();return e?n?null:m.jsx(m.Fragment,{children:r}):m.jsx(Cg,{to:or.login})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oO=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),lO=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),F0=r=>{const e=lO(r);return e.charAt(0).toUpperCase()+e.slice(1)},Lb=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),uO=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hO=L.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:f,...p},g)=>L.createElement("svg",{ref:g,...cO,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Lb("lucide",o),...!u&&!uO(p)&&{"aria-hidden":"true"},...p},[...f.map(([y,T])=>L.createElement(y,T)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oe=(r,e)=>{const n=L.forwardRef(({className:s,...o},u)=>L.createElement(hO,{ref:u,iconNode:e,className:Lb(`lucide-${oO(F0(r))}`,`lucide-${r}`,s),...o}));return n.displayName=F0(r),n};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],dO=Oe("activity",fO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],pO=Oe("arrow-left",mO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],yO=Oe("box",gO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],go=Oe("building-2",_O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vO=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],_h=Oe("building",vO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],TO=Oe("calendar",EO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],AO=Oe("chart-pie",bO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],to=Oe("check",SO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],zo=Oe("circle-alert",wO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RO=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],G0=Oe("clock",RO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CO=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jh=Oe("dollar-sign",CO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IO=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],Ng=Oe("ellipsis-vertical",IO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Tp=Oe("eye-off",xO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bp=Oe("eye",NO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DO=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ub=Oe("file-text",DO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],MO=Oe("funnel",OO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],jO=Oe("git-branch",VO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kO=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],PO=Oe("house",kO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LO=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],UO=Oe("layers",LO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zO=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],BO=Oe("layout-grid",zO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],HO=Oe("list",qO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],os=Oe("loader-circle",FO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GO=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Ap=Oe("lock",GO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KO=Oe("log-out",QO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],zb=Oe("mail",YO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $O=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],XO=Oe("map-pin",$O);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ZO=Oe("package",JO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Ro=Oe("plus",WO);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eM=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],tM=Oe("ruler",eM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nM=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],iM=Oe("search",nM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rM=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sM=Oe("settings",rM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aM=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],oM=Oe("square-check-big",aM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Dg=Oe("square-pen",lM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Og=Oe("trash-2",uM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cM=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Bb=Oe("trending-up",cM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hM=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],fM=Oe("triangle-alert",hM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],mM=Oe("truck",dM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gM=Oe("user",pM);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ls=Oe("x",yM),Q0=()=>{const[r,e]=L.useState(""),[n,s]=L.useState(""),[o,u]=L.useState(!1),{login:f,loading:p,error:g,clearError:y}=Uo(),T=Lo(),A=async w=>{if(w.preventDefault(),y(),!(!r||!n))try{await f({email:r,password:n}),T(or.dashboard)}catch(j){console.error("Erro no login:",j)}};return m.jsx("div",{className:"login-container",children:m.jsxs("div",{className:"login-content",children:[m.jsxs("div",{className:"login-left",children:[m.jsxs("div",{className:"login-brand",children:[m.jsx("div",{className:"brand-icon",children:m.jsx(go,{size:32})}),m.jsx("h1",{children:"Gestão de Obras"}),m.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),m.jsxs("div",{className:"login-features",children:[m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:m.jsx(dO,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Controle Total"}),m.jsx("p",{children:"Gerencie vagões, custos e estoque em tempo real"})]})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:m.jsx(BO,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Gestão de Contratos"}),m.jsx("p",{children:"Acompanhe medições, kits e checklists"})]})]}),m.jsxs("div",{className:"feature-item",children:[m.jsx("div",{className:"feature-icon",children:m.jsx(Jh,{size:24})}),m.jsxs("div",{children:[m.jsx("h3",{children:"Análise Financeira"}),m.jsx("p",{children:"Relatórios detalhados de custos e produção"})]})]})]})]}),m.jsx("div",{className:"login-right",children:m.jsxs("div",{className:"login-form-wrapper",children:[m.jsxs("div",{className:"login-header",children:[m.jsx("h2",{children:"Bem-vindo de volta"}),m.jsx("p",{children:"Entre com suas credenciais para acessar o sistema"})]}),g&&m.jsxs("div",{className:"error-message",children:[m.jsx(zo,{size:20}),m.jsx("span",{children:g})]}),m.jsxs("form",{onSubmit:A,className:"login-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"E-mail"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(zb,{className:"input-icon",size:20}),m.jsx("input",{type:"email",id:"email",value:r,onChange:w=>e(w.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:p})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Senha"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(Ap,{className:"input-icon",size:20}),m.jsx("input",{type:o?"text":"password",id:"password",value:n,onChange:w=>s(w.target.value),placeholder:"••••••••",required:!0,autoComplete:"current-password",disabled:p}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!o),tabIndex:-1,children:o?m.jsx(Tp,{size:20}):m.jsx(bp,{size:20})})]})]}),m.jsx("button",{type:"submit",className:"btn-primary",disabled:p,children:p?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"spinner"}),"Entrando..."]}):"Entrar"})]}),m.jsx("div",{className:"login-footer",children:m.jsxs("p",{children:["Não tem uma conta?"," ",m.jsx(wf,{to:or.register,className:"link-primary",children:"Cadastre-se"})]})})]})})]})})},_M=r=>r==="admin@gmail.com"?"admin":"user",vM=()=>{const[r,e]=L.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),[n,s]=L.useState(!1),[o,u]=L.useState(!1),[f,p]=L.useState(""),{register:g,loading:y,error:T,clearError:A}=Uo(),w=Lo(),j=J=>{const{name:ie,value:re}=J.target;e(pe=>({...pe,[ie]:re})),p(""),A()},F=()=>!r.name||!r.email||!r.password||!r.confirmPassword?(p("Todos os campos são obrigatórios"),!1):r.name.length<3?(p("O nome deve ter pelo menos 3 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?r.password.length<6?(p("A senha deve ter pelo menos 6 caracteres"),!1):r.password!==r.confirmPassword?(p("As senhas não coincidem"),!1):!0:(p("Digite um e-mail válido"),!1),X=async J=>{if(J.preventDefault(),A(),p(""),!!F())try{await g({name:r.name,email:r.email,password:r.password,role:_M(r.email)}),w(or.dashboard)}catch(ie){console.error("Erro no registro:",ie)}},H=f||T;return m.jsx("div",{className:"register-container",children:m.jsxs("div",{className:"register-content",children:[m.jsxs("div",{className:"register-left",children:[m.jsxs("div",{className:"register-brand",children:[m.jsx("div",{className:"brand-icon",children:m.jsx(go,{size:32})}),m.jsx("h1",{children:"Gestão de Obras"}),m.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),m.jsxs("div",{className:"register-benefits",children:[m.jsx("h3",{children:"Ao criar sua conta, você terá acesso a:"}),m.jsxs("ul",{className:"benefits-list",children:[m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Controle completo de vagões e equipamentos"})]}),m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Gestão de custos e orçamentos em tempo real"})]}),m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Controle de estoque e materiais"})]}),m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Gerenciamento de contratos e documentos"})]}),m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Acompanhamento de medições e produção"})]}),m.jsxs("li",{children:[m.jsx(to,{size:20}),m.jsx("span",{children:"Relatórios e análises detalhadas"})]})]})]})]}),m.jsx("div",{className:"register-right",children:m.jsxs("div",{className:"register-form-wrapper",children:[m.jsxs("div",{className:"register-header",children:[m.jsx("h2",{children:"Criar nova conta"}),m.jsx("p",{children:"Preencha os dados abaixo para começar"})]}),H&&m.jsxs("div",{className:"error-message",children:[m.jsx(zo,{size:20}),m.jsx("span",{children:H})]}),m.jsxs("form",{onSubmit:X,className:"register-form",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"name",children:"Nome completo"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(gM,{className:"input-icon",size:20}),m.jsx("input",{type:"text",id:"name",name:"name",value:r.name,onChange:j,placeholder:"Seu nome completo",required:!0,autoComplete:"name",disabled:y})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"email",children:"E-mail"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(zb,{className:"input-icon",size:20}),m.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:j,placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:y})]})]}),m.jsxs("div",{className:"form-row",children:[m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"password",children:"Senha"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(Ap,{className:"input-icon",size:20}),m.jsx("input",{type:n?"text":"password",id:"password",name:"password",value:r.password,onChange:j,placeholder:"••••••••",required:!0,autoComplete:"new-password",disabled:y}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>s(!n),tabIndex:-1,children:n?m.jsx(Tp,{size:20}):m.jsx(bp,{size:20})})]})]}),m.jsxs("div",{className:"form-group",children:[m.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar senha"}),m.jsxs("div",{className:"input-wrapper",children:[m.jsx(Ap,{className:"input-icon",size:20}),m.jsx("input",{type:o?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:j,placeholder:"••••••••",required:!0,autoComplete:"new-password",disabled:y}),m.jsx("button",{type:"button",className:"password-toggle",onClick:()=>u(!o),tabIndex:-1,children:o?m.jsx(Tp,{size:20}):m.jsx(bp,{size:20})})]})]})]}),m.jsx("button",{type:"submit",className:"btn-primary",disabled:y,children:y?m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"spinner"}),"Criando conta..."]}):"Criar conta"})]}),m.jsx("div",{className:"register-footer",children:m.jsxs("p",{children:["Já tem uma conta?"," ",m.jsx(wf,{to:or.login,className:"link-primary",children:"Faça login"})]})})]})})]})})},Yl="obras",Gm={async createObra(r,e){try{const n={nome:r.nome,numeroPavimentos:r.numeroPavimentos,numeroTorres:r.numeroTorres,userId:e,status:"ativa",createdAt:De.now(),updatedAt:De.now()};return{id:(await Tg(So(vt,Yl),n)).id,...n,createdAt:new Date,updatedAt:new Date}}catch(n){throw console.error("Erro ao criar obra:",n),new Error("Não foi possível criar a obra. Tente novamente.")}},async getObrasByUser(r){try{const e=mg(So(vt,Yl),pg("userId","==",r),_g("createdAt","desc")),n=await vg(e),s=[];return n.forEach(o=>{const u=o.data();s.push({id:o.id,nome:u.nome,numeroPavimentos:u.numeroPavimentos,numeroTorres:u.numeroTorres,userId:u.userId,status:u.status,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}),s}catch(e){throw console.error("Erro ao buscar obras:",e),new Error("Não foi possível carregar as obras. Tente novamente.")}},async updateObra(r,e){try{const n=nn(vt,Yl,r);await vu(n,{...e,updatedAt:De.now()})}catch(n){throw console.error("Erro ao atualizar obra:",n),new Error("Não foi possível atualizar a obra. Tente novamente.")}},async deleteObra(r){try{await Eg(nn(vt,Yl,r))}catch(e){throw console.error("Erro ao deletar obra:",e),new Error("Não foi possível deletar a obra. Tente novamente.")}},async updateObraStatus(r,e){try{const n=nn(vt,Yl,r);await vu(n,{status:e,updatedAt:De.now()})}catch(n){throw console.error("Erro ao atualizar status:",n),new Error("Não foi possível atualizar o status. Tente novamente.")}}},EM=()=>{const{user:r,logout:e}=Uo(),n=Lo(),[s,o]=L.useState([]),[u,f]=L.useState([]),[p,g]=L.useState(""),[y,T]=L.useState("todas"),[A,w]=L.useState(!0),[j,F]=L.useState(null),[X,H]=L.useState(!1),[J,ie]=L.useState(!1),[re,pe]=L.useState(null),[_e,Ee]=L.useState({nome:"",numeroPavimentos:1,numeroTorres:1}),N=L.useCallback(async()=>{if(r)try{w(!0),F(null);const se=await Gm.getObrasByUser(r.uid);o(se),f(se)}catch(se){F(se instanceof Error?se.message:"Erro ao carregar obras")}finally{w(!1)}},[r]),R=L.useCallback(()=>{let se=[...s];p&&(se=se.filter(Me=>Me.nome.toLowerCase().includes(p.toLowerCase()))),y!=="todas"&&(se=se.filter(Me=>Me.status===y)),f(se)},[s,p,y]);L.useEffect(()=>{N()},[N]),L.useEffect(()=>{R()},[R]);const I=async se=>{if(se.preventDefault(),!!r)try{ie(!0),F(null),await Gm.createObra(_e,r.uid),H(!1),Ee({nome:"",numeroPavimentos:1,numeroTorres:1}),await N()}catch(Me){F(Me instanceof Error?Me.message:"Erro ao criar obra")}finally{ie(!1)}},V=async()=>{try{await e(),n("/login")}catch(se){console.error("Erro ao fazer logout:",se)}},O=async se=>{if(confirm("Tem certeza que deseja excluir esta obra?"))try{await Gm.deleteObra(se),await N(),pe(null)}catch(Me){F(Me instanceof Error?Me.message:"Erro ao deletar obra")}},C=se=>{switch(se){case"ativa":return"status-ativa";case"pausada":return"status-pausada";case"concluida":return"status-concluida";default:return""}},x=se=>{switch(se){case"ativa":return"Ativa";case"pausada":return"Pausada";case"concluida":return"Concluída";default:return se}};return m.jsxs("div",{className:"dashboard-container",children:[m.jsx("header",{className:"dashboard-header",children:m.jsxs("div",{className:"header-content",children:[m.jsxs("div",{className:"header-left",children:[m.jsx("div",{className:"header-icon",children:m.jsx(go,{size:28})}),m.jsxs("div",{className:"header-info",children:[m.jsx("h1",{children:"Gestão de Obras"}),m.jsxs("p",{children:["Bem-vindo, ",r?.name]})]})]}),m.jsx("div",{className:"header-right",children:m.jsxs("button",{onClick:V,className:"btn-logout",children:[m.jsx(KO,{size:20}),m.jsx("span",{children:"Sair"})]})})]})}),m.jsx("main",{className:"dashboard-main",children:m.jsxs("div",{className:"dashboard-content",children:[m.jsxs("div",{className:"toolbar",children:[m.jsxs("div",{className:"toolbar-left",children:[m.jsxs("div",{className:"search-box",children:[m.jsx(iM,{size:20}),m.jsx("input",{type:"text",placeholder:"Buscar obra...",value:p,onChange:se=>g(se.target.value)})]}),m.jsxs("div",{className:"filter-box",children:[m.jsx(MO,{size:20}),m.jsxs("select",{value:y,onChange:se=>T(se.target.value),children:[m.jsx("option",{value:"todas",children:"Todas"}),m.jsx("option",{value:"ativa",children:"Ativas"}),m.jsx("option",{value:"pausada",children:"Pausadas"}),m.jsx("option",{value:"concluida",children:"Concluídas"})]})]})]}),m.jsx("div",{className:"toolbar-right",children:m.jsxs("button",{onClick:()=>H(!0),className:"btn-primary-action",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Nova Obra"})]})})]}),j&&m.jsxs("div",{className:"error-banner",children:[m.jsx(zo,{size:20}),m.jsx("span",{children:j}),m.jsx("button",{onClick:()=>F(null),children:m.jsx(ls,{size:18})})]}),A?m.jsxs("div",{className:"loading-state",children:[m.jsx(os,{size:48,className:"dashboard-spinner-large"}),m.jsx("p",{children:"Carregando obras..."})]}):u.length===0?m.jsxs("div",{className:"empty-state",children:[m.jsx(go,{size:64}),m.jsx("h2",{children:"Nenhuma obra encontrada"}),m.jsx("p",{children:p||y!=="todas"?"Tente ajustar os filtros de busca":"Comece criando sua primeira obra"}),!p&&y==="todas"&&m.jsxs("button",{onClick:()=>H(!0),className:"btn-primary-action",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Criar Primeira Obra"})]})]}):m.jsx("div",{className:"obras-grid",children:u.map(se=>m.jsxs("div",{className:"obra-card",children:[m.jsxs("div",{className:"obra-card-header",children:[m.jsx("div",{className:"obra-icon",children:m.jsx(go,{size:24})}),m.jsxs("div",{className:"obra-menu",children:[m.jsx("button",{onClick:()=>pe(re===se.id?null:se.id),className:"menu-button",children:m.jsx(Ng,{size:20})}),re===se.id&&m.jsxs("div",{className:"dropdown-menu",children:[m.jsxs("button",{onClick:()=>{pe(null)},children:[m.jsx(Dg,{size:16}),m.jsx("span",{children:"Editar"})]}),m.jsxs("button",{onClick:()=>O(se.id),className:"delete-action",children:[m.jsx(Og,{size:16}),m.jsx("span",{children:"Excluir"})]})]})]})]}),m.jsxs("div",{className:"obra-content",children:[m.jsx("h3",{children:se.nome}),m.jsxs("div",{className:"obra-details",children:[m.jsxs("div",{className:"detail-item",children:[m.jsx(UO,{size:16}),m.jsxs("span",{children:[se.numeroPavimentos," ",se.numeroPavimentos===1?"Pavimento":"Pavimentos"]})]}),m.jsxs("div",{className:"detail-item",children:[m.jsx(PO,{size:16}),m.jsxs("span",{children:[se.numeroTorres," ",se.numeroTorres===1?"Torre":"Torres"]})]})]}),m.jsx("div",{className:"obra-status",children:m.jsx("span",{className:`status-badge ${C(se.status)}`,children:x(se.status)})})]}),m.jsx("div",{className:"obra-footer",children:m.jsx("button",{onClick:()=>n(`/obras/${se.id}`),className:"btn-view-obra",children:"Acessar Obra"})})]},se.id))})]})}),X&&m.jsx("div",{className:"dashboard-modal-overlay",onClick:()=>H(!1),children:m.jsxs("div",{className:"dashboard-modal-content",onClick:se=>se.stopPropagation(),children:[m.jsxs("div",{className:"dashboard-modal-header",children:[m.jsx("h2",{children:"Nova Obra"}),m.jsx("button",{onClick:()=>H(!1),className:"dashboard-modal-close",children:m.jsx(ls,{size:24})})]}),m.jsxs("form",{onSubmit:I,className:"dashboard-modal-form",children:[m.jsxs("div",{className:"dashboard-form-group",children:[m.jsx("label",{htmlFor:"nome",children:"Nome da Obra *"}),m.jsx("input",{type:"text",id:"nome",value:_e.nome,onChange:se=>Ee({..._e,nome:se.target.value}),placeholder:"Ex: Residencial Sunset Boulevard",required:!0,disabled:J})]}),m.jsxs("div",{className:"dashboard-form-row",children:[m.jsxs("div",{className:"dashboard-form-group",children:[m.jsx("label",{htmlFor:"pavimentos",children:"Nº de Pavimentos *"}),m.jsx("input",{type:"number",id:"pavimentos",min:"1",value:_e.numeroPavimentos,onChange:se=>Ee({..._e,numeroPavimentos:parseInt(se.target.value)||1}),required:!0,disabled:J})]}),m.jsxs("div",{className:"dashboard-form-group",children:[m.jsx("label",{htmlFor:"torres",children:"Nº de Torres *"}),m.jsx("input",{type:"number",id:"torres",min:"1",value:_e.numeroTorres,onChange:se=>Ee({..._e,numeroTorres:parseInt(se.target.value)||1}),required:!0,disabled:J})]})]}),m.jsxs("div",{className:"dashboard-modal-actions",children:[m.jsx("button",{type:"button",onClick:()=>H(!1),className:"dashboard-btn-secondary",disabled:J,children:"Cancelar"}),m.jsx("button",{type:"submit",className:"dashboard-btn-primary",disabled:J,children:J?m.jsxs(m.Fragment,{children:[m.jsx(os,{size:18,className:"dashboard-spinner-small"}),"Criando..."]}):"Criar Obra"})]})]})]})})]})},TM=({obraNome:r})=>{const e=Lo(),{user:n}=Uo();return m.jsx("header",{className:"obra-header",children:m.jsxs("div",{className:"obra-header-content",children:[m.jsxs("div",{className:"obra-header-left",children:[m.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-back",title:"Voltar ao Dashboard",children:m.jsx(pO,{size:20})}),m.jsx("div",{className:"obra-header-divider"}),m.jsx("div",{className:"obra-header-icon",children:m.jsx(go,{size:24})}),m.jsxs("div",{className:"obra-header-info",children:[m.jsx("h1",{children:r}),m.jsx("p",{children:"Gerenciamento de obra"})]})]}),m.jsxs("div",{className:"obra-header-right",children:[m.jsxs("div",{className:"obra-header-user",children:[m.jsx("div",{className:"user-avatar",children:n?.name.charAt(0).toUpperCase()}),m.jsx("span",{children:n?.name})]}),m.jsx("button",{className:"btn-settings",title:"Configurações",children:m.jsx(sM,{size:20})})]})]})})},bM=()=>{const{obraId:r}=Af(),e=[{id:"vagoes",label:"Vagões",icon:m.jsx(mM,{size:20}),path:`/obras/${r}/vagoes`},{id:"custo-vagoes",label:"Custo Orçado dos Vagões",icon:m.jsx(Jh,{size:20}),path:`/obras/${r}/custo-vagoes`},{id:"estoque-insumos",label:"Estoque de Insumos",icon:m.jsx(ZO,{size:20}),path:`/obras/${r}/estoque-insumos`},{id:"itens",label:"Itens",icon:m.jsx(HO,{size:20}),path:`/obras/${r}/itens`},{id:"contrato",label:"Contrato",icon:m.jsx(Ub,{size:20}),path:`/obras/${r}/contrato`},{id:"checklist-mensal",label:"Checklist Mensal",icon:m.jsx(oM,{size:20}),path:`/obras/${r}/checklist-mensal`},{id:"medicao",label:"Medição",icon:m.jsx(tM,{size:20}),path:`/obras/${r}/medicao`},{id:"producao",label:"Produção",icon:m.jsx(Bb,{size:20}),path:`/obras/${r}/producao`},{id:"producao-faltante",label:"Produção Faltante",icon:m.jsx(fM,{size:20}),path:`/obras/${r}/producao-faltante`},{id:"estoque-kits",label:"Estoque de Kits",icon:m.jsx(yO,{size:20}),path:`/obras/${r}/estoque-kits`},{id:"material-faltante",label:"Material Faltante",icon:m.jsx(zo,{size:20}),path:`/obras/${r}/material-faltante`},{id:"mapa-restricoes",label:"Mapa de Restrições",icon:m.jsx(XO,{size:20}),path:`/obras/${r}/mapa-restricoes`}];return m.jsx("aside",{className:"obra-sidebar",children:m.jsx("nav",{className:"sidebar-nav",children:m.jsxs("div",{className:"sidebar-section",children:[m.jsx("h3",{className:"sidebar-section-title",children:"Módulos da Obra"}),m.jsx("ul",{className:"sidebar-menu",children:e.map((n,s)=>m.jsx("li",{style:{animationDelay:`${s*.05}s`},children:m.jsxs(kb,{to:n.path,className:({isActive:o})=>`sidebar-link ${o?"active":""}`,children:[m.jsx("span",{className:"sidebar-icon",children:n.icon}),m.jsx("span",{className:"sidebar-label",children:n.label})]})},n.id))})]})})})},Cn=({children:r})=>{const{obraId:e}=Af(),{user:n}=Uo(),[s,o]=L.useState(null),[u,f]=L.useState(!0),[p,g]=L.useState(!1);return L.useEffect(()=>{(async()=>{if(!(!e||!n))try{f(!0);const T=await wo(nn(vt,"obras",e));if(!T.exists()){g(!0);return}const A=T.data();if(A.userId!==n.uid){g(!0);return}o({id:T.id,...A,createdAt:A.createdAt?.toDate()||new Date,updatedAt:A.updatedAt?.toDate()||new Date})}catch(T){console.error("Erro ao carregar obra:",T),g(!0)}finally{f(!1)}})()},[e,n]),u?m.jsxs("div",{className:"obra-layout-loading",children:[m.jsx(os,{size:48,className:"spinner-rotate"}),m.jsx("p",{children:"Carregando obra..."})]}):p||!s?m.jsx(Cg,{to:"/dashboard",replace:!0}):m.jsxs("div",{className:"obra-layout",children:[m.jsx(TM,{obraNome:s.nome}),m.jsxs("div",{className:"obra-layout-body",children:[m.jsx(bM,{}),m.jsx("main",{className:"obra-layout-content",children:r})]})]})},no="vagoes",oo={async createVagao(r,e){try{const n={obraId:r,numero:e.numero,predecessorId:e.predecessorId,dataInicio:De.fromDate(e.dataInicio),dataFim:De.fromDate(e.dataFim),numeroApartamentos:e.numeroApartamentos,createdAt:De.now(),updatedAt:De.now()},s=await Tg(So(vt,no),n);let o;if(e.predecessorId){const u=await wo(nn(vt,no,e.predecessorId));u.exists()&&(o=u.data().numero)}return{id:s.id,obraId:r,numero:e.numero,predecessorId:e.predecessorId,predecessorNumero:o,dataInicio:e.dataInicio,dataFim:e.dataFim,numeroApartamentos:e.numeroApartamentos,createdAt:new Date,updatedAt:new Date}}catch(n){throw console.error("Erro ao criar vagão:",n),new Error("Não foi possível criar o vagão. Tente novamente.")}},async getVagoesByObra(r){try{const e=mg(So(vt,no),pg("obraId","==",r),_g("numero","asc")),n=await vg(e),s=[];for(const o of n.docs){const u=o.data();let f;if(u.predecessorId){const p=await wo(nn(vt,no,u.predecessorId));p.exists()&&(f=p.data().numero)}s.push({id:o.id,obraId:u.obraId,numero:u.numero,predecessorId:u.predecessorId||null,predecessorNumero:f,dataInicio:u.dataInicio?.toDate()||new Date,dataFim:u.dataFim?.toDate()||new Date,numeroApartamentos:u.numeroApartamentos,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}return s}catch(e){throw console.error("Erro ao buscar vagões:",e),new Error("Não foi possível carregar os vagões. Tente novamente.")}},async updateVagao(r,e){try{const n={updatedAt:De.now()};e.predecessorId!==void 0&&(n.predecessorId=e.predecessorId),e.dataInicio&&(n.dataInicio=De.fromDate(e.dataInicio)),e.dataFim&&(n.dataFim=De.fromDate(e.dataFim)),e.numeroApartamentos!==void 0&&(n.numeroApartamentos=e.numeroApartamentos);const s=nn(vt,no,r);await vu(s,n)}catch(n){throw console.error("Erro ao atualizar vagão:",n),new Error("Não foi possível atualizar o vagão. Tente novamente.")}},async deleteVagao(r){try{await Eg(nn(vt,no,r))}catch(e){throw console.error("Erro ao deletar vagão:",e),new Error("Não foi possível deletar o vagão. Tente novamente.")}}},AM=()=>{const{obraId:r}=Af(),[e,n]=L.useState([]),[s,o]=L.useState(!0),[u,f]=L.useState(null),[p,g]=L.useState(!1),[y,T]=L.useState(!1),[A,w]=L.useState(!1),[j,F]=L.useState(null),[X,H]=L.useState(null),[J,ie]=L.useState(null),[re,pe]=L.useState({numero:1,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1}),_e=L.useCallback(async()=>{if(r)try{o(!0),f(null);const C=await oo.getVagoesByObra(r);n(C)}catch(C){f(C instanceof Error?C.message:"Erro ao carregar vagões")}finally{o(!1)}},[r]);L.useEffect(()=>{_e()},[_e]);const Ee=C=>{if(C)F(C),pe({numero:C.numero,predecessorId:C.predecessorId,dataInicio:C.dataInicio,dataFim:C.dataFim,numeroApartamentos:C.numeroApartamentos});else{F(null);const x=e.length>0?Math.max(...e.map(se=>se.numero))+1:1;pe({numero:x,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1})}g(!0),H(null)},N=async C=>{if(C.preventDefault(),!!r)try{w(!0),f(null),j?await oo.updateVagao(j.id,{predecessorId:re.predecessorId,dataInicio:re.dataInicio,dataFim:re.dataFim,numeroApartamentos:re.numeroApartamentos}):await oo.createVagao(r,re),g(!1),F(null),await _e()}catch(x){f(x instanceof Error?x.message:"Erro ao salvar vagão")}finally{w(!1)}},R=async C=>{if(confirm("Tem certeza que deseja excluir este vagão?"))try{await oo.deleteVagao(C),await _e(),H(null)}catch(x){f(x instanceof Error?x.message:"Erro ao deletar vagão")}},I=C=>new Date(C).toLocaleDateString("pt-BR"),V=(C,x)=>{const se=new Date(x).getTime()-new Date(C).getTime();return Math.ceil(se/(1e3*60*60*24))},O=async(C,x,se)=>{try{await oo.updateVagao(C.id,{dataInicio:x,dataFim:se}),await _e(),ie(null)}catch(Me){f(Me instanceof Error?Me.message:"Erro ao atualizar datas")}};return m.jsxs("div",{className:"vagoes-container",children:[m.jsxs("div",{className:"vagoes-header",children:[m.jsxs("div",{className:"vagoes-header-left",children:[m.jsx("h1",{children:"Vagões"}),m.jsx("p",{children:"Gerencie os vagões e suas atividades"})]}),m.jsxs("div",{className:"vagoes-header-right",children:[m.jsxs("button",{onClick:()=>T(!0),className:"btn-timeline",disabled:e.length===0,children:[m.jsx(G0,{size:20}),m.jsx("span",{children:"Linha do Tempo"})]}),m.jsxs("button",{onClick:()=>Ee(),className:"btn-add-vagao",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Novo Vagão"})]})]})]}),u&&m.jsxs("div",{className:"vagoes-error-banner",children:[m.jsx(zo,{size:20}),m.jsx("span",{children:u}),m.jsx("button",{onClick:()=>f(null),children:m.jsx(ls,{size:18})})]}),s?m.jsxs("div",{className:"vagoes-loading",children:[m.jsx(os,{size:48,className:"vagoes-spinner"}),m.jsx("p",{children:"Carregando vagões..."})]}):e.length===0?m.jsxs("div",{className:"vagoes-empty",children:[m.jsx(_h,{size:64}),m.jsx("h2",{children:"Nenhum vagão cadastrado"}),m.jsx("p",{children:"Comece criando o primeiro vagão desta obra"}),m.jsxs("button",{onClick:()=>Ee(),className:"btn-add-vagao",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Criar Primeiro Vagão"})]})]}):m.jsx("div",{className:"vagoes-grid",children:e.map(C=>m.jsxs("div",{className:"vagao-card",children:[m.jsxs("div",{className:"vagao-card-header",children:[m.jsxs("div",{className:"vagao-numero",children:[m.jsx(_h,{size:20}),m.jsxs("span",{children:["Vagão ",C.numero]})]}),m.jsxs("div",{className:"vagao-menu",children:[m.jsx("button",{onClick:()=>H(X===C.id?null:C.id),className:"vagao-menu-button",children:m.jsx(Ng,{size:20})}),X===C.id&&m.jsxs("div",{className:"vagao-dropdown-menu",children:[m.jsxs("button",{onClick:()=>Ee(C),children:[m.jsx(Dg,{size:16}),m.jsx("span",{children:"Editar"})]}),m.jsxs("button",{onClick:()=>R(C.id),className:"delete-action",children:[m.jsx(Og,{size:16}),m.jsx("span",{children:"Excluir"})]})]})]})]}),m.jsxs("div",{className:"vagao-card-body",children:[m.jsxs("div",{className:"vagao-info-row",children:[m.jsx(jO,{size:16}),m.jsx("span",{className:"vagao-label",children:"Predecessor:"}),m.jsx("span",{className:"vagao-value",children:C.predecessorNumero?`Vagão ${C.predecessorNumero}`:"Nenhum"})]}),m.jsxs("div",{className:"vagao-info-row",children:[m.jsx(TO,{size:16}),m.jsx("span",{className:"vagao-label",children:"Período:"}),m.jsxs("span",{className:"vagao-value",children:[I(C.dataInicio)," - ",I(C.dataFim)]})]}),m.jsxs("div",{className:"vagao-info-row",children:[m.jsx(G0,{size:16}),m.jsx("span",{className:"vagao-label",children:"Duração:"}),m.jsxs("span",{className:"vagao-value",children:[V(C.dataInicio,C.dataFim)," dias"]})]}),m.jsxs("div",{className:"vagao-info-row",children:[m.jsx(_h,{size:16}),m.jsx("span",{className:"vagao-label",children:"Apartamentos:"}),m.jsx("span",{className:"vagao-value",children:C.numeroApartamentos})]})]})]},C.id))}),p&&m.jsx("div",{className:"vagoes-modal-overlay",onClick:()=>g(!1),children:m.jsxs("div",{className:"vagoes-modal-content",onClick:C=>C.stopPropagation(),children:[m.jsxs("div",{className:"vagoes-modal-header",children:[m.jsx("h2",{children:j?"Editar Vagão":"Novo Vagão"}),m.jsx("button",{onClick:()=>g(!1),className:"vagoes-modal-close",children:m.jsx(ls,{size:24})})]}),m.jsxs("form",{onSubmit:N,className:"vagoes-modal-form",children:[m.jsxs("div",{className:"vagoes-form-group",children:[m.jsx("label",{htmlFor:"numero",children:"Número do Vagão *"}),m.jsx("input",{type:"number",id:"numero",min:"1",value:re.numero,onChange:C=>pe({...re,numero:parseInt(C.target.value)||1}),required:!0,disabled:A||!!j})]}),m.jsxs("div",{className:"vagoes-form-group",children:[m.jsx("label",{htmlFor:"predecessor",children:"Predecessor"}),m.jsxs("select",{id:"predecessor",value:re.predecessorId||"",onChange:C=>pe({...re,predecessorId:C.target.value||null}),disabled:A,children:[m.jsx("option",{value:"",children:"Nenhum"}),e.filter(C=>C.id!==j?.id).map(C=>m.jsxs("option",{value:C.id,children:["Vagão ",C.numero]},C.id))]})]}),m.jsxs("div",{className:"vagoes-form-row",children:[m.jsxs("div",{className:"vagoes-form-group",children:[m.jsx("label",{htmlFor:"dataInicio",children:"Data de Início *"}),m.jsx("input",{type:"date",id:"dataInicio",value:re.dataInicio instanceof Date?re.dataInicio.toISOString().split("T")[0]:"",onChange:C=>pe({...re,dataInicio:new Date(C.target.value)}),required:!0,disabled:A})]}),m.jsxs("div",{className:"vagoes-form-group",children:[m.jsx("label",{htmlFor:"dataFim",children:"Data de Fim *"}),m.jsx("input",{type:"date",id:"dataFim",value:re.dataFim instanceof Date?re.dataFim.toISOString().split("T")[0]:"",onChange:C=>pe({...re,dataFim:new Date(C.target.value)}),required:!0,disabled:A})]})]}),m.jsxs("div",{className:"vagoes-form-group",children:[m.jsx("label",{htmlFor:"apartamentos",children:"Número de Apartamentos *"}),m.jsx("input",{type:"number",id:"apartamentos",min:"1",value:re.numeroApartamentos,onChange:C=>pe({...re,numeroApartamentos:parseInt(C.target.value)||1}),required:!0,disabled:A})]}),m.jsxs("div",{className:"vagoes-modal-actions",children:[m.jsx("button",{type:"button",onClick:()=>g(!1),className:"vagoes-btn-secondary",disabled:A,children:"Cancelar"}),m.jsx("button",{type:"submit",className:"vagoes-btn-primary",disabled:A,children:A?m.jsxs(m.Fragment,{children:[m.jsx(os,{size:18,className:"vagoes-spinner-small"}),"Salvando..."]}):j?"Salvar Alterações":"Criar Vagão"})]})]})]})}),y&&m.jsx("div",{className:"timeline-modal-overlay",onClick:()=>T(!1),children:m.jsxs("div",{className:"timeline-modal-content",onClick:C=>C.stopPropagation(),children:[m.jsxs("div",{className:"timeline-modal-header",children:[m.jsx("h2",{children:"Linha do Tempo - Linha de Balanço"}),m.jsx("button",{onClick:()=>T(!1),className:"timeline-modal-close",children:m.jsx(ls,{size:24})})]}),m.jsxs("div",{className:"timeline-container",children:[m.jsx("div",{className:"timeline-legend",children:m.jsxs("div",{className:"timeline-legend-item",children:[m.jsx("div",{className:"timeline-legend-color timeline-color-active"}),m.jsx("span",{children:"Clique para editar datas"})]})}),m.jsx("div",{className:"timeline-content",children:e.map(C=>m.jsxs("div",{className:"timeline-row",children:[m.jsxs("div",{className:"timeline-row-label",children:[m.jsx(_h,{size:16}),m.jsxs("span",{children:["Vagão ",C.numero]}),C.predecessorNumero&&m.jsxs("span",{className:"timeline-predecessor",children:["← V",C.predecessorNumero]})]}),m.jsx("div",{className:"timeline-row-content",children:m.jsxs("div",{className:`timeline-bar ${J?.id===C.id?"editing":""}`,onClick:()=>ie(C),title:"Clique para editar",children:[m.jsxs("span",{className:"timeline-bar-label",children:[I(C.dataInicio)," -"," ",I(C.dataFim)]}),m.jsxs("span",{className:"timeline-bar-duration",children:[V(C.dataInicio,C.dataFim),"d"]})]})})]},C.id))}),J&&m.jsxs("div",{className:"timeline-editor",children:[m.jsxs("h3",{children:["Editando Vagão ",J.numero]}),m.jsxs("div",{className:"timeline-editor-form",children:[m.jsxs("div",{className:"timeline-editor-field",children:[m.jsx("label",{children:"Data de Início:"}),m.jsx("input",{type:"date",value:J.dataInicio.toISOString().split("T")[0],onChange:C=>ie({...J,dataInicio:new Date(C.target.value)})})]}),m.jsxs("div",{className:"timeline-editor-field",children:[m.jsx("label",{children:"Data de Fim:"}),m.jsx("input",{type:"date",value:J.dataFim.toISOString().split("T")[0],onChange:C=>ie({...J,dataFim:new Date(C.target.value)})})]}),m.jsxs("div",{className:"timeline-editor-actions",children:[m.jsx("button",{onClick:()=>ie(null),className:"timeline-btn-cancel",children:"Cancelar"}),m.jsx("button",{onClick:()=>O(J,J.dataInicio,J.dataFim),className:"timeline-btn-save",children:"Salvar Datas"})]})]})]})]})]})})]})},$l="custos_vagoes",Xl={async createCusto(r,e,n){try{const s=e.custoMaterial+e.custoMaoObra,o={obraId:r,vagaoId:e.vagaoId,vagaoNumero:n,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:s,peso:0,createdAt:De.now(),updatedAt:De.now()},u=await Tg(So(vt,$l),o);return await this.recalcularPesos(r),{id:u.id,obraId:r,vagaoId:e.vagaoId,vagaoNumero:n,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:s,peso:0,createdAt:new Date,updatedAt:new Date}}catch(s){throw console.error("Erro ao criar custo:",s),new Error("Não foi possível criar o custo. Tente novamente.")}},async getCustosByObra(r){try{const e=mg(So(vt,$l),pg("obraId","==",r),_g("vagaoNumero","asc")),n=await vg(e),s=[];return n.forEach(o=>{const u=o.data();s.push({id:o.id,obraId:u.obraId,vagaoId:u.vagaoId,vagaoNumero:u.vagaoNumero,custoMaterial:u.custoMaterial,custoMaoObra:u.custoMaoObra,custoTotal:u.custoTotal,peso:u.peso||0,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}),s}catch(e){throw console.error("Erro ao buscar custos:",e),new Error("Não foi possível carregar os custos. Tente novamente.")}},async updateCusto(r,e,n){try{const s={updatedAt:De.now()};n.custoMaterial!==void 0&&(s.custoMaterial=n.custoMaterial),n.custoMaoObra!==void 0&&(s.custoMaoObra=n.custoMaoObra);const o=nn(vt,$l,r),u=await wo(o);if(u.exists()){const f=u.data(),p=n.custoMaterial??f.custoMaterial,g=n.custoMaoObra??f.custoMaoObra;s.custoTotal=p+g}await vu(o,s),await this.recalcularPesos(e)}catch(s){throw console.error("Erro ao atualizar custo:",s),new Error("Não foi possível atualizar o custo. Tente novamente.")}},async deleteCusto(r,e){try{await Eg(nn(vt,$l,r)),await this.recalcularPesos(e)}catch(n){throw console.error("Erro ao deletar custo:",n),new Error("Não foi possível deletar o custo. Tente novamente.")}},async recalcularPesos(r){try{const e=await this.getCustosByObra(r),n=e.reduce((o,u)=>o+u.custoTotal,0);if(n===0)return;const s=e.map(async o=>{const u=o.custoTotal/n*100,f=nn(vt,$l,o.id);return vu(f,{peso:u,updatedAt:De.now()})});await Promise.all(s)}catch(e){console.error("Erro ao recalcular pesos:",e)}},async gerarFluxoCaixa(r,e){try{const n=new Map;return r.forEach(o=>{const u=e.find(w=>w.vagaoId===o.id);if(!u)return;const f=new Date(o.dataInicio),p=new Date(o.dataFim),g=this.calcularMesesEntreDatas(f,p),y=u.custoMaterial/g.length,T=u.custoMaoObra/g.length,A=u.custoTotal/g.length;g.forEach(w=>{const j=`${w.ano}-${String(w.mes).padStart(2,"0")}`;n.has(j)||n.set(j,{mes:this.getNomeMes(w.mes),ano:w.ano,custoMaterial:0,custoMaoObra:0,custoTotal:0,vagoes:[]});const F=n.get(j);F.custoMaterial+=y,F.custoMaoObra+=T,F.custoTotal+=A,F.vagoes.push({numero:o.numero,custoMaterial:y,custoMaoObra:T,custoTotal:A})})}),Array.from(n.values()).sort((o,u)=>o.ano!==u.ano?o.ano-u.ano:this.getMesNumero(o.mes)-this.getMesNumero(u.mes))}catch(n){throw console.error("Erro ao gerar fluxo de caixa:",n),new Error("Não foi possível gerar o fluxo de caixa.")}},calcularMesesEntreDatas(r,e){const n=[],s=new Date(r);for(s.setDate(1);s<=e;)n.push({mes:s.getMonth()+1,ano:s.getFullYear()}),s.setMonth(s.getMonth()+1);return n},getNomeMes(r){return["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][r-1]},getMesNumero(r){return["Janeiro","Fevereiro","Março","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].indexOf(r)+1}},SM=()=>{const{obraId:r}=Af(),[e,n]=L.useState([]),[s,o]=L.useState([]),[u,f]=L.useState(!0),[p,g]=L.useState(null),[y,T]=L.useState(!1),[A,w]=L.useState(!1),[j,F]=L.useState(!1),[X,H]=L.useState(null),[J,ie]=L.useState(null),[re,pe]=L.useState([]),[_e,Ee]=L.useState(!1),[N,R]=L.useState({vagaoId:"",custoMaterial:0,custoMaoObra:0}),I=L.useCallback(async()=>{if(r)try{f(!0),g(null);const[K,me]=await Promise.all([oo.getVagoesByObra(r),Xl.getCustosByObra(r)]);n(K),o(me)}catch(K){g(K instanceof Error?K.message:"Erro ao carregar dados")}finally{f(!1)}},[r]);L.useEffect(()=>{I()},[I]);const V=K=>{K?(H(K),R({vagaoId:K.vagaoId,custoMaterial:K.custoMaterial,custoMaoObra:K.custoMaoObra})):(H(null),R({vagaoId:"",custoMaterial:0,custoMaoObra:0})),T(!0),ie(null)},O=async K=>{if(K.preventDefault(),!!r)try{if(F(!0),g(null),X)await Xl.updateCusto(X.id,r,{custoMaterial:N.custoMaterial,custoMaoObra:N.custoMaoObra});else{const me=e.find(qe=>qe.id===N.vagaoId);if(!me)throw new Error("Vagão não encontrado");await Xl.createCusto(r,N,me.numero)}T(!1),H(null),await I()}catch(me){g(me instanceof Error?me.message:"Erro ao salvar custo")}finally{F(!1)}},C=async K=>{if(!(!r||!confirm("Tem certeza que deseja excluir este custo?")))try{await Xl.deleteCusto(K,r),await I(),ie(null)}catch(me){g(me instanceof Error?me.message:"Erro ao deletar custo")}},x=async()=>{if(r)try{Ee(!0),g(null);const K=await Xl.gerarFluxoCaixa(e,s);pe(K),w(!0)}catch(K){g(K instanceof Error?K.message:"Erro ao gerar relatório")}finally{Ee(!1)}},se=K=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(K),Me=s.reduce((K,me)=>K+me.custoTotal,0),Y=s.map(K=>K.vagaoId),oe=e.filter(K=>!Y.includes(K.id));return m.jsxs("div",{className:"custo-vagoes-container",children:[m.jsxs("div",{className:"custo-vagoes-header",children:[m.jsxs("div",{className:"custo-vagoes-header-left",children:[m.jsx("h1",{children:"Custo Orçado dos Vagões"}),m.jsx("p",{children:"Gerencie os custos de material e mão de obra"})]}),m.jsxs("div",{className:"custo-vagoes-header-right",children:[m.jsx("button",{onClick:x,className:"btn-relatorio",disabled:s.length===0||_e,children:_e?m.jsxs(m.Fragment,{children:[m.jsx(os,{size:20,className:"custo-spinner-small"}),m.jsx("span",{children:"Gerando..."})]}):m.jsxs(m.Fragment,{children:[m.jsx(Ub,{size:20}),m.jsx("span",{children:"Gerar Relatório"})]})}),m.jsxs("button",{onClick:()=>V(),className:"btn-add-custo",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Adicionar Custo"})]})]})]}),p&&m.jsxs("div",{className:"custo-error-banner",children:[m.jsx(zo,{size:20}),m.jsx("span",{children:p}),m.jsx("button",{onClick:()=>g(null),children:m.jsx(ls,{size:18})})]}),m.jsxs("div",{className:"custo-resumo",children:[m.jsxs("div",{className:"custo-resumo-card",children:[m.jsx("div",{className:"custo-resumo-icon",children:m.jsx(Jh,{size:24})}),m.jsxs("div",{className:"custo-resumo-info",children:[m.jsx("span",{className:"custo-resumo-label",children:"Custo Total da Obra"}),m.jsx("span",{className:"custo-resumo-value",children:se(Me)})]})]}),m.jsxs("div",{className:"custo-resumo-card",children:[m.jsx("div",{className:"custo-resumo-icon custo-icon-success",children:m.jsx(AO,{size:24})}),m.jsxs("div",{className:"custo-resumo-info",children:[m.jsx("span",{className:"custo-resumo-label",children:"Vagões com Custo"}),m.jsxs("span",{className:"custo-resumo-value",children:[s.length," / ",e.length]})]})]}),m.jsxs("div",{className:"custo-resumo-card",children:[m.jsx("div",{className:"custo-resumo-icon custo-icon-info",children:m.jsx(Bb,{size:24})}),m.jsxs("div",{className:"custo-resumo-info",children:[m.jsx("span",{className:"custo-resumo-label",children:"Custo Médio por Vagão"}),m.jsx("span",{className:"custo-resumo-value",children:se(s.length>0?Me/s.length:0)})]})]})]}),u?m.jsxs("div",{className:"custo-loading",children:[m.jsx(os,{size:48,className:"custo-spinner"}),m.jsx("p",{children:"Carregando custos..."})]}):s.length===0?m.jsxs("div",{className:"custo-empty",children:[m.jsx(Jh,{size:64}),m.jsx("h2",{children:"Nenhum custo cadastrado"}),m.jsx("p",{children:"Comece adicionando o custo do primeiro vagão"}),m.jsxs("button",{onClick:()=>V(),className:"btn-add-custo",children:[m.jsx(Ro,{size:20}),m.jsx("span",{children:"Adicionar Primeiro Custo"})]})]}):m.jsx("div",{className:"custo-table-container",children:m.jsxs("table",{className:"custo-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Vagão"}),m.jsx("th",{children:"Material"}),m.jsx("th",{children:"Mão de Obra"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Peso (%)"}),m.jsx("th",{children:"Ações"})]})}),m.jsx("tbody",{children:s.map((K,me)=>m.jsxs("tr",{style:{animationDelay:`${me*.05}s`},children:[m.jsx("td",{children:m.jsxs("span",{className:"custo-vagao-numero",children:["Vagão ",K.vagaoNumero]})}),m.jsx("td",{children:se(K.custoMaterial)}),m.jsx("td",{children:se(K.custoMaoObra)}),m.jsx("td",{children:m.jsx("strong",{children:se(K.custoTotal)})}),m.jsx("td",{children:m.jsxs("div",{className:"custo-peso",children:[m.jsx("div",{className:"custo-peso-bar",children:m.jsx("div",{className:"custo-peso-fill",style:{width:`${K.peso}%`}})}),m.jsxs("span",{children:[K.peso.toFixed(2),"%"]})]})}),m.jsx("td",{children:m.jsxs("div",{className:"custo-actions",children:[m.jsx("button",{onClick:()=>ie(J===K.id?null:K.id),className:"custo-menu-button",children:m.jsx(Ng,{size:20})}),J===K.id&&m.jsxs("div",{className:"custo-dropdown-menu",children:[m.jsxs("button",{onClick:()=>V(K),children:[m.jsx(Dg,{size:16}),m.jsx("span",{children:"Editar"})]}),m.jsxs("button",{onClick:()=>C(K.id),className:"delete-action",children:[m.jsx(Og,{size:16}),m.jsx("span",{children:"Excluir"})]})]})]})})]},K.id))}),m.jsx("tfoot",{children:m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("strong",{children:"TOTAL"})}),m.jsx("td",{children:m.jsx("strong",{children:se(s.reduce((K,me)=>K+me.custoMaterial,0))})}),m.jsx("td",{children:m.jsx("strong",{children:se(s.reduce((K,me)=>K+me.custoMaoObra,0))})}),m.jsx("td",{children:m.jsx("strong",{children:se(Me)})}),m.jsx("td",{children:m.jsx("strong",{children:"100%"})}),m.jsx("td",{})]})})]})}),y&&m.jsx("div",{className:"custo-modal-overlay",onClick:()=>T(!1),children:m.jsxs("div",{className:"custo-modal-content",onClick:K=>K.stopPropagation(),children:[m.jsxs("div",{className:"custo-modal-header",children:[m.jsx("h2",{children:X?"Editar Custo":"Adicionar Custo"}),m.jsx("button",{onClick:()=>T(!1),className:"custo-modal-close",children:m.jsx(ls,{size:24})})]}),m.jsxs("form",{onSubmit:O,className:"custo-modal-form",children:[m.jsxs("div",{className:"custo-form-group",children:[m.jsx("label",{htmlFor:"vagao",children:"Vagão *"}),m.jsxs("select",{id:"vagao",value:N.vagaoId,onChange:K=>R({...N,vagaoId:K.target.value}),required:!0,disabled:j||!!X,children:[m.jsx("option",{value:"",children:"Selecione um vagão"}),(X?e:oe).map(K=>m.jsxs("option",{value:K.id,children:["Vagão ",K.numero]},K.id))]}),!X&&oe.length===0&&m.jsx("small",{className:"custo-form-hint",children:"Todos os vagões já possuem custo cadastrado"})]}),m.jsxs("div",{className:"custo-form-group",children:[m.jsx("label",{htmlFor:"material",children:"Custo de Material (R$) *"}),m.jsx("input",{type:"number",id:"material",min:"0",step:"0.01",value:N.custoMaterial,onChange:K=>R({...N,custoMaterial:parseFloat(K.target.value)||0}),required:!0,disabled:j,placeholder:"0,00"})]}),m.jsxs("div",{className:"custo-form-group",children:[m.jsx("label",{htmlFor:"maoObra",children:"Custo de Mão de Obra (R$) *"}),m.jsx("input",{type:"number",id:"maoObra",min:"0",step:"0.01",value:N.custoMaoObra,onChange:K=>R({...N,custoMaoObra:parseFloat(K.target.value)||0}),required:!0,disabled:j,placeholder:"0,00"})]}),m.jsxs("div",{className:"custo-form-total",children:[m.jsx("span",{children:"Custo Total:"}),m.jsx("strong",{children:se(N.custoMaterial+N.custoMaoObra)})]}),m.jsxs("div",{className:"custo-modal-actions",children:[m.jsx("button",{type:"button",onClick:()=>T(!1),className:"custo-btn-secondary",disabled:j,children:"Cancelar"}),m.jsx("button",{type:"submit",className:"custo-btn-primary",disabled:j,children:j?m.jsxs(m.Fragment,{children:[m.jsx(os,{size:18,className:"custo-spinner-small"}),"Salvando..."]}):X?"Salvar Alterações":"Adicionar Custo"})]})]})]})}),A&&m.jsx("div",{className:"relatorio-modal-overlay",onClick:()=>w(!1),children:m.jsxs("div",{className:"relatorio-modal-content",onClick:K=>K.stopPropagation(),children:[m.jsxs("div",{className:"relatorio-modal-header",children:[m.jsx("h2",{children:"Relatório de Fluxo de Caixa - Despesas Orçadas"}),m.jsx("button",{onClick:()=>w(!1),className:"relatorio-modal-close",children:m.jsx(ls,{size:24})})]}),m.jsxs("div",{className:"relatorio-container",children:[m.jsx("div",{className:"relatorio-resumo",children:m.jsx("p",{children:"Previsão de despesas mensais ao longo da execução da obra, distribuídas proporcionalmente ao período de cada vagão."})}),m.jsx("div",{className:"relatorio-table-container",children:m.jsxs("table",{className:"relatorio-table",children:[m.jsx("thead",{children:m.jsxs("tr",{children:[m.jsx("th",{children:"Período"}),m.jsx("th",{children:"Material"}),m.jsx("th",{children:"Mão de Obra"}),m.jsx("th",{children:"Total"}),m.jsx("th",{children:"Vagões Ativos"})]})}),m.jsx("tbody",{children:re.map((K,me)=>m.jsxs("tr",{style:{animationDelay:`${me*.03}s`},children:[m.jsx("td",{children:m.jsxs("strong",{children:[K.mes,"/",K.ano]})}),m.jsx("td",{children:se(K.custoMaterial)}),m.jsx("td",{children:se(K.custoMaoObra)}),m.jsx("td",{children:m.jsx("strong",{children:se(K.custoTotal)})}),m.jsx("td",{children:m.jsx("div",{className:"relatorio-vagoes",children:K.vagoes.map(qe=>m.jsxs("span",{className:"relatorio-vagao-badge",children:["V",qe.numero]},qe.numero))})})]},`${K.ano}-${K.mes}`))}),m.jsx("tfoot",{children:m.jsxs("tr",{children:[m.jsx("td",{children:m.jsx("strong",{children:"TOTAL"})}),m.jsx("td",{children:m.jsx("strong",{children:se(re.reduce((K,me)=>K+me.custoMaterial,0))})}),m.jsx("td",{children:m.jsx("strong",{children:se(re.reduce((K,me)=>K+me.custoMaoObra,0))})}),m.jsx("td",{children:m.jsx("strong",{children:se(re.reduce((K,me)=>K+me.custoTotal,0))})}),m.jsx("td",{})]})})]})})]})]})})]})},wM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Estoque de Insumos"}),m.jsx("p",{children:"Controle de materiais e insumos"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Estoque de Insumos será implementado aqui."})})]}),RM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Itens"}),m.jsx("p",{children:"Listagem e gerenciamento de itens"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Itens será implementado aqui."})})]}),CM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Contrato"}),m.jsx("p",{children:"Documentos e informações contratuais"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Contrato será implementado aqui."})})]}),IM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Checklist Mensal"}),m.jsx("p",{children:"Verificações e checklists mensais"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Checklist Mensal será implementado aqui."})})]}),xM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Medição"}),m.jsx("p",{children:"Controle de medições da obra"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Medição será implementado aqui."})})]}),NM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Produção"}),m.jsx("p",{children:"Acompanhamento da produção"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Produção será implementado aqui."})})]}),DM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Produção Faltante"}),m.jsx("p",{children:"Itens pendentes de produção"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Produção Faltante será implementado aqui."})})]}),OM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Estoque de Kits"}),m.jsx("p",{children:"Gerenciamento de kits disponíveis"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Estoque de Kits será implementado aqui."})})]}),MM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Material Faltante"}),m.jsx("p",{children:"Materiais pendentes e necessários"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Material Faltante será implementado aqui."})})]}),VM=()=>m.jsxs("div",{className:"page-container",children:[m.jsxs("div",{className:"page-header",children:[m.jsx("h1",{children:"Mapa de Restrições"}),m.jsx("p",{children:"Visualização de restrições e dependências"})]}),m.jsx("div",{className:"page-content",children:m.jsx("p",{children:"Conteúdo do módulo de Mapa de Restrições será implementado aqui."})})]});function jM(){return m.jsx(ZD,{children:m.jsxs(xD,{children:[m.jsx(zt,{path:or.home,element:m.jsx(Q0,{})}),m.jsx(zt,{path:or.login,element:m.jsx(Q0,{})}),m.jsx(zt,{path:or.register,element:m.jsx(vM,{})}),m.jsx(zt,{path:or.dashboard,element:m.jsx(pn,{children:m.jsx(EM,{})})}),m.jsx(zt,{path:"/obras/:obraId",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(Cg,{to:"vagoes",replace:!0})})})}),m.jsx(zt,{path:"/obras/:obraId/vagoes",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(AM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/custo-vagoes",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(SM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/estoque-insumos",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(wM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/itens",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(RM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/contrato",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(CM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/checklist-mensal",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(IM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/medicao",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(xM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/producao",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(NM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/producao-faltante",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(DM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/estoque-kits",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(OM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/material-faltante",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(MM,{})})})}),m.jsx(zt,{path:"/obras/:obraId/mapa-restricoes",element:m.jsx(pn,{children:m.jsx(Cn,{children:m.jsx(VM,{})})})})]})})}function kM(){return m.jsx(UN,{children:m.jsx(jM,{})})}CS.createRoot(document.getElementById("root")).render(m.jsx(L.StrictMode,{children:m.jsx(kM,{})}));
