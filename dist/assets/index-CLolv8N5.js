(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var bg={exports:{}},sh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var IE;function xN(){if(IE)return sh;IE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,i,o){var c=null;if(o!==void 0&&(c=""+o),i.key!==void 0&&(c=""+i.key),"key"in i){o={};for(var h in i)h!=="key"&&(o[h]=i[h])}else o=i;return i=o.ref,{$$typeof:n,type:r,key:c,ref:i!==void 0?i:null,props:o}}return sh.Fragment=e,sh.jsx=t,sh.jsxs=t,sh}var DE;function yN(){return DE||(DE=1,bg.exports=xN()),bg.exports}var f=yN(),Ng={exports:{}},st={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OE;function EN(){if(OE)return st;OE=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),y=Symbol.iterator;function T(Z){return Z===null||typeof Z!="object"?null:(Z=y&&Z[y]||Z["@@iterator"],typeof Z=="function"?Z:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,b={};function P(Z,L,J){this.props=Z,this.context=L,this.refs=b,this.updater=J||N}P.prototype.isReactComponent={},P.prototype.setState=function(Z,L){if(typeof Z!="object"&&typeof Z!="function"&&Z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Z,L,"setState")},P.prototype.forceUpdate=function(Z){this.updater.enqueueForceUpdate(this,Z,"forceUpdate")};function z(){}z.prototype=P.prototype;function q(Z,L,J){this.props=Z,this.context=L,this.refs=b,this.updater=J||N}var ee=q.prototype=new z;ee.constructor=q,A(ee,P.prototype),ee.isPureReactComponent=!0;var de=Array.isArray;function _e(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function C(Z,L,J){var X=J.ref;return{$$typeof:n,type:Z,key:L,ref:X!==void 0?X:null,props:J}}function M(Z,L){return C(Z.type,L,Z.props)}function j(Z){return typeof Z=="object"&&Z!==null&&Z.$$typeof===n}function O(Z){var L={"=":"=0",":":"=2"};return"$"+Z.replace(/[=:]/g,function(J){return L[J]})}var F=/\/+/g;function ae(Z,L){return typeof Z=="object"&&Z!==null&&Z.key!=null?O(""+Z.key):L.toString(36)}function Ce(Z){switch(Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason;default:switch(typeof Z.status=="string"?Z.then(_e,_e):(Z.status="pending",Z.then(function(L){Z.status==="pending"&&(Z.status="fulfilled",Z.value=L)},function(L){Z.status==="pending"&&(Z.status="rejected",Z.reason=L)})),Z.status){case"fulfilled":return Z.value;case"rejected":throw Z.reason}}throw Z}function te(Z,L,J,X,Q){var ge=typeof Z;(ge==="undefined"||ge==="boolean")&&(Z=null);var Oe=!1;if(Z===null)Oe=!0;else switch(ge){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(Z.$$typeof){case n:case e:Oe=!0;break;case v:return Oe=Z._init,te(Oe(Z._payload),L,J,X,Q)}}if(Oe)return Q=Q(Z),Oe=X===""?"."+ae(Z,0):X,de(Q)?(J="",Oe!=null&&(J=Oe.replace(F,"$&/")+"/"),te(Q,L,J,"",function(re){return re})):Q!=null&&(j(Q)&&(Q=M(Q,J+(Q.key==null||Z&&Z.key===Q.key?"":(""+Q.key).replace(F,"$&/")+"/")+Oe)),L.push(Q)),1;Oe=0;var Be=X===""?".":X+":";if(de(Z))for(var Me=0;Me<Z.length;Me++)X=Z[Me],ge=Be+ae(X,Me),Oe+=te(X,L,J,ge,Q);else if(Me=T(Z),typeof Me=="function")for(Z=Me.call(Z),Me=0;!(X=Z.next()).done;)X=X.value,ge=Be+ae(X,Me++),Oe+=te(X,L,J,ge,Q);else if(ge==="object"){if(typeof Z.then=="function")return te(Ce(Z),L,J,X,Q);throw L=String(Z),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(Z).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ye(Z,L,J){if(Z==null)return Z;var X=[],Q=0;return te(Z,X,"","",function(ge){return L.call(J,ge,Q++)}),X}function oe(Z){if(Z._status===-1){var L=Z._result;L=L(),L.then(function(J){(Z._status===0||Z._status===-1)&&(Z._status=1,Z._result=J)},function(J){(Z._status===0||Z._status===-1)&&(Z._status=2,Z._result=J)}),Z._status===-1&&(Z._status=0,Z._result=L)}if(Z._status===1)return Z._result.default;throw Z._result}var Ve=typeof reportError=="function"?reportError:function(Z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Z=="object"&&Z!==null&&typeof Z.message=="string"?String(Z.message):String(Z),error:Z});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Z);return}console.error(Z)},et={map:ye,forEach:function(Z,L,J){ye(Z,function(){L.apply(this,arguments)},J)},count:function(Z){var L=0;return ye(Z,function(){L++}),L},toArray:function(Z){return ye(Z,function(L){return L})||[]},only:function(Z){if(!j(Z))throw Error("React.Children.only expected to receive a single React element child.");return Z}};return st.Activity=x,st.Children=et,st.Component=P,st.Fragment=t,st.Profiler=i,st.PureComponent=q,st.StrictMode=r,st.Suspense=m,st.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,st.__COMPILER_RUNTIME={__proto__:null,c:function(Z){return R.H.useMemoCache(Z)}},st.cache=function(Z){return function(){return Z.apply(null,arguments)}},st.cacheSignal=function(){return null},st.cloneElement=function(Z,L,J){if(Z==null)throw Error("The argument must be a React element, but you passed "+Z+".");var X=A({},Z.props),Q=Z.key;if(L!=null)for(ge in L.key!==void 0&&(Q=""+L.key),L)!I.call(L,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&L.ref===void 0||(X[ge]=L[ge]);var ge=arguments.length-2;if(ge===1)X.children=J;else if(1<ge){for(var Oe=Array(ge),Be=0;Be<ge;Be++)Oe[Be]=arguments[Be+2];X.children=Oe}return C(Z.type,Q,X)},st.createContext=function(Z){return Z={$$typeof:c,_currentValue:Z,_currentValue2:Z,_threadCount:0,Provider:null,Consumer:null},Z.Provider=Z,Z.Consumer={$$typeof:o,_context:Z},Z},st.createElement=function(Z,L,J){var X,Q={},ge=null;if(L!=null)for(X in L.key!==void 0&&(ge=""+L.key),L)I.call(L,X)&&X!=="key"&&X!=="__self"&&X!=="__source"&&(Q[X]=L[X]);var Oe=arguments.length-2;if(Oe===1)Q.children=J;else if(1<Oe){for(var Be=Array(Oe),Me=0;Me<Oe;Me++)Be[Me]=arguments[Me+2];Q.children=Be}if(Z&&Z.defaultProps)for(X in Oe=Z.defaultProps,Oe)Q[X]===void 0&&(Q[X]=Oe[X]);return C(Z,ge,Q)},st.createRef=function(){return{current:null}},st.forwardRef=function(Z){return{$$typeof:h,render:Z}},st.isValidElement=j,st.lazy=function(Z){return{$$typeof:v,_payload:{_status:-1,_result:Z},_init:oe}},st.memo=function(Z,L){return{$$typeof:d,type:Z,compare:L===void 0?null:L}},st.startTransition=function(Z){var L=R.T,J={};R.T=J;try{var X=Z(),Q=R.S;Q!==null&&Q(J,X),typeof X=="object"&&X!==null&&typeof X.then=="function"&&X.then(_e,Ve)}catch(ge){Ve(ge)}finally{L!==null&&J.types!==null&&(L.types=J.types),R.T=L}},st.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},st.use=function(Z){return R.H.use(Z)},st.useActionState=function(Z,L,J){return R.H.useActionState(Z,L,J)},st.useCallback=function(Z,L){return R.H.useCallback(Z,L)},st.useContext=function(Z){return R.H.useContext(Z)},st.useDebugValue=function(){},st.useDeferredValue=function(Z,L){return R.H.useDeferredValue(Z,L)},st.useEffect=function(Z,L){return R.H.useEffect(Z,L)},st.useEffectEvent=function(Z){return R.H.useEffectEvent(Z)},st.useId=function(){return R.H.useId()},st.useImperativeHandle=function(Z,L,J){return R.H.useImperativeHandle(Z,L,J)},st.useInsertionEffect=function(Z,L){return R.H.useInsertionEffect(Z,L)},st.useLayoutEffect=function(Z,L){return R.H.useLayoutEffect(Z,L)},st.useMemo=function(Z,L){return R.H.useMemo(Z,L)},st.useOptimistic=function(Z,L){return R.H.useOptimistic(Z,L)},st.useReducer=function(Z,L,J){return R.H.useReducer(Z,L,J)},st.useRef=function(Z){return R.H.useRef(Z)},st.useState=function(Z){return R.H.useState(Z)},st.useSyncExternalStore=function(Z,L,J){return R.H.useSyncExternalStore(Z,L,J)},st.useTransition=function(){return R.H.useTransition()},st.version="19.2.0",st}var kE;function B1(){return kE||(kE=1,Ng.exports=EN()),Ng.exports}var W=B1(),Rg={exports:{}},oh={},Ig={exports:{}},Dg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ME;function TN(){return ME||(ME=1,(function(n){function e(te,ye){var oe=te.length;te.push(ye);e:for(;0<oe;){var Ve=oe-1>>>1,et=te[Ve];if(0<i(et,ye))te[Ve]=ye,te[oe]=et,oe=Ve;else break e}}function t(te){return te.length===0?null:te[0]}function r(te){if(te.length===0)return null;var ye=te[0],oe=te.pop();if(oe!==ye){te[0]=oe;e:for(var Ve=0,et=te.length,Z=et>>>1;Ve<Z;){var L=2*(Ve+1)-1,J=te[L],X=L+1,Q=te[X];if(0>i(J,oe))X<et&&0>i(Q,J)?(te[Ve]=Q,te[X]=oe,Ve=X):(te[Ve]=J,te[L]=oe,Ve=L);else if(X<et&&0>i(Q,oe))te[Ve]=Q,te[X]=oe,Ve=X;else break e}}return ye}function i(te,ye){var oe=te.sortIndex-ye.sortIndex;return oe!==0?oe:te.id-ye.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var m=[],d=[],v=1,x=null,y=3,T=!1,N=!1,A=!1,b=!1,P=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function ee(te){for(var ye=t(d);ye!==null;){if(ye.callback===null)r(d);else if(ye.startTime<=te)r(d),ye.sortIndex=ye.expirationTime,e(m,ye);else break;ye=t(d)}}function de(te){if(A=!1,ee(te),!N)if(t(m)!==null)N=!0,_e||(_e=!0,O());else{var ye=t(d);ye!==null&&Ce(de,ye.startTime-te)}}var _e=!1,R=-1,I=5,C=-1;function M(){return b?!0:!(n.unstable_now()-C<I)}function j(){if(b=!1,_e){var te=n.unstable_now();C=te;var ye=!0;try{e:{N=!1,A&&(A=!1,z(R),R=-1),T=!0;var oe=y;try{t:{for(ee(te),x=t(m);x!==null&&!(x.expirationTime>te&&M());){var Ve=x.callback;if(typeof Ve=="function"){x.callback=null,y=x.priorityLevel;var et=Ve(x.expirationTime<=te);if(te=n.unstable_now(),typeof et=="function"){x.callback=et,ee(te),ye=!0;break t}x===t(m)&&r(m),ee(te)}else r(m);x=t(m)}if(x!==null)ye=!0;else{var Z=t(d);Z!==null&&Ce(de,Z.startTime-te),ye=!1}}break e}finally{x=null,y=oe,T=!1}ye=void 0}}finally{ye?O():_e=!1}}}var O;if(typeof q=="function")O=function(){q(j)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,ae=F.port2;F.port1.onmessage=j,O=function(){ae.postMessage(null)}}else O=function(){P(j,0)};function Ce(te,ye){R=P(function(){te(n.unstable_now())},ye)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(te){te.callback=null},n.unstable_forceFrameRate=function(te){0>te||125<te?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<te?Math.floor(1e3/te):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(te){switch(y){case 1:case 2:case 3:var ye=3;break;default:ye=y}var oe=y;y=ye;try{return te()}finally{y=oe}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(te,ye){switch(te){case 1:case 2:case 3:case 4:case 5:break;default:te=3}var oe=y;y=te;try{return ye()}finally{y=oe}},n.unstable_scheduleCallback=function(te,ye,oe){var Ve=n.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?Ve+oe:Ve):oe=Ve,te){case 1:var et=-1;break;case 2:et=250;break;case 5:et=1073741823;break;case 4:et=1e4;break;default:et=5e3}return et=oe+et,te={id:v++,callback:ye,priorityLevel:te,startTime:oe,expirationTime:et,sortIndex:-1},oe>Ve?(te.sortIndex=oe,e(d,te),t(m)===null&&te===t(d)&&(A?(z(R),R=-1):A=!0,Ce(de,oe-Ve))):(te.sortIndex=et,e(m,te),N||T||(N=!0,_e||(_e=!0,O()))),te},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(te){var ye=y;return function(){var oe=y;y=ye;try{return te.apply(this,arguments)}finally{y=oe}}}})(Dg)),Dg}var PE;function wN(){return PE||(PE=1,Ig.exports=TN()),Ig.exports}var Og={exports:{}},sr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jE;function AN(){if(jE)return sr;jE=1;var n=B1();function e(m){var d="https://react.dev/errors/"+m;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)d+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},i=Symbol.for("react.portal");function o(m,d,v){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:x==null?null:""+x,children:m,containerInfo:d,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(m,d){if(m==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return sr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,sr.createPortal=function(m,d){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return o(m,d,null,v)},sr.flushSync=function(m){var d=c.T,v=r.p;try{if(c.T=null,r.p=2,m)return m()}finally{c.T=d,r.p=v,r.d.f()}},sr.preconnect=function(m,d){typeof m=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,r.d.C(m,d))},sr.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},sr.preinit=function(m,d){if(typeof m=="string"&&d&&typeof d.as=="string"){var v=d.as,x=h(v,d.crossOrigin),y=typeof d.integrity=="string"?d.integrity:void 0,T=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;v==="style"?r.d.S(m,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:x,integrity:y,fetchPriority:T}):v==="script"&&r.d.X(m,{crossOrigin:x,integrity:y,fetchPriority:T,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},sr.preinitModule=function(m,d){if(typeof m=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var v=h(d.as,d.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&r.d.M(m)},sr.preload=function(m,d){if(typeof m=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var v=d.as,x=h(v,d.crossOrigin);r.d.L(m,v,{crossOrigin:x,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},sr.preloadModule=function(m,d){if(typeof m=="string")if(d){var v=h(d.as,d.crossOrigin);r.d.m(m,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:v,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else r.d.m(m)},sr.requestFormReset=function(m){r.d.r(m)},sr.unstable_batchedUpdates=function(m,d){return m(d)},sr.useFormState=function(m,d,v){return c.H.useFormState(m,d,v)},sr.useFormStatus=function(){return c.H.useHostTransitionStatus()},sr.version="19.2.0",sr}var FE;function fw(){if(FE)return Og.exports;FE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Og.exports=AN(),Og.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LE;function SN(){if(LE)return oh;LE=1;var n=wN(),e=B1(),t=fw();function r(a){var s="https://react.dev/errors/"+a;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+a+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var s=a,l=a;if(a.alternate)for(;s.return;)s=s.return;else{a=s;do s=a,(s.flags&4098)!==0&&(l=s.return),a=s.return;while(a)}return s.tag===3?l:null}function c(a){if(a.tag===13){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function h(a){if(a.tag===31){var s=a.memoizedState;if(s===null&&(a=a.alternate,a!==null&&(s=a.memoizedState)),s!==null)return s.dehydrated}return null}function m(a){if(o(a)!==a)throw Error(r(188))}function d(a){var s=a.alternate;if(!s){if(s=o(a),s===null)throw Error(r(188));return s!==a?null:a}for(var l=a,u=s;;){var g=l.return;if(g===null)break;var _=g.alternate;if(_===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===l)return m(g),a;if(_===u)return m(g),s;_=_.sibling}throw Error(r(188))}if(l.return!==u.return)l=g,u=_;else{for(var w=!1,k=g.child;k;){if(k===l){w=!0,l=g,u=_;break}if(k===u){w=!0,u=g,l=_;break}k=k.sibling}if(!w){for(k=_.child;k;){if(k===l){w=!0,l=_,u=g;break}if(k===u){w=!0,u=_,l=g;break}k=k.sibling}if(!w)throw Error(r(189))}}if(l.alternate!==u)throw Error(r(190))}if(l.tag!==3)throw Error(r(188));return l.stateNode.current===l?a:s}function v(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a;for(a=a.child;a!==null;){if(s=v(a),s!==null)return s;a=a.sibling}return null}var x=Object.assign,y=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),z=Symbol.for("react.consumer"),q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function O(a){return a===null||typeof a!="object"?null:(a=j&&a[j]||a["@@iterator"],typeof a=="function"?a:null)}var F=Symbol.for("react.client.reference");function ae(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===F?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case A:return"Fragment";case P:return"Profiler";case b:return"StrictMode";case de:return"Suspense";case _e:return"SuspenseList";case C:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case N:return"Portal";case q:return a.displayName||"Context";case z:return(a._context.displayName||"Context")+".Consumer";case ee:var s=a.render;return a=a.displayName,a||(a=s.displayName||s.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case R:return s=a.displayName||null,s!==null?s:ae(a.type)||"Memo";case I:s=a._payload,a=a._init;try{return ae(a(s))}catch{}}return null}var Ce=Array.isArray,te=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe={pending:!1,data:null,method:null,action:null},Ve=[],et=-1;function Z(a){return{current:a}}function L(a){0>et||(a.current=Ve[et],Ve[et]=null,et--)}function J(a,s){et++,Ve[et]=a.current,a.current=s}var X=Z(null),Q=Z(null),ge=Z(null),Oe=Z(null);function Be(a,s){switch(J(ge,s),J(Q,a),J(X,null),s.nodeType){case 9:case 11:a=(a=s.documentElement)&&(a=a.namespaceURI)?Zy(a):0;break;default:if(a=s.tagName,s=s.namespaceURI)s=Zy(s),a=eE(s,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}L(X),J(X,a)}function Me(){L(X),L(Q),L(ge)}function re(a){a.memoizedState!==null&&J(Oe,a);var s=X.current,l=eE(s,a.type);s!==l&&(J(Q,a),J(X,l))}function $e(a){Q.current===a&&(L(X),L(Q)),Oe.current===a&&(L(Oe),nh._currentValue=oe)}var Je,en;function ut(a){if(Je===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);Je=s&&s[1]||"",en=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Je+a+en}var dr=!1;function Nt(a,s){if(!a||dr)return"";dr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(xe){var pe=xe}Reflect.construct(a,[],be)}else{try{be.call()}catch(xe){pe=xe}a.call(be.prototype)}}else{try{throw Error()}catch(xe){pe=xe}(be=a())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(xe){if(xe&&pe&&typeof xe.stack=="string")return[xe.stack,pe.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),w=_[0],k=_[1];if(w&&k){var Y=w.split(`
`),he=k.split(`
`);for(g=u=0;u<Y.length&&!Y[u].includes("DetermineComponentFrameRoot");)u++;for(;g<he.length&&!he[g].includes("DetermineComponentFrameRoot");)g++;if(u===Y.length||g===he.length)for(u=Y.length-1,g=he.length-1;1<=u&&0<=g&&Y[u]!==he[g];)g--;for(;1<=u&&0<=g;u--,g--)if(Y[u]!==he[g]){if(u!==1||g!==1)do if(u--,g--,0>g||Y[u]!==he[g]){var we=`
`+Y[u].replace(" at new "," at ");return a.displayName&&we.includes("<anonymous>")&&(we=we.replace("<anonymous>",a.displayName)),we}while(1<=u&&0<=g);break}}}finally{dr=!1,Error.prepareStackTrace=l}return(l=a?a.displayName||a.name:"")?ut(l):""}function qe(a,s){switch(a.tag){case 26:case 27:case 5:return ut(a.type);case 16:return ut("Lazy");case 13:return a.child!==s&&s!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Nt(a.type,!1);case 11:return Nt(a.type.render,!1);case 1:return Nt(a.type,!0);case 31:return ut("Activity");default:return""}}function Pn(a){try{var s="",l=null;do s+=qe(a,l),l=a,a=a.return;while(a);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Rt=Object.prototype.hasOwnProperty,Gt=n.unstable_scheduleCallback,mr=n.unstable_cancelCallback,bl=n.unstable_shouldYield,fs=n.unstable_requestPaint,Xt=n.unstable_now,aa=n.unstable_getCurrentPriorityLevel,xi=n.unstable_ImmediatePriority,yi=n.unstable_UserBlockingPriority,rr=n.unstable_NormalPriority,hu=n.unstable_LowPriority,So=n.unstable_IdlePriority,Co=n.log,bo=n.unstable_setDisableYieldValue,Cr=null,vn=null;function pr(a){if(typeof Co=="function"&&bo(a),vn&&typeof vn.setStrictMode=="function")try{vn.setStrictMode(Cr,a)}catch{}}var an=Math.clz32?Math.clz32:No,Nl=Math.log,Ei=Math.LN2;function No(a){return a>>>=0,a===0?32:31-(Nl(a)/Ei|0)|0}var Ur=256,Ti=262144,on=4194304;function gr(a){var s=a&42;if(s!==0)return s;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ia(a,s,l){var u=a.pendingLanes;if(u===0)return 0;var g=0,_=a.suspendedLanes,w=a.pingedLanes;a=a.warmLanes;var k=u&134217727;return k!==0?(u=k&~_,u!==0?g=gr(u):(w&=k,w!==0?g=gr(w):l||(l=k&~a,l!==0&&(g=gr(l))))):(k=u&~_,k!==0?g=gr(k):w!==0?g=gr(w):l||(l=u&~a,l!==0&&(g=gr(l)))),g===0?0:s!==0&&s!==g&&(s&_)===0&&(_=g&-g,l=s&-s,_>=l||_===32&&(l&4194048)!==0)?s:g}function Br(a,s){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&s)===0}function fu(a,s){switch(a){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rl(){var a=on;return on<<=1,(on&62914560)===0&&(on=4194304),a}function sa(a){for(var s=[],l=0;31>l;l++)s.push(a);return s}function wi(a,s){a.pendingLanes|=s,s!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function du(a,s,l,u,g,_){var w=a.pendingLanes;a.pendingLanes=l,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=l,a.entangledLanes&=l,a.errorRecoveryDisabledLanes&=l,a.shellSuspendCounter=0;var k=a.entanglements,Y=a.expirationTimes,he=a.hiddenUpdates;for(l=w&~l;0<l;){var we=31-an(l),be=1<<we;k[we]=0,Y[we]=-1;var pe=he[we];if(pe!==null)for(he[we]=null,we=0;we<pe.length;we++){var xe=pe[we];xe!==null&&(xe.lane&=-536870913)}l&=~be}u!==0&&Ai(a,u,0),_!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=_&~(w&~s))}function Ai(a,s,l){a.pendingLanes|=s,a.suspendedLanes&=~s;var u=31-an(s);a.entangledLanes|=s,a.entanglements[u]=a.entanglements[u]|1073741824|l&261930}function Si(a,s){var l=a.entangledLanes|=s;for(a=a.entanglements;l;){var u=31-an(l),g=1<<u;g&s|a[u]&s&&(a[u]|=s),l&=~g}}function Ro(a,s){var l=s&-s;return l=(l&42)!==0?1:Ci(l),(l&(a.suspendedLanes|s))!==0?0:l}function Ci(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ca(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function D(){var a=ye.p;return a!==0?a:(a=window.event,a===void 0?32:wE(a.type))}function G(a,s){var l=ye.p;try{return ye.p=a,s()}finally{ye.p=l}}var V=Math.random().toString(36).slice(2),B="__reactFiber$"+V,H="__reactProps$"+V,K="__reactContainer$"+V,ce="__reactEvents$"+V,Te="__reactListeners$"+V,ue="__reactHandles$"+V,me="__reactResources$"+V,fe="__reactMarker$"+V;function De(a){delete a[B],delete a[H],delete a[ce],delete a[Te],delete a[ue]}function ke(a){var s=a[B];if(s)return s;for(var l=a.parentNode;l;){if(s=l[K]||l[B]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(a=oE(a);a!==null;){if(l=a[B])return l;a=oE(a)}return s}a=l,l=a.parentNode}return null}function Ue(a){if(a=a[B]||a[K]){var s=a.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return a}return null}function Ie(a){var s=a.tag;if(s===5||s===26||s===27||s===6)return a.stateNode;throw Error(r(33))}function Le(a){var s=a[me];return s||(s=a[me]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ke(a){a[fe]=!0}var Dt=new Set,Ot={};function Kt(a,s){ar(a,s),ar(a+"Capture",s)}function ar(a,s){for(Ot[a]=s,a=0;a<s.length;a++)Dt.add(s[a])}var ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Na={},zr={};function ds(a){return Rt.call(zr,a)?!0:Rt.call(Na,a)?!1:ba.test(a)?zr[a]=!0:(Na[a]=!0,!1)}function ir(a,s,l){if(ds(s))if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":a.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){a.removeAttribute(s);return}}a.setAttribute(s,""+l)}}function qr(a,s,l){if(l===null)a.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(s);return}a.setAttribute(s,""+l)}}function _n(a,s,l,u){if(u===null)a.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttributeNS(s,l,""+u)}}function jn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function ms(a){var s=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function mu(a,s,l){var u=Object.getOwnPropertyDescriptor(a.constructor.prototype,s);if(!a.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(a,s,{configurable:!0,get:function(){return g.call(this)},set:function(w){l=""+w,_.call(this,w)}}),Object.defineProperty(a,s,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(w){l=""+w},stopTracking:function(){a._valueTracker=null,delete a[s]}}}}function kt(a){if(!a._valueTracker){var s=ms(a)?"checked":"value";a._valueTracker=mu(a,s,""+a[s])}}function Io(a){if(!a)return!1;var s=a._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return a&&(u=ms(a)?a.checked?"true":"false":a.value),a=u,a!==l?(s.setValue(a),!0):!1}function Ya(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Do=/[\n"\\]/g;function br(a){return a.replace(Do,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function Il(a,s,l,u,g,_,w,k){a.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?a.type=w:a.removeAttribute("type"),s!=null?w==="number"?(s===0&&a.value===""||a.value!=s)&&(a.value=""+jn(s)):a.value!==""+jn(s)&&(a.value=""+jn(s)):w!=="submit"&&w!=="reset"||a.removeAttribute("value"),s!=null?pu(a,w,jn(s)):l!=null?pu(a,w,jn(l)):u!=null&&a.removeAttribute("value"),g==null&&_!=null&&(a.defaultChecked=!!_),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"?a.name=""+jn(k):a.removeAttribute("name")}function xf(a,s,l,u,g,_,w,k){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(a.type=_),s!=null||l!=null){if(!(_!=="submit"&&_!=="reset"||s!=null)){kt(a);return}l=l!=null?""+jn(l):"",s=s!=null?""+jn(s):l,k||s===a.value||(a.value=s),a.defaultValue=s}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,a.checked=k?a.checked:!!u,a.defaultChecked=!!u,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(a.name=w),kt(a)}function pu(a,s,l){s==="number"&&Ya(a.ownerDocument)===a||a.defaultValue===""+l||(a.defaultValue=""+l)}function ps(a,s,l,u){if(a=a.options,s){s={};for(var g=0;g<l.length;g++)s["$"+l[g]]=!0;for(l=0;l<a.length;l++)g=s.hasOwnProperty("$"+a[l].value),a[l].selected!==g&&(a[l].selected=g),g&&u&&(a[l].defaultSelected=!0)}else{for(l=""+jn(l),s=null,g=0;g<a.length;g++){if(a[g].value===l){a[g].selected=!0,u&&(a[g].defaultSelected=!0);return}s!==null||a[g].disabled||(s=a[g])}s!==null&&(s.selected=!0)}}function yf(a,s,l){if(s!=null&&(s=""+jn(s),s!==a.value&&(a.value=s),l==null)){a.defaultValue!==s&&(a.defaultValue=s);return}a.defaultValue=l!=null?""+jn(l):""}function gs(a,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(r(92));if(Ce(u)){if(1<u.length)throw Error(r(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=jn(s),a.defaultValue=l,u=a.textContent,u===l&&u!==""&&u!==null&&(a.value=u),kt(a)}function Nr(a,s){if(s){var l=a.firstChild;if(l&&l===a.lastChild&&l.nodeType===3){l.nodeValue=s;return}}a.textContent=s}var Ef=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function gu(a,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?a.setProperty(s,""):s==="float"?a.cssFloat="":a[s]="":u?a.setProperty(s,l):typeof l!="number"||l===0||Ef.has(s)?s==="float"?a.cssFloat=l:a[s]=(""+l).trim():a[s]=l+"px"}function vu(a,s,l){if(s!=null&&typeof s!="object")throw Error(r(62));if(a=a.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?a.setProperty(u,""):u==="float"?a.cssFloat="":a[u]="");for(var g in s)u=s[g],s.hasOwnProperty(g)&&l[g]!==u&&gu(a,g,u)}else for(var _ in s)s.hasOwnProperty(_)&&gu(a,_,s[_])}function Dl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),vs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ol(a){return vs.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function Ra(){}var _u=null;function oa(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var _s=null,Qa=null;function Oo(a){var s=Ue(a);if(s&&(a=s.stateNode)){var l=a[H]||null;e:switch(a=s.stateNode,s.type){case"input":if(Il(a,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=a;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+br(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==a&&u.form===a.form){var g=u[H]||null;if(!g)throw Error(r(90));Il(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===a.form&&Io(u)}break e;case"textarea":yf(a,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ps(a,!!l.multiple,s,!1)}}}var kl=!1;function xs(a,s,l){if(kl)return a(s,l);kl=!0;try{var u=a(s);return u}finally{if(kl=!1,(_s!==null||Qa!==null)&&(pd(),_s&&(s=_s,a=Qa,Qa=_s=null,Oo(s),a)))for(s=0;s<a.length;s++)Oo(a[s])}}function Ia(a,s){var l=a.stateNode;if(l===null)return null;var u=l[H]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(a=a.type,u=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!u;break e;default:a=!1}if(a)return null;if(l&&typeof l!="function")throw Error(r(231,s,typeof l));return l}var la=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ko=!1;if(la)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){ko=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch{ko=!1}var Ja=null,xu=null,Mo=null;function yu(){if(Mo)return Mo;var a,s=xu,l=s.length,u,g="value"in Ja?Ja.value:Ja.textContent,_=g.length;for(a=0;a<l&&s[a]===g[a];a++);var w=l-a;for(u=1;u<=w&&s[l-u]===g[_-u];u++);return Mo=g.slice(a,1<u?1-u:void 0)}function Po(a){var s=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&s===13&&(a=13)):a=s,a===10&&(a=13),32<=a||a===13?a:0}function bi(){return!0}function Da(){return!1}function qn(a){function s(l,u,g,_,w){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=_,this.target=w,this.currentTarget=null;for(var k in a)a.hasOwnProperty(k)&&(l=a[k],this[k]=l?l(_):_[k]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?bi:Da,this.isPropagationStopped=Da,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=bi)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=bi)},persist:function(){},isPersistent:bi}),s}var Ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=qn(Ni),ys=x({},Ni,{view:0,detail:0}),Eu=qn(ys),Es,Ml,ei,Pl=x({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ei&&(ei&&a.type==="mousemove"?(Es=a.screenX-ei.screenX,Ml=a.screenY-ei.screenY):Ml=Es=0,ei=a),Es)},movementY:function(a){return"movementY"in a?a.movementY:Ml}}),Tu=qn(Pl),jo=x({},Pl,{dataTransfer:0}),wf=qn(jo),Af=x({},ys,{relatedTarget:0}),Fo=qn(Af),wu=x({},Ni,{animationName:0,elapsedTime:0,pseudoElement:0}),Sf=qn(wu),jl=x({},Ni,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Cf=qn(jl),bf=x({},Ni,{data:0}),ti=qn(bf),Nf={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},If={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Df(a){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(a):(a=If[a])?!!s[a]:!1}function Ts(){return Df}var vr=x({},ys,{key:function(a){if(a.key){var s=Nf[a.key]||a.key;if(s!=="Unidentified")return s}return a.type==="keypress"?(a=Po(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Rf[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(a){return a.type==="keypress"?Po(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?Po(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),Of=qn(vr),kf=x({},Pl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ri=qn(kf),p=x({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),E=qn(p),S=x({},Ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),U=qn(S),se=x({},Pl,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),ve=qn(se),Fe=x({},Ni,{newState:0,oldState:0}),lt=qn(Fe),fn=[9,13,27,32],St=la&&"CompositionEvent"in window,tn=null;la&&"documentMode"in document&&(tn=document.documentMode);var ca=la&&"TextEvent"in window&&!tn,ni=la&&(!St||tn&&8<tn&&11>=tn),Oa=" ",ka=!1;function Lo(a,s){switch(a){case"keyup":return fn.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fl(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ll=!1;function q4(a,s){switch(a){case"compositionend":return Fl(s);case"keypress":return s.which!==32?null:(ka=!0,Oa);case"textInput":return a=s.data,a===Oa&&ka?null:a;default:return null}}function H4(a,s){if(Ll)return a==="compositionend"||!St&&Lo(a,s)?(a=yu(),Mo=xu=Ja=null,Ll=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ni&&s.locale!=="ko"?null:s.data;default:return null}}var G4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function u_(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s==="input"?!!G4[a.type]:s==="textarea"}function h_(a,s,l,u){_s?Qa?Qa.push(u):Qa=[u]:_s=u,s=Td(s,"onChange"),0<s.length&&(l=new Za("onChange","change",null,l,u),a.push({event:l,listeners:s}))}var Au=null,Su=null;function K4(a){$y(a,0)}function Mf(a){var s=Ie(a);if(Io(s))return a}function f_(a,s){if(a==="change")return s}var d_=!1;if(la){var Mm;if(la){var Pm="oninput"in document;if(!Pm){var m_=document.createElement("div");m_.setAttribute("oninput","return;"),Pm=typeof m_.oninput=="function"}Mm=Pm}else Mm=!1;d_=Mm&&(!document.documentMode||9<document.documentMode)}function p_(){Au&&(Au.detachEvent("onpropertychange",g_),Su=Au=null)}function g_(a){if(a.propertyName==="value"&&Mf(Su)){var s=[];h_(s,Su,a,oa(a)),xs(K4,s)}}function $4(a,s,l){a==="focusin"?(p_(),Au=s,Su=l,Au.attachEvent("onpropertychange",g_)):a==="focusout"&&p_()}function W4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return Mf(Su)}function X4(a,s){if(a==="click")return Mf(s)}function Y4(a,s){if(a==="input"||a==="change")return Mf(s)}function Q4(a,s){return a===s&&(a!==0||1/a===1/s)||a!==a&&s!==s}var Hr=typeof Object.is=="function"?Object.is:Q4;function Cu(a,s){if(Hr(a,s))return!0;if(typeof a!="object"||a===null||typeof s!="object"||s===null)return!1;var l=Object.keys(a),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Rt.call(s,g)||!Hr(a[g],s[g]))return!1}return!0}function v_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function __(a,s){var l=v_(a);a=0;for(var u;l;){if(l.nodeType===3){if(u=a+l.textContent.length,a<=s&&u>=s)return{node:l,offset:s-a};a=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=v_(l)}}function x_(a,s){return a&&s?a===s?!0:a&&a.nodeType===3?!1:s&&s.nodeType===3?x_(a,s.parentNode):"contains"in a?a.contains(s):a.compareDocumentPosition?!!(a.compareDocumentPosition(s)&16):!1:!1}function y_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var s=Ya(a.document);s instanceof a.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)a=s.contentWindow;else break;s=Ya(a.document)}return s}function jm(a){var s=a&&a.nodeName&&a.nodeName.toLowerCase();return s&&(s==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||s==="textarea"||a.contentEditable==="true")}var J4=la&&"documentMode"in document&&11>=document.documentMode,Vl=null,Fm=null,bu=null,Lm=!1;function E_(a,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Lm||Vl==null||Vl!==Ya(u)||(u=Vl,"selectionStart"in u&&jm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),bu&&Cu(bu,u)||(bu=u,u=Td(Fm,"onSelect"),0<u.length&&(s=new Za("onSelect","select",null,s,l),a.push({event:s,listeners:u}),s.target=Vl)))}function Vo(a,s){var l={};return l[a.toLowerCase()]=s.toLowerCase(),l["Webkit"+a]="webkit"+s,l["Moz"+a]="moz"+s,l}var Ul={animationend:Vo("Animation","AnimationEnd"),animationiteration:Vo("Animation","AnimationIteration"),animationstart:Vo("Animation","AnimationStart"),transitionrun:Vo("Transition","TransitionRun"),transitionstart:Vo("Transition","TransitionStart"),transitioncancel:Vo("Transition","TransitionCancel"),transitionend:Vo("Transition","TransitionEnd")},Vm={},T_={};la&&(T_=document.createElement("div").style,"AnimationEvent"in window||(delete Ul.animationend.animation,delete Ul.animationiteration.animation,delete Ul.animationstart.animation),"TransitionEvent"in window||delete Ul.transitionend.transition);function Uo(a){if(Vm[a])return Vm[a];if(!Ul[a])return a;var s=Ul[a],l;for(l in s)if(s.hasOwnProperty(l)&&l in T_)return Vm[a]=s[l];return a}var w_=Uo("animationend"),A_=Uo("animationiteration"),S_=Uo("animationstart"),Z4=Uo("transitionrun"),eb=Uo("transitionstart"),tb=Uo("transitioncancel"),C_=Uo("transitionend"),b_=new Map,Um="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Um.push("scrollEnd");function Ma(a,s){b_.set(a,s),Kt(s,[a])}var Pf=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},ua=[],Bl=0,Bm=0;function jf(){for(var a=Bl,s=Bm=Bl=0;s<a;){var l=ua[s];ua[s++]=null;var u=ua[s];ua[s++]=null;var g=ua[s];ua[s++]=null;var _=ua[s];if(ua[s++]=null,u!==null&&g!==null){var w=u.pending;w===null?g.next=g:(g.next=w.next,w.next=g),u.pending=g}_!==0&&N_(l,g,_)}}function Ff(a,s,l,u){ua[Bl++]=a,ua[Bl++]=s,ua[Bl++]=l,ua[Bl++]=u,Bm|=u,a.lanes|=u,a=a.alternate,a!==null&&(a.lanes|=u)}function zm(a,s,l,u){return Ff(a,s,l,u),Lf(a)}function Bo(a,s){return Ff(a,null,null,s),Lf(a)}function N_(a,s,l){a.lanes|=l;var u=a.alternate;u!==null&&(u.lanes|=l);for(var g=!1,_=a.return;_!==null;)_.childLanes|=l,u=_.alternate,u!==null&&(u.childLanes|=l),_.tag===22&&(a=_.stateNode,a===null||a._visibility&1||(g=!0)),a=_,_=_.return;return a.tag===3?(_=a.stateNode,g&&s!==null&&(g=31-an(l),a=_.hiddenUpdates,u=a[g],u===null?a[g]=[s]:u.push(s),s.lane=l|536870912),_):null}function Lf(a){if(50<Xu)throw Xu=0,Qp=null,Error(r(185));for(var s=a.return;s!==null;)a=s,s=a.return;return a.tag===3?a.stateNode:null}var zl={};function nb(a,s,l,u){this.tag=a,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Gr(a,s,l,u){return new nb(a,s,l,u)}function qm(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ii(a,s){var l=a.alternate;return l===null?(l=Gr(a.tag,s,a.key,a.mode),l.elementType=a.elementType,l.type=a.type,l.stateNode=a.stateNode,l.alternate=a,a.alternate=l):(l.pendingProps=s,l.type=a.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=a.flags&65011712,l.childLanes=a.childLanes,l.lanes=a.lanes,l.child=a.child,l.memoizedProps=a.memoizedProps,l.memoizedState=a.memoizedState,l.updateQueue=a.updateQueue,s=a.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=a.sibling,l.index=a.index,l.ref=a.ref,l.refCleanup=a.refCleanup,l}function R_(a,s){a.flags&=65011714;var l=a.alternate;return l===null?(a.childLanes=0,a.lanes=s,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,s=l.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),a}function Vf(a,s,l,u,g,_){var w=0;if(u=a,typeof a=="function")qm(a)&&(w=1);else if(typeof a=="string")w=oN(a,l,X.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case C:return a=Gr(31,l,s,g),a.elementType=C,a.lanes=_,a;case A:return zo(l.children,g,_,s);case b:w=8,g|=24;break;case P:return a=Gr(12,l,s,g|2),a.elementType=P,a.lanes=_,a;case de:return a=Gr(13,l,s,g),a.elementType=de,a.lanes=_,a;case _e:return a=Gr(19,l,s,g),a.elementType=_e,a.lanes=_,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case q:w=10;break e;case z:w=9;break e;case ee:w=11;break e;case R:w=14;break e;case I:w=16,u=null;break e}w=29,l=Error(r(130,a===null?"null":typeof a,"")),u=null}return s=Gr(w,l,s,g),s.elementType=a,s.type=u,s.lanes=_,s}function zo(a,s,l,u){return a=Gr(7,a,u,s),a.lanes=l,a}function Hm(a,s,l){return a=Gr(6,a,null,s),a.lanes=l,a}function I_(a){var s=Gr(18,null,null,0);return s.stateNode=a,s}function Gm(a,s,l){return s=Gr(4,a.children!==null?a.children:[],a.key,s),s.lanes=l,s.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},s}var D_=new WeakMap;function ha(a,s){if(typeof a=="object"&&a!==null){var l=D_.get(a);return l!==void 0?l:(s={value:a,source:s,stack:Pn(s)},D_.set(a,s),s)}return{value:a,source:s,stack:Pn(s)}}var ql=[],Hl=0,Uf=null,Nu=0,fa=[],da=0,ws=null,ri=1,ai="";function Di(a,s){ql[Hl++]=Nu,ql[Hl++]=Uf,Uf=a,Nu=s}function O_(a,s,l){fa[da++]=ri,fa[da++]=ai,fa[da++]=ws,ws=a;var u=ri;a=ai;var g=32-an(u)-1;u&=~(1<<g),l+=1;var _=32-an(s)+g;if(30<_){var w=g-g%5;_=(u&(1<<w)-1).toString(32),u>>=w,g-=w,ri=1<<32-an(s)+g|l<<g|u,ai=_+a}else ri=1<<_|l<<g|u,ai=a}function Km(a){a.return!==null&&(Di(a,1),O_(a,1,0))}function $m(a){for(;a===Uf;)Uf=ql[--Hl],ql[Hl]=null,Nu=ql[--Hl],ql[Hl]=null;for(;a===ws;)ws=fa[--da],fa[da]=null,ai=fa[--da],fa[da]=null,ri=fa[--da],fa[da]=null}function k_(a,s){fa[da++]=ri,fa[da++]=ai,fa[da++]=ws,ri=s.id,ai=s.overflow,ws=a}var Hn=null,Qt=null,yt=!1,As=null,ma=!1,Wm=Error(r(519));function Ss(a){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ru(ha(s,a)),Wm}function M_(a){var s=a.stateNode,l=a.type,u=a.memoizedProps;switch(s[B]=a,s[H]=u,l){case"dialog":mt("cancel",s),mt("close",s);break;case"iframe":case"object":case"embed":mt("load",s);break;case"video":case"audio":for(l=0;l<Qu.length;l++)mt(Qu[l],s);break;case"source":mt("error",s);break;case"img":case"image":case"link":mt("error",s),mt("load",s);break;case"details":mt("toggle",s);break;case"input":mt("invalid",s),xf(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":mt("invalid",s);break;case"textarea":mt("invalid",s),gs(s,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||Qy(s.textContent,l)?(u.popover!=null&&(mt("beforetoggle",s),mt("toggle",s)),u.onScroll!=null&&mt("scroll",s),u.onScrollEnd!=null&&mt("scrollend",s),u.onClick!=null&&(s.onclick=Ra),s=!0):s=!1,s||Ss(a,!0)}function P_(a){for(Hn=a.return;Hn;)switch(Hn.tag){case 5:case 31:case 13:ma=!1;return;case 27:case 3:ma=!0;return;default:Hn=Hn.return}}function Gl(a){if(a!==Hn)return!1;if(!yt)return P_(a),yt=!0,!1;var s=a.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=a.type,l=!(l!=="form"&&l!=="button")||fg(a.type,a.memoizedProps)),l=!l),l&&Qt&&Ss(a),P_(a),s===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Qt=sE(a)}else if(s===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));Qt=sE(a)}else s===27?(s=Qt,Vs(a.type)?(a=vg,vg=null,Qt=a):Qt=s):Qt=Hn?ga(a.stateNode.nextSibling):null;return!0}function qo(){Qt=Hn=null,yt=!1}function Xm(){var a=As;return a!==null&&(Or===null?Or=a:Or.push.apply(Or,a),As=null),a}function Ru(a){As===null?As=[a]:As.push(a)}var Ym=Z(null),Ho=null,Oi=null;function Cs(a,s,l){J(Ym,s._currentValue),s._currentValue=l}function ki(a){a._currentValue=Ym.current,L(Ym)}function Qm(a,s,l){for(;a!==null;){var u=a.alternate;if((a.childLanes&s)!==s?(a.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),a===l)break;a=a.return}}function Jm(a,s,l,u){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var _=g.dependencies;if(_!==null){var w=g.child;_=_.firstContext;e:for(;_!==null;){var k=_;_=g;for(var Y=0;Y<s.length;Y++)if(k.context===s[Y]){_.lanes|=l,k=_.alternate,k!==null&&(k.lanes|=l),Qm(_.return,l,a),u||(w=null);break e}_=k.next}}else if(g.tag===18){if(w=g.return,w===null)throw Error(r(341));w.lanes|=l,_=w.alternate,_!==null&&(_.lanes|=l),Qm(w,l,a),w=null}else w=g.child;if(w!==null)w.return=g;else for(w=g;w!==null;){if(w===a){w=null;break}if(g=w.sibling,g!==null){g.return=w.return,w=g;break}w=w.return}g=w}}function Kl(a,s,l,u){a=null;for(var g=s,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var w=g.alternate;if(w===null)throw Error(r(387));if(w=w.memoizedProps,w!==null){var k=g.type;Hr(g.pendingProps.value,w.value)||(a!==null?a.push(k):a=[k])}}else if(g===Oe.current){if(w=g.alternate,w===null)throw Error(r(387));w.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(nh):a=[nh])}g=g.return}a!==null&&Jm(s,a,l,u),s.flags|=262144}function Bf(a){for(a=a.firstContext;a!==null;){if(!Hr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Go(a){Ho=a,Oi=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Gn(a){return j_(Ho,a)}function zf(a,s){return Ho===null&&Go(a),j_(a,s)}function j_(a,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},Oi===null){if(a===null)throw Error(r(308));Oi=s,a.dependencies={lanes:0,firstContext:s},a.flags|=524288}else Oi=Oi.next=s;return l}var rb=typeof AbortController<"u"?AbortController:function(){var a=[],s=this.signal={aborted:!1,addEventListener:function(l,u){a.push(u)}};this.abort=function(){s.aborted=!0,a.forEach(function(l){return l()})}},ab=n.unstable_scheduleCallback,ib=n.unstable_NormalPriority,xn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zm(){return{controller:new rb,data:new Map,refCount:0}}function Iu(a){a.refCount--,a.refCount===0&&ab(ib,function(){a.controller.abort()})}var Du=null,ep=0,$l=0,Wl=null;function sb(a,s){if(Du===null){var l=Du=[];ep=0,$l=rg(),Wl={status:"pending",value:void 0,then:function(u){l.push(u)}}}return ep++,s.then(F_,F_),s}function F_(){if(--ep===0&&Du!==null){Wl!==null&&(Wl.status="fulfilled");var a=Du;Du=null,$l=0,Wl=null;for(var s=0;s<a.length;s++)(0,a[s])()}}function ob(a,s){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return a.then(function(){u.status="fulfilled",u.value=s;for(var g=0;g<l.length;g++)(0,l[g])(s)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var L_=te.S;te.S=function(a,s){Ey=Xt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&sb(a,s),L_!==null&&L_(a,s)};var Ko=Z(null);function tp(){var a=Ko.current;return a!==null?a:$t.pooledCache}function qf(a,s){s===null?J(Ko,Ko.current):J(Ko,s.pool)}function V_(){var a=tp();return a===null?null:{parent:xn._currentValue,pool:a}}var Xl=Error(r(460)),np=Error(r(474)),Hf=Error(r(542)),Gf={then:function(){}};function U_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function B_(a,s,l){switch(l=a[l],l===void 0?a.push(s):l!==s&&(s.then(Ra,Ra),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,q_(a),a;default:if(typeof s.status=="string")s.then(Ra,Ra);else{if(a=$t,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=s,a.status="pending",a.then(function(u){if(s.status==="pending"){var g=s;g.status="fulfilled",g.value=u}},function(u){if(s.status==="pending"){var g=s;g.status="rejected",g.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw a=s.reason,q_(a),a}throw Wo=s,Xl}}function $o(a){try{var s=a._init;return s(a._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(Wo=l,Xl):l}}var Wo=null;function z_(){if(Wo===null)throw Error(r(459));var a=Wo;return Wo=null,a}function q_(a){if(a===Xl||a===Hf)throw Error(r(483))}var Yl=null,Ou=0;function Kf(a){var s=Ou;return Ou+=1,Yl===null&&(Yl=[]),B_(Yl,a,s)}function ku(a,s){s=s.props.ref,a.ref=s!==void 0?s:null}function $f(a,s){throw s.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(s),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":a)))}function H_(a){function s(ie,ne){if(a){var le=ie.deletions;le===null?(ie.deletions=[ne],ie.flags|=16):le.push(ne)}}function l(ie,ne){if(!a)return null;for(;ne!==null;)s(ie,ne),ne=ne.sibling;return null}function u(ie){for(var ne=new Map;ie!==null;)ie.key!==null?ne.set(ie.key,ie):ne.set(ie.index,ie),ie=ie.sibling;return ne}function g(ie,ne){return ie=Ii(ie,ne),ie.index=0,ie.sibling=null,ie}function _(ie,ne,le){return ie.index=le,a?(le=ie.alternate,le!==null?(le=le.index,le<ne?(ie.flags|=67108866,ne):le):(ie.flags|=67108866,ne)):(ie.flags|=1048576,ne)}function w(ie){return a&&ie.alternate===null&&(ie.flags|=67108866),ie}function k(ie,ne,le,Ae){return ne===null||ne.tag!==6?(ne=Hm(le,ie.mode,Ae),ne.return=ie,ne):(ne=g(ne,le),ne.return=ie,ne)}function Y(ie,ne,le,Ae){var Ye=le.type;return Ye===A?we(ie,ne,le.props.children,Ae,le.key):ne!==null&&(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===I&&$o(Ye)===ne.type)?(ne=g(ne,le.props),ku(ne,le),ne.return=ie,ne):(ne=Vf(le.type,le.key,le.props,null,ie.mode,Ae),ku(ne,le),ne.return=ie,ne)}function he(ie,ne,le,Ae){return ne===null||ne.tag!==4||ne.stateNode.containerInfo!==le.containerInfo||ne.stateNode.implementation!==le.implementation?(ne=Gm(le,ie.mode,Ae),ne.return=ie,ne):(ne=g(ne,le.children||[]),ne.return=ie,ne)}function we(ie,ne,le,Ae,Ye){return ne===null||ne.tag!==7?(ne=zo(le,ie.mode,Ae,Ye),ne.return=ie,ne):(ne=g(ne,le),ne.return=ie,ne)}function be(ie,ne,le){if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return ne=Hm(""+ne,ie.mode,le),ne.return=ie,ne;if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case T:return le=Vf(ne.type,ne.key,ne.props,null,ie.mode,le),ku(le,ne),le.return=ie,le;case N:return ne=Gm(ne,ie.mode,le),ne.return=ie,ne;case I:return ne=$o(ne),be(ie,ne,le)}if(Ce(ne)||O(ne))return ne=zo(ne,ie.mode,le,null),ne.return=ie,ne;if(typeof ne.then=="function")return be(ie,Kf(ne),le);if(ne.$$typeof===q)return be(ie,zf(ie,ne),le);$f(ie,ne)}return null}function pe(ie,ne,le,Ae){var Ye=ne!==null?ne.key:null;if(typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint")return Ye!==null?null:k(ie,ne,""+le,Ae);if(typeof le=="object"&&le!==null){switch(le.$$typeof){case T:return le.key===Ye?Y(ie,ne,le,Ae):null;case N:return le.key===Ye?he(ie,ne,le,Ae):null;case I:return le=$o(le),pe(ie,ne,le,Ae)}if(Ce(le)||O(le))return Ye!==null?null:we(ie,ne,le,Ae,null);if(typeof le.then=="function")return pe(ie,ne,Kf(le),Ae);if(le.$$typeof===q)return pe(ie,ne,zf(ie,le),Ae);$f(ie,le)}return null}function xe(ie,ne,le,Ae,Ye){if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return ie=ie.get(le)||null,k(ne,ie,""+Ae,Ye);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case T:return ie=ie.get(Ae.key===null?le:Ae.key)||null,Y(ne,ie,Ae,Ye);case N:return ie=ie.get(Ae.key===null?le:Ae.key)||null,he(ne,ie,Ae,Ye);case I:return Ae=$o(Ae),xe(ie,ne,le,Ae,Ye)}if(Ce(Ae)||O(Ae))return ie=ie.get(le)||null,we(ne,ie,Ae,Ye,null);if(typeof Ae.then=="function")return xe(ie,ne,le,Kf(Ae),Ye);if(Ae.$$typeof===q)return xe(ie,ne,le,zf(ne,Ae),Ye);$f(ne,Ae)}return null}function Ge(ie,ne,le,Ae){for(var Ye=null,Tt=null,We=ne,ht=ne=0,gt=null;We!==null&&ht<le.length;ht++){We.index>ht?(gt=We,We=null):gt=We.sibling;var wt=pe(ie,We,le[ht],Ae);if(wt===null){We===null&&(We=gt);break}a&&We&&wt.alternate===null&&s(ie,We),ne=_(wt,ne,ht),Tt===null?Ye=wt:Tt.sibling=wt,Tt=wt,We=gt}if(ht===le.length)return l(ie,We),yt&&Di(ie,ht),Ye;if(We===null){for(;ht<le.length;ht++)We=be(ie,le[ht],Ae),We!==null&&(ne=_(We,ne,ht),Tt===null?Ye=We:Tt.sibling=We,Tt=We);return yt&&Di(ie,ht),Ye}for(We=u(We);ht<le.length;ht++)gt=xe(We,ie,ht,le[ht],Ae),gt!==null&&(a&&gt.alternate!==null&&We.delete(gt.key===null?ht:gt.key),ne=_(gt,ne,ht),Tt===null?Ye=gt:Tt.sibling=gt,Tt=gt);return a&&We.forEach(function(Hs){return s(ie,Hs)}),yt&&Di(ie,ht),Ye}function Ze(ie,ne,le,Ae){if(le==null)throw Error(r(151));for(var Ye=null,Tt=null,We=ne,ht=ne=0,gt=null,wt=le.next();We!==null&&!wt.done;ht++,wt=le.next()){We.index>ht?(gt=We,We=null):gt=We.sibling;var Hs=pe(ie,We,wt.value,Ae);if(Hs===null){We===null&&(We=gt);break}a&&We&&Hs.alternate===null&&s(ie,We),ne=_(Hs,ne,ht),Tt===null?Ye=Hs:Tt.sibling=Hs,Tt=Hs,We=gt}if(wt.done)return l(ie,We),yt&&Di(ie,ht),Ye;if(We===null){for(;!wt.done;ht++,wt=le.next())wt=be(ie,wt.value,Ae),wt!==null&&(ne=_(wt,ne,ht),Tt===null?Ye=wt:Tt.sibling=wt,Tt=wt);return yt&&Di(ie,ht),Ye}for(We=u(We);!wt.done;ht++,wt=le.next())wt=xe(We,ie,ht,wt.value,Ae),wt!==null&&(a&&wt.alternate!==null&&We.delete(wt.key===null?ht:wt.key),ne=_(wt,ne,ht),Tt===null?Ye=wt:Tt.sibling=wt,Tt=wt);return a&&We.forEach(function(_N){return s(ie,_N)}),yt&&Di(ie,ht),Ye}function qt(ie,ne,le,Ae){if(typeof le=="object"&&le!==null&&le.type===A&&le.key===null&&(le=le.props.children),typeof le=="object"&&le!==null){switch(le.$$typeof){case T:e:{for(var Ye=le.key;ne!==null;){if(ne.key===Ye){if(Ye=le.type,Ye===A){if(ne.tag===7){l(ie,ne.sibling),Ae=g(ne,le.props.children),Ae.return=ie,ie=Ae;break e}}else if(ne.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===I&&$o(Ye)===ne.type){l(ie,ne.sibling),Ae=g(ne,le.props),ku(Ae,le),Ae.return=ie,ie=Ae;break e}l(ie,ne);break}else s(ie,ne);ne=ne.sibling}le.type===A?(Ae=zo(le.props.children,ie.mode,Ae,le.key),Ae.return=ie,ie=Ae):(Ae=Vf(le.type,le.key,le.props,null,ie.mode,Ae),ku(Ae,le),Ae.return=ie,ie=Ae)}return w(ie);case N:e:{for(Ye=le.key;ne!==null;){if(ne.key===Ye)if(ne.tag===4&&ne.stateNode.containerInfo===le.containerInfo&&ne.stateNode.implementation===le.implementation){l(ie,ne.sibling),Ae=g(ne,le.children||[]),Ae.return=ie,ie=Ae;break e}else{l(ie,ne);break}else s(ie,ne);ne=ne.sibling}Ae=Gm(le,ie.mode,Ae),Ae.return=ie,ie=Ae}return w(ie);case I:return le=$o(le),qt(ie,ne,le,Ae)}if(Ce(le))return Ge(ie,ne,le,Ae);if(O(le)){if(Ye=O(le),typeof Ye!="function")throw Error(r(150));return le=Ye.call(le),Ze(ie,ne,le,Ae)}if(typeof le.then=="function")return qt(ie,ne,Kf(le),Ae);if(le.$$typeof===q)return qt(ie,ne,zf(ie,le),Ae);$f(ie,le)}return typeof le=="string"&&le!==""||typeof le=="number"||typeof le=="bigint"?(le=""+le,ne!==null&&ne.tag===6?(l(ie,ne.sibling),Ae=g(ne,le),Ae.return=ie,ie=Ae):(l(ie,ne),Ae=Hm(le,ie.mode,Ae),Ae.return=ie,ie=Ae),w(ie)):l(ie,ne)}return function(ie,ne,le,Ae){try{Ou=0;var Ye=qt(ie,ne,le,Ae);return Yl=null,Ye}catch(We){if(We===Xl||We===Hf)throw We;var Tt=Gr(29,We,null,ie.mode);return Tt.lanes=Ae,Tt.return=ie,Tt}finally{}}}var Xo=H_(!0),G_=H_(!1),bs=!1;function rp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ap(a,s){a=a.updateQueue,s.updateQueue===a&&(s.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ns(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Rs(a,s,l){var u=a.updateQueue;if(u===null)return null;if(u=u.shared,(Ct&2)!==0){var g=u.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),u.pending=s,s=Lf(a),N_(a,null,l),s}return Ff(a,u,s,l),Lf(a)}function Mu(a,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,Si(a,l)}}function ip(a,s){var l=a.updateQueue,u=a.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,_=null;if(l=l.firstBaseUpdate,l!==null){do{var w={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};_===null?g=_=w:_=_.next=w,l=l.next}while(l!==null);_===null?g=_=s:_=_.next=s}else g=_=s;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},a.updateQueue=l;return}a=l.lastBaseUpdate,a===null?l.firstBaseUpdate=s:a.next=s,l.lastBaseUpdate=s}var sp=!1;function Pu(){if(sp){var a=Wl;if(a!==null)throw a}}function ju(a,s,l,u){sp=!1;var g=a.updateQueue;bs=!1;var _=g.firstBaseUpdate,w=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var Y=k,he=Y.next;Y.next=null,w===null?_=he:w.next=he,w=Y;var we=a.alternate;we!==null&&(we=we.updateQueue,k=we.lastBaseUpdate,k!==w&&(k===null?we.firstBaseUpdate=he:k.next=he,we.lastBaseUpdate=Y))}if(_!==null){var be=g.baseState;w=0,we=he=Y=null,k=_;do{var pe=k.lane&-536870913,xe=pe!==k.lane;if(xe?(pt&pe)===pe:(u&pe)===pe){pe!==0&&pe===$l&&(sp=!0),we!==null&&(we=we.next={lane:0,tag:k.tag,payload:k.payload,callback:null,next:null});e:{var Ge=a,Ze=k;pe=s;var qt=l;switch(Ze.tag){case 1:if(Ge=Ze.payload,typeof Ge=="function"){be=Ge.call(qt,be,pe);break e}be=Ge;break e;case 3:Ge.flags=Ge.flags&-65537|128;case 0:if(Ge=Ze.payload,pe=typeof Ge=="function"?Ge.call(qt,be,pe):Ge,pe==null)break e;be=x({},be,pe);break e;case 2:bs=!0}}pe=k.callback,pe!==null&&(a.flags|=64,xe&&(a.flags|=8192),xe=g.callbacks,xe===null?g.callbacks=[pe]:xe.push(pe))}else xe={lane:pe,tag:k.tag,payload:k.payload,callback:k.callback,next:null},we===null?(he=we=xe,Y=be):we=we.next=xe,w|=pe;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;xe=k,k=xe.next,xe.next=null,g.lastBaseUpdate=xe,g.shared.pending=null}}while(!0);we===null&&(Y=be),g.baseState=Y,g.firstBaseUpdate=he,g.lastBaseUpdate=we,_===null&&(g.shared.lanes=0),Ms|=w,a.lanes=w,a.memoizedState=be}}function K_(a,s){if(typeof a!="function")throw Error(r(191,a));a.call(s)}function $_(a,s){var l=a.callbacks;if(l!==null)for(a.callbacks=null,a=0;a<l.length;a++)K_(l[a],s)}var Ql=Z(null),Wf=Z(0);function W_(a,s){a=zi,J(Wf,a),J(Ql,s),zi=a|s.baseLanes}function op(){J(Wf,zi),J(Ql,Ql.current)}function lp(){zi=Wf.current,L(Ql),L(Wf)}var Kr=Z(null),pa=null;function Is(a){var s=a.alternate;J(dn,dn.current&1),J(Kr,a),pa===null&&(s===null||Ql.current!==null||s.memoizedState!==null)&&(pa=a)}function cp(a){J(dn,dn.current),J(Kr,a),pa===null&&(pa=a)}function X_(a){a.tag===22?(J(dn,dn.current),J(Kr,a),pa===null&&(pa=a)):Ds()}function Ds(){J(dn,dn.current),J(Kr,Kr.current)}function $r(a){L(Kr),pa===a&&(pa=null),L(dn)}var dn=Z(0);function Xf(a){for(var s=a;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||pg(l)||gg(l)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Mi=0,ct=null,Bt=null,yn=null,Yf=!1,Jl=!1,Yo=!1,Qf=0,Fu=0,Zl=null,lb=0;function ln(){throw Error(r(321))}function up(a,s){if(s===null)return!1;for(var l=0;l<s.length&&l<a.length;l++)if(!Hr(a[l],s[l]))return!1;return!0}function hp(a,s,l,u,g,_){return Mi=_,ct=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,te.H=a===null||a.memoizedState===null?Ox:Cp,Yo=!1,_=l(u,g),Yo=!1,Jl&&(_=Q_(s,l,u,g)),Y_(a),_}function Y_(a){te.H=Uu;var s=Bt!==null&&Bt.next!==null;if(Mi=0,yn=Bt=ct=null,Yf=!1,Fu=0,Zl=null,s)throw Error(r(300));a===null||En||(a=a.dependencies,a!==null&&Bf(a)&&(En=!0))}function Q_(a,s,l,u){ct=a;var g=0;do{if(Jl&&(Zl=null),Fu=0,Jl=!1,25<=g)throw Error(r(301));if(g+=1,yn=Bt=null,a.updateQueue!=null){var _=a.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}te.H=kx,_=s(l,u)}while(Jl);return _}function cb(){var a=te.H,s=a.useState()[0];return s=typeof s.then=="function"?Lu(s):s,a=a.useState()[0],(Bt!==null?Bt.memoizedState:null)!==a&&(ct.flags|=1024),s}function fp(){var a=Qf!==0;return Qf=0,a}function dp(a,s,l){s.updateQueue=a.updateQueue,s.flags&=-2053,a.lanes&=~l}function mp(a){if(Yf){for(a=a.memoizedState;a!==null;){var s=a.queue;s!==null&&(s.pending=null),a=a.next}Yf=!1}Mi=0,yn=Bt=ct=null,Jl=!1,Fu=Qf=0,Zl=null}function _r(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return yn===null?ct.memoizedState=yn=a:yn=yn.next=a,yn}function mn(){if(Bt===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=Bt.next;var s=yn===null?ct.memoizedState:yn.next;if(s!==null)yn=s,Bt=a;else{if(a===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Bt=a,a={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},yn===null?ct.memoizedState=yn=a:yn=yn.next=a}return yn}function Jf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Lu(a){var s=Fu;return Fu+=1,Zl===null&&(Zl=[]),a=B_(Zl,a,s),s=ct,(yn===null?s.memoizedState:yn.next)===null&&(s=s.alternate,te.H=s===null||s.memoizedState===null?Ox:Cp),a}function Zf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return Lu(a);if(a.$$typeof===q)return Gn(a)}throw Error(r(438,String(a)))}function pp(a){var s=null,l=ct.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=ct.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(g){return g.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=Jf(),ct.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(a),u=0;u<a;u++)l[u]=M;return s.index++,l}function Pi(a,s){return typeof s=="function"?s(a):s}function ed(a){var s=mn();return gp(s,Bt,a)}function gp(a,s,l){var u=a.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=l;var g=a.baseQueue,_=u.pending;if(_!==null){if(g!==null){var w=g.next;g.next=_.next,_.next=w}s.baseQueue=g=_,u.pending=null}if(_=a.baseState,g===null)a.memoizedState=_;else{s=g.next;var k=w=null,Y=null,he=s,we=!1;do{var be=he.lane&-536870913;if(be!==he.lane?(pt&be)===be:(Mi&be)===be){var pe=he.revertLane;if(pe===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null}),be===$l&&(we=!0);else if((Mi&pe)===pe){he=he.next,pe===$l&&(we=!0);continue}else be={lane:0,revertLane:he.revertLane,gesture:null,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Y===null?(k=Y=be,w=_):Y=Y.next=be,ct.lanes|=pe,Ms|=pe;be=he.action,Yo&&l(_,be),_=he.hasEagerState?he.eagerState:l(_,be)}else pe={lane:be,revertLane:he.revertLane,gesture:he.gesture,action:he.action,hasEagerState:he.hasEagerState,eagerState:he.eagerState,next:null},Y===null?(k=Y=pe,w=_):Y=Y.next=pe,ct.lanes|=be,Ms|=be;he=he.next}while(he!==null&&he!==s);if(Y===null?w=_:Y.next=k,!Hr(_,a.memoizedState)&&(En=!0,we&&(l=Wl,l!==null)))throw l;a.memoizedState=_,a.baseState=w,a.baseQueue=Y,u.lastRenderedState=_}return g===null&&(u.lanes=0),[a.memoizedState,u.dispatch]}function vp(a){var s=mn(),l=s.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=l.dispatch,g=l.pending,_=s.memoizedState;if(g!==null){l.pending=null;var w=g=g.next;do _=a(_,w.action),w=w.next;while(w!==g);Hr(_,s.memoizedState)||(En=!0),s.memoizedState=_,s.baseQueue===null&&(s.baseState=_),l.lastRenderedState=_}return[_,u]}function J_(a,s,l){var u=ct,g=mn(),_=yt;if(_){if(l===void 0)throw Error(r(407));l=l()}else l=s();var w=!Hr((Bt||g).memoizedState,l);if(w&&(g.memoizedState=l,En=!0),g=g.queue,yp(tx.bind(null,u,g,a),[a]),g.getSnapshot!==s||w||yn!==null&&yn.memoizedState.tag&1){if(u.flags|=2048,ec(9,{destroy:void 0},ex.bind(null,u,g,l,s),null),$t===null)throw Error(r(349));_||(Mi&127)!==0||Z_(u,s,l)}return l}function Z_(a,s,l){a.flags|=16384,a={getSnapshot:s,value:l},s=ct.updateQueue,s===null?(s=Jf(),ct.updateQueue=s,s.stores=[a]):(l=s.stores,l===null?s.stores=[a]:l.push(a))}function ex(a,s,l,u){s.value=l,s.getSnapshot=u,nx(s)&&rx(a)}function tx(a,s,l){return l(function(){nx(s)&&rx(a)})}function nx(a){var s=a.getSnapshot;a=a.value;try{var l=s();return!Hr(a,l)}catch{return!0}}function rx(a){var s=Bo(a,2);s!==null&&kr(s,a,2)}function _p(a){var s=_r();if(typeof a=="function"){var l=a;if(a=l(),Yo){pr(!0);try{l()}finally{pr(!1)}}}return s.memoizedState=s.baseState=a,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:a},s}function ax(a,s,l,u){return a.baseState=l,gp(a,Bt,typeof u=="function"?u:Pi)}function ub(a,s,l,u,g){if(rd(a))throw Error(r(485));if(a=s.action,a!==null){var _={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){_.listeners.push(w)}};te.T!==null?l(!0):_.isTransition=!1,u(_),l=s.pending,l===null?(_.next=s.pending=_,ix(s,_)):(_.next=l.next,s.pending=l.next=_)}}function ix(a,s){var l=s.action,u=s.payload,g=a.state;if(s.isTransition){var _=te.T,w={};te.T=w;try{var k=l(g,u),Y=te.S;Y!==null&&Y(w,k),sx(a,s,k)}catch(he){xp(a,s,he)}finally{_!==null&&w.types!==null&&(_.types=w.types),te.T=_}}else try{_=l(g,u),sx(a,s,_)}catch(he){xp(a,s,he)}}function sx(a,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){ox(a,s,u)},function(u){return xp(a,s,u)}):ox(a,s,l)}function ox(a,s,l){s.status="fulfilled",s.value=l,lx(s),a.state=l,s=a.pending,s!==null&&(l=s.next,l===s?a.pending=null:(l=l.next,s.next=l,ix(a,l)))}function xp(a,s,l){var u=a.pending;if(a.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,lx(s),s=s.next;while(s!==u)}a.action=null}function lx(a){a=a.listeners;for(var s=0;s<a.length;s++)(0,a[s])()}function cx(a,s){return s}function ux(a,s){if(yt){var l=$t.formState;if(l!==null){e:{var u=ct;if(yt){if(Qt){t:{for(var g=Qt,_=ma;g.nodeType!==8;){if(!_){g=null;break t}if(g=ga(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){Qt=ga(g.nextSibling),u=g.data==="F!";break e}}Ss(u)}u=!1}u&&(s=l[0])}}return l=_r(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cx,lastRenderedState:s},l.queue=u,l=Rx.bind(null,ct,u),u.dispatch=l,u=_p(!1),_=Sp.bind(null,ct,!1,u.queue),u=_r(),g={state:s,dispatch:null,action:a,pending:null},u.queue=g,l=ub.bind(null,ct,g,_,l),g.dispatch=l,u.memoizedState=a,[s,l,!1]}function hx(a){var s=mn();return fx(s,Bt,a)}function fx(a,s,l){if(s=gp(a,s,cx)[0],a=ed(Pi)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=Lu(s)}catch(w){throw w===Xl?Hf:w}else u=s;s=mn();var g=s.queue,_=g.dispatch;return l!==s.memoizedState&&(ct.flags|=2048,ec(9,{destroy:void 0},hb.bind(null,g,l),null)),[u,_,a]}function hb(a,s){a.action=s}function dx(a){var s=mn(),l=Bt;if(l!==null)return fx(s,l,a);mn(),s=s.memoizedState,l=mn();var u=l.queue.dispatch;return l.memoizedState=a,[s,u,!1]}function ec(a,s,l,u){return a={tag:a,create:l,deps:u,inst:s,next:null},s=ct.updateQueue,s===null&&(s=Jf(),ct.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=a.next=a:(u=l.next,l.next=a,a.next=u,s.lastEffect=a),a}function mx(){return mn().memoizedState}function td(a,s,l,u){var g=_r();ct.flags|=a,g.memoizedState=ec(1|s,{destroy:void 0},l,u===void 0?null:u)}function nd(a,s,l,u){var g=mn();u=u===void 0?null:u;var _=g.memoizedState.inst;Bt!==null&&u!==null&&up(u,Bt.memoizedState.deps)?g.memoizedState=ec(s,_,l,u):(ct.flags|=a,g.memoizedState=ec(1|s,_,l,u))}function px(a,s){td(8390656,8,a,s)}function yp(a,s){nd(2048,8,a,s)}function fb(a){ct.flags|=4;var s=ct.updateQueue;if(s===null)s=Jf(),ct.updateQueue=s,s.events=[a];else{var l=s.events;l===null?s.events=[a]:l.push(a)}}function gx(a){var s=mn().memoizedState;return fb({ref:s,nextImpl:a}),function(){if((Ct&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function vx(a,s){return nd(4,2,a,s)}function _x(a,s){return nd(4,4,a,s)}function xx(a,s){if(typeof s=="function"){a=a();var l=s(a);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return a=a(),s.current=a,function(){s.current=null}}function yx(a,s,l){l=l!=null?l.concat([a]):null,nd(4,4,xx.bind(null,s,a),l)}function Ep(){}function Ex(a,s){var l=mn();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&up(s,u[1])?u[0]:(l.memoizedState=[a,s],a)}function Tx(a,s){var l=mn();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&up(s,u[1]))return u[0];if(u=a(),Yo){pr(!0);try{a()}finally{pr(!1)}}return l.memoizedState=[u,s],u}function Tp(a,s,l){return l===void 0||(Mi&1073741824)!==0&&(pt&261930)===0?a.memoizedState=s:(a.memoizedState=l,a=wy(),ct.lanes|=a,Ms|=a,l)}function wx(a,s,l,u){return Hr(l,s)?l:Ql.current!==null?(a=Tp(a,l,u),Hr(a,s)||(En=!0),a):(Mi&42)===0||(Mi&1073741824)!==0&&(pt&261930)===0?(En=!0,a.memoizedState=l):(a=wy(),ct.lanes|=a,Ms|=a,s)}function Ax(a,s,l,u,g){var _=ye.p;ye.p=_!==0&&8>_?_:8;var w=te.T,k={};te.T=k,Sp(a,!1,s,l);try{var Y=g(),he=te.S;if(he!==null&&he(k,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var we=ob(Y,u);Vu(a,s,we,Yr(a))}else Vu(a,s,u,Yr(a))}catch(be){Vu(a,s,{then:function(){},status:"rejected",reason:be},Yr())}finally{ye.p=_,w!==null&&k.types!==null&&(w.types=k.types),te.T=w}}function db(){}function wp(a,s,l,u){if(a.tag!==5)throw Error(r(476));var g=Sx(a).queue;Ax(a,g,s,oe,l===null?db:function(){return Cx(a),l(u)})}function Sx(a){var s=a.memoizedState;if(s!==null)return s;s={memoizedState:oe,baseState:oe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:oe},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:l},next:null},a.memoizedState=s,a=a.alternate,a!==null&&(a.memoizedState=s),s}function Cx(a){var s=Sx(a);s.next===null&&(s=a.alternate.memoizedState),Vu(a,s.next.queue,{},Yr())}function Ap(){return Gn(nh)}function bx(){return mn().memoizedState}function Nx(){return mn().memoizedState}function mb(a){for(var s=a.return;s!==null;){switch(s.tag){case 24:case 3:var l=Yr();a=Ns(l);var u=Rs(s,a,l);u!==null&&(kr(u,s,l),Mu(u,s,l)),s={cache:Zm()},a.payload=s;return}s=s.return}}function pb(a,s,l){var u=Yr();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},rd(a)?Ix(s,l):(l=zm(a,s,l,u),l!==null&&(kr(l,a,u),Dx(l,s,u)))}function Rx(a,s,l){var u=Yr();Vu(a,s,l,u)}function Vu(a,s,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(rd(a))Ix(s,g);else{var _=a.alternate;if(a.lanes===0&&(_===null||_.lanes===0)&&(_=s.lastRenderedReducer,_!==null))try{var w=s.lastRenderedState,k=_(w,l);if(g.hasEagerState=!0,g.eagerState=k,Hr(k,w))return Ff(a,s,g,0),$t===null&&jf(),!1}catch{}finally{}if(l=zm(a,s,g,u),l!==null)return kr(l,a,u),Dx(l,s,u),!0}return!1}function Sp(a,s,l,u){if(u={lane:2,revertLane:rg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},rd(a)){if(s)throw Error(r(479))}else s=zm(a,l,u,2),s!==null&&kr(s,a,2)}function rd(a){var s=a.alternate;return a===ct||s!==null&&s===ct}function Ix(a,s){Jl=Yf=!0;var l=a.pending;l===null?s.next=s:(s.next=l.next,l.next=s),a.pending=s}function Dx(a,s,l){if((l&4194048)!==0){var u=s.lanes;u&=a.pendingLanes,l|=u,s.lanes=l,Si(a,l)}}var Uu={readContext:Gn,use:Zf,useCallback:ln,useContext:ln,useEffect:ln,useImperativeHandle:ln,useLayoutEffect:ln,useInsertionEffect:ln,useMemo:ln,useReducer:ln,useRef:ln,useState:ln,useDebugValue:ln,useDeferredValue:ln,useTransition:ln,useSyncExternalStore:ln,useId:ln,useHostTransitionStatus:ln,useFormState:ln,useActionState:ln,useOptimistic:ln,useMemoCache:ln,useCacheRefresh:ln};Uu.useEffectEvent=ln;var Ox={readContext:Gn,use:Zf,useCallback:function(a,s){return _r().memoizedState=[a,s===void 0?null:s],a},useContext:Gn,useEffect:px,useImperativeHandle:function(a,s,l){l=l!=null?l.concat([a]):null,td(4194308,4,xx.bind(null,s,a),l)},useLayoutEffect:function(a,s){return td(4194308,4,a,s)},useInsertionEffect:function(a,s){td(4,2,a,s)},useMemo:function(a,s){var l=_r();s=s===void 0?null:s;var u=a();if(Yo){pr(!0);try{a()}finally{pr(!1)}}return l.memoizedState=[u,s],u},useReducer:function(a,s,l){var u=_r();if(l!==void 0){var g=l(s);if(Yo){pr(!0);try{l(s)}finally{pr(!1)}}}else g=s;return u.memoizedState=u.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},u.queue=a,a=a.dispatch=pb.bind(null,ct,a),[u.memoizedState,a]},useRef:function(a){var s=_r();return a={current:a},s.memoizedState=a},useState:function(a){a=_p(a);var s=a.queue,l=Rx.bind(null,ct,s);return s.dispatch=l,[a.memoizedState,l]},useDebugValue:Ep,useDeferredValue:function(a,s){var l=_r();return Tp(l,a,s)},useTransition:function(){var a=_p(!1);return a=Ax.bind(null,ct,a.queue,!0,!1),_r().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,s,l){var u=ct,g=_r();if(yt){if(l===void 0)throw Error(r(407));l=l()}else{if(l=s(),$t===null)throw Error(r(349));(pt&127)!==0||Z_(u,s,l)}g.memoizedState=l;var _={value:l,getSnapshot:s};return g.queue=_,px(tx.bind(null,u,_,a),[a]),u.flags|=2048,ec(9,{destroy:void 0},ex.bind(null,u,_,l,s),null),l},useId:function(){var a=_r(),s=$t.identifierPrefix;if(yt){var l=ai,u=ri;l=(u&~(1<<32-an(u)-1)).toString(32)+l,s="_"+s+"R_"+l,l=Qf++,0<l&&(s+="H"+l.toString(32)),s+="_"}else l=lb++,s="_"+s+"r_"+l.toString(32)+"_";return a.memoizedState=s},useHostTransitionStatus:Ap,useFormState:ux,useActionState:ux,useOptimistic:function(a){var s=_r();s.memoizedState=s.baseState=a;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=Sp.bind(null,ct,!0,l),l.dispatch=s,[a,s]},useMemoCache:pp,useCacheRefresh:function(){return _r().memoizedState=mb.bind(null,ct)},useEffectEvent:function(a){var s=_r(),l={impl:a};return s.memoizedState=l,function(){if((Ct&2)!==0)throw Error(r(440));return l.impl.apply(void 0,arguments)}}},Cp={readContext:Gn,use:Zf,useCallback:Ex,useContext:Gn,useEffect:yp,useImperativeHandle:yx,useInsertionEffect:vx,useLayoutEffect:_x,useMemo:Tx,useReducer:ed,useRef:mx,useState:function(){return ed(Pi)},useDebugValue:Ep,useDeferredValue:function(a,s){var l=mn();return wx(l,Bt.memoizedState,a,s)},useTransition:function(){var a=ed(Pi)[0],s=mn().memoizedState;return[typeof a=="boolean"?a:Lu(a),s]},useSyncExternalStore:J_,useId:bx,useHostTransitionStatus:Ap,useFormState:hx,useActionState:hx,useOptimistic:function(a,s){var l=mn();return ax(l,Bt,a,s)},useMemoCache:pp,useCacheRefresh:Nx};Cp.useEffectEvent=gx;var kx={readContext:Gn,use:Zf,useCallback:Ex,useContext:Gn,useEffect:yp,useImperativeHandle:yx,useInsertionEffect:vx,useLayoutEffect:_x,useMemo:Tx,useReducer:vp,useRef:mx,useState:function(){return vp(Pi)},useDebugValue:Ep,useDeferredValue:function(a,s){var l=mn();return Bt===null?Tp(l,a,s):wx(l,Bt.memoizedState,a,s)},useTransition:function(){var a=vp(Pi)[0],s=mn().memoizedState;return[typeof a=="boolean"?a:Lu(a),s]},useSyncExternalStore:J_,useId:bx,useHostTransitionStatus:Ap,useFormState:dx,useActionState:dx,useOptimistic:function(a,s){var l=mn();return Bt!==null?ax(l,Bt,a,s):(l.baseState=a,[a,l.queue.dispatch])},useMemoCache:pp,useCacheRefresh:Nx};kx.useEffectEvent=gx;function bp(a,s,l,u){s=a.memoizedState,l=l(u,s),l=l==null?s:x({},s,l),a.memoizedState=l,a.lanes===0&&(a.updateQueue.baseState=l)}var Np={enqueueSetState:function(a,s,l){a=a._reactInternals;var u=Yr(),g=Ns(u);g.payload=s,l!=null&&(g.callback=l),s=Rs(a,g,u),s!==null&&(kr(s,a,u),Mu(s,a,u))},enqueueReplaceState:function(a,s,l){a=a._reactInternals;var u=Yr(),g=Ns(u);g.tag=1,g.payload=s,l!=null&&(g.callback=l),s=Rs(a,g,u),s!==null&&(kr(s,a,u),Mu(s,a,u))},enqueueForceUpdate:function(a,s){a=a._reactInternals;var l=Yr(),u=Ns(l);u.tag=2,s!=null&&(u.callback=s),s=Rs(a,u,l),s!==null&&(kr(s,a,l),Mu(s,a,l))}};function Mx(a,s,l,u,g,_,w){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(u,_,w):s.prototype&&s.prototype.isPureReactComponent?!Cu(l,u)||!Cu(g,_):!0}function Px(a,s,l,u){a=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==a&&Np.enqueueReplaceState(s,s.state,null)}function Qo(a,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(a=a.defaultProps){l===s&&(l=x({},l));for(var g in a)l[g]===void 0&&(l[g]=a[g])}return l}function jx(a){Pf(a)}function Fx(a){console.error(a)}function Lx(a){Pf(a)}function ad(a,s){try{var l=a.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Vx(a,s,l){try{var u=a.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Rp(a,s,l){return l=Ns(l),l.tag=3,l.payload={element:null},l.callback=function(){ad(a,s)},l}function Ux(a){return a=Ns(a),a.tag=3,a}function Bx(a,s,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;a.payload=function(){return g(_)},a.callback=function(){Vx(s,l,u)}}var w=l.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(a.callback=function(){Vx(s,l,u),typeof g!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var k=u.stack;this.componentDidCatch(u.value,{componentStack:k!==null?k:""})})}function gb(a,s,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Kl(s,l,g,!0),l=Kr.current,l!==null){switch(l.tag){case 31:case 13:return pa===null?gd():l.alternate===null&&cn===0&&(cn=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===Gf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),eg(a,u,g)),!1;case 22:return l.flags|=65536,u===Gf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),eg(a,u,g)),!1}throw Error(r(435,l.tag))}return eg(a,u,g),gd(),!1}if(yt)return s=Kr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=g,u!==Wm&&(a=Error(r(422),{cause:u}),Ru(ha(a,l)))):(u!==Wm&&(s=Error(r(423),{cause:u}),Ru(ha(s,l))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,u=ha(u,l),g=Rp(a.stateNode,u,g),ip(a,g),cn!==4&&(cn=2)),!1;var _=Error(r(520),{cause:u});if(_=ha(_,l),Wu===null?Wu=[_]:Wu.push(_),cn!==4&&(cn=2),s===null)return!0;u=ha(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,a=g&-g,l.lanes|=a,a=Rp(l.stateNode,u,a),ip(l,a),!1;case 1:if(s=l.type,_=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ps===null||!Ps.has(_))))return l.flags|=65536,g&=-g,l.lanes|=g,g=Ux(g),Bx(g,a,l,u),ip(l,g),!1}l=l.return}while(l!==null);return!1}var Ip=Error(r(461)),En=!1;function Kn(a,s,l,u){s.child=a===null?G_(s,null,l,u):Xo(s,a.child,l,u)}function zx(a,s,l,u,g){l=l.render;var _=s.ref;if("ref"in u){var w={};for(var k in u)k!=="ref"&&(w[k]=u[k])}else w=u;return Go(s),u=hp(a,s,l,w,_,g),k=fp(),a!==null&&!En?(dp(a,s,g),ji(a,s,g)):(yt&&k&&Km(s),s.flags|=1,Kn(a,s,u,g),s.child)}function qx(a,s,l,u,g){if(a===null){var _=l.type;return typeof _=="function"&&!qm(_)&&_.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=_,Hx(a,s,_,u,g)):(a=Vf(l.type,null,u,s,s.mode,g),a.ref=s.ref,a.return=s,s.child=a)}if(_=a.child,!Lp(a,g)){var w=_.memoizedProps;if(l=l.compare,l=l!==null?l:Cu,l(w,u)&&a.ref===s.ref)return ji(a,s,g)}return s.flags|=1,a=Ii(_,u),a.ref=s.ref,a.return=s,s.child=a}function Hx(a,s,l,u,g){if(a!==null){var _=a.memoizedProps;if(Cu(_,u)&&a.ref===s.ref)if(En=!1,s.pendingProps=u=_,Lp(a,g))(a.flags&131072)!==0&&(En=!0);else return s.lanes=a.lanes,ji(a,s,g)}return Dp(a,s,l,u,g)}function Gx(a,s,l,u){var g=u.children,_=a!==null?a.memoizedState:null;if(a===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(_=_!==null?_.baseLanes|l:l,a!==null){for(u=s.child=a.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~_}else u=0,s.child=null;return Kx(a,s,_,l,u)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},a!==null&&qf(s,_!==null?_.cachePool:null),_!==null?W_(s,_):op(),X_(s);else return u=s.lanes=536870912,Kx(a,s,_!==null?_.baseLanes|l:l,l,u)}else _!==null?(qf(s,_.cachePool),W_(s,_),Ds(),s.memoizedState=null):(a!==null&&qf(s,null),op(),Ds());return Kn(a,s,g,l),s.child}function Bu(a,s){return a!==null&&a.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Kx(a,s,l,u,g){var _=tp();return _=_===null?null:{parent:xn._currentValue,pool:_},s.memoizedState={baseLanes:l,cachePool:_},a!==null&&qf(s,null),op(),X_(s),a!==null&&Kl(a,s,u,!0),s.childLanes=g,null}function id(a,s){return s=od({mode:s.mode,children:s.children},a.mode),s.ref=a.ref,a.child=s,s.return=a,s}function $x(a,s,l){return Xo(s,a.child,null,l),a=id(s,s.pendingProps),a.flags|=2,$r(s),s.memoizedState=null,a}function vb(a,s,l){var u=s.pendingProps,g=(s.flags&128)!==0;if(s.flags&=-129,a===null){if(yt){if(u.mode==="hidden")return a=id(s,u),s.lanes=536870912,Bu(null,a);if(cp(s),(a=Qt)?(a=iE(a,ma),a=a!==null&&a.data==="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ws!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},l=I_(a),l.return=s,s.child=l,Hn=s,Qt=null)):a=null,a===null)throw Ss(s);return s.lanes=536870912,null}return id(s,u)}var _=a.memoizedState;if(_!==null){var w=_.dehydrated;if(cp(s),g)if(s.flags&256)s.flags&=-257,s=$x(a,s,l);else if(s.memoizedState!==null)s.child=a.child,s.flags|=128,s=null;else throw Error(r(558));else if(En||Kl(a,s,l,!1),g=(l&a.childLanes)!==0,En||g){if(u=$t,u!==null&&(w=Ro(u,l),w!==0&&w!==_.retryLane))throw _.retryLane=w,Bo(a,w),kr(u,a,w),Ip;gd(),s=$x(a,s,l)}else a=_.treeContext,Qt=ga(w.nextSibling),Hn=s,yt=!0,As=null,ma=!1,a!==null&&k_(s,a),s=id(s,u),s.flags|=4096;return s}return a=Ii(a.child,{mode:u.mode,children:u.children}),a.ref=s.ref,s.child=a,a.return=s,a}function sd(a,s){var l=s.ref;if(l===null)a!==null&&a.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(r(284));(a===null||a.ref!==l)&&(s.flags|=4194816)}}function Dp(a,s,l,u,g){return Go(s),l=hp(a,s,l,u,void 0,g),u=fp(),a!==null&&!En?(dp(a,s,g),ji(a,s,g)):(yt&&u&&Km(s),s.flags|=1,Kn(a,s,l,g),s.child)}function Wx(a,s,l,u,g,_){return Go(s),s.updateQueue=null,l=Q_(s,u,l,g),Y_(a),u=fp(),a!==null&&!En?(dp(a,s,_),ji(a,s,_)):(yt&&u&&Km(s),s.flags|=1,Kn(a,s,l,_),s.child)}function Xx(a,s,l,u,g){if(Go(s),s.stateNode===null){var _=zl,w=l.contextType;typeof w=="object"&&w!==null&&(_=Gn(w)),_=new l(u,_),s.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Np,s.stateNode=_,_._reactInternals=s,_=s.stateNode,_.props=u,_.state=s.memoizedState,_.refs={},rp(s),w=l.contextType,_.context=typeof w=="object"&&w!==null?Gn(w):zl,_.state=s.memoizedState,w=l.getDerivedStateFromProps,typeof w=="function"&&(bp(s,l,w,u),_.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(w=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),w!==_.state&&Np.enqueueReplaceState(_,_.state,null),ju(s,u,_,g),Pu(),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(a===null){_=s.stateNode;var k=s.memoizedProps,Y=Qo(l,k);_.props=Y;var he=_.context,we=l.contextType;w=zl,typeof we=="object"&&we!==null&&(w=Gn(we));var be=l.getDerivedStateFromProps;we=typeof be=="function"||typeof _.getSnapshotBeforeUpdate=="function",k=s.pendingProps!==k,we||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(k||he!==w)&&Px(s,_,u,w),bs=!1;var pe=s.memoizedState;_.state=pe,ju(s,u,_,g),Pu(),he=s.memoizedState,k||pe!==he||bs?(typeof be=="function"&&(bp(s,l,be,u),he=s.memoizedState),(Y=bs||Mx(s,l,Y,u,pe,he,w))?(we||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(s.flags|=4194308)):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=he),_.props=u,_.state=he,_.context=w,u=Y):(typeof _.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{_=s.stateNode,ap(a,s),w=s.memoizedProps,we=Qo(l,w),_.props=we,be=s.pendingProps,pe=_.context,he=l.contextType,Y=zl,typeof he=="object"&&he!==null&&(Y=Gn(he)),k=l.getDerivedStateFromProps,(he=typeof k=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(w!==be||pe!==Y)&&Px(s,_,u,Y),bs=!1,pe=s.memoizedState,_.state=pe,ju(s,u,_,g),Pu();var xe=s.memoizedState;w!==be||pe!==xe||bs||a!==null&&a.dependencies!==null&&Bf(a.dependencies)?(typeof k=="function"&&(bp(s,l,k,u),xe=s.memoizedState),(we=bs||Mx(s,l,we,u,pe,xe,Y)||a!==null&&a.dependencies!==null&&Bf(a.dependencies))?(he||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,xe,Y),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,xe,Y)),typeof _.componentDidUpdate=="function"&&(s.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof _.componentDidUpdate!="function"||w===a.memoizedProps&&pe===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&pe===a.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=xe),_.props=u,_.state=xe,_.context=Y,u=we):(typeof _.componentDidUpdate!="function"||w===a.memoizedProps&&pe===a.memoizedState||(s.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||w===a.memoizedProps&&pe===a.memoizedState||(s.flags|=1024),u=!1)}return _=u,sd(a,s),u=(s.flags&128)!==0,_||u?(_=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:_.render(),s.flags|=1,a!==null&&u?(s.child=Xo(s,a.child,null,g),s.child=Xo(s,null,l,g)):Kn(a,s,l,g),s.memoizedState=_.state,a=s.child):a=ji(a,s,g),a}function Yx(a,s,l,u){return qo(),s.flags|=256,Kn(a,s,l,u),s.child}var Op={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function kp(a){return{baseLanes:a,cachePool:V_()}}function Mp(a,s,l){return a=a!==null?a.childLanes&~l:0,s&&(a|=Xr),a}function Qx(a,s,l){var u=s.pendingProps,g=!1,_=(s.flags&128)!==0,w;if((w=_)||(w=a!==null&&a.memoizedState===null?!1:(dn.current&2)!==0),w&&(g=!0,s.flags&=-129),w=(s.flags&32)!==0,s.flags&=-33,a===null){if(yt){if(g?Is(s):Ds(),(a=Qt)?(a=iE(a,ma),a=a!==null&&a.data!=="&"?a:null,a!==null&&(s.memoizedState={dehydrated:a,treeContext:ws!==null?{id:ri,overflow:ai}:null,retryLane:536870912,hydrationErrors:null},l=I_(a),l.return=s,s.child=l,Hn=s,Qt=null)):a=null,a===null)throw Ss(s);return gg(a)?s.lanes=32:s.lanes=536870912,null}var k=u.children;return u=u.fallback,g?(Ds(),g=s.mode,k=od({mode:"hidden",children:k},g),u=zo(u,g,l,null),k.return=s,u.return=s,k.sibling=u,s.child=k,u=s.child,u.memoizedState=kp(l),u.childLanes=Mp(a,w,l),s.memoizedState=Op,Bu(null,u)):(Is(s),Pp(s,k))}var Y=a.memoizedState;if(Y!==null&&(k=Y.dehydrated,k!==null)){if(_)s.flags&256?(Is(s),s.flags&=-257,s=jp(a,s,l)):s.memoizedState!==null?(Ds(),s.child=a.child,s.flags|=128,s=null):(Ds(),k=u.fallback,g=s.mode,u=od({mode:"visible",children:u.children},g),k=zo(k,g,l,null),k.flags|=2,u.return=s,k.return=s,u.sibling=k,s.child=u,Xo(s,a.child,null,l),u=s.child,u.memoizedState=kp(l),u.childLanes=Mp(a,w,l),s.memoizedState=Op,s=Bu(null,u));else if(Is(s),gg(k)){if(w=k.nextSibling&&k.nextSibling.dataset,w)var he=w.dgst;w=he,u=Error(r(419)),u.stack="",u.digest=w,Ru({value:u,source:null,stack:null}),s=jp(a,s,l)}else if(En||Kl(a,s,l,!1),w=(l&a.childLanes)!==0,En||w){if(w=$t,w!==null&&(u=Ro(w,l),u!==0&&u!==Y.retryLane))throw Y.retryLane=u,Bo(a,u),kr(w,a,u),Ip;pg(k)||gd(),s=jp(a,s,l)}else pg(k)?(s.flags|=192,s.child=a.child,s=null):(a=Y.treeContext,Qt=ga(k.nextSibling),Hn=s,yt=!0,As=null,ma=!1,a!==null&&k_(s,a),s=Pp(s,u.children),s.flags|=4096);return s}return g?(Ds(),k=u.fallback,g=s.mode,Y=a.child,he=Y.sibling,u=Ii(Y,{mode:"hidden",children:u.children}),u.subtreeFlags=Y.subtreeFlags&65011712,he!==null?k=Ii(he,k):(k=zo(k,g,l,null),k.flags|=2),k.return=s,u.return=s,u.sibling=k,s.child=u,Bu(null,u),u=s.child,k=a.child.memoizedState,k===null?k=kp(l):(g=k.cachePool,g!==null?(Y=xn._currentValue,g=g.parent!==Y?{parent:Y,pool:Y}:g):g=V_(),k={baseLanes:k.baseLanes|l,cachePool:g}),u.memoizedState=k,u.childLanes=Mp(a,w,l),s.memoizedState=Op,Bu(a.child,u)):(Is(s),l=a.child,a=l.sibling,l=Ii(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,a!==null&&(w=s.deletions,w===null?(s.deletions=[a],s.flags|=16):w.push(a)),s.child=l,s.memoizedState=null,l)}function Pp(a,s){return s=od({mode:"visible",children:s},a.mode),s.return=a,a.child=s}function od(a,s){return a=Gr(22,a,null,s),a.lanes=0,a}function jp(a,s,l){return Xo(s,a.child,null,l),a=Pp(s,s.pendingProps.children),a.flags|=2,s.memoizedState=null,a}function Jx(a,s,l){a.lanes|=s;var u=a.alternate;u!==null&&(u.lanes|=s),Qm(a.return,s,l)}function Fp(a,s,l,u,g,_){var w=a.memoizedState;w===null?a.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:_}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=u,w.tail=l,w.tailMode=g,w.treeForkCount=_)}function Zx(a,s,l){var u=s.pendingProps,g=u.revealOrder,_=u.tail;u=u.children;var w=dn.current,k=(w&2)!==0;if(k?(w=w&1|2,s.flags|=128):w&=1,J(dn,w),Kn(a,s,u,l),u=yt?Nu:0,!k&&a!==null&&(a.flags&128)!==0)e:for(a=s.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Jx(a,l,s);else if(a.tag===19)Jx(a,l,s);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break e;for(;a.sibling===null;){if(a.return===null||a.return===s)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(l=s.child,g=null;l!==null;)a=l.alternate,a!==null&&Xf(a)===null&&(g=l),l=l.sibling;l=g,l===null?(g=s.child,s.child=null):(g=l.sibling,l.sibling=null),Fp(s,!1,g,l,_,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=s.child,s.child=null;g!==null;){if(a=g.alternate,a!==null&&Xf(a)===null){s.child=g;break}a=g.sibling,g.sibling=l,l=g,g=a}Fp(s,!0,l,null,_,u);break;case"together":Fp(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ji(a,s,l){if(a!==null&&(s.dependencies=a.dependencies),Ms|=s.lanes,(l&s.childLanes)===0)if(a!==null){if(Kl(a,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(a!==null&&s.child!==a.child)throw Error(r(153));if(s.child!==null){for(a=s.child,l=Ii(a,a.pendingProps),s.child=l,l.return=s;a.sibling!==null;)a=a.sibling,l=l.sibling=Ii(a,a.pendingProps),l.return=s;l.sibling=null}return s.child}function Lp(a,s){return(a.lanes&s)!==0?!0:(a=a.dependencies,!!(a!==null&&Bf(a)))}function _b(a,s,l){switch(s.tag){case 3:Be(s,s.stateNode.containerInfo),Cs(s,xn,a.memoizedState.cache),qo();break;case 27:case 5:re(s);break;case 4:Be(s,s.stateNode.containerInfo);break;case 10:Cs(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,cp(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Is(s),s.flags|=128,null):(l&s.child.childLanes)!==0?Qx(a,s,l):(Is(s),a=ji(a,s,l),a!==null?a.sibling:null);Is(s);break;case 19:var g=(a.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Kl(a,s,l,!1),u=(l&s.childLanes)!==0),g){if(u)return Zx(a,s,l);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),J(dn,dn.current),u)break;return null;case 22:return s.lanes=0,Gx(a,s,l,s.pendingProps);case 24:Cs(s,xn,a.memoizedState.cache)}return ji(a,s,l)}function ey(a,s,l){if(a!==null)if(a.memoizedProps!==s.pendingProps)En=!0;else{if(!Lp(a,l)&&(s.flags&128)===0)return En=!1,_b(a,s,l);En=(a.flags&131072)!==0}else En=!1,yt&&(s.flags&1048576)!==0&&O_(s,Nu,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(a=$o(s.elementType),s.type=a,typeof a=="function")qm(a)?(u=Qo(a,u),s.tag=1,s=Xx(null,s,a,u,l)):(s.tag=0,s=Dp(null,s,a,u,l));else{if(a!=null){var g=a.$$typeof;if(g===ee){s.tag=11,s=zx(null,s,a,u,l);break e}else if(g===R){s.tag=14,s=qx(null,s,a,u,l);break e}}throw s=ae(a)||a,Error(r(306,s,""))}}return s;case 0:return Dp(a,s,s.type,s.pendingProps,l);case 1:return u=s.type,g=Qo(u,s.pendingProps),Xx(a,s,u,g,l);case 3:e:{if(Be(s,s.stateNode.containerInfo),a===null)throw Error(r(387));u=s.pendingProps;var _=s.memoizedState;g=_.element,ap(a,s),ju(s,u,null,l);var w=s.memoizedState;if(u=w.cache,Cs(s,xn,u),u!==_.cache&&Jm(s,[xn],l,!0),Pu(),u=w.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:w.cache},s.updateQueue.baseState=_,s.memoizedState=_,s.flags&256){s=Yx(a,s,u,l);break e}else if(u!==g){g=ha(Error(r(424)),s),Ru(g),s=Yx(a,s,u,l);break e}else{switch(a=s.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(Qt=ga(a.firstChild),Hn=s,yt=!0,As=null,ma=!0,l=G_(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(qo(),u===g){s=ji(a,s,l);break e}Kn(a,s,u,l)}s=s.child}return s;case 26:return sd(a,s),a===null?(l=hE(s.type,null,s.pendingProps,null))?s.memoizedState=l:yt||(l=s.type,a=s.pendingProps,u=wd(ge.current).createElement(l),u[B]=s,u[H]=a,$n(u,l,a),Ke(u),s.stateNode=u):s.memoizedState=hE(s.type,a.memoizedProps,s.pendingProps,a.memoizedState),null;case 27:return re(s),a===null&&yt&&(u=s.stateNode=lE(s.type,s.pendingProps,ge.current),Hn=s,ma=!0,g=Qt,Vs(s.type)?(vg=g,Qt=ga(u.firstChild)):Qt=g),Kn(a,s,s.pendingProps.children,l),sd(a,s),a===null&&(s.flags|=4194304),s.child;case 5:return a===null&&yt&&((g=u=Qt)&&(u=Wb(u,s.type,s.pendingProps,ma),u!==null?(s.stateNode=u,Hn=s,Qt=ga(u.firstChild),ma=!1,g=!0):g=!1),g||Ss(s)),re(s),g=s.type,_=s.pendingProps,w=a!==null?a.memoizedProps:null,u=_.children,fg(g,_)?u=null:w!==null&&fg(g,w)&&(s.flags|=32),s.memoizedState!==null&&(g=hp(a,s,cb,null,null,l),nh._currentValue=g),sd(a,s),Kn(a,s,u,l),s.child;case 6:return a===null&&yt&&((a=l=Qt)&&(l=Xb(l,s.pendingProps,ma),l!==null?(s.stateNode=l,Hn=s,Qt=null,a=!0):a=!1),a||Ss(s)),null;case 13:return Qx(a,s,l);case 4:return Be(s,s.stateNode.containerInfo),u=s.pendingProps,a===null?s.child=Xo(s,null,u,l):Kn(a,s,u,l),s.child;case 11:return zx(a,s,s.type,s.pendingProps,l);case 7:return Kn(a,s,s.pendingProps,l),s.child;case 8:return Kn(a,s,s.pendingProps.children,l),s.child;case 12:return Kn(a,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,Cs(s,s.type,u.value),Kn(a,s,u.children,l),s.child;case 9:return g=s.type._context,u=s.pendingProps.children,Go(s),g=Gn(g),u=u(g),s.flags|=1,Kn(a,s,u,l),s.child;case 14:return qx(a,s,s.type,s.pendingProps,l);case 15:return Hx(a,s,s.type,s.pendingProps,l);case 19:return Zx(a,s,l);case 31:return vb(a,s,l);case 22:return Gx(a,s,l,s.pendingProps);case 24:return Go(s),u=Gn(xn),a===null?(g=tp(),g===null&&(g=$t,_=Zm(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=l),g=_),s.memoizedState={parent:u,cache:g},rp(s),Cs(s,xn,g)):((a.lanes&l)!==0&&(ap(a,s),ju(s,null,null,l),Pu()),g=a.memoizedState,_=s.memoizedState,g.parent!==u?(g={parent:u,cache:u},s.memoizedState=g,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=g),Cs(s,xn,u)):(u=_.cache,Cs(s,xn,u),u!==g.cache&&Jm(s,[xn],l,!0))),Kn(a,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function Fi(a){a.flags|=4}function Vp(a,s,l,u,g){if((s=(a.mode&32)!==0)&&(s=!1),s){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(by())a.flags|=8192;else throw Wo=Gf,np}else a.flags&=-16777217}function ty(a,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!gE(s))if(by())a.flags|=8192;else throw Wo=Gf,np}function ld(a,s){s!==null&&(a.flags|=4),a.flags&16384&&(s=a.tag!==22?Rl():536870912,a.lanes|=s,ac|=s)}function zu(a,s){if(!yt)switch(a.tailMode){case"hidden":s=a.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?a.tail=null:l.sibling=null;break;case"collapsed":l=a.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||a.tail===null?a.tail=null:a.tail.sibling=null:u.sibling=null}}function Jt(a){var s=a.alternate!==null&&a.alternate.child===a.child,l=0,u=0;if(s)for(var g=a.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=u,a.childLanes=l,s}function xb(a,s,l){var u=s.pendingProps;switch($m(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Jt(s),null;case 1:return Jt(s),null;case 3:return l=s.stateNode,u=null,a!==null&&(u=a.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),ki(xn),Me(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(a===null||a.child===null)&&(Gl(s)?Fi(s):a===null||a.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Xm())),Jt(s),null;case 26:var g=s.type,_=s.memoizedState;return a===null?(Fi(s),_!==null?(Jt(s),ty(s,_)):(Jt(s),Vp(s,g,null,u,l))):_?_!==a.memoizedState?(Fi(s),Jt(s),ty(s,_)):(Jt(s),s.flags&=-16777217):(a=a.memoizedProps,a!==u&&Fi(s),Jt(s),Vp(s,g,a,u,l)),null;case 27:if($e(s),l=ge.current,g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==u&&Fi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Jt(s),null}a=X.current,Gl(s)?M_(s):(a=lE(g,u,l),s.stateNode=a,Fi(s))}return Jt(s),null;case 5:if($e(s),g=s.type,a!==null&&s.stateNode!=null)a.memoizedProps!==u&&Fi(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Jt(s),null}if(_=X.current,Gl(s))M_(s);else{var w=wd(ge.current);switch(_){case 1:_=w.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=w.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=w.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=w.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?w.createElement("select",{is:u.is}):w.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?w.createElement(g,{is:u.is}):w.createElement(g)}}_[B]=s,_[H]=u;e:for(w=s.child;w!==null;){if(w.tag===5||w.tag===6)_.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===s)break e;for(;w.sibling===null;){if(w.return===null||w.return===s)break e;w=w.return}w.sibling.return=w.return,w=w.sibling}s.stateNode=_;e:switch($n(_,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Fi(s)}}return Jt(s),Vp(s,s.type,a===null?null:a.memoizedProps,s.pendingProps,l),null;case 6:if(a&&s.stateNode!=null)a.memoizedProps!==u&&Fi(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(a=ge.current,Gl(s)){if(a=s.stateNode,l=s.memoizedProps,u=null,g=Hn,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}a[B]=s,a=!!(a.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Qy(a.nodeValue,l)),a||Ss(s,!0)}else a=wd(a).createTextNode(u),a[B]=s,s.stateNode=a}return Jt(s),null;case 31:if(l=s.memoizedState,a===null||a.memoizedState!==null){if(u=Gl(s),l!==null){if(a===null){if(!u)throw Error(r(318));if(a=s.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[B]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),a=!1}else l=Xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=l),a=!0;if(!a)return s.flags&256?($r(s),s):($r(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Jt(s),null;case 13:if(u=s.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=Gl(s),u!==null&&u.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[B]=s}else qo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Jt(s),g=!1}else g=Xm(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return s.flags&256?($r(s),s):($r(s),null)}return $r(s),(s.flags&128)!==0?(s.lanes=l,s):(l=u!==null,a=a!==null&&a.memoizedState!==null,l&&(u=s.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==g&&(u.flags|=2048)),l!==a&&l&&(s.child.flags|=8192),ld(s,s.updateQueue),Jt(s),null);case 4:return Me(),a===null&&og(s.stateNode.containerInfo),Jt(s),null;case 10:return ki(s.type),Jt(s),null;case 19:if(L(dn),u=s.memoizedState,u===null)return Jt(s),null;if(g=(s.flags&128)!==0,_=u.rendering,_===null)if(g)zu(u,!1);else{if(cn!==0||a!==null&&(a.flags&128)!==0)for(a=s.child;a!==null;){if(_=Xf(a),_!==null){for(s.flags|=128,zu(u,!1),a=_.updateQueue,s.updateQueue=a,ld(s,a),s.subtreeFlags=0,a=l,l=s.child;l!==null;)R_(l,a),l=l.sibling;return J(dn,dn.current&1|2),yt&&Di(s,u.treeForkCount),s.child}a=a.sibling}u.tail!==null&&Xt()>dd&&(s.flags|=128,g=!0,zu(u,!1),s.lanes=4194304)}else{if(!g)if(a=Xf(_),a!==null){if(s.flags|=128,g=!0,a=a.updateQueue,s.updateQueue=a,ld(s,a),zu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!yt)return Jt(s),null}else 2*Xt()-u.renderingStartTime>dd&&l!==536870912&&(s.flags|=128,g=!0,zu(u,!1),s.lanes=4194304);u.isBackwards?(_.sibling=s.child,s.child=_):(a=u.last,a!==null?a.sibling=_:s.child=_,u.last=_)}return u.tail!==null?(a=u.tail,u.rendering=a,u.tail=a.sibling,u.renderingStartTime=Xt(),a.sibling=null,l=dn.current,J(dn,g?l&1|2:l&1),yt&&Di(s,u.treeForkCount),a):(Jt(s),null);case 22:case 23:return $r(s),lp(),u=s.memoizedState!==null,a!==null?a.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Jt(s),s.subtreeFlags&6&&(s.flags|=8192)):Jt(s),l=s.updateQueue,l!==null&&ld(s,l.retryQueue),l=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),a!==null&&L(Ko),null;case 24:return l=null,a!==null&&(l=a.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ki(xn),Jt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function yb(a,s){switch($m(s),s.tag){case 1:return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 3:return ki(xn),Me(),a=s.flags,(a&65536)!==0&&(a&128)===0?(s.flags=a&-65537|128,s):null;case 26:case 27:case 5:return $e(s),null;case 31:if(s.memoizedState!==null){if($r(s),s.alternate===null)throw Error(r(340));qo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 13:if($r(s),a=s.memoizedState,a!==null&&a.dehydrated!==null){if(s.alternate===null)throw Error(r(340));qo()}return a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 19:return L(dn),null;case 4:return Me(),null;case 10:return ki(s.type),null;case 22:case 23:return $r(s),lp(),a!==null&&L(Ko),a=s.flags,a&65536?(s.flags=a&-65537|128,s):null;case 24:return ki(xn),null;case 25:return null;default:return null}}function ny(a,s){switch($m(s),s.tag){case 3:ki(xn),Me();break;case 26:case 27:case 5:$e(s);break;case 4:Me();break;case 31:s.memoizedState!==null&&$r(s);break;case 13:$r(s);break;case 19:L(dn);break;case 10:ki(s.type);break;case 22:case 23:$r(s),lp(),a!==null&&L(Ko);break;case 24:ki(xn)}}function qu(a,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&a)===a){u=void 0;var _=l.create,w=l.inst;u=_(),w.destroy=u}l=l.next}while(l!==g)}}catch(k){Pt(s,s.return,k)}}function Os(a,s,l){try{var u=s.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&a)===a){var w=u.inst,k=w.destroy;if(k!==void 0){w.destroy=void 0,g=s;var Y=l,he=k;try{he()}catch(we){Pt(g,Y,we)}}}u=u.next}while(u!==_)}}catch(we){Pt(s,s.return,we)}}function ry(a){var s=a.updateQueue;if(s!==null){var l=a.stateNode;try{$_(s,l)}catch(u){Pt(a,a.return,u)}}}function ay(a,s,l){l.props=Qo(a.type,a.memoizedProps),l.state=a.memoizedState;try{l.componentWillUnmount()}catch(u){Pt(a,s,u)}}function Hu(a,s){try{var l=a.ref;if(l!==null){switch(a.tag){case 26:case 27:case 5:var u=a.stateNode;break;case 30:u=a.stateNode;break;default:u=a.stateNode}typeof l=="function"?a.refCleanup=l(u):l.current=u}}catch(g){Pt(a,s,g)}}function ii(a,s){var l=a.ref,u=a.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){Pt(a,s,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){Pt(a,s,g)}else l.current=null}function iy(a){var s=a.type,l=a.memoizedProps,u=a.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){Pt(a,a.return,g)}}function Up(a,s,l){try{var u=a.stateNode;zb(u,a.type,l,s),u[H]=s}catch(g){Pt(a,a.return,g)}}function sy(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Vs(a.type)||a.tag===4}function Bp(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||sy(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Vs(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function zp(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(a,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(a),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Ra));else if(u!==4&&(u===27&&Vs(a.type)&&(l=a.stateNode,s=null),a=a.child,a!==null))for(zp(a,s,l),a=a.sibling;a!==null;)zp(a,s,l),a=a.sibling}function cd(a,s,l){var u=a.tag;if(u===5||u===6)a=a.stateNode,s?l.insertBefore(a,s):l.appendChild(a);else if(u!==4&&(u===27&&Vs(a.type)&&(l=a.stateNode),a=a.child,a!==null))for(cd(a,s,l),a=a.sibling;a!==null;)cd(a,s,l),a=a.sibling}function oy(a){var s=a.stateNode,l=a.memoizedProps;try{for(var u=a.type,g=s.attributes;g.length;)s.removeAttributeNode(g[0]);$n(s,u,l),s[B]=a,s[H]=l}catch(_){Pt(a,a.return,_)}}var Li=!1,Tn=!1,qp=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Fn=null;function Eb(a,s){if(a=a.containerInfo,ug=Id,a=y_(a),jm(a)){if("selectionStart"in a)var l={start:a.selectionStart,end:a.selectionEnd};else e:{l=(l=a.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{l.nodeType,_.nodeType}catch{l=null;break e}var w=0,k=-1,Y=-1,he=0,we=0,be=a,pe=null;t:for(;;){for(var xe;be!==l||g!==0&&be.nodeType!==3||(k=w+g),be!==_||u!==0&&be.nodeType!==3||(Y=w+u),be.nodeType===3&&(w+=be.nodeValue.length),(xe=be.firstChild)!==null;)pe=be,be=xe;for(;;){if(be===a)break t;if(pe===l&&++he===g&&(k=w),pe===_&&++we===u&&(Y=w),(xe=be.nextSibling)!==null)break;be=pe,pe=be.parentNode}be=xe}l=k===-1||Y===-1?null:{start:k,end:Y}}else l=null}l=l||{start:0,end:0}}else l=null;for(hg={focusedElem:a,selectionRange:l},Id=!1,Fn=s;Fn!==null;)if(s=Fn,a=s.child,(s.subtreeFlags&1028)!==0&&a!==null)a.return=s,Fn=a;else for(;Fn!==null;){switch(s=Fn,_=s.alternate,a=s.flags,s.tag){case 0:if((a&4)!==0&&(a=s.updateQueue,a=a!==null?a.events:null,a!==null))for(l=0;l<a.length;l++)g=a[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&_!==null){a=void 0,l=s,g=_.memoizedProps,_=_.memoizedState,u=l.stateNode;try{var Ge=Qo(l.type,g);a=u.getSnapshotBeforeUpdate(Ge,_),u.__reactInternalSnapshotBeforeUpdate=a}catch(Ze){Pt(l,l.return,Ze)}}break;case 3:if((a&1024)!==0){if(a=s.stateNode.containerInfo,l=a.nodeType,l===9)mg(a);else if(l===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":mg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=s.sibling,a!==null){a.return=s.return,Fn=a;break}Fn=s.return}}function cy(a,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ui(a,l),u&4&&qu(5,l);break;case 1:if(Ui(a,l),u&4)if(a=l.stateNode,s===null)try{a.componentDidMount()}catch(w){Pt(l,l.return,w)}else{var g=Qo(l.type,s.memoizedProps);s=s.memoizedState;try{a.componentDidUpdate(g,s,a.__reactInternalSnapshotBeforeUpdate)}catch(w){Pt(l,l.return,w)}}u&64&&ry(l),u&512&&Hu(l,l.return);break;case 3:if(Ui(a,l),u&64&&(a=l.updateQueue,a!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{$_(a,s)}catch(w){Pt(l,l.return,w)}}break;case 27:s===null&&u&4&&oy(l);case 26:case 5:Ui(a,l),s===null&&u&4&&iy(l),u&512&&Hu(l,l.return);break;case 12:Ui(a,l);break;case 31:Ui(a,l),u&4&&fy(a,l);break;case 13:Ui(a,l),u&4&&dy(a,l),u&64&&(a=l.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(l=Ib.bind(null,l),Yb(a,l))));break;case 22:if(u=l.memoizedState!==null||Li,!u){s=s!==null&&s.memoizedState!==null||Tn,g=Li;var _=Tn;Li=u,(Tn=s)&&!_?Bi(a,l,(l.subtreeFlags&8772)!==0):Ui(a,l),Li=g,Tn=_}break;case 30:break;default:Ui(a,l)}}function uy(a){var s=a.alternate;s!==null&&(a.alternate=null,uy(s)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(s=a.stateNode,s!==null&&De(s)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var nn=null,Rr=!1;function Vi(a,s,l){for(l=l.child;l!==null;)hy(a,s,l),l=l.sibling}function hy(a,s,l){if(vn&&typeof vn.onCommitFiberUnmount=="function")try{vn.onCommitFiberUnmount(Cr,l)}catch{}switch(l.tag){case 26:Tn||ii(l,s),Vi(a,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Tn||ii(l,s);var u=nn,g=Rr;Vs(l.type)&&(nn=l.stateNode,Rr=!1),Vi(a,s,l),Zu(l.stateNode),nn=u,Rr=g;break;case 5:Tn||ii(l,s);case 6:if(u=nn,g=Rr,nn=null,Vi(a,s,l),nn=u,Rr=g,nn!==null)if(Rr)try{(nn.nodeType===9?nn.body:nn.nodeName==="HTML"?nn.ownerDocument.body:nn).removeChild(l.stateNode)}catch(_){Pt(l,s,_)}else try{nn.removeChild(l.stateNode)}catch(_){Pt(l,s,_)}break;case 18:nn!==null&&(Rr?(a=nn,rE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,l.stateNode),fc(a)):rE(nn,l.stateNode));break;case 4:u=nn,g=Rr,nn=l.stateNode.containerInfo,Rr=!0,Vi(a,s,l),nn=u,Rr=g;break;case 0:case 11:case 14:case 15:Os(2,l,s),Tn||Os(4,l,s),Vi(a,s,l);break;case 1:Tn||(ii(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&ay(l,s,u)),Vi(a,s,l);break;case 21:Vi(a,s,l);break;case 22:Tn=(u=Tn)||l.memoizedState!==null,Vi(a,s,l),Tn=u;break;default:Vi(a,s,l)}}function fy(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{fc(a)}catch(l){Pt(s,s.return,l)}}}function dy(a,s){if(s.memoizedState===null&&(a=s.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{fc(a)}catch(l){Pt(s,s.return,l)}}function Tb(a){switch(a.tag){case 31:case 13:case 19:var s=a.stateNode;return s===null&&(s=a.stateNode=new ly),s;case 22:return a=a.stateNode,s=a._retryCache,s===null&&(s=a._retryCache=new ly),s;default:throw Error(r(435,a.tag))}}function ud(a,s){var l=Tb(a);s.forEach(function(u){if(!l.has(u)){l.add(u);var g=Db.bind(null,a,u);u.then(g,g)}})}function Ir(a,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],_=a,w=s,k=w;e:for(;k!==null;){switch(k.tag){case 27:if(Vs(k.type)){nn=k.stateNode,Rr=!1;break e}break;case 5:nn=k.stateNode,Rr=!1;break e;case 3:case 4:nn=k.stateNode.containerInfo,Rr=!0;break e}k=k.return}if(nn===null)throw Error(r(160));hy(_,w,g),nn=null,Rr=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)my(s,a),s=s.sibling}var Pa=null;function my(a,s){var l=a.alternate,u=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ir(s,a),Dr(a),u&4&&(Os(3,a,a.return),qu(3,a),Os(5,a,a.return));break;case 1:Ir(s,a),Dr(a),u&512&&(Tn||l===null||ii(l,l.return)),u&64&&Li&&(a=a.updateQueue,a!==null&&(u=a.callbacks,u!==null&&(l=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=Pa;if(Ir(s,a),Dr(a),u&512&&(Tn||l===null||ii(l,l.return)),u&4){var _=l!==null?l.memoizedState:null;if(u=a.memoizedState,l===null)if(u===null)if(a.stateNode===null){e:{u=a.type,l=a.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":_=g.getElementsByTagName("title")[0],(!_||_[fe]||_[B]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(u),g.head.insertBefore(_,g.querySelector("head > title"))),$n(_,u,l),_[B]=a,Ke(_),u=_;break e;case"link":var w=mE("link","href",g).get(u+(l.href||""));if(w){for(var k=0;k<w.length;k++)if(_=w[k],_.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&_.getAttribute("rel")===(l.rel==null?null:l.rel)&&_.getAttribute("title")===(l.title==null?null:l.title)&&_.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){w.splice(k,1);break t}}_=g.createElement(u),$n(_,u,l),g.head.appendChild(_);break;case"meta":if(w=mE("meta","content",g).get(u+(l.content||""))){for(k=0;k<w.length;k++)if(_=w[k],_.getAttribute("content")===(l.content==null?null:""+l.content)&&_.getAttribute("name")===(l.name==null?null:l.name)&&_.getAttribute("property")===(l.property==null?null:l.property)&&_.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&_.getAttribute("charset")===(l.charSet==null?null:l.charSet)){w.splice(k,1);break t}}_=g.createElement(u),$n(_,u,l),g.head.appendChild(_);break;default:throw Error(r(468,u))}_[B]=a,Ke(_),u=_}a.stateNode=u}else pE(g,a.type,a.stateNode);else a.stateNode=dE(g,u,a.memoizedProps);else _!==u?(_===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):_.count--,u===null?pE(g,a.type,a.stateNode):dE(g,u,a.memoizedProps)):u===null&&a.stateNode!==null&&Up(a,a.memoizedProps,l.memoizedProps)}break;case 27:Ir(s,a),Dr(a),u&512&&(Tn||l===null||ii(l,l.return)),l!==null&&u&4&&Up(a,a.memoizedProps,l.memoizedProps);break;case 5:if(Ir(s,a),Dr(a),u&512&&(Tn||l===null||ii(l,l.return)),a.flags&32){g=a.stateNode;try{Nr(g,"")}catch(Ge){Pt(a,a.return,Ge)}}u&4&&a.stateNode!=null&&(g=a.memoizedProps,Up(a,g,l!==null?l.memoizedProps:g)),u&1024&&(qp=!0);break;case 6:if(Ir(s,a),Dr(a),u&4){if(a.stateNode===null)throw Error(r(162));u=a.memoizedProps,l=a.stateNode;try{l.nodeValue=u}catch(Ge){Pt(a,a.return,Ge)}}break;case 3:if(Cd=null,g=Pa,Pa=Ad(s.containerInfo),Ir(s,a),Pa=g,Dr(a),u&4&&l!==null&&l.memoizedState.isDehydrated)try{fc(s.containerInfo)}catch(Ge){Pt(a,a.return,Ge)}qp&&(qp=!1,py(a));break;case 4:u=Pa,Pa=Ad(a.stateNode.containerInfo),Ir(s,a),Dr(a),Pa=u;break;case 12:Ir(s,a),Dr(a);break;case 31:Ir(s,a),Dr(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ud(a,u)));break;case 13:Ir(s,a),Dr(a),a.child.flags&8192&&a.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(fd=Xt()),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ud(a,u)));break;case 22:g=a.memoizedState!==null;var Y=l!==null&&l.memoizedState!==null,he=Li,we=Tn;if(Li=he||g,Tn=we||Y,Ir(s,a),Tn=we,Li=he,Dr(a),u&8192)e:for(s=a.stateNode,s._visibility=g?s._visibility&-2:s._visibility|1,g&&(l===null||Y||Li||Tn||Jo(a)),l=null,s=a;;){if(s.tag===5||s.tag===26){if(l===null){Y=l=s;try{if(_=Y.stateNode,g)w=_.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{k=Y.stateNode;var be=Y.memoizedProps.style,pe=be!=null&&be.hasOwnProperty("display")?be.display:null;k.style.display=pe==null||typeof pe=="boolean"?"":(""+pe).trim()}}catch(Ge){Pt(Y,Y.return,Ge)}}}else if(s.tag===6){if(l===null){Y=s;try{Y.stateNode.nodeValue=g?"":Y.memoizedProps}catch(Ge){Pt(Y,Y.return,Ge)}}}else if(s.tag===18){if(l===null){Y=s;try{var xe=Y.stateNode;g?aE(xe,!0):aE(Y.stateNode,!1)}catch(Ge){Pt(Y,Y.return,Ge)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===a)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=a.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,ud(a,l))));break;case 19:Ir(s,a),Dr(a),u&4&&(u=a.updateQueue,u!==null&&(a.updateQueue=null,ud(a,u)));break;case 30:break;case 21:break;default:Ir(s,a),Dr(a)}}function Dr(a){var s=a.flags;if(s&2){try{for(var l,u=a.return;u!==null;){if(sy(u)){l=u;break}u=u.return}if(l==null)throw Error(r(160));switch(l.tag){case 27:var g=l.stateNode,_=Bp(a);cd(a,_,g);break;case 5:var w=l.stateNode;l.flags&32&&(Nr(w,""),l.flags&=-33);var k=Bp(a);cd(a,k,w);break;case 3:case 4:var Y=l.stateNode.containerInfo,he=Bp(a);zp(a,he,Y);break;default:throw Error(r(161))}}catch(we){Pt(a,a.return,we)}a.flags&=-3}s&4096&&(a.flags&=-4097)}function py(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var s=a;py(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),a=a.sibling}}function Ui(a,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)cy(a,s.alternate,s),s=s.sibling}function Jo(a){for(a=a.child;a!==null;){var s=a;switch(s.tag){case 0:case 11:case 14:case 15:Os(4,s,s.return),Jo(s);break;case 1:ii(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&ay(s,s.return,l),Jo(s);break;case 27:Zu(s.stateNode);case 26:case 5:ii(s,s.return),Jo(s);break;case 22:s.memoizedState===null&&Jo(s);break;case 30:Jo(s);break;default:Jo(s)}a=a.sibling}}function Bi(a,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,g=a,_=s,w=_.flags;switch(_.tag){case 0:case 11:case 15:Bi(g,_,l),qu(4,_);break;case 1:if(Bi(g,_,l),u=_,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(he){Pt(u,u.return,he)}if(u=_,g=u.updateQueue,g!==null){var k=u.stateNode;try{var Y=g.shared.hiddenCallbacks;if(Y!==null)for(g.shared.hiddenCallbacks=null,g=0;g<Y.length;g++)K_(Y[g],k)}catch(he){Pt(u,u.return,he)}}l&&w&64&&ry(_),Hu(_,_.return);break;case 27:oy(_);case 26:case 5:Bi(g,_,l),l&&u===null&&w&4&&iy(_),Hu(_,_.return);break;case 12:Bi(g,_,l);break;case 31:Bi(g,_,l),l&&w&4&&fy(g,_);break;case 13:Bi(g,_,l),l&&w&4&&dy(g,_);break;case 22:_.memoizedState===null&&Bi(g,_,l),Hu(_,_.return);break;case 30:break;default:Bi(g,_,l)}s=s.sibling}}function Hp(a,s){var l=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(l=a.memoizedState.cachePool.pool),a=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(a=s.memoizedState.cachePool.pool),a!==l&&(a!=null&&a.refCount++,l!=null&&Iu(l))}function Gp(a,s){a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Iu(a))}function ja(a,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)gy(a,s,l,u),s=s.sibling}function gy(a,s,l,u){var g=s.flags;switch(s.tag){case 0:case 11:case 15:ja(a,s,l,u),g&2048&&qu(9,s);break;case 1:ja(a,s,l,u);break;case 3:ja(a,s,l,u),g&2048&&(a=null,s.alternate!==null&&(a=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==a&&(s.refCount++,a!=null&&Iu(a)));break;case 12:if(g&2048){ja(a,s,l,u),a=s.stateNode;try{var _=s.memoizedProps,w=_.id,k=_.onPostCommit;typeof k=="function"&&k(w,s.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(Y){Pt(s,s.return,Y)}}else ja(a,s,l,u);break;case 31:ja(a,s,l,u);break;case 13:ja(a,s,l,u);break;case 23:break;case 22:_=s.stateNode,w=s.alternate,s.memoizedState!==null?_._visibility&2?ja(a,s,l,u):Gu(a,s):_._visibility&2?ja(a,s,l,u):(_._visibility|=2,tc(a,s,l,u,(s.subtreeFlags&10256)!==0||!1)),g&2048&&Hp(w,s);break;case 24:ja(a,s,l,u),g&2048&&Gp(s.alternate,s);break;default:ja(a,s,l,u)}}function tc(a,s,l,u,g){for(g=g&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var _=a,w=s,k=l,Y=u,he=w.flags;switch(w.tag){case 0:case 11:case 15:tc(_,w,k,Y,g),qu(8,w);break;case 23:break;case 22:var we=w.stateNode;w.memoizedState!==null?we._visibility&2?tc(_,w,k,Y,g):Gu(_,w):(we._visibility|=2,tc(_,w,k,Y,g)),g&&he&2048&&Hp(w.alternate,w);break;case 24:tc(_,w,k,Y,g),g&&he&2048&&Gp(w.alternate,w);break;default:tc(_,w,k,Y,g)}s=s.sibling}}function Gu(a,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=a,u=s,g=u.flags;switch(u.tag){case 22:Gu(l,u),g&2048&&Hp(u.alternate,u);break;case 24:Gu(l,u),g&2048&&Gp(u.alternate,u);break;default:Gu(l,u)}s=s.sibling}}var Ku=8192;function nc(a,s,l){if(a.subtreeFlags&Ku)for(a=a.child;a!==null;)vy(a,s,l),a=a.sibling}function vy(a,s,l){switch(a.tag){case 26:nc(a,s,l),a.flags&Ku&&a.memoizedState!==null&&lN(l,Pa,a.memoizedState,a.memoizedProps);break;case 5:nc(a,s,l);break;case 3:case 4:var u=Pa;Pa=Ad(a.stateNode.containerInfo),nc(a,s,l),Pa=u;break;case 22:a.memoizedState===null&&(u=a.alternate,u!==null&&u.memoizedState!==null?(u=Ku,Ku=16777216,nc(a,s,l),Ku=u):nc(a,s,l));break;default:nc(a,s,l)}}function _y(a){var s=a.alternate;if(s!==null&&(a=s.child,a!==null)){s.child=null;do s=a.sibling,a.sibling=null,a=s;while(a!==null)}}function $u(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Fn=u,yy(u,a)}_y(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)xy(a),a=a.sibling}function xy(a){switch(a.tag){case 0:case 11:case 15:$u(a),a.flags&2048&&Os(9,a,a.return);break;case 3:$u(a);break;case 12:$u(a);break;case 22:var s=a.stateNode;a.memoizedState!==null&&s._visibility&2&&(a.return===null||a.return.tag!==13)?(s._visibility&=-3,hd(a)):$u(a);break;default:$u(a)}}function hd(a){var s=a.deletions;if((a.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];Fn=u,yy(u,a)}_y(a)}for(a=a.child;a!==null;){switch(s=a,s.tag){case 0:case 11:case 15:Os(8,s,s.return),hd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,hd(s));break;default:hd(s)}a=a.sibling}}function yy(a,s){for(;Fn!==null;){var l=Fn;switch(l.tag){case 0:case 11:case 15:Os(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Iu(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Fn=u;else e:for(l=a;Fn!==null;){u=Fn;var g=u.sibling,_=u.return;if(uy(u),u===l){Fn=null;break e}if(g!==null){g.return=_,Fn=g;break e}Fn=_}}}var wb={getCacheForType:function(a){var s=Gn(xn),l=s.data.get(a);return l===void 0&&(l=a(),s.data.set(a,l)),l},cacheSignal:function(){return Gn(xn).controller.signal}},Ab=typeof WeakMap=="function"?WeakMap:Map,Ct=0,$t=null,dt=null,pt=0,Mt=0,Wr=null,ks=!1,rc=!1,Kp=!1,zi=0,cn=0,Ms=0,Zo=0,$p=0,Xr=0,ac=0,Wu=null,Or=null,Wp=!1,fd=0,Ey=0,dd=1/0,md=null,Ps=null,In=0,js=null,ic=null,qi=0,Xp=0,Yp=null,Ty=null,Xu=0,Qp=null;function Yr(){return(Ct&2)!==0&&pt!==0?pt&-pt:te.T!==null?rg():D()}function wy(){if(Xr===0)if((pt&536870912)===0||yt){var a=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),Xr=a}else Xr=536870912;return a=Kr.current,a!==null&&(a.flags|=32),Xr}function kr(a,s,l){(a===$t&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)&&(sc(a,0),Fs(a,pt,Xr,!1)),wi(a,l),((Ct&2)===0||a!==$t)&&(a===$t&&((Ct&2)===0&&(Zo|=l),cn===4&&Fs(a,pt,Xr,!1)),si(a))}function Ay(a,s,l){if((Ct&6)!==0)throw Error(r(327));var u=!l&&(s&127)===0&&(s&a.expiredLanes)===0||Br(a,s),g=u?bb(a,s):Zp(a,s,!0),_=u;do{if(g===0){rc&&!u&&Fs(a,s,0,!1);break}else{if(l=a.current.alternate,_&&!Sb(l)){g=Zp(a,s,!1),_=!1;continue}if(g===2){if(_=s,a.errorRecoveryDisabledLanes&_)var w=0;else w=a.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){s=w;e:{var k=a;g=Wu;var Y=k.current.memoizedState.isDehydrated;if(Y&&(sc(k,w).flags|=256),w=Zp(k,w,!1),w!==2){if(Kp&&!Y){k.errorRecoveryDisabledLanes|=_,Zo|=_,g=4;break e}_=Or,Or=g,_!==null&&(Or===null?Or=_:Or.push.apply(Or,_))}g=w}if(_=!1,g!==2)continue}}if(g===1){sc(a,0),Fs(a,s,0,!0);break}e:{switch(u=a,_=g,_){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Fs(u,s,Xr,!ks);break e;case 2:Or=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(g=fd+300-Xt(),10<g)){if(Fs(u,s,Xr,!ks),ia(u,0,!0)!==0)break e;qi=s,u.timeoutHandle=tE(Sy.bind(null,u,l,Or,md,Wp,s,Xr,Zo,ac,ks,_,"Throttled",-0,0),g);break e}Sy(u,l,Or,md,Wp,s,Xr,Zo,ac,ks,_,null,-0,0)}}break}while(!0);si(a)}function Sy(a,s,l,u,g,_,w,k,Y,he,we,be,pe,xe){if(a.timeoutHandle=-1,be=s.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ra},vy(s,_,be);var Ge=(_&62914560)===_?fd-Xt():(_&4194048)===_?Ey-Xt():0;if(Ge=cN(be,Ge),Ge!==null){qi=_,a.cancelPendingCommit=Ge(ky.bind(null,a,s,_,l,u,g,w,k,Y,we,be,null,pe,xe)),Fs(a,_,w,!he);return}}ky(a,s,_,l,u,g,w,k,Y)}function Sb(a){for(var s=a;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],_=g.getSnapshot;g=g.value;try{if(!Hr(_(),g))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===a)break;for(;s.sibling===null;){if(s.return===null||s.return===a)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Fs(a,s,l,u){s&=~$p,s&=~Zo,a.suspendedLanes|=s,a.pingedLanes&=~s,u&&(a.warmLanes|=s),u=a.expirationTimes;for(var g=s;0<g;){var _=31-an(g),w=1<<_;u[_]=-1,g&=~w}l!==0&&Ai(a,l,s)}function pd(){return(Ct&6)===0?(Yu(0),!1):!0}function Jp(){if(dt!==null){if(Mt===0)var a=dt.return;else a=dt,Oi=Ho=null,mp(a),Yl=null,Ou=0,a=dt;for(;a!==null;)ny(a.alternate,a),a=a.return;dt=null}}function sc(a,s){var l=a.timeoutHandle;l!==-1&&(a.timeoutHandle=-1,Gb(l)),l=a.cancelPendingCommit,l!==null&&(a.cancelPendingCommit=null,l()),qi=0,Jp(),$t=a,dt=l=Ii(a.current,null),pt=s,Mt=0,Wr=null,ks=!1,rc=Br(a,s),Kp=!1,ac=Xr=$p=Zo=Ms=cn=0,Or=Wu=null,Wp=!1,(s&8)!==0&&(s|=s&32);var u=a.entangledLanes;if(u!==0)for(a=a.entanglements,u&=s;0<u;){var g=31-an(u),_=1<<g;s|=a[g],u&=~_}return zi=s,jf(),l}function Cy(a,s){ct=null,te.H=Uu,s===Xl||s===Hf?(s=z_(),Mt=3):s===np?(s=z_(),Mt=4):Mt=s===Ip?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Wr=s,dt===null&&(cn=1,ad(a,ha(s,a.current)))}function by(){var a=Kr.current;return a===null?!0:(pt&4194048)===pt?pa===null:(pt&62914560)===pt||(pt&536870912)!==0?a===pa:!1}function Ny(){var a=te.H;return te.H=Uu,a===null?Uu:a}function Ry(){var a=te.A;return te.A=wb,a}function gd(){cn=4,ks||(pt&4194048)!==pt&&Kr.current!==null||(rc=!0),(Ms&134217727)===0&&(Zo&134217727)===0||$t===null||Fs($t,pt,Xr,!1)}function Zp(a,s,l){var u=Ct;Ct|=2;var g=Ny(),_=Ry();($t!==a||pt!==s)&&(md=null,sc(a,s)),s=!1;var w=cn;e:do try{if(Mt!==0&&dt!==null){var k=dt,Y=Wr;switch(Mt){case 8:Jp(),w=6;break e;case 3:case 2:case 9:case 6:Kr.current===null&&(s=!0);var he=Mt;if(Mt=0,Wr=null,oc(a,k,Y,he),l&&rc){w=0;break e}break;default:he=Mt,Mt=0,Wr=null,oc(a,k,Y,he)}}Cb(),w=cn;break}catch(we){Cy(a,we)}while(!0);return s&&a.shellSuspendCounter++,Oi=Ho=null,Ct=u,te.H=g,te.A=_,dt===null&&($t=null,pt=0,jf()),w}function Cb(){for(;dt!==null;)Iy(dt)}function bb(a,s){var l=Ct;Ct|=2;var u=Ny(),g=Ry();$t!==a||pt!==s?(md=null,dd=Xt()+500,sc(a,s)):rc=Br(a,s);e:do try{if(Mt!==0&&dt!==null){s=dt;var _=Wr;t:switch(Mt){case 1:Mt=0,Wr=null,oc(a,s,_,1);break;case 2:case 9:if(U_(_)){Mt=0,Wr=null,Dy(s);break}s=function(){Mt!==2&&Mt!==9||$t!==a||(Mt=7),si(a)},_.then(s,s);break e;case 3:Mt=7;break e;case 4:Mt=5;break e;case 7:U_(_)?(Mt=0,Wr=null,Dy(s)):(Mt=0,Wr=null,oc(a,s,_,7));break;case 5:var w=null;switch(dt.tag){case 26:w=dt.memoizedState;case 5:case 27:var k=dt;if(w?gE(w):k.stateNode.complete){Mt=0,Wr=null;var Y=k.sibling;if(Y!==null)dt=Y;else{var he=k.return;he!==null?(dt=he,vd(he)):dt=null}break t}}Mt=0,Wr=null,oc(a,s,_,5);break;case 6:Mt=0,Wr=null,oc(a,s,_,6);break;case 8:Jp(),cn=6;break e;default:throw Error(r(462))}}Nb();break}catch(we){Cy(a,we)}while(!0);return Oi=Ho=null,te.H=u,te.A=g,Ct=l,dt!==null?0:($t=null,pt=0,jf(),cn)}function Nb(){for(;dt!==null&&!bl();)Iy(dt)}function Iy(a){var s=ey(a.alternate,a,zi);a.memoizedProps=a.pendingProps,s===null?vd(a):dt=s}function Dy(a){var s=a,l=s.alternate;switch(s.tag){case 15:case 0:s=Wx(l,s,s.pendingProps,s.type,void 0,pt);break;case 11:s=Wx(l,s,s.pendingProps,s.type.render,s.ref,pt);break;case 5:mp(s);default:ny(l,s),s=dt=R_(s,zi),s=ey(l,s,zi)}a.memoizedProps=a.pendingProps,s===null?vd(a):dt=s}function oc(a,s,l,u){Oi=Ho=null,mp(s),Yl=null,Ou=0;var g=s.return;try{if(gb(a,g,s,l,pt)){cn=1,ad(a,ha(l,a.current)),dt=null;return}}catch(_){if(g!==null)throw dt=g,_;cn=1,ad(a,ha(l,a.current)),dt=null;return}s.flags&32768?(yt||u===1?a=!0:rc||(pt&536870912)!==0?a=!1:(ks=a=!0,(u===2||u===9||u===3||u===6)&&(u=Kr.current,u!==null&&u.tag===13&&(u.flags|=16384))),Oy(s,a)):vd(s)}function vd(a){var s=a;do{if((s.flags&32768)!==0){Oy(s,ks);return}a=s.return;var l=xb(s.alternate,s,zi);if(l!==null){dt=l;return}if(s=s.sibling,s!==null){dt=s;return}dt=s=a}while(s!==null);cn===0&&(cn=5)}function Oy(a,s){do{var l=yb(a.alternate,a);if(l!==null){l.flags&=32767,dt=l;return}if(l=a.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(a=a.sibling,a!==null)){dt=a;return}dt=a=l}while(a!==null);cn=6,dt=null}function ky(a,s,l,u,g,_,w,k,Y){a.cancelPendingCommit=null;do _d();while(In!==0);if((Ct&6)!==0)throw Error(r(327));if(s!==null){if(s===a.current)throw Error(r(177));if(_=s.lanes|s.childLanes,_|=Bm,du(a,l,_,w,k,Y),a===$t&&(dt=$t=null,pt=0),ic=s,js=a,qi=l,Xp=_,Yp=g,Ty=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,Ob(rr,function(){return Ly(),null})):(a.callbackNode=null,a.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=te.T,te.T=null,g=ye.p,ye.p=2,w=Ct,Ct|=4;try{Eb(a,s,l)}finally{Ct=w,ye.p=g,te.T=u}}In=1,My(),Py(),jy()}}function My(){if(In===1){In=0;var a=js,s=ic,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=te.T,te.T=null;var u=ye.p;ye.p=2;var g=Ct;Ct|=4;try{my(s,a);var _=hg,w=y_(a.containerInfo),k=_.focusedElem,Y=_.selectionRange;if(w!==k&&k&&k.ownerDocument&&x_(k.ownerDocument.documentElement,k)){if(Y!==null&&jm(k)){var he=Y.start,we=Y.end;if(we===void 0&&(we=he),"selectionStart"in k)k.selectionStart=he,k.selectionEnd=Math.min(we,k.value.length);else{var be=k.ownerDocument||document,pe=be&&be.defaultView||window;if(pe.getSelection){var xe=pe.getSelection(),Ge=k.textContent.length,Ze=Math.min(Y.start,Ge),qt=Y.end===void 0?Ze:Math.min(Y.end,Ge);!xe.extend&&Ze>qt&&(w=qt,qt=Ze,Ze=w);var ie=__(k,Ze),ne=__(k,qt);if(ie&&ne&&(xe.rangeCount!==1||xe.anchorNode!==ie.node||xe.anchorOffset!==ie.offset||xe.focusNode!==ne.node||xe.focusOffset!==ne.offset)){var le=be.createRange();le.setStart(ie.node,ie.offset),xe.removeAllRanges(),Ze>qt?(xe.addRange(le),xe.extend(ne.node,ne.offset)):(le.setEnd(ne.node,ne.offset),xe.addRange(le))}}}}for(be=[],xe=k;xe=xe.parentNode;)xe.nodeType===1&&be.push({element:xe,left:xe.scrollLeft,top:xe.scrollTop});for(typeof k.focus=="function"&&k.focus(),k=0;k<be.length;k++){var Ae=be[k];Ae.element.scrollLeft=Ae.left,Ae.element.scrollTop=Ae.top}}Id=!!ug,hg=ug=null}finally{Ct=g,ye.p=u,te.T=l}}a.current=s,In=2}}function Py(){if(In===2){In=0;var a=js,s=ic,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=te.T,te.T=null;var u=ye.p;ye.p=2;var g=Ct;Ct|=4;try{cy(a,s.alternate,s)}finally{Ct=g,ye.p=u,te.T=l}}In=3}}function jy(){if(In===4||In===3){In=0,fs();var a=js,s=ic,l=qi,u=Ty;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?In=5:(In=0,ic=js=null,Fy(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(Ps=null),Ca(l),s=s.stateNode,vn&&typeof vn.onCommitFiberRoot=="function")try{vn.onCommitFiberRoot(Cr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=te.T,g=ye.p,ye.p=2,te.T=null;try{for(var _=a.onRecoverableError,w=0;w<u.length;w++){var k=u[w];_(k.value,{componentStack:k.stack})}}finally{te.T=s,ye.p=g}}(qi&3)!==0&&_d(),si(a),g=a.pendingLanes,(l&261930)!==0&&(g&42)!==0?a===Qp?Xu++:(Xu=0,Qp=a):Xu=0,Yu(0)}}function Fy(a,s){(a.pooledCacheLanes&=s)===0&&(s=a.pooledCache,s!=null&&(a.pooledCache=null,Iu(s)))}function _d(){return My(),Py(),jy(),Ly()}function Ly(){if(In!==5)return!1;var a=js,s=Xp;Xp=0;var l=Ca(qi),u=te.T,g=ye.p;try{ye.p=32>l?32:l,te.T=null,l=Yp,Yp=null;var _=js,w=qi;if(In=0,ic=js=null,qi=0,(Ct&6)!==0)throw Error(r(331));var k=Ct;if(Ct|=4,xy(_.current),gy(_,_.current,w,l),Ct=k,Yu(0,!1),vn&&typeof vn.onPostCommitFiberRoot=="function")try{vn.onPostCommitFiberRoot(Cr,_)}catch{}return!0}finally{ye.p=g,te.T=u,Fy(a,s)}}function Vy(a,s,l){s=ha(l,s),s=Rp(a.stateNode,s,2),a=Rs(a,s,2),a!==null&&(wi(a,2),si(a))}function Pt(a,s,l){if(a.tag===3)Vy(a,a,l);else for(;s!==null;){if(s.tag===3){Vy(s,a,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ps===null||!Ps.has(u))){a=ha(l,a),l=Ux(2),u=Rs(s,l,2),u!==null&&(Bx(l,u,s,a),wi(u,2),si(u));break}}s=s.return}}function eg(a,s,l){var u=a.pingCache;if(u===null){u=a.pingCache=new Ab;var g=new Set;u.set(s,g)}else g=u.get(s),g===void 0&&(g=new Set,u.set(s,g));g.has(l)||(Kp=!0,g.add(l),a=Rb.bind(null,a,s,l),s.then(a,a))}function Rb(a,s,l){var u=a.pingCache;u!==null&&u.delete(s),a.pingedLanes|=a.suspendedLanes&l,a.warmLanes&=~l,$t===a&&(pt&l)===l&&(cn===4||cn===3&&(pt&62914560)===pt&&300>Xt()-fd?(Ct&2)===0&&sc(a,0):$p|=l,ac===pt&&(ac=0)),si(a)}function Uy(a,s){s===0&&(s=Rl()),a=Bo(a,s),a!==null&&(wi(a,s),si(a))}function Ib(a){var s=a.memoizedState,l=0;s!==null&&(l=s.retryLane),Uy(a,l)}function Db(a,s){var l=0;switch(a.tag){case 31:case 13:var u=a.stateNode,g=a.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=a.stateNode;break;case 22:u=a.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Uy(a,l)}function Ob(a,s){return Gt(a,s)}var xd=null,lc=null,tg=!1,yd=!1,ng=!1,Ls=0;function si(a){a!==lc&&a.next===null&&(lc===null?xd=lc=a:lc=lc.next=a),yd=!0,tg||(tg=!0,Mb())}function Yu(a,s){if(!ng&&yd){ng=!0;do for(var l=!1,u=xd;u!==null;){if(a!==0){var g=u.pendingLanes;if(g===0)var _=0;else{var w=u.suspendedLanes,k=u.pingedLanes;_=(1<<31-an(42|a)+1)-1,_&=g&~(w&~k),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(l=!0,Hy(u,_))}else _=pt,_=ia(u,u===$t?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Br(u,_)||(l=!0,Hy(u,_));u=u.next}while(l);ng=!1}}function kb(){By()}function By(){yd=tg=!1;var a=0;Ls!==0&&Hb()&&(a=Ls);for(var s=Xt(),l=null,u=xd;u!==null;){var g=u.next,_=zy(u,s);_===0?(u.next=null,l===null?xd=g:l.next=g,g===null&&(lc=l)):(l=u,(a!==0||(_&3)!==0)&&(yd=!0)),u=g}In!==0&&In!==5||Yu(a),Ls!==0&&(Ls=0)}function zy(a,s){for(var l=a.suspendedLanes,u=a.pingedLanes,g=a.expirationTimes,_=a.pendingLanes&-62914561;0<_;){var w=31-an(_),k=1<<w,Y=g[w];Y===-1?((k&l)===0||(k&u)!==0)&&(g[w]=fu(k,s)):Y<=s&&(a.expiredLanes|=k),_&=~k}if(s=$t,l=pt,l=ia(a,a===s?l:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u=a.callbackNode,l===0||a===s&&(Mt===2||Mt===9)||a.cancelPendingCommit!==null)return u!==null&&u!==null&&mr(u),a.callbackNode=null,a.callbackPriority=0;if((l&3)===0||Br(a,l)){if(s=l&-l,s===a.callbackPriority)return s;switch(u!==null&&mr(u),Ca(l)){case 2:case 8:l=yi;break;case 32:l=rr;break;case 268435456:l=So;break;default:l=rr}return u=qy.bind(null,a),l=Gt(l,u),a.callbackPriority=s,a.callbackNode=l,s}return u!==null&&u!==null&&mr(u),a.callbackPriority=2,a.callbackNode=null,2}function qy(a,s){if(In!==0&&In!==5)return a.callbackNode=null,a.callbackPriority=0,null;var l=a.callbackNode;if(_d()&&a.callbackNode!==l)return null;var u=pt;return u=ia(a,a===$t?u:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),u===0?null:(Ay(a,u,s),zy(a,Xt()),a.callbackNode!=null&&a.callbackNode===l?qy.bind(null,a):null)}function Hy(a,s){if(_d())return null;Ay(a,s,!0)}function Mb(){Kb(function(){(Ct&6)!==0?Gt(xi,kb):By()})}function rg(){if(Ls===0){var a=$l;a===0&&(a=Ur,Ur<<=1,(Ur&261888)===0&&(Ur=256)),Ls=a}return Ls}function Gy(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Ol(""+a)}function Ky(a,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,a.id&&l.setAttribute("form",a.id),s.parentNode.insertBefore(l,s),a=new FormData(a),l.parentNode.removeChild(l),a}function Pb(a,s,l,u,g){if(s==="submit"&&l&&l.stateNode===g){var _=Gy((g[H]||null).action),w=u.submitter;w&&(s=(s=w[H]||null)?Gy(s.formAction):w.getAttribute("formAction"),s!==null&&(_=s,w=null));var k=new Za("action","action",null,u,g);a.push({event:k,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ls!==0){var Y=w?Ky(g,w):new FormData(g);wp(l,{pending:!0,data:Y,method:g.method,action:_},null,Y)}}else typeof _=="function"&&(k.preventDefault(),Y=w?Ky(g,w):new FormData(g),wp(l,{pending:!0,data:Y,method:g.method,action:_},_,Y))},currentTarget:g}]})}}for(var ag=0;ag<Um.length;ag++){var ig=Um[ag],jb=ig.toLowerCase(),Fb=ig[0].toUpperCase()+ig.slice(1);Ma(jb,"on"+Fb)}Ma(w_,"onAnimationEnd"),Ma(A_,"onAnimationIteration"),Ma(S_,"onAnimationStart"),Ma("dblclick","onDoubleClick"),Ma("focusin","onFocus"),Ma("focusout","onBlur"),Ma(Z4,"onTransitionRun"),Ma(eb,"onTransitionStart"),Ma(tb,"onTransitionCancel"),Ma(C_,"onTransitionEnd"),ar("onMouseEnter",["mouseout","mouseover"]),ar("onMouseLeave",["mouseout","mouseover"]),ar("onPointerEnter",["pointerout","pointerover"]),ar("onPointerLeave",["pointerout","pointerover"]),Kt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Kt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Kt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Kt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Kt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Qu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Qu));function $y(a,s){s=(s&4)!==0;for(var l=0;l<a.length;l++){var u=a[l],g=u.event;u=u.listeners;e:{var _=void 0;if(s)for(var w=u.length-1;0<=w;w--){var k=u[w],Y=k.instance,he=k.currentTarget;if(k=k.listener,Y!==_&&g.isPropagationStopped())break e;_=k,g.currentTarget=he;try{_(g)}catch(we){Pf(we)}g.currentTarget=null,_=Y}else for(w=0;w<u.length;w++){if(k=u[w],Y=k.instance,he=k.currentTarget,k=k.listener,Y!==_&&g.isPropagationStopped())break e;_=k,g.currentTarget=he;try{_(g)}catch(we){Pf(we)}g.currentTarget=null,_=Y}}}}function mt(a,s){var l=s[ce];l===void 0&&(l=s[ce]=new Set);var u=a+"__bubble";l.has(u)||(Wy(s,a,2,!1),l.add(u))}function sg(a,s,l){var u=0;s&&(u|=4),Wy(l,a,u,s)}var Ed="_reactListening"+Math.random().toString(36).slice(2);function og(a){if(!a[Ed]){a[Ed]=!0,Dt.forEach(function(l){l!=="selectionchange"&&(Lb.has(l)||sg(l,!1,a),sg(l,!0,a))});var s=a.nodeType===9?a:a.ownerDocument;s===null||s[Ed]||(s[Ed]=!0,sg("selectionchange",!1,s))}}function Wy(a,s,l,u){switch(wE(s)){case 2:var g=fN;break;case 8:g=dN;break;default:g=Tg}l=g.bind(null,s,l,a),g=void 0,!ko||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),u?g!==void 0?a.addEventListener(s,l,{capture:!0,passive:g}):a.addEventListener(s,l,!0):g!==void 0?a.addEventListener(s,l,{passive:g}):a.addEventListener(s,l,!1)}function lg(a,s,l,u,g){var _=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var w=u.tag;if(w===3||w===4){var k=u.stateNode.containerInfo;if(k===g)break;if(w===4)for(w=u.return;w!==null;){var Y=w.tag;if((Y===3||Y===4)&&w.stateNode.containerInfo===g)return;w=w.return}for(;k!==null;){if(w=ke(k),w===null)return;if(Y=w.tag,Y===5||Y===6||Y===26||Y===27){u=_=w;continue e}k=k.parentNode}}u=u.return}xs(function(){var he=_,we=oa(l),be=[];e:{var pe=b_.get(a);if(pe!==void 0){var xe=Za,Ge=a;switch(a){case"keypress":if(Po(l)===0)break e;case"keydown":case"keyup":xe=Of;break;case"focusin":Ge="focus",xe=Fo;break;case"focusout":Ge="blur",xe=Fo;break;case"beforeblur":case"afterblur":xe=Fo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":xe=Tu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":xe=wf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":xe=E;break;case w_:case A_:case S_:xe=Sf;break;case C_:xe=U;break;case"scroll":case"scrollend":xe=Eu;break;case"wheel":xe=ve;break;case"copy":case"cut":case"paste":xe=Cf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":xe=Ri;break;case"toggle":case"beforetoggle":xe=lt}var Ze=(s&4)!==0,qt=!Ze&&(a==="scroll"||a==="scrollend"),ie=Ze?pe!==null?pe+"Capture":null:pe;Ze=[];for(var ne=he,le;ne!==null;){var Ae=ne;if(le=Ae.stateNode,Ae=Ae.tag,Ae!==5&&Ae!==26&&Ae!==27||le===null||ie===null||(Ae=Ia(ne,ie),Ae!=null&&Ze.push(Ju(ne,Ae,le))),qt)break;ne=ne.return}0<Ze.length&&(pe=new xe(pe,Ge,null,l,we),be.push({event:pe,listeners:Ze}))}}if((s&7)===0){e:{if(pe=a==="mouseover"||a==="pointerover",xe=a==="mouseout"||a==="pointerout",pe&&l!==_u&&(Ge=l.relatedTarget||l.fromElement)&&(ke(Ge)||Ge[K]))break e;if((xe||pe)&&(pe=we.window===we?we:(pe=we.ownerDocument)?pe.defaultView||pe.parentWindow:window,xe?(Ge=l.relatedTarget||l.toElement,xe=he,Ge=Ge?ke(Ge):null,Ge!==null&&(qt=o(Ge),Ze=Ge.tag,Ge!==qt||Ze!==5&&Ze!==27&&Ze!==6)&&(Ge=null)):(xe=null,Ge=he),xe!==Ge)){if(Ze=Tu,Ae="onMouseLeave",ie="onMouseEnter",ne="mouse",(a==="pointerout"||a==="pointerover")&&(Ze=Ri,Ae="onPointerLeave",ie="onPointerEnter",ne="pointer"),qt=xe==null?pe:Ie(xe),le=Ge==null?pe:Ie(Ge),pe=new Ze(Ae,ne+"leave",xe,l,we),pe.target=qt,pe.relatedTarget=le,Ae=null,ke(we)===he&&(Ze=new Ze(ie,ne+"enter",Ge,l,we),Ze.target=le,Ze.relatedTarget=qt,Ae=Ze),qt=Ae,xe&&Ge)t:{for(Ze=Vb,ie=xe,ne=Ge,le=0,Ae=ie;Ae;Ae=Ze(Ae))le++;Ae=0;for(var Ye=ne;Ye;Ye=Ze(Ye))Ae++;for(;0<le-Ae;)ie=Ze(ie),le--;for(;0<Ae-le;)ne=Ze(ne),Ae--;for(;le--;){if(ie===ne||ne!==null&&ie===ne.alternate){Ze=ie;break t}ie=Ze(ie),ne=Ze(ne)}Ze=null}else Ze=null;xe!==null&&Xy(be,pe,xe,Ze,!1),Ge!==null&&qt!==null&&Xy(be,qt,Ge,Ze,!0)}}e:{if(pe=he?Ie(he):window,xe=pe.nodeName&&pe.nodeName.toLowerCase(),xe==="select"||xe==="input"&&pe.type==="file")var Tt=f_;else if(u_(pe))if(d_)Tt=Y4;else{Tt=W4;var We=$4}else xe=pe.nodeName,!xe||xe.toLowerCase()!=="input"||pe.type!=="checkbox"&&pe.type!=="radio"?he&&Dl(he.elementType)&&(Tt=f_):Tt=X4;if(Tt&&(Tt=Tt(a,he))){h_(be,Tt,l,we);break e}We&&We(a,pe,he),a==="focusout"&&he&&pe.type==="number"&&he.memoizedProps.value!=null&&pu(pe,"number",pe.value)}switch(We=he?Ie(he):window,a){case"focusin":(u_(We)||We.contentEditable==="true")&&(Vl=We,Fm=he,bu=null);break;case"focusout":bu=Fm=Vl=null;break;case"mousedown":Lm=!0;break;case"contextmenu":case"mouseup":case"dragend":Lm=!1,E_(be,l,we);break;case"selectionchange":if(J4)break;case"keydown":case"keyup":E_(be,l,we)}var ht;if(St)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else Ll?Lo(a,l)&&(gt="onCompositionEnd"):a==="keydown"&&l.keyCode===229&&(gt="onCompositionStart");gt&&(ni&&l.locale!=="ko"&&(Ll||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&Ll&&(ht=yu()):(Ja=we,xu="value"in Ja?Ja.value:Ja.textContent,Ll=!0)),We=Td(he,gt),0<We.length&&(gt=new ti(gt,a,null,l,we),be.push({event:gt,listeners:We}),ht?gt.data=ht:(ht=Fl(l),ht!==null&&(gt.data=ht)))),(ht=ca?q4(a,l):H4(a,l))&&(gt=Td(he,"onBeforeInput"),0<gt.length&&(We=new ti("onBeforeInput","beforeinput",null,l,we),be.push({event:We,listeners:gt}),We.data=ht)),Pb(be,a,he,l,we)}$y(be,s)})}function Ju(a,s,l){return{instance:a,listener:s,currentTarget:l}}function Td(a,s){for(var l=s+"Capture",u=[];a!==null;){var g=a,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Ia(a,l),g!=null&&u.unshift(Ju(a,g,_)),g=Ia(a,s),g!=null&&u.push(Ju(a,g,_))),a.tag===3)return u;a=a.return}return[]}function Vb(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function Xy(a,s,l,u,g){for(var _=s._reactName,w=[];l!==null&&l!==u;){var k=l,Y=k.alternate,he=k.stateNode;if(k=k.tag,Y!==null&&Y===u)break;k!==5&&k!==26&&k!==27||he===null||(Y=he,g?(he=Ia(l,_),he!=null&&w.unshift(Ju(l,he,Y))):g||(he=Ia(l,_),he!=null&&w.push(Ju(l,he,Y)))),l=l.return}w.length!==0&&a.push({event:s,listeners:w})}var Ub=/\r\n?/g,Bb=/\u0000|\uFFFD/g;function Yy(a){return(typeof a=="string"?a:""+a).replace(Ub,`
`).replace(Bb,"")}function Qy(a,s){return s=Yy(s),Yy(a)===s}function zt(a,s,l,u,g,_){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Nr(a,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Nr(a,""+u);break;case"className":qr(a,"class",u);break;case"tabIndex":qr(a,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":qr(a,l,u);break;case"style":vu(a,u,_);break;case"data":if(s!=="object"){qr(a,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){a.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Ol(""+u),a.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){a.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(l==="formAction"?(s!=="input"&&zt(a,s,"name",g.name,g,null),zt(a,s,"formEncType",g.formEncType,g,null),zt(a,s,"formMethod",g.formMethod,g,null),zt(a,s,"formTarget",g.formTarget,g,null)):(zt(a,s,"encType",g.encType,g,null),zt(a,s,"method",g.method,g,null),zt(a,s,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){a.removeAttribute(l);break}u=Ol(""+u),a.setAttribute(l,u);break;case"onClick":u!=null&&(a.onclick=Ra);break;case"onScroll":u!=null&&mt("scroll",a);break;case"onScrollEnd":u!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"multiple":a.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":a.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){a.removeAttribute("xlink:href");break}l=Ol(""+u),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""+u):a.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,""):a.removeAttribute(l);break;case"capture":case"download":u===!0?a.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?a.setAttribute(l,u):a.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?a.setAttribute(l,u):a.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?a.removeAttribute(l):a.setAttribute(l,u);break;case"popover":mt("beforetoggle",a),mt("toggle",a),ir(a,"popover",u);break;case"xlinkActuate":_n(a,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":_n(a,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":_n(a,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":_n(a,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":_n(a,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":_n(a,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":_n(a,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":_n(a,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":_n(a,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":ir(a,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Tf.get(l)||l,ir(a,l,u))}}function cg(a,s,l,u,g,_){switch(l){case"style":vu(a,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=l}}break;case"children":typeof u=="string"?Nr(a,u):(typeof u=="number"||typeof u=="bigint")&&Nr(a,""+u);break;case"onScroll":u!=null&&mt("scroll",a);break;case"onScrollEnd":u!=null&&mt("scrollend",a);break;case"onClick":u!=null&&(a.onclick=Ra);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ot.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),s=l.slice(2,g?l.length-7:void 0),_=a[H]||null,_=_!=null?_[l]:null,typeof _=="function"&&a.removeEventListener(s,_,g),typeof u=="function")){typeof _!="function"&&_!==null&&(l in a?a[l]=null:a.hasAttribute(l)&&a.removeAttribute(l)),a.addEventListener(s,u,g);break e}l in a?a[l]=u:u===!0?a.setAttribute(l,""):ir(a,l,u)}}}function $n(a,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var u=!1,g=!1,_;for(_ in l)if(l.hasOwnProperty(_)){var w=l[_];if(w!=null)switch(_){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,_,w,l,null)}}g&&zt(a,s,"srcSet",l.srcSet,l,null),u&&zt(a,s,"src",l.src,l,null);return;case"input":mt("invalid",a);var k=_=w=g=null,Y=null,he=null;for(u in l)if(l.hasOwnProperty(u)){var we=l[u];if(we!=null)switch(u){case"name":g=we;break;case"type":w=we;break;case"checked":Y=we;break;case"defaultChecked":he=we;break;case"value":_=we;break;case"defaultValue":k=we;break;case"children":case"dangerouslySetInnerHTML":if(we!=null)throw Error(r(137,s));break;default:zt(a,s,u,we,l,null)}}xf(a,_,k,Y,he,w,g,!1);return;case"select":mt("invalid",a),u=w=_=null;for(g in l)if(l.hasOwnProperty(g)&&(k=l[g],k!=null))switch(g){case"value":_=k;break;case"defaultValue":w=k;break;case"multiple":u=k;default:zt(a,s,g,k,l,null)}s=_,l=w,a.multiple=!!u,s!=null?ps(a,!!u,s,!1):l!=null&&ps(a,!!u,l,!0);return;case"textarea":mt("invalid",a),_=g=u=null;for(w in l)if(l.hasOwnProperty(w)&&(k=l[w],k!=null))switch(w){case"value":u=k;break;case"defaultValue":g=k;break;case"children":_=k;break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(r(91));break;default:zt(a,s,w,k,l,null)}gs(a,u,g,_);return;case"option":for(Y in l)if(l.hasOwnProperty(Y)&&(u=l[Y],u!=null))switch(Y){case"selected":a.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:zt(a,s,Y,u,l,null)}return;case"dialog":mt("beforetoggle",a),mt("toggle",a),mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(u=0;u<Qu.length;u++)mt(Qu[u],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(he in l)if(l.hasOwnProperty(he)&&(u=l[he],u!=null))switch(he){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:zt(a,s,he,u,l,null)}return;default:if(Dl(s)){for(we in l)l.hasOwnProperty(we)&&(u=l[we],u!==void 0&&cg(a,s,we,u,l,void 0));return}}for(k in l)l.hasOwnProperty(k)&&(u=l[k],u!=null&&zt(a,s,k,u,l,null))}function zb(a,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,w=null,k=null,Y=null,he=null,we=null;for(xe in l){var be=l[xe];if(l.hasOwnProperty(xe)&&be!=null)switch(xe){case"checked":break;case"value":break;case"defaultValue":Y=be;default:u.hasOwnProperty(xe)||zt(a,s,xe,null,u,be)}}for(var pe in u){var xe=u[pe];if(be=l[pe],u.hasOwnProperty(pe)&&(xe!=null||be!=null))switch(pe){case"type":_=xe;break;case"name":g=xe;break;case"checked":he=xe;break;case"defaultChecked":we=xe;break;case"value":w=xe;break;case"defaultValue":k=xe;break;case"children":case"dangerouslySetInnerHTML":if(xe!=null)throw Error(r(137,s));break;default:xe!==be&&zt(a,s,pe,xe,u,be)}}Il(a,w,k,Y,he,we,_,g);return;case"select":xe=w=k=pe=null;for(_ in l)if(Y=l[_],l.hasOwnProperty(_)&&Y!=null)switch(_){case"value":break;case"multiple":xe=Y;default:u.hasOwnProperty(_)||zt(a,s,_,null,u,Y)}for(g in u)if(_=u[g],Y=l[g],u.hasOwnProperty(g)&&(_!=null||Y!=null))switch(g){case"value":pe=_;break;case"defaultValue":k=_;break;case"multiple":w=_;default:_!==Y&&zt(a,s,g,_,u,Y)}s=k,l=w,u=xe,pe!=null?ps(a,!!l,pe,!1):!!u!=!!l&&(s!=null?ps(a,!!l,s,!0):ps(a,!!l,l?[]:"",!1));return;case"textarea":xe=pe=null;for(k in l)if(g=l[k],l.hasOwnProperty(k)&&g!=null&&!u.hasOwnProperty(k))switch(k){case"value":break;case"children":break;default:zt(a,s,k,null,u,g)}for(w in u)if(g=u[w],_=l[w],u.hasOwnProperty(w)&&(g!=null||_!=null))switch(w){case"value":pe=g;break;case"defaultValue":xe=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==_&&zt(a,s,w,g,u,_)}yf(a,pe,xe);return;case"option":for(var Ge in l)if(pe=l[Ge],l.hasOwnProperty(Ge)&&pe!=null&&!u.hasOwnProperty(Ge))switch(Ge){case"selected":a.selected=!1;break;default:zt(a,s,Ge,null,u,pe)}for(Y in u)if(pe=u[Y],xe=l[Y],u.hasOwnProperty(Y)&&pe!==xe&&(pe!=null||xe!=null))switch(Y){case"selected":a.selected=pe&&typeof pe!="function"&&typeof pe!="symbol";break;default:zt(a,s,Y,pe,u,xe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ze in l)pe=l[Ze],l.hasOwnProperty(Ze)&&pe!=null&&!u.hasOwnProperty(Ze)&&zt(a,s,Ze,null,u,pe);for(he in u)if(pe=u[he],xe=l[he],u.hasOwnProperty(he)&&pe!==xe&&(pe!=null||xe!=null))switch(he){case"children":case"dangerouslySetInnerHTML":if(pe!=null)throw Error(r(137,s));break;default:zt(a,s,he,pe,u,xe)}return;default:if(Dl(s)){for(var qt in l)pe=l[qt],l.hasOwnProperty(qt)&&pe!==void 0&&!u.hasOwnProperty(qt)&&cg(a,s,qt,void 0,u,pe);for(we in u)pe=u[we],xe=l[we],!u.hasOwnProperty(we)||pe===xe||pe===void 0&&xe===void 0||cg(a,s,we,pe,u,xe);return}}for(var ie in l)pe=l[ie],l.hasOwnProperty(ie)&&pe!=null&&!u.hasOwnProperty(ie)&&zt(a,s,ie,null,u,pe);for(be in u)pe=u[be],xe=l[be],!u.hasOwnProperty(be)||pe===xe||pe==null&&xe==null||zt(a,s,be,pe,u,xe)}function Jy(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function qb(){if(typeof performance.getEntriesByType=="function"){for(var a=0,s=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],_=g.transferSize,w=g.initiatorType,k=g.duration;if(_&&k&&Jy(w)){for(w=0,k=g.responseEnd,u+=1;u<l.length;u++){var Y=l[u],he=Y.startTime;if(he>k)break;var we=Y.transferSize,be=Y.initiatorType;we&&Jy(be)&&(Y=Y.responseEnd,w+=we*(Y<k?1:(k-he)/(Y-he)))}if(--u,s+=8*(_+w)/(g.duration/1e3),a++,10<a)break}}if(0<a)return s/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var ug=null,hg=null;function wd(a){return a.nodeType===9?a:a.ownerDocument}function Zy(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function eE(a,s){if(a===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&s==="foreignObject"?0:a}function fg(a,s){return a==="textarea"||a==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var dg=null;function Hb(){var a=window.event;return a&&a.type==="popstate"?a===dg?!1:(dg=a,!0):(dg=null,!1)}var tE=typeof setTimeout=="function"?setTimeout:void 0,Gb=typeof clearTimeout=="function"?clearTimeout:void 0,nE=typeof Promise=="function"?Promise:void 0,Kb=typeof queueMicrotask=="function"?queueMicrotask:typeof nE<"u"?function(a){return nE.resolve(null).then(a).catch($b)}:tE;function $b(a){setTimeout(function(){throw a})}function Vs(a){return a==="head"}function rE(a,s){var l=s,u=0;do{var g=l.nextSibling;if(a.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){a.removeChild(g),fc(s);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")Zu(a.ownerDocument.documentElement);else if(l==="head"){l=a.ownerDocument.head,Zu(l);for(var _=l.firstChild;_;){var w=_.nextSibling,k=_.nodeName;_[fe]||k==="SCRIPT"||k==="STYLE"||k==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=w}}else l==="body"&&Zu(a.ownerDocument.body);l=g}while(l);fc(s)}function aE(a,s){var l=a;a=0;do{var u=l.nextSibling;if(l.nodeType===1?s?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(s?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(a===0)break;a--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||a++;l=u}while(l)}function mg(a){var s=a.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":mg(l),De(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}a.removeChild(l)}}function Wb(a,s,l,u){for(;a.nodeType===1;){var g=l;if(a.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(u){if(!a[fe])switch(s){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(_=a.getAttribute("rel"),_==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(_!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(_=a.getAttribute("src"),(_!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(s==="input"&&a.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===_)return a}else return a;if(a=ga(a.nextSibling),a===null)break}return null}function Xb(a,s,l){if(s==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!l||(a=ga(a.nextSibling),a===null))return null;return a}function iE(a,s){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!s||(a=ga(a.nextSibling),a===null))return null;return a}function pg(a){return a.data==="$?"||a.data==="$~"}function gg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function Yb(a,s){var l=a.ownerDocument;if(a.data==="$~")a._reactRetry=s;else if(a.data!=="$?"||l.readyState!=="loading")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),a._reactRetry=u}}function ga(a){for(;a!=null;a=a.nextSibling){var s=a.nodeType;if(s===1||s===3)break;if(s===8){if(s=a.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return a}var vg=null;function sE(a){a=a.nextSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="/$"||l==="/&"){if(s===0)return ga(a.nextSibling);s--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||s++}a=a.nextSibling}return null}function oE(a){a=a.previousSibling;for(var s=0;a;){if(a.nodeType===8){var l=a.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(s===0)return a;s--}else l!=="/$"&&l!=="/&"||s++}a=a.previousSibling}return null}function lE(a,s,l){switch(s=wd(l),a){case"html":if(a=s.documentElement,!a)throw Error(r(452));return a;case"head":if(a=s.head,!a)throw Error(r(453));return a;case"body":if(a=s.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function Zu(a){for(var s=a.attributes;s.length;)a.removeAttributeNode(s[0]);De(a)}var va=new Map,cE=new Set;function Ad(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var Hi=ye.d;ye.d={f:Qb,r:Jb,D:Zb,C:eN,L:tN,m:nN,X:aN,S:rN,M:iN};function Qb(){var a=Hi.f(),s=pd();return a||s}function Jb(a){var s=Ue(a);s!==null&&s.tag===5&&s.type==="form"?Cx(s):Hi.r(a)}var cc=typeof document>"u"?null:document;function uE(a,s,l){var u=cc;if(u&&typeof s=="string"&&s){var g=br(s);g='link[rel="'+a+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),cE.has(g)||(cE.add(g),a={rel:a,crossOrigin:l,href:s},u.querySelector(g)===null&&(s=u.createElement("link"),$n(s,"link",a),Ke(s),u.head.appendChild(s)))}}function Zb(a){Hi.D(a),uE("dns-prefetch",a,null)}function eN(a,s){Hi.C(a,s),uE("preconnect",a,s)}function tN(a,s,l){Hi.L(a,s,l);var u=cc;if(u&&a&&s){var g='link[rel="preload"][as="'+br(s)+'"]';s==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+br(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+br(l.imageSizes)+'"]')):g+='[href="'+br(a)+'"]';var _=g;switch(s){case"style":_=uc(a);break;case"script":_=hc(a)}va.has(_)||(a=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:a,as:s},l),va.set(_,a),u.querySelector(g)!==null||s==="style"&&u.querySelector(eh(_))||s==="script"&&u.querySelector(th(_))||(s=u.createElement("link"),$n(s,"link",a),Ke(s),u.head.appendChild(s)))}}function nN(a,s){Hi.m(a,s);var l=cc;if(l&&a){var u=s&&typeof s.as=="string"?s.as:"script",g='link[rel="modulepreload"][as="'+br(u)+'"][href="'+br(a)+'"]',_=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=hc(a)}if(!va.has(_)&&(a=x({rel:"modulepreload",href:a},s),va.set(_,a),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(th(_)))return}u=l.createElement("link"),$n(u,"link",a),Ke(u),l.head.appendChild(u)}}}function rN(a,s,l){Hi.S(a,s,l);var u=cc;if(u&&a){var g=Le(u).hoistableStyles,_=uc(a);s=s||"default";var w=g.get(_);if(!w){var k={loading:0,preload:null};if(w=u.querySelector(eh(_)))k.loading=5;else{a=x({rel:"stylesheet",href:a,"data-precedence":s},l),(l=va.get(_))&&_g(a,l);var Y=w=u.createElement("link");Ke(Y),$n(Y,"link",a),Y._p=new Promise(function(he,we){Y.onload=he,Y.onerror=we}),Y.addEventListener("load",function(){k.loading|=1}),Y.addEventListener("error",function(){k.loading|=2}),k.loading|=4,Sd(w,s,u)}w={type:"stylesheet",instance:w,count:1,state:k},g.set(_,w)}}}function aN(a,s){Hi.X(a,s);var l=cc;if(l&&a){var u=Le(l).hoistableScripts,g=hc(a),_=u.get(g);_||(_=l.querySelector(th(g)),_||(a=x({src:a,async:!0},s),(s=va.get(g))&&xg(a,s),_=l.createElement("script"),Ke(_),$n(_,"link",a),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function iN(a,s){Hi.M(a,s);var l=cc;if(l&&a){var u=Le(l).hoistableScripts,g=hc(a),_=u.get(g);_||(_=l.querySelector(th(g)),_||(a=x({src:a,async:!0,type:"module"},s),(s=va.get(g))&&xg(a,s),_=l.createElement("script"),Ke(_),$n(_,"link",a),l.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function hE(a,s,l,u){var g=(g=ge.current)?Ad(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=uc(l.href),l=Le(g).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){a=uc(l.href);var _=Le(g).hoistableStyles,w=_.get(a);if(w||(g=g.ownerDocument||g,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(a,w),(_=g.querySelector(eh(a)))&&!_._p&&(w.instance=_,w.state.loading=5),va.has(a)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},va.set(a,l),_||sN(g,a,l,w.state))),s&&u===null)throw Error(r(528,""));return w}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=hc(l),l=Le(g).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function uc(a){return'href="'+br(a)+'"'}function eh(a){return'link[rel="stylesheet"]['+a+"]"}function fE(a){return x({},a,{"data-precedence":a.precedence,precedence:null})}function sN(a,s,l,u){a.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=a.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),$n(s,"link",l),Ke(s),a.head.appendChild(s))}function hc(a){return'[src="'+br(a)+'"]'}function th(a){return"script[async]"+a}function dE(a,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=a.querySelector('style[data-href~="'+br(l.href)+'"]');if(u)return s.instance=u,Ke(u),u;var g=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(a.ownerDocument||a).createElement("style"),Ke(u),$n(u,"style",g),Sd(u,l.precedence,a),s.instance=u;case"stylesheet":g=uc(l.href);var _=a.querySelector(eh(g));if(_)return s.state.loading|=4,s.instance=_,Ke(_),_;u=fE(l),(g=va.get(g))&&_g(u,g),_=(a.ownerDocument||a).createElement("link"),Ke(_);var w=_;return w._p=new Promise(function(k,Y){w.onload=k,w.onerror=Y}),$n(_,"link",u),s.state.loading|=4,Sd(_,l.precedence,a),s.instance=_;case"script":return _=hc(l.src),(g=a.querySelector(th(_)))?(s.instance=g,Ke(g),g):(u=l,(g=va.get(_))&&(u=x({},l),xg(u,g)),a=a.ownerDocument||a,g=a.createElement("script"),Ke(g),$n(g,"link",u),a.head.appendChild(g),s.instance=g);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Sd(u,l.precedence,a));return s.instance}function Sd(a,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,_=g,w=0;w<u.length;w++){var k=u[w];if(k.dataset.precedence===s)_=k;else if(_!==g)break}_?_.parentNode.insertBefore(a,_.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(a,s.firstChild))}function _g(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.title==null&&(a.title=s.title)}function xg(a,s){a.crossOrigin==null&&(a.crossOrigin=s.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=s.referrerPolicy),a.integrity==null&&(a.integrity=s.integrity)}var Cd=null;function mE(a,s,l){if(Cd===null){var u=new Map,g=Cd=new Map;g.set(l,u)}else g=Cd,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(a))return u;for(u.set(a,null),l=l.getElementsByTagName(a),g=0;g<l.length;g++){var _=l[g];if(!(_[fe]||_[B]||a==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var w=_.getAttribute(s)||"";w=a+w;var k=u.get(w);k?k.push(_):u.set(w,[_])}}return u}function pE(a,s,l){a=a.ownerDocument||a,a.head.insertBefore(l,s==="title"?a.querySelector("head > title"):null)}function oN(a,s,l){if(l===1||s.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return a=s.disabled,typeof s.precedence=="string"&&a==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function gE(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function lN(a,s,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=uc(u.href),_=s.querySelector(eh(g));if(_){s=_._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(a.count++,a=bd.bind(a),s.then(a,a)),l.state.loading|=4,l.instance=_,Ke(_);return}_=s.ownerDocument||s,u=fE(u),(g=va.get(g))&&_g(u,g),_=_.createElement("link"),Ke(_);var w=_;w._p=new Promise(function(k,Y){w.onload=k,w.onerror=Y}),$n(_,"link",u),l.instance=_}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(l,s),(s=l.state.preload)&&(l.state.loading&3)===0&&(a.count++,l=bd.bind(a),s.addEventListener("load",l),s.addEventListener("error",l))}}var yg=0;function cN(a,s){return a.stylesheets&&a.count===0&&Rd(a,a.stylesheets),0<a.count||0<a.imgCount?function(l){var u=setTimeout(function(){if(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend){var _=a.unsuspend;a.unsuspend=null,_()}},6e4+s);0<a.imgBytes&&yg===0&&(yg=62500*qb());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Rd(a,a.stylesheets),a.unsuspend)){var _=a.unsuspend;a.unsuspend=null,_()}},(a.imgBytes>yg?50:800)+s);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function bd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Rd(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Nd=null;function Rd(a,s){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Nd=new Map,s.forEach(uN,a),Nd=null,bd.call(a))}function uN(a,s){if(!(s.state.loading&4)){var l=Nd.get(a);if(l)var u=l.get(null);else{l=new Map,Nd.set(a,l);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var w=g[_];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(l.set(w.dataset.precedence,w),u=w)}u&&l.set(null,u)}g=s.instance,w=g.getAttribute("data-precedence"),_=l.get(w)||u,_===u&&l.set(null,g),l.set(w,g),this.count++,u=bd.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),_?_.parentNode.insertBefore(g,_.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),s.state.loading|=4}}var nh={$$typeof:q,Provider:null,Consumer:null,_currentValue:oe,_currentValue2:oe,_threadCount:0};function hN(a,s,l,u,g,_,w,k,Y){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=sa(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sa(0),this.hiddenUpdates=sa(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function vE(a,s,l,u,g,_,w,k,Y,he,we,be){return a=new hN(a,s,l,w,Y,he,we,be,k),s=1,_===!0&&(s|=24),_=Gr(3,null,null,s),a.current=_,_.stateNode=a,s=Zm(),s.refCount++,a.pooledCache=s,s.refCount++,_.memoizedState={element:u,isDehydrated:l,cache:s},rp(_),a}function _E(a){return a?(a=zl,a):zl}function xE(a,s,l,u,g,_){g=_E(g),u.context===null?u.context=g:u.pendingContext=g,u=Ns(s),u.payload={element:l},_=_===void 0?null:_,_!==null&&(u.callback=_),l=Rs(a,u,s),l!==null&&(kr(l,a,s),Mu(l,a,s))}function yE(a,s){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var l=a.retryLane;a.retryLane=l!==0&&l<s?l:s}}function Eg(a,s){yE(a,s),(a=a.alternate)&&yE(a,s)}function EE(a){if(a.tag===13||a.tag===31){var s=Bo(a,67108864);s!==null&&kr(s,a,67108864),Eg(a,67108864)}}function TE(a){if(a.tag===13||a.tag===31){var s=Yr();s=Ci(s);var l=Bo(a,s);l!==null&&kr(l,a,s),Eg(a,s)}}var Id=!0;function fN(a,s,l,u){var g=te.T;te.T=null;var _=ye.p;try{ye.p=2,Tg(a,s,l,u)}finally{ye.p=_,te.T=g}}function dN(a,s,l,u){var g=te.T;te.T=null;var _=ye.p;try{ye.p=8,Tg(a,s,l,u)}finally{ye.p=_,te.T=g}}function Tg(a,s,l,u){if(Id){var g=wg(u);if(g===null)lg(a,s,u,Dd,l),AE(a,u);else if(pN(g,a,s,l,u))u.stopPropagation();else if(AE(a,u),s&4&&-1<mN.indexOf(a)){for(;g!==null;){var _=Ue(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var w=gr(_.pendingLanes);if(w!==0){var k=_;for(k.pendingLanes|=2,k.entangledLanes|=2;w;){var Y=1<<31-an(w);k.entanglements[1]|=Y,w&=~Y}si(_),(Ct&6)===0&&(dd=Xt()+500,Yu(0))}}break;case 31:case 13:k=Bo(_,2),k!==null&&kr(k,_,2),pd(),Eg(_,2)}if(_=wg(u),_===null&&lg(a,s,u,Dd,l),_===g)break;g=_}g!==null&&u.stopPropagation()}else lg(a,s,u,null,l)}}function wg(a){return a=oa(a),Ag(a)}var Dd=null;function Ag(a){if(Dd=null,a=ke(a),a!==null){var s=o(a);if(s===null)a=null;else{var l=s.tag;if(l===13){if(a=c(s),a!==null)return a;a=null}else if(l===31){if(a=h(s),a!==null)return a;a=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;a=null}else s!==a&&(a=null)}}return Dd=a,null}function wE(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(aa()){case xi:return 2;case yi:return 8;case rr:case hu:return 32;case So:return 268435456;default:return 32}default:return 32}}var Sg=!1,Us=null,Bs=null,zs=null,rh=new Map,ah=new Map,qs=[],mN="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function AE(a,s){switch(a){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Bs=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":rh.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":ah.delete(s.pointerId)}}function ih(a,s,l,u,g,_){return a===null||a.nativeEvent!==_?(a={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:_,targetContainers:[g]},s!==null&&(s=Ue(s),s!==null&&EE(s)),a):(a.eventSystemFlags|=u,s=a.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),a)}function pN(a,s,l,u,g){switch(s){case"focusin":return Us=ih(Us,a,s,l,u,g),!0;case"dragenter":return Bs=ih(Bs,a,s,l,u,g),!0;case"mouseover":return zs=ih(zs,a,s,l,u,g),!0;case"pointerover":var _=g.pointerId;return rh.set(_,ih(rh.get(_)||null,a,s,l,u,g)),!0;case"gotpointercapture":return _=g.pointerId,ah.set(_,ih(ah.get(_)||null,a,s,l,u,g)),!0}return!1}function SE(a){var s=ke(a.target);if(s!==null){var l=o(s);if(l!==null){if(s=l.tag,s===13){if(s=c(l),s!==null){a.blockedOn=s,G(a.priority,function(){TE(l)});return}}else if(s===31){if(s=h(l),s!==null){a.blockedOn=s,G(a.priority,function(){TE(l)});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){a.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Od(a){if(a.blockedOn!==null)return!1;for(var s=a.targetContainers;0<s.length;){var l=wg(a.nativeEvent);if(l===null){l=a.nativeEvent;var u=new l.constructor(l.type,l);_u=u,l.target.dispatchEvent(u),_u=null}else return s=Ue(l),s!==null&&EE(s),a.blockedOn=l,!1;s.shift()}return!0}function CE(a,s,l){Od(a)&&l.delete(s)}function gN(){Sg=!1,Us!==null&&Od(Us)&&(Us=null),Bs!==null&&Od(Bs)&&(Bs=null),zs!==null&&Od(zs)&&(zs=null),rh.forEach(CE),ah.forEach(CE)}function kd(a,s){a.blockedOn===s&&(a.blockedOn=null,Sg||(Sg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,gN)))}var Md=null;function bE(a){Md!==a&&(Md=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Md===a&&(Md=null);for(var s=0;s<a.length;s+=3){var l=a[s],u=a[s+1],g=a[s+2];if(typeof u!="function"){if(Ag(u||l)===null)continue;break}var _=Ue(l);_!==null&&(a.splice(s,3),s-=3,wp(_,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function fc(a){function s(Y){return kd(Y,a)}Us!==null&&kd(Us,a),Bs!==null&&kd(Bs,a),zs!==null&&kd(zs,a),rh.forEach(s),ah.forEach(s);for(var l=0;l<qs.length;l++){var u=qs[l];u.blockedOn===a&&(u.blockedOn=null)}for(;0<qs.length&&(l=qs[0],l.blockedOn===null);)SE(l),l.blockedOn===null&&qs.shift();if(l=(a.ownerDocument||a).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],_=l[u+1],w=g[H]||null;if(typeof _=="function")w||bE(l);else if(w){var k=null;if(_&&_.hasAttribute("formAction")){if(g=_,w=_[H]||null)k=w.formAction;else if(Ag(g)!==null)continue}else k=w.action;typeof k=="function"?l[u+1]=k:(l.splice(u,3),u-=3),bE(l)}}}function NE(){function a(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(w){return g=w})},focusReset:"manual",scroll:"manual"})}function s(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),g!==null&&(g(),g=null)}}}function Cg(a){this._internalRoot=a}Pd.prototype.render=Cg.prototype.render=function(a){var s=this._internalRoot;if(s===null)throw Error(r(409));var l=s.current,u=Yr();xE(l,u,a,s,null,null)},Pd.prototype.unmount=Cg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var s=a.containerInfo;xE(a.current,2,null,a,null,null),pd(),s[K]=null}};function Pd(a){this._internalRoot=a}Pd.prototype.unstable_scheduleHydration=function(a){if(a){var s=D();a={blockedOn:null,target:a,priority:s};for(var l=0;l<qs.length&&s!==0&&s<qs[l].priority;l++);qs.splice(l,0,a),l===0&&SE(a)}};var RE=e.version;if(RE!=="19.2.0")throw Error(r(527,RE,"19.2.0"));ye.findDOMNode=function(a){var s=a._reactInternals;if(s===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=d(s),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var vN={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:te,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Cr=jd.inject(vN),vn=jd}catch{}}return oh.createRoot=function(a,s){if(!i(a))throw Error(r(299));var l=!1,u="",g=jx,_=Fx,w=Lx;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(g=s.onUncaughtError),s.onCaughtError!==void 0&&(_=s.onCaughtError),s.onRecoverableError!==void 0&&(w=s.onRecoverableError)),s=vE(a,1,!1,null,null,l,u,null,g,_,w,NE),a[K]=s.current,og(a),new Cg(s)},oh.hydrateRoot=function(a,s,l){if(!i(a))throw Error(r(299));var u=!1,g="",_=jx,w=Fx,k=Lx,Y=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(_=l.onUncaughtError),l.onCaughtError!==void 0&&(w=l.onCaughtError),l.onRecoverableError!==void 0&&(k=l.onRecoverableError),l.formState!==void 0&&(Y=l.formState)),s=vE(a,1,!0,s,l??null,u,g,Y,_,w,k,NE),s.context=_E(null),l=s.current,u=Yr(),u=Ci(u),g=Ns(u),g.callback=null,Rs(l,g,u),l=u,s.current.lanes=l,wi(s,l),si(s),a[K]=s.current,og(a),new Pd(s)},oh.version="19.2.0",oh}var VE;function CN(){if(VE)return Rg.exports;VE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Rg.exports=SN(),Rg.exports}var bN=CN();const NN=()=>{};var UE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},RN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],c=n[t++],h=n[t++],m=((i&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=n[t++],c=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|c&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],c=i+1<n.length,h=c?n[i+1]:0,m=i+2<n.length,d=m?n[i+2]:0,v=o>>2,x=(o&3)<<4|h>>4;let y=(h&15)<<2|d>>6,T=d&63;m||(T=64,c||(y=64)),r.push(t[v],t[x],t[y],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(dw(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):RN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],h=i<n.length?t[n.charAt(i)]:0;++i;const d=i<n.length?t[n.charAt(i)]:64;++i;const x=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||h==null||d==null||x==null)throw new IN;const y=o<<2|h>>4;if(r.push(y),d!==64){const T=h<<4&240|d>>2;if(r.push(T),x!==64){const N=d<<6&192|x;r.push(N)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class IN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const DN=function(n){const e=dw(n);return mw.encodeByteArray(e,!0)},m0=function(n){return DN(n).replace(/\./g,"")},pw=function(n){try{return mw.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ON(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=()=>ON().__FIREBASE_DEFAULTS__,MN=()=>{if(typeof process>"u"||typeof UE>"u")return;const n=UE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},PN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&pw(n[1]);return e&&JSON.parse(e)},Z0=()=>{try{return NN()||kN()||MN()||PN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},gw=n=>Z0()?.emulatorHosts?.[n],jN=n=>{const e=gw(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},vw=()=>Z0()?.config,_w=n=>Z0()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function xw(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[m0(JSON.stringify(t)),m0(JSON.stringify(c)),""].join(".")}const Th={};function VN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Th))Th[e]?n.emulator.push(e):n.prod.push(e);return n}function UN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let BE=!1;function yw(n,e){if(typeof window>"u"||typeof document>"u"||!$c(window.location.host)||Th[n]===e||Th[n]||BE)return;Th[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=VN().prod.length>0;function c(){const y=document.getElementById(r);y&&y.remove()}function h(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function m(y,T){y.setAttribute("width","24"),y.setAttribute("id",T),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function d(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{BE=!0,c()},y}function v(y,T){y.setAttribute("id",T),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function x(){const y=UN(r),T=t("text"),N=document.getElementById(T)||document.createElement("span"),A=t("learnmore"),b=document.getElementById(A)||document.createElement("a"),P=t("preprendIcon"),z=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const q=y.element;h(q),v(b,A);const ee=d();m(z,P),q.append(z,N,b,ee),document.body.appendChild(q)}o?(N.innerText="Preview backend disconnected.",z.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(z.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,N.innerText="Preview backend running in this workspace."),N.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function BN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fr())}function zN(){const n=Z0()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function HN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function GN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function KN(){const n=fr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function $N(){return!zN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function WN(){try{return typeof indexedDB=="object"}catch{return!1}}function XN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="FirebaseError";class cs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=YN,Object.setPrototypeOf(this,cs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jh.prototype.create)}}class Jh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],c=o?QN(o,r):"Error",h=`${this.serviceName}: ${c} (${i}).`;return new cs(i,h,r)}}function QN(n,e){return n.replace(JN,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const JN=/\{\$([^}]+)}/g;function ZN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function ll(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],c=e[i];if(zE(o)&&zE(c)){if(!ll(o,c))return!1}else if(o!==c)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function zE(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zh(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function mh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function ph(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function eR(n,e){const t=new tR(n,e);return t.subscribe.bind(t)}class tR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");nR(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=kg),i.error===void 0&&(i.error=kg),i.complete===void 0&&(i.complete=kg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function kg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(n){return n&&n._delegate?n._delegate:n}class cl{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const el="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new FN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(iR(e))try{this.getOrInitializeService({instanceIdentifier:el})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=el){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=el){return this.instances.has(e)}getOptions(e=el){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);r===h&&c.resolve(i)}return i}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:aR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=el){return this.component?this.component.multipleInstances?e:el:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aR(n){return n===el?void 0:n}function iR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new rR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const oR={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},lR=vt.INFO,cR={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},uR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=cR[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class z1{constructor(e){this.name=e,this._logLevel=lR,this._logHandler=uR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const hR=(n,e)=>e.some(t=>n instanceof t);let qE,HE;function fR(){return qE||(qE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dR(){return HE||(HE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ew=new WeakMap,r1=new WeakMap,Tw=new WeakMap,Mg=new WeakMap,q1=new WeakMap;function mR(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{t(to(n.result)),i()},c=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&Ew.set(t,n)}).catch(()=>{}),q1.set(e,n),e}function pR(n){if(r1.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{t(),i()},c=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});r1.set(n,e)}let a1={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return r1.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tw.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return to(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function gR(n){a1=n(a1)}function vR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Pg(this),e,...t);return Tw.set(r,e.sort?e.sort():[e]),to(r)}:dR().includes(n)?function(...e){return n.apply(Pg(this),e),to(Ew.get(this))}:function(...e){return to(n.apply(Pg(this),e))}}function _R(n){return typeof n=="function"?vR(n):(n instanceof IDBTransaction&&pR(n),hR(n,fR())?new Proxy(n,a1):n)}function to(n){if(n instanceof IDBRequest)return mR(n);if(Mg.has(n))return Mg.get(n);const e=_R(n);return e!==n&&(Mg.set(n,e),q1.set(e,n)),e}const Pg=n=>q1.get(n);function xR(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const c=indexedDB.open(n,e),h=to(c);return r&&c.addEventListener("upgradeneeded",m=>{r(to(c.result),m.oldVersion,m.newVersion,to(c.transaction),m)}),t&&c.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),h.then(m=>{o&&m.addEventListener("close",()=>o()),i&&m.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),h}const yR=["get","getKey","getAll","getAllKeys","count"],ER=["put","add","delete","clear"],jg=new Map;function GE(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(jg.get(e))return jg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=ER.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||yR.includes(t)))return;const o=async function(c,...h){const m=this.transaction(c,i?"readwrite":"readonly");let d=m.store;return r&&(d=d.index(h.shift())),(await Promise.all([d[t](...h),i&&m.done]))[0]};return jg.set(e,o),o}gR(n=>({...n,get:(e,t,r)=>GE(e,t)||n.get(e,t,r),has:(e,t)=>!!GE(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(wR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function wR(n){return n.getComponent()?.type==="VERSION"}const i1="@firebase/app",KE="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es=new z1("@firebase/app"),AR="@firebase/app-compat",SR="@firebase/analytics-compat",CR="@firebase/analytics",bR="@firebase/app-check-compat",NR="@firebase/app-check",RR="@firebase/auth",IR="@firebase/auth-compat",DR="@firebase/database",OR="@firebase/data-connect",kR="@firebase/database-compat",MR="@firebase/functions",PR="@firebase/functions-compat",jR="@firebase/installations",FR="@firebase/installations-compat",LR="@firebase/messaging",VR="@firebase/messaging-compat",UR="@firebase/performance",BR="@firebase/performance-compat",zR="@firebase/remote-config",qR="@firebase/remote-config-compat",HR="@firebase/storage",GR="@firebase/storage-compat",KR="@firebase/firestore",$R="@firebase/ai",WR="@firebase/firestore-compat",XR="firebase",YR="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1="[DEFAULT]",QR={[i1]:"fire-core",[AR]:"fire-core-compat",[CR]:"fire-analytics",[SR]:"fire-analytics-compat",[NR]:"fire-app-check",[bR]:"fire-app-check-compat",[RR]:"fire-auth",[IR]:"fire-auth-compat",[DR]:"fire-rtdb",[OR]:"fire-data-connect",[kR]:"fire-rtdb-compat",[MR]:"fire-fn",[PR]:"fire-fn-compat",[jR]:"fire-iid",[FR]:"fire-iid-compat",[LR]:"fire-fcm",[VR]:"fire-fcm-compat",[UR]:"fire-perf",[BR]:"fire-perf-compat",[zR]:"fire-rc",[qR]:"fire-rc-compat",[HR]:"fire-gcs",[GR]:"fire-gcs-compat",[KR]:"fire-fst",[WR]:"fire-fst-compat",[$R]:"fire-vertex","fire-js":"fire-js",[XR]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=new Map,JR=new Map,o1=new Map;function $E(n,e){try{n.container.addComponent(e)}catch(t){es.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Vc(n){const e=n.name;if(o1.has(e))return es.debug(`There were multiple attempts to register component ${e}.`),!1;o1.set(e,n);for(const t of p0.values())$E(t,n);for(const t of JR.values())$E(t,n);return!0}function H1(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ya(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},no=new Jh("app","Firebase",ZR);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw no.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wc=YR;function ww(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:s1,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw no.create("bad-app-name",{appName:String(i)});if(t||(t=vw()),!t)throw no.create("no-options");const o=p0.get(i);if(o){if(ll(t,o.options)&&ll(r,o.config))return o;throw no.create("duplicate-app",{appName:i})}const c=new sR(i);for(const m of o1.values())c.addComponent(m);const h=new eI(t,r,c);return p0.set(i,h),h}function Aw(n=s1){const e=p0.get(n);if(!e&&n===s1&&vw())return ww();if(!e)throw no.create("no-app",{appName:n});return e}function ro(n,e,t){let r=QR[n]??n;t&&(r+=`-${t}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const c=[`Unable to register library "${r}" with version "${e}":`];i&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),es.warn(c.join(" "));return}Vc(new cl(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI="firebase-heartbeat-database",nI=1,Mh="firebase-heartbeat-store";let Fg=null;function Sw(){return Fg||(Fg=xR(tI,nI,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Mh)}catch(t){console.warn(t)}}}}).catch(n=>{throw no.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function rI(n){try{const t=(await Sw()).transaction(Mh),r=await t.objectStore(Mh).get(Cw(n));return await t.done,r}catch(e){if(e instanceof cs)es.warn(e.message);else{const t=no.create("idb-get",{originalErrorMessage:e?.message});es.warn(t.message)}}}async function WE(n,e){try{const r=(await Sw()).transaction(Mh,"readwrite");await r.objectStore(Mh).put(e,Cw(n)),await r.done}catch(t){if(t instanceof cs)es.warn(t.message);else{const r=no.create("idb-set",{originalErrorMessage:t?.message});es.warn(r.message)}}}function Cw(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=1024,iI=30;class sI{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new lI(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=XE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>iI){const i=cI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){es.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=XE(),{heartbeatsToSend:t,unsentEntries:r}=oI(this._heartbeatsCache.heartbeats),i=m0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return es.warn(e),""}}}function XE(){return new Date().toISOString().substring(0,10)}function oI(n,e=aI){const t=[];let r=n.slice();for(const i of n){const o=t.find(c=>c.agent===i.agent);if(o){if(o.dates.push(i.date),YE(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),YE(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class lI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return WN()?XN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await rI(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return WE(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YE(n){return m0(JSON.stringify({version:2,heartbeats:n})).length}function cI(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uI(n){Vc(new cl("platform-logger",e=>new TR(e),"PRIVATE")),Vc(new cl("heartbeat",e=>new sI(e),"PRIVATE")),ro(i1,KE,n),ro(i1,KE,"esm2020"),ro("fire-js","")}uI("");var hI="firebase",fI="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro(hI,fI,"app");function bw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const dI=bw,Nw=new Jh("auth","Firebase",bw());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g0=new z1("@firebase/auth");function mI(n,...e){g0.logLevel<=vt.WARN&&g0.warn(`Auth (${Wc}): ${n}`,...e)}function n0(n,...e){g0.logLevel<=vt.ERROR&&g0.error(`Auth (${Wc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qa(n,...e){throw G1(n,...e)}function ui(n,...e){return G1(n,...e)}function Rw(n,e,t){const r={...dI(),[e]:t};return new Jh("auth","Firebase",r).create(e,{appName:n.name})}function Wi(n){return Rw(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function G1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Nw.create(n,...e)}function tt(n,e,...t){if(!n)throw G1(e,...t)}function Gi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw n0(e),new Error(e)}function ts(n,e){n||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(){return typeof self<"u"&&self.location?.href||""}function pI(){return QE()==="http:"||QE()==="https:"}function QE(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pI()||HN()||"connection"in navigator)?navigator.onLine:!0}function vI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e,t){this.shortDelay=e,this.longDelay=t,ts(t>e,"Short delay should be less than long delay!"),this.isMobile=BN()||GN()}get(){return gI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(n,e){ts(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _I={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yI=new ef(3e4,6e4);function _o(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function xo(n,e,t,r,i={}){return Dw(n,i,async()=>{let o={},c={};r&&(e==="GET"?c=r:o={body:JSON.stringify(r)});const h=Zh({key:n.config.apiKey,...c}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const d={method:e,headers:m,...o};return qN()||(d.referrerPolicy="no-referrer"),n.emulatorConfig&&$c(n.emulatorConfig.host)&&(d.credentials="include"),Iw.fetch()(await Ow(n,n.config.apiHost,t,h),d)})}async function Dw(n,e,t){n._canInitEmulator=!1;const r={..._I,...e};try{const i=new TI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Fd(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[m,d]=h.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Fd(n,"credential-already-in-use",c);if(m==="EMAIL_EXISTS")throw Fd(n,"email-already-in-use",c);if(m==="USER_DISABLED")throw Fd(n,"user-disabled",c);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw Rw(n,v,d);qa(n,v)}}catch(i){if(i instanceof cs)throw i;qa(n,"network-request-failed",{message:String(i)})}}async function tf(n,e,t,r,i={}){const o=await xo(n,e,t,r,i);return"mfaPendingCredential"in o&&qa(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function Ow(n,e,t,r){const i=`${e}${t}?${r}`,o=n,c=o.config.emulator?K1(n.config,i):`${n.config.apiScheme}://${i}`;return xI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function EI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class TI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(ui(this.auth,"network-request-failed")),yI.get())})}}function Fd(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=ui(n,e,r);return i.customData._tokenResponse=t,i}function JE(n){return n!==void 0&&n.enterprise!==void 0}class wI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return EI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function AI(n,e){return xo(n,"GET","/v2/recaptchaConfig",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,e){return xo(n,"POST","/v1/accounts:delete",e)}async function v0(n,e){return xo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function CI(n,e=!1){const t=zn(n),r=await t.getIdToken(e),i=$1(r);tt(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,c=o?.sign_in_provider;return{claims:i,token:r,authTime:wh(Lg(i.auth_time)),issuedAtTime:wh(Lg(i.iat)),expirationTime:wh(Lg(i.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Lg(n){return Number(n)*1e3}function $1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return n0("JWT malformed, contained fewer than 3 sections"),null;try{const i=pw(t);return i?JSON.parse(i):(n0("Failed to decode base64 JWT payload"),null)}catch(i){return n0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function ZE(n){const e=$1(n);return tt(e,"internal-error"),tt(typeof e.exp<"u","internal-error"),tt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ph(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof cs&&bI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function bI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _0(n){const e=n.auth,t=await n.getIdToken(),r=await Ph(n,v0(e,{idToken:t}));tt(r?.users.length,e,"internal-error");const i=r.users[0];n._notifyReloadListener(i);const o=i.providerUserInfo?.length?kw(i.providerUserInfo):[],c=II(n.providerData,o),h=n.isAnonymous,m=!(n.email&&i.passwordHash)&&!c?.length,d=h?m:!1,v={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:c,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(n,v)}async function RI(n){const e=zn(n);await _0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function II(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kw(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DI(n,e){const t=await Dw(n,{},async()=>{const r=Zh({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,c=await Ow(n,i,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:h,body:r};return n.emulatorConfig&&$c(n.emulatorConfig.host)&&(m.credentials="include"),Iw.fetch()(c,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function OI(n,e){return xo(n,"POST","/v2/accounts:revokeToken",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){tt(e.idToken,"internal-error"),tt(typeof e.idToken<"u","internal-error"),tt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):ZE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){tt(e.length!==0,"internal-error");const t=ZE(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(tt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await DI(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,c=new Nc;return r&&(tt(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),i&&(tt(typeof i=="string","internal-error",{appName:e}),c.accessToken=i),o&&(tt(typeof o=="number","internal-error",{appName:e}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Nc,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(n,e){tt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Ua{constructor({uid:e,auth:t,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new NI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new c1(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Ph(this,this.stsTokenManager.getToken(this.auth,e));return tt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return CI(this,e)}reload(){return RI(this)}_assign(e){this!==e&&(tt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Ua({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await _0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ya(this.auth.app))return Promise.reject(Wi(this.auth));const e=await this.getIdToken();return await Ph(this,SI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,i=t.email??void 0,o=t.phoneNumber??void 0,c=t.photoURL??void 0,h=t.tenantId??void 0,m=t._redirectEventId??void 0,d=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:x,emailVerified:y,isAnonymous:T,providerData:N,stsTokenManager:A}=t;tt(x&&A,e,"internal-error");const b=Nc.fromJSON(this.name,A);tt(typeof x=="string",e,"internal-error"),Gs(r,e.name),Gs(i,e.name),tt(typeof y=="boolean",e,"internal-error"),tt(typeof T=="boolean",e,"internal-error"),Gs(o,e.name),Gs(c,e.name),Gs(h,e.name),Gs(m,e.name),Gs(d,e.name),Gs(v,e.name);const P=new Ua({uid:x,auth:e,email:i,emailVerified:y,displayName:r,isAnonymous:T,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:b,createdAt:d,lastLoginAt:v});return N&&Array.isArray(N)&&(P.providerData=N.map(z=>({...z}))),m&&(P._redirectEventId=m),P}static async _fromIdTokenResponse(e,t,r=!1){const i=new Nc;i.updateFromServerResponse(t);const o=new Ua({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await _0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];tt(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?kw(i.providerUserInfo):[],c=!(i.email&&i.passwordHash)&&!o?.length,h=new Nc;h.updateFromIdToken(r);const m=new Ua({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:c}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new c1(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(m,d),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new Map;function Ki(n){ts(n instanceof Function,"Expected a class definition");let e=e2.get(n);return e?(ts(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,e2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Mw.type="NONE";const t2=Mw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r0(n,e,t){return`firebase:${n}:${e}:${t}`}class Rc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=r0(this.userKey,i.apiKey,o),this.fullPersistenceKey=r0("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await v0(this.auth,{idToken:e}).catch(()=>{});return t?Ua._fromGetAccountInfoResponse(this.auth,t,e):null}return Ua._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Rc(Ki(t2),e,r);const i=(await Promise.all(t.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let o=i[0]||Ki(t2);const c=r0(r,e.config.apiKey,e.name);let h=null;for(const d of t)try{const v=await d._get(c);if(v){let x;if(typeof v=="string"){const y=await v0(e,{idToken:v}).catch(()=>{});if(!y)break;x=await Ua._fromGetAccountInfoResponse(e,y,v)}else x=Ua._fromJSON(e,v);d!==o&&(h=x),o=d;break}}catch{}const m=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Rc(o,e,r):(o=m[0],h&&await o._set(c,h.toJSON()),await Promise.all(t.map(async d=>{if(d!==o)try{await d._remove(c)}catch{}})),new Rc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Lw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Pw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Uw(e))return"Blackberry";if(Bw(e))return"Webos";if(jw(e))return"Safari";if((e.includes("chrome/")||Fw(e))&&!e.includes("edge/"))return"Chrome";if(Vw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function Pw(n=fr()){return/firefox\//i.test(n)}function jw(n=fr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Fw(n=fr()){return/crios\//i.test(n)}function Lw(n=fr()){return/iemobile/i.test(n)}function Vw(n=fr()){return/android/i.test(n)}function Uw(n=fr()){return/blackberry/i.test(n)}function Bw(n=fr()){return/webos/i.test(n)}function W1(n=fr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function kI(n=fr()){return W1(n)&&!!window.navigator?.standalone}function MI(){return KN()&&document.documentMode===10}function zw(n=fr()){return W1(n)||Vw(n)||Bw(n)||Uw(n)||/windows phone/i.test(n)||Lw(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(n,e=[]){let t;switch(n){case"Browser":t=n2(fr());break;case"Worker":t=`${n2(fr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Wc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((c,h)=>{try{const m=e(o);c(m)}catch(m){h(m)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jI(n,e={}){return xo(n,"GET","/v2/passwordPolicy",_o(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=6;class LI{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??FI,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VI{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r2(this),this.idTokenSubscription=new r2(this),this.beforeStateQueue=new PI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Nw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ki(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Rc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await v0(this,{idToken:e}),r=await Ua._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ya(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=r?._redirectEventId,h=await this.tryRedirectSignIn(e);(!o||o===c)&&h?.user&&(r=h.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await _0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=vI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ya(this.app))return Promise.reject(Wi(this));const t=e?zn(e):null;return t&&tt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&tt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ya(this.app)?Promise.reject(Wi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ya(this.app)?Promise.reject(Wi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ki(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await jI(this),t=new LI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await OI(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ki(e)||this._popupRedirectResolver;tt(t,this,"argument-error"),this.redirectPersistenceManager=await Rc.create(this,[Ki(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(tt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,i);return()=>{c=!0,m()}}else{const m=e.addObserver(t);return()=>{c=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=qw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ya(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&mI(`Error while retrieving App Check token: ${e.error}`),e?.token}}function vl(n){return zn(n)}class r2{constructor(e){this.auth=e,this.observer=null,this.addObserver=eR(t=>this.observer=t)}get next(){return tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function UI(n){em=n}function Hw(n){return em.loadJS(n)}function BI(){return em.recaptchaEnterpriseScript}function zI(){return em.gapiScript}function qI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class HI{constructor(){this.enterprise=new GI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class GI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const KI="recaptcha-enterprise",Gw="NO_RECAPTCHA";class $I{constructor(e){this.type=KI,this.auth=vl(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{AI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const d=new wI(m);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,c(d.siteKey)}}).catch(m=>{h(m)})})}function i(o,c,h){const m=window.grecaptcha;JE(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(d=>{c(d)}).catch(()=>{c(Gw)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new HI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{r(this.auth).then(h=>{if(!t&&JE(window.grecaptcha))i(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let m=BI();m.length!==0&&(m+=h),Hw(m).then(()=>{i(h,o,c)}).catch(d=>{c(d)})}}).catch(h=>{c(h)})})}}async function a2(n,e,t,r=!1,i=!1){const o=new $I(n);let c;if(i)c=Gw;else try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const h={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const m=h.phoneEnrollmentInfo.phoneNumber,d=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:d,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const m=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return r?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function u1(n,e,t,r,i){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await a2(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await a2(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n,e){const t=H1(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(ll(o,e??{}))return i;qa(i,"already-initialized")}return t.initialize({options:e})}function XI(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ki);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function YI(n,e,t){const r=vl(n);tt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=Kw(e),{host:c,port:h}=QI(e),m=h===null?"":`:${h}`,d={url:`${o}//${c}${m}/`},v=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){tt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),tt(ll(d,r.config.emulator)&&ll(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,$c(c)?(xw(`${o}//${c}${m}`),yw("Auth",!0)):JI()}function Kw(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function QI(n){const e=Kw(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:i2(r.substr(o.length+1))}}else{const[o,c]=r.split(":");return{host:o,port:i2(c)}}}function i2(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function JI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,t){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}async function ZI(n,e){return xo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e3(n,e){return tf(n,"POST","/v1/accounts:signInWithPassword",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t3(n,e){return tf(n,"POST","/v1/accounts:signInWithEmailLink",_o(n,e))}async function n3(n,e){return tf(n,"POST","/v1/accounts:signInWithEmailLink",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh extends X1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new jh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,t,"signInWithPassword",e3);case"emailLink":return t3(e,{email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return u1(e,r,"signUpPassword",ZI);case"emailLink":return n3(e,{idToken:t,email:this._email,oobCode:this._password});default:qa(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ic(n,e){return tf(n,"POST","/v1/accounts:signInWithIdp",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r3="http://localhost";class ul extends X1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ul(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qa("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...o}=t;if(!r||!i)return null;const c=new ul(r,i);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return Ic(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ic(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ic(e,t)}buildRequest(){const e={requestUri:r3,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Zh(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function i3(n){const e=mh(ph(n)).link,t=e?mh(ph(e)).deep_link_id:null,r=mh(ph(n)).deep_link_id;return(r?mh(ph(r)).link:null)||r||t||e||n}class Y1{constructor(e){const t=mh(ph(e)),r=t.apiKey??null,i=t.oobCode??null,o=a3(t.mode??null);tt(r&&i&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=i,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=i3(e);try{return new Y1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.providerId=Xc.PROVIDER_ID}static credential(e,t){return jh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Y1.parseLink(t);return tt(r,"argument-error"),jh._fromEmailAndCode(e,r.code,r.tenantId)}}Xc.PROVIDER_ID="password";Xc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Xc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf extends $w{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s extends nf{constructor(){super("facebook.com")}static credential(e){return ul._fromParams({providerId:$s.PROVIDER_ID,signInMethod:$s.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $s.credentialFromTaggedObject(e)}static credentialFromError(e){return $s.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $s.credential(e.oauthAccessToken)}catch{return null}}}$s.FACEBOOK_SIGN_IN_METHOD="facebook.com";$s.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends nf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ul._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Ws.credential(t,r)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xs extends nf{constructor(){super("github.com")}static credential(e){return ul._fromParams({providerId:Xs.PROVIDER_ID,signInMethod:Xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xs.credentialFromTaggedObject(e)}static credentialFromError(e){return Xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Xs.credential(e.oauthAccessToken)}catch{return null}}}Xs.GITHUB_SIGN_IN_METHOD="github.com";Xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys extends nf{constructor(){super("twitter.com")}static credential(e,t){return ul._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ys.credentialFromTaggedObject(e)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ys.credential(t,r)}catch{return null}}}Ys.TWITTER_SIGN_IN_METHOD="twitter.com";Ys.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s3(n,e){return tf(n,"POST","/v1/accounts:signUp",_o(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await Ua._fromIdTokenResponse(e,r,i),c=s2(r);return new hl({user:o,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=s2(r);return new hl({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function s2(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0 extends cs{constructor(e,t,r,i){super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,x0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new x0(e,t,r,i)}}function Ww(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?x0._fromErrorAndOperation(n,o,e,r):o})}async function o3(n,e,t=!1){const r=await Ph(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return hl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l3(n,e,t=!1){const{auth:r}=n;if(ya(r.app))return Promise.reject(Wi(r));const i="reauthenticate";try{const o=await Ph(n,Ww(r,i,e,n),t);tt(o.idToken,r,"internal-error");const c=$1(o.idToken);tt(c,r,"internal-error");const{sub:h}=c;return tt(n.uid===h,r,"user-mismatch"),hl._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&qa(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(n,e,t=!1){if(ya(n.app))return Promise.reject(Wi(n));const r="signIn",i=await Ww(n,r,e),o=await hl._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function c3(n,e){return Xw(vl(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Yw(n){const e=vl(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function u3(n,e,t){if(ya(n.app))return Promise.reject(Wi(n));const r=vl(n),c=await u1(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",s3).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Yw(n),m}),h=await hl._fromIdTokenResponse(r,"signIn",c);return await r._updateCurrentUser(h.user),h}function h3(n,e,t){return ya(n.app)?Promise.reject(Wi(n)):c3(zn(n),Xc.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Yw(n),r})}function f3(n,e,t,r){return zn(n).onIdTokenChanged(e,t,r)}function d3(n,e,t){return zn(n).beforeAuthStateChanged(e,t)}function m3(n,e,t,r){return zn(n).onAuthStateChanged(e,t,r)}function p3(n){return zn(n).signOut()}const y0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(y0,"1"),this.storage.removeItem(y0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g3=1e3,v3=10;class Jw extends Qw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=zw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,h,m)=>{this.notifyListeners(c,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},o=this.storage.getItem(r);MI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,v3):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},g3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Jw.type="LOCAL";const _3=Jw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw extends Qw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Zw.type="SESSION";const eA=Zw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new tm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,c=this.handlersMap[i];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(c).map(async d=>d(t.origin,o)),m=await x3(h);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y3{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,c;return new Promise((h,m)=>{const d=Q1("",20);i.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);c={messageChannel:i,onMessage(x){const y=x;if(y.data.eventId===d)switch(y.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(y.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(c),i.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hi(){return window}function E3(n){hi().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(){return typeof hi().WorkerGlobalScope<"u"&&typeof hi().importScripts=="function"}async function T3(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function w3(){return navigator?.serviceWorker?.controller||null}function A3(){return tA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="firebaseLocalStorageDb",S3=1,E0="firebaseLocalStorage",rA="fbase_key";class rf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function nm(n,e){return n.transaction([E0],e?"readwrite":"readonly").objectStore(E0)}function C3(){const n=indexedDB.deleteDatabase(nA);return new rf(n).toPromise()}function h1(){const n=indexedDB.open(nA,S3);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(E0,{keyPath:rA})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(E0)?e(r):(r.close(),await C3(),e(await h1()))})})}async function o2(n,e,t){const r=nm(n,!0).put({[rA]:e,value:t});return new rf(r).toPromise()}async function b3(n,e){const t=nm(n,!1).get(e),r=await new rf(t).toPromise();return r===void 0?null:r.value}function l2(n,e){const t=nm(n,!0).delete(e);return new rf(t).toPromise()}const N3=800,R3=3;class aA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await h1(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>R3)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tm._getInstance(A3()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await T3(),!this.activeServiceWorker)return;this.sender=new y3(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||w3()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await h1();return await o2(e,y0,"1"),await l2(e,y0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>o2(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>b3(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>l2(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=nm(i,!1).getAll();return new rf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),N3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aA.type="LOCAL";const I3=aA;new ef(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D3(n,e){return e?Ki(e):(tt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J1 extends X1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ic(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ic(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ic(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function O3(n){return Xw(n.auth,new J1(n),n.bypassAuthState)}function k3(n){const{auth:e,user:t}=n;return tt(t,e,"internal-error"),l3(t,new J1(n),n.bypassAuthState)}async function M3(n){const{auth:e,user:t}=n;return tt(t,e,"internal-error"),o3(t,new J1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:c,type:h}=e;if(c){this.reject(c);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(m))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return O3;case"linkViaPopup":case"linkViaRedirect":return M3;case"reauthViaPopup":case"reauthViaRedirect":return k3;default:qa(this.auth,"internal-error")}}resolve(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ts(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P3=new ef(2e3,1e4);class Sc extends iA{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Sc.currentPopupAction&&Sc.currentPopupAction.cancel(),Sc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return tt(e,this.auth,"internal-error"),e}async onExecution(){ts(this.filter.length===1,"Popup operations only handle one event");const e=Q1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(ui(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ui(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Sc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ui(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P3.get())};e()}}Sc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3="pendingRedirect",a0=new Map;class F3 extends iA{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=a0.get(this.auth._key());if(!e){try{const r=await L3(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}a0.set(this.auth._key(),e)}return this.bypassAuthState||a0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function L3(n,e){const t=B3(e),r=U3(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function V3(n,e){a0.set(n._key(),e)}function U3(n){return Ki(n._redirectPersistence)}function B3(n){return r0(j3,n.config.apiKey,n.name)}async function z3(n,e,t=!1){if(ya(n.app))return Promise.reject(Wi(n));const r=vl(n),i=D3(r,e),c=await new F3(r,i,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q3=600*1e3;class H3{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!G3(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!sA(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(ui(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=q3&&this.cachedEventUids.clear(),this.cachedEventUids.has(c2(e))}saveEventToCache(e){this.cachedEventUids.add(c2(e)),this.lastProcessedEventTime=Date.now()}}function c2(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function sA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function G3(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sA(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K3(n,e={}){return xo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $3=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,W3=/^https?/;async function X3(n){if(n.config.emulator)return;const{authorizedDomains:e}=await K3(n);for(const t of e)try{if(Y3(t))return}catch{}qa(n,"unauthorized-domain")}function Y3(n){const e=l1(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!W3.test(t))return!1;if($3.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q3=new ef(3e4,6e4);function u2(){const n=hi().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function J3(n){return new Promise((e,t)=>{function r(){u2(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{u2(),t(ui(n,"network-request-failed"))},timeout:Q3.get()})}if(hi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(hi().gapi?.load)r();else{const i=qI("iframefcb");return hi()[i]=()=>{gapi.load?r():t(ui(n,"network-request-failed"))},Hw(`${zI()}?onload=${i}`).catch(o=>t(o))}}).catch(e=>{throw i0=null,e})}let i0=null;function Z3(n){return i0=i0||J3(n),i0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eD=new ef(5e3,15e3),tD="__/auth/iframe",nD="emulator/auth/iframe",rD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function iD(n){const e=n.config;tt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?K1(e,nD):`https://${n.config.authDomain}/${tD}`,r={apiKey:e.apiKey,appName:n.name,v:Wc},i=aD.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${Zh(r).slice(1)}`}async function sD(n){const e=await Z3(n),t=hi().gapi;return tt(t,n,"internal-error"),e.open({where:document.body,url:iD(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:rD,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const c=ui(n,"network-request-failed"),h=hi().setTimeout(()=>{o(c)},eD.get());function m(){hi().clearTimeout(h),i(r)}r.ping(m).then(m,()=>{o(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lD=500,cD=600,uD="_blank",hD="http://localhost";class h2{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fD(n,e,t,r=lD,i=cD){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const m={...oD,width:r.toString(),height:i.toString(),top:o,left:c},d=fr().toLowerCase();t&&(h=Fw(d)?uD:t),Pw(d)&&(e=e||hD,m.scrollbars="yes");const v=Object.entries(m).reduce((y,[T,N])=>`${y}${T}=${N},`,"");if(kI(d)&&h!=="_self")return dD(e||"",h),new h2(null);const x=window.open(e||"",h,v);tt(x,n,"popup-blocked");try{x.focus()}catch{}return new h2(x)}function dD(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mD="__/auth/handler",pD="emulator/auth/handler",gD=encodeURIComponent("fac");async function f2(n,e,t,r,i,o){tt(n.config.authDomain,n,"auth-domain-config-required"),tt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Wc,eventId:i};if(e instanceof $w){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",ZN(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,x]of Object.entries({}))c[v]=x}if(e instanceof nf){const v=e.getScopes().filter(x=>x!=="");v.length>0&&(c.scopes=v.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const v of Object.keys(h))h[v]===void 0&&delete h[v];const m=await n._getAppCheckToken(),d=m?`#${gD}=${encodeURIComponent(m)}`:"";return`${vD(n)}?${Zh(h).slice(1)}${d}`}function vD({config:n}){return n.emulator?K1(n,pD):`https://${n.authDomain}/${mD}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="webStorageSupport";class _D{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=eA,this._completeRedirectFn=z3,this._overrideRedirectResult=V3}async _openPopup(e,t,r,i){ts(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await f2(e,t,r,l1(),i);return fD(e,o,Q1())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await f2(e,t,r,l1(),i);return E3(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(ts(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await sD(e),r=new H3(e);return t.register("authEvent",i=>(tt(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Vg,{type:Vg},i=>{const o=i?.[0]?.[Vg];o!==void 0&&t(!!o),qa(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=X3(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return zw()||jw()||W1()}}const xD=_D;var d2="@firebase/auth",m2="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ED(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function TD(n){Vc(new cl("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=r.options;tt(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:qw(n)},d=new VI(r,i,o,m);return XI(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Vc(new cl("auth-internal",e=>{const t=vl(e.getProvider("auth").getImmediate());return(r=>new yD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ro(d2,m2,ED(n)),ro(d2,m2,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD=300,AD=_w("authIdTokenMaxAge")||wD;let p2=null;const SD=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>AD)return;const i=t?.token;p2!==i&&(p2=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function CD(n=Aw()){const e=H1(n,"auth");if(e.isInitialized())return e.getImmediate();const t=WI(n,{popupRedirectResolver:xD,persistence:[I3,_3,eA]}),r=_w("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const c=SD(o.toString());d3(t,c,()=>c(t.currentUser)),f3(t,h=>c(h))}}const i=gw("auth");return i&&YI(t,`http://${i}`),t}function bD(){return document.getElementsByTagName("head")?.[0]??document}UI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=ui("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",bD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});TD("Browser");var g2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ao,oA;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(R,I){function C(){}C.prototype=I.prototype,R.F=I.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(M,j,O){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return I.prototype[j].apply(M,F)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(R,I,C){C||(C=0);const M=Array(16);if(typeof I=="string")for(var j=0;j<16;++j)M[j]=I.charCodeAt(C++)|I.charCodeAt(C++)<<8|I.charCodeAt(C++)<<16|I.charCodeAt(C++)<<24;else for(j=0;j<16;++j)M[j]=I[C++]|I[C++]<<8|I[C++]<<16|I[C++]<<24;I=R.g[0],C=R.g[1],j=R.g[2];let O=R.g[3],F;F=I+(O^C&(j^O))+M[0]+3614090360&4294967295,I=C+(F<<7&4294967295|F>>>25),F=O+(j^I&(C^j))+M[1]+3905402710&4294967295,O=I+(F<<12&4294967295|F>>>20),F=j+(C^O&(I^C))+M[2]+606105819&4294967295,j=O+(F<<17&4294967295|F>>>15),F=C+(I^j&(O^I))+M[3]+3250441966&4294967295,C=j+(F<<22&4294967295|F>>>10),F=I+(O^C&(j^O))+M[4]+4118548399&4294967295,I=C+(F<<7&4294967295|F>>>25),F=O+(j^I&(C^j))+M[5]+1200080426&4294967295,O=I+(F<<12&4294967295|F>>>20),F=j+(C^O&(I^C))+M[6]+2821735955&4294967295,j=O+(F<<17&4294967295|F>>>15),F=C+(I^j&(O^I))+M[7]+4249261313&4294967295,C=j+(F<<22&4294967295|F>>>10),F=I+(O^C&(j^O))+M[8]+1770035416&4294967295,I=C+(F<<7&4294967295|F>>>25),F=O+(j^I&(C^j))+M[9]+2336552879&4294967295,O=I+(F<<12&4294967295|F>>>20),F=j+(C^O&(I^C))+M[10]+4294925233&4294967295,j=O+(F<<17&4294967295|F>>>15),F=C+(I^j&(O^I))+M[11]+2304563134&4294967295,C=j+(F<<22&4294967295|F>>>10),F=I+(O^C&(j^O))+M[12]+1804603682&4294967295,I=C+(F<<7&4294967295|F>>>25),F=O+(j^I&(C^j))+M[13]+4254626195&4294967295,O=I+(F<<12&4294967295|F>>>20),F=j+(C^O&(I^C))+M[14]+2792965006&4294967295,j=O+(F<<17&4294967295|F>>>15),F=C+(I^j&(O^I))+M[15]+1236535329&4294967295,C=j+(F<<22&4294967295|F>>>10),F=I+(j^O&(C^j))+M[1]+4129170786&4294967295,I=C+(F<<5&4294967295|F>>>27),F=O+(C^j&(I^C))+M[6]+3225465664&4294967295,O=I+(F<<9&4294967295|F>>>23),F=j+(I^C&(O^I))+M[11]+643717713&4294967295,j=O+(F<<14&4294967295|F>>>18),F=C+(O^I&(j^O))+M[0]+3921069994&4294967295,C=j+(F<<20&4294967295|F>>>12),F=I+(j^O&(C^j))+M[5]+3593408605&4294967295,I=C+(F<<5&4294967295|F>>>27),F=O+(C^j&(I^C))+M[10]+38016083&4294967295,O=I+(F<<9&4294967295|F>>>23),F=j+(I^C&(O^I))+M[15]+3634488961&4294967295,j=O+(F<<14&4294967295|F>>>18),F=C+(O^I&(j^O))+M[4]+3889429448&4294967295,C=j+(F<<20&4294967295|F>>>12),F=I+(j^O&(C^j))+M[9]+568446438&4294967295,I=C+(F<<5&4294967295|F>>>27),F=O+(C^j&(I^C))+M[14]+3275163606&4294967295,O=I+(F<<9&4294967295|F>>>23),F=j+(I^C&(O^I))+M[3]+4107603335&4294967295,j=O+(F<<14&4294967295|F>>>18),F=C+(O^I&(j^O))+M[8]+1163531501&4294967295,C=j+(F<<20&4294967295|F>>>12),F=I+(j^O&(C^j))+M[13]+2850285829&4294967295,I=C+(F<<5&4294967295|F>>>27),F=O+(C^j&(I^C))+M[2]+4243563512&4294967295,O=I+(F<<9&4294967295|F>>>23),F=j+(I^C&(O^I))+M[7]+1735328473&4294967295,j=O+(F<<14&4294967295|F>>>18),F=C+(O^I&(j^O))+M[12]+2368359562&4294967295,C=j+(F<<20&4294967295|F>>>12),F=I+(C^j^O)+M[5]+4294588738&4294967295,I=C+(F<<4&4294967295|F>>>28),F=O+(I^C^j)+M[8]+2272392833&4294967295,O=I+(F<<11&4294967295|F>>>21),F=j+(O^I^C)+M[11]+1839030562&4294967295,j=O+(F<<16&4294967295|F>>>16),F=C+(j^O^I)+M[14]+4259657740&4294967295,C=j+(F<<23&4294967295|F>>>9),F=I+(C^j^O)+M[1]+2763975236&4294967295,I=C+(F<<4&4294967295|F>>>28),F=O+(I^C^j)+M[4]+1272893353&4294967295,O=I+(F<<11&4294967295|F>>>21),F=j+(O^I^C)+M[7]+4139469664&4294967295,j=O+(F<<16&4294967295|F>>>16),F=C+(j^O^I)+M[10]+3200236656&4294967295,C=j+(F<<23&4294967295|F>>>9),F=I+(C^j^O)+M[13]+681279174&4294967295,I=C+(F<<4&4294967295|F>>>28),F=O+(I^C^j)+M[0]+3936430074&4294967295,O=I+(F<<11&4294967295|F>>>21),F=j+(O^I^C)+M[3]+3572445317&4294967295,j=O+(F<<16&4294967295|F>>>16),F=C+(j^O^I)+M[6]+76029189&4294967295,C=j+(F<<23&4294967295|F>>>9),F=I+(C^j^O)+M[9]+3654602809&4294967295,I=C+(F<<4&4294967295|F>>>28),F=O+(I^C^j)+M[12]+3873151461&4294967295,O=I+(F<<11&4294967295|F>>>21),F=j+(O^I^C)+M[15]+530742520&4294967295,j=O+(F<<16&4294967295|F>>>16),F=C+(j^O^I)+M[2]+3299628645&4294967295,C=j+(F<<23&4294967295|F>>>9),F=I+(j^(C|~O))+M[0]+4096336452&4294967295,I=C+(F<<6&4294967295|F>>>26),F=O+(C^(I|~j))+M[7]+1126891415&4294967295,O=I+(F<<10&4294967295|F>>>22),F=j+(I^(O|~C))+M[14]+2878612391&4294967295,j=O+(F<<15&4294967295|F>>>17),F=C+(O^(j|~I))+M[5]+4237533241&4294967295,C=j+(F<<21&4294967295|F>>>11),F=I+(j^(C|~O))+M[12]+1700485571&4294967295,I=C+(F<<6&4294967295|F>>>26),F=O+(C^(I|~j))+M[3]+2399980690&4294967295,O=I+(F<<10&4294967295|F>>>22),F=j+(I^(O|~C))+M[10]+4293915773&4294967295,j=O+(F<<15&4294967295|F>>>17),F=C+(O^(j|~I))+M[1]+2240044497&4294967295,C=j+(F<<21&4294967295|F>>>11),F=I+(j^(C|~O))+M[8]+1873313359&4294967295,I=C+(F<<6&4294967295|F>>>26),F=O+(C^(I|~j))+M[15]+4264355552&4294967295,O=I+(F<<10&4294967295|F>>>22),F=j+(I^(O|~C))+M[6]+2734768916&4294967295,j=O+(F<<15&4294967295|F>>>17),F=C+(O^(j|~I))+M[13]+1309151649&4294967295,C=j+(F<<21&4294967295|F>>>11),F=I+(j^(C|~O))+M[4]+4149444226&4294967295,I=C+(F<<6&4294967295|F>>>26),F=O+(C^(I|~j))+M[11]+3174756917&4294967295,O=I+(F<<10&4294967295|F>>>22),F=j+(I^(O|~C))+M[2]+718787259&4294967295,j=O+(F<<15&4294967295|F>>>17),F=C+(O^(j|~I))+M[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(j+(F<<21&4294967295|F>>>11))&4294967295,R.g[2]=R.g[2]+j&4294967295,R.g[3]=R.g[3]+O&4294967295}r.prototype.v=function(R,I){I===void 0&&(I=R.length);const C=I-this.blockSize,M=this.C;let j=this.h,O=0;for(;O<I;){if(j==0)for(;O<=C;)i(this,R,O),O+=this.blockSize;if(typeof R=="string"){for(;O<I;)if(M[j++]=R.charCodeAt(O++),j==this.blockSize){i(this,M),j=0;break}}else for(;O<I;)if(M[j++]=R[O++],j==this.blockSize){i(this,M),j=0;break}}this.h=j,this.o+=I},r.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,C=0;C<4;++C)for(let M=0;M<32;M+=8)R[I++]=this.g[C]>>>M&255;return R};function o(R,I){var C=h;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=I(R)}function c(R,I){this.h=I;const C=[];let M=!0;for(let j=R.length-1;j>=0;j--){const O=R[j]|0;M&&O==I||(C[j]=O,M=!1)}this.g=C}var h={};function m(R){return-128<=R&&R<128?o(R,function(I){return new c([I|0],I<0?-1:0)}):new c([R|0],R<0?-1:0)}function d(R){if(isNaN(R)||!isFinite(R))return x;if(R<0)return b(d(-R));const I=[];let C=1;for(let M=0;R>=C;M++)I[M]=R/C|0,C*=4294967296;return new c(I,0)}function v(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return b(v(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=d(Math.pow(I,8));let M=x;for(let O=0;O<R.length;O+=8){var j=Math.min(8,R.length-O);const F=parseInt(R.substring(O,O+j),I);j<8?(j=d(Math.pow(I,j)),M=M.j(j).add(d(F))):(M=M.j(C),M=M.add(d(F)))}return M}var x=m(0),y=m(1),T=m(16777216);n=c.prototype,n.m=function(){if(A(this))return-b(this).m();let R=0,I=1;for(let C=0;C<this.g.length;C++){const M=this.i(C);R+=(M>=0?M:4294967296+M)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N(this))return"0";if(A(this))return"-"+b(this).toString(R);const I=d(Math.pow(R,6));var C=this;let M="";for(;;){const j=ee(C,I).g;C=P(C,j.j(I));let O=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=j,N(C))return O+M;for(;O.length<6;)O="0"+O;M=O+M}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function N(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function A(R){return R.h==-1}n.l=function(R){return R=P(this,R),A(R)?-1:N(R)?0:1};function b(R){const I=R.g.length,C=[];for(let M=0;M<I;M++)C[M]=~R.g[M];return new c(C,~R.h).add(y)}n.abs=function(){return A(this)?b(this):this},n.add=function(R){const I=Math.max(this.g.length,R.g.length),C=[];let M=0;for(let j=0;j<=I;j++){let O=M+(this.i(j)&65535)+(R.i(j)&65535),F=(O>>>16)+(this.i(j)>>>16)+(R.i(j)>>>16);M=F>>>16,O&=65535,F&=65535,C[j]=F<<16|O}return new c(C,C[C.length-1]&-2147483648?-1:0)};function P(R,I){return R.add(b(I))}n.j=function(R){if(N(this)||N(R))return x;if(A(this))return A(R)?b(this).j(b(R)):b(b(this).j(R));if(A(R))return b(this.j(b(R)));if(this.l(T)<0&&R.l(T)<0)return d(this.m()*R.m());const I=this.g.length+R.g.length,C=[];for(var M=0;M<2*I;M++)C[M]=0;for(M=0;M<this.g.length;M++)for(let j=0;j<R.g.length;j++){const O=this.i(M)>>>16,F=this.i(M)&65535,ae=R.i(j)>>>16,Ce=R.i(j)&65535;C[2*M+2*j]+=F*Ce,z(C,2*M+2*j),C[2*M+2*j+1]+=O*Ce,z(C,2*M+2*j+1),C[2*M+2*j+1]+=F*ae,z(C,2*M+2*j+1),C[2*M+2*j+2]+=O*ae,z(C,2*M+2*j+2)}for(R=0;R<I;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=I;R<2*I;R++)C[R]=0;return new c(C,0)};function z(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function q(R,I){this.g=R,this.h=I}function ee(R,I){if(N(I))throw Error("division by zero");if(N(R))return new q(x,x);if(A(R))return I=ee(b(R),I),new q(b(I.g),b(I.h));if(A(I))return I=ee(R,b(I)),new q(b(I.g),I.h);if(R.g.length>30){if(A(R)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var C=y,M=I;M.l(R)<=0;)C=de(C),M=de(M);var j=_e(C,1),O=_e(M,1);for(M=_e(M,2),C=_e(C,2);!N(M);){var F=O.add(M);F.l(R)<=0&&(j=j.add(C),O=F),M=_e(M,1),C=_e(C,1)}return I=P(R,j.j(I)),new q(j,I)}for(j=x;R.l(I)>=0;){for(C=Math.max(1,Math.floor(R.m()/I.m())),M=Math.ceil(Math.log(C)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),O=d(C),F=O.j(I);A(F)||F.l(R)>0;)C-=M,O=d(C),F=O.j(I);N(O)&&(O=y),j=j.add(O),R=P(R,F)}return new q(j,R)}n.B=function(R){return ee(this,R).h},n.and=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)&R.i(M);return new c(C,this.h&R.h)},n.or=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)|R.i(M);return new c(C,this.h|R.h)},n.xor=function(R){const I=Math.max(this.g.length,R.g.length),C=[];for(let M=0;M<I;M++)C[M]=this.i(M)^R.i(M);return new c(C,this.h^R.h)};function de(R){const I=R.g.length+1,C=[];for(let M=0;M<I;M++)C[M]=R.i(M)<<1|R.i(M-1)>>>31;return new c(C,R.h)}function _e(R,I){const C=I>>5;I%=32;const M=R.g.length-C,j=[];for(let O=0;O<M;O++)j[O]=I>0?R.i(O+C)>>>I|R.i(O+C+1)<<32-I:R.i(O+C);return new c(j,R.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,oA=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=d,c.fromString=v,ao=c}).apply(typeof g2<"u"?g2:typeof self<"u"?self:typeof window<"u"?window:{});var Ld=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var lA,gh,cA,s0,f1,uA,hA,fA;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ld=="object"&&Ld];for(var E=0;E<p.length;++E){var S=p[E];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function i(p,E){if(E)e:{var S=r;p=p.split(".");for(var U=0;U<p.length-1;U++){var se=p[U];if(!(se in S))break e;S=S[se]}p=p[p.length-1],U=S[p],E=E(U),E!=U&&E!=null&&e(S,p,{configurable:!0,writable:!0,value:E})}}i("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(p){return p||function(E){var S=[],U;for(U in E)Object.prototype.hasOwnProperty.call(E,U)&&S.push([U,E[U]]);return S}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},c=this||self;function h(p){var E=typeof p;return E=="object"&&p!=null||E=="function"}function m(p,E,S){return p.call.apply(p.bind,arguments)}function d(p,E,S){return d=m,d.apply(null,arguments)}function v(p,E){var S=Array.prototype.slice.call(arguments,1);return function(){var U=S.slice();return U.push.apply(U,arguments),p.apply(this,U)}}function x(p,E){function S(){}S.prototype=E.prototype,p.Z=E.prototype,p.prototype=new S,p.prototype.constructor=p,p.Ob=function(U,se,ve){for(var Fe=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Fe[lt-2]=arguments[lt];return E.prototype[se].apply(U,Fe)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function T(p){const E=p.length;if(E>0){const S=Array(E);for(let U=0;U<E;U++)S[U]=p[U];return S}return[]}function N(p,E){for(let U=1;U<arguments.length;U++){const se=arguments[U];var S=typeof se;if(S=S!="object"?S:se?Array.isArray(se)?"array":S:"null",S=="array"||S=="object"&&typeof se.length=="number"){S=p.length||0;const ve=se.length||0;p.length=S+ve;for(let Fe=0;Fe<ve;Fe++)p[S+Fe]=se[Fe]}else p.push(se)}}class A{constructor(E,S){this.i=E,this.j=S,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function b(p){c.setTimeout(()=>{throw p},0)}function P(){var p=R;let E=null;return p.g&&(E=p.g,p.g=p.g.next,p.g||(p.h=null),E.next=null),E}class z{constructor(){this.h=this.g=null}add(E,S){const U=q.get();U.set(E,S),this.h?this.h.next=U:this.g=U,this.h=U}}var q=new A(()=>new ee,p=>p.reset());class ee{constructor(){this.next=this.g=this.h=null}set(E,S){this.h=E,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let de,_e=!1,R=new z,I=()=>{const p=Promise.resolve(void 0);de=()=>{p.then(C)}};function C(){for(var p;p=P();){try{p.h.call(p.g)}catch(S){b(S)}var E=q;E.j(p),E.h<100&&(E.h++,p.next=E.g,E.g=p)}_e=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function j(p,E){this.type=p,this.g=this.target=E,this.defaultPrevented=!1}j.prototype.h=function(){this.defaultPrevented=!0};var O=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var p=!1,E=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const S=()=>{};c.addEventListener("test",S,E),c.removeEventListener("test",S,E)}catch{}return p})();function F(p){return/^[\s\xa0]*$/.test(p)}function ae(p,E){j.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,E)}x(ae,j),ae.prototype.init=function(p,E){const S=this.type=p.type,U=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=E,E=p.relatedTarget,E||(S=="mouseover"?E=p.fromElement:S=="mouseout"&&(E=p.toElement)),this.relatedTarget=E,U?(this.clientX=U.clientX!==void 0?U.clientX:U.pageX,this.clientY=U.clientY!==void 0?U.clientY:U.pageY,this.screenX=U.screenX||0,this.screenY=U.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),te=0;function ye(p,E,S,U,se){this.listener=p,this.proxy=null,this.src=E,this.type=S,this.capture=!!U,this.ha=se,this.key=++te,this.da=this.fa=!1}function oe(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Ve(p,E,S){for(const U in p)E.call(S,p[U],U,p)}function et(p,E){for(const S in p)E.call(void 0,p[S],S,p)}function Z(p){const E={};for(const S in p)E[S]=p[S];return E}const L="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(p,E){let S,U;for(let se=1;se<arguments.length;se++){U=arguments[se];for(S in U)p[S]=U[S];for(let ve=0;ve<L.length;ve++)S=L[ve],Object.prototype.hasOwnProperty.call(U,S)&&(p[S]=U[S])}}function X(p){this.src=p,this.g={},this.h=0}X.prototype.add=function(p,E,S,U,se){const ve=p.toString();p=this.g[ve],p||(p=this.g[ve]=[],this.h++);const Fe=ge(p,E,U,se);return Fe>-1?(E=p[Fe],S||(E.fa=!1)):(E=new ye(E,this.src,ve,!!U,se),E.fa=S,p.push(E)),E};function Q(p,E){const S=E.type;if(S in p.g){var U=p.g[S],se=Array.prototype.indexOf.call(U,E,void 0),ve;(ve=se>=0)&&Array.prototype.splice.call(U,se,1),ve&&(oe(E),p.g[S].length==0&&(delete p.g[S],p.h--))}}function ge(p,E,S,U){for(let se=0;se<p.length;++se){const ve=p[se];if(!ve.da&&ve.listener==E&&ve.capture==!!S&&ve.ha==U)return se}return-1}var Oe="closure_lm_"+(Math.random()*1e6|0),Be={};function Me(p,E,S,U,se){if(Array.isArray(E)){for(let ve=0;ve<E.length;ve++)Me(p,E[ve],S,U,se);return null}return S=Pn(S),p&&p[Ce]?p.J(E,S,h(U)?!!U.capture:!1,se):re(p,E,S,!1,U,se)}function re(p,E,S,U,se,ve){if(!E)throw Error("Invalid event type");const Fe=h(se)?!!se.capture:!!se;let lt=Nt(p);if(lt||(p[Oe]=lt=new X(p)),S=lt.add(E,S,U,Fe,ve),S.proxy)return S;if(U=$e(),S.proxy=U,U.src=p,U.listener=S,p.addEventListener)O||(se=Fe),se===void 0&&(se=!1),p.addEventListener(E.toString(),U,se);else if(p.attachEvent)p.attachEvent(ut(E.toString()),U);else if(p.addListener&&p.removeListener)p.addListener(U);else throw Error("addEventListener and attachEvent are unavailable.");return S}function $e(){function p(S){return E.call(p.src,p.listener,S)}const E=dr;return p}function Je(p,E,S,U,se){if(Array.isArray(E))for(var ve=0;ve<E.length;ve++)Je(p,E[ve],S,U,se);else U=h(U)?!!U.capture:!!U,S=Pn(S),p&&p[Ce]?(p=p.i,ve=String(E).toString(),ve in p.g&&(E=p.g[ve],S=ge(E,S,U,se),S>-1&&(oe(E[S]),Array.prototype.splice.call(E,S,1),E.length==0&&(delete p.g[ve],p.h--)))):p&&(p=Nt(p))&&(E=p.g[E.toString()],p=-1,E&&(p=ge(E,S,U,se)),(S=p>-1?E[p]:null)&&en(S))}function en(p){if(typeof p!="number"&&p&&!p.da){var E=p.src;if(E&&E[Ce])Q(E.i,p);else{var S=p.type,U=p.proxy;E.removeEventListener?E.removeEventListener(S,U,p.capture):E.detachEvent?E.detachEvent(ut(S),U):E.addListener&&E.removeListener&&E.removeListener(U),(S=Nt(E))?(Q(S,p),S.h==0&&(S.src=null,E[Oe]=null)):oe(p)}}}function ut(p){return p in Be?Be[p]:Be[p]="on"+p}function dr(p,E){if(p.da)p=!0;else{E=new ae(E,this);const S=p.listener,U=p.ha||p.src;p.fa&&en(p),p=S.call(U,E)}return p}function Nt(p){return p=p[Oe],p instanceof X?p:null}var qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pn(p){return typeof p=="function"?p:(p[qe]||(p[qe]=function(E){return p.handleEvent(E)}),p[qe])}function Rt(){M.call(this),this.i=new X(this),this.M=this,this.G=null}x(Rt,M),Rt.prototype[Ce]=!0,Rt.prototype.removeEventListener=function(p,E,S,U){Je(this,p,E,S,U)};function Gt(p,E){var S,U=p.G;if(U)for(S=[];U;U=U.G)S.push(U);if(p=p.M,U=E.type||E,typeof E=="string")E=new j(E,p);else if(E instanceof j)E.target=E.target||p;else{var se=E;E=new j(U,p),J(E,se)}se=!0;let ve,Fe;if(S)for(Fe=S.length-1;Fe>=0;Fe--)ve=E.g=S[Fe],se=mr(ve,U,!0,E)&&se;if(ve=E.g=p,se=mr(ve,U,!0,E)&&se,se=mr(ve,U,!1,E)&&se,S)for(Fe=0;Fe<S.length;Fe++)ve=E.g=S[Fe],se=mr(ve,U,!1,E)&&se}Rt.prototype.N=function(){if(Rt.Z.N.call(this),this.i){var p=this.i;for(const E in p.g){const S=p.g[E];for(let U=0;U<S.length;U++)oe(S[U]);delete p.g[E],p.h--}}this.G=null},Rt.prototype.J=function(p,E,S,U){return this.i.add(String(p),E,!1,S,U)},Rt.prototype.K=function(p,E,S,U){return this.i.add(String(p),E,!0,S,U)};function mr(p,E,S,U){if(E=p.i.g[String(E)],!E)return!0;E=E.concat();let se=!0;for(let ve=0;ve<E.length;++ve){const Fe=E[ve];if(Fe&&!Fe.da&&Fe.capture==S){const lt=Fe.listener,fn=Fe.ha||Fe.src;Fe.fa&&Q(p.i,Fe),se=lt.call(fn,U)!==!1&&se}}return se&&!U.defaultPrevented}function bl(p,E){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=d(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(p,E||0)}function fs(p){p.g=bl(()=>{p.g=null,p.i&&(p.i=!1,fs(p))},p.l);const E=p.h;p.h=null,p.m.apply(null,E)}class Xt extends M{constructor(E,S){super(),this.m=E,this.l=S,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:fs(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function aa(p){M.call(this),this.h=p,this.g={}}x(aa,M);var xi=[];function yi(p){Ve(p.g,function(E,S){this.g.hasOwnProperty(S)&&en(E)},p),p.g={}}aa.prototype.N=function(){aa.Z.N.call(this),yi(this)},aa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rr=c.JSON.stringify,hu=c.JSON.parse,So=class{stringify(p){return c.JSON.stringify(p,void 0)}parse(p){return c.JSON.parse(p,void 0)}};function Co(){}function bo(){}var Cr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function vn(){j.call(this,"d")}x(vn,j);function pr(){j.call(this,"c")}x(pr,j);var an={},Nl=null;function Ei(){return Nl=Nl||new Rt}an.Ia="serverreachability";function No(p){j.call(this,an.Ia,p)}x(No,j);function Ur(p){const E=Ei();Gt(E,new No(E))}an.STAT_EVENT="statevent";function Ti(p,E){j.call(this,an.STAT_EVENT,p),this.stat=E}x(Ti,j);function on(p){const E=Ei();Gt(E,new Ti(E,p))}an.Ja="timingevent";function gr(p,E){j.call(this,an.Ja,p),this.size=E}x(gr,j);function ia(p,E){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){p()},E)}function Br(){this.g=!0}Br.prototype.ua=function(){this.g=!1};function fu(p,E,S,U,se,ve){p.info(function(){if(p.g)if(ve){var Fe="",lt=ve.split("&");for(let St=0;St<lt.length;St++){var fn=lt[St].split("=");if(fn.length>1){const tn=fn[0];fn=fn[1];const ca=tn.split("_");Fe=ca.length>=2&&ca[1]=="type"?Fe+(tn+"="+fn+"&"):Fe+(tn+"=redacted&")}}}else Fe=null;else Fe=ve;return"XMLHTTP REQ ("+U+") [attempt "+se+"]: "+E+`
`+S+`
`+Fe})}function Rl(p,E,S,U,se,ve,Fe){p.info(function(){return"XMLHTTP RESP ("+U+") [ attempt "+se+"]: "+E+`
`+S+`
`+ve+" "+Fe})}function sa(p,E,S,U){p.info(function(){return"XMLHTTP TEXT ("+E+"): "+du(p,S)+(U?" "+U:"")})}function wi(p,E){p.info(function(){return"TIMEOUT: "+E})}Br.prototype.info=function(){};function du(p,E){if(!p.g)return E;if(!E)return null;try{const ve=JSON.parse(E);if(ve){for(p=0;p<ve.length;p++)if(Array.isArray(ve[p])){var S=ve[p];if(!(S.length<2)){var U=S[1];if(Array.isArray(U)&&!(U.length<1)){var se=U[0];if(se!="noop"&&se!="stop"&&se!="close")for(let Fe=1;Fe<U.length;Fe++)U[Fe]=""}}}}return rr(ve)}catch{return E}}var Ai={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Si={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Ci(){}x(Ci,Co),Ci.prototype.g=function(){return new XMLHttpRequest},Ro=new Ci;function Ca(p){return encodeURIComponent(String(p))}function D(p){var E=1;p=p.split(":");const S=[];for(;E>0&&p.length;)S.push(p.shift()),E--;return p.length&&S.push(p.join(":")),S}function G(p,E,S,U){this.j=p,this.i=E,this.l=S,this.S=U||1,this.V=new aa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new V}function V(){this.i=null,this.g="",this.h=!1}var B={},H={};function K(p,E,S){p.M=1,p.A=Io(_n(E)),p.u=S,p.R=!0,ce(p,null)}function ce(p,E){p.F=Date.now(),fe(p),p.B=_n(p.A);var S=p.B,U=p.S;Array.isArray(U)||(U=[String(U)]),Dl(S.i,"t",U),p.C=0,S=p.j.L,p.h=new V,p.g=If(p.j,S?E:null,!p.u),p.P>0&&(p.O=new Xt(d(p.Y,p,p.g),p.P)),E=p.V,S=p.g,U=p.ba;var se="readystatechange";Array.isArray(se)||(se&&(xi[0]=se.toString()),se=xi);for(let ve=0;ve<se.length;ve++){const Fe=Me(S,se[ve],U||E.handleEvent,!1,E.h||E);if(!Fe)break;E.g[Fe.key]=Fe}E=p.J?Z(p.J):{},p.u?(p.v||(p.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,E)):(p.v="GET",p.g.ea(p.B,p.v,null,E)),Ur(),fu(p.i,p.v,p.B,p.l,p.S,p.u)}G.prototype.ba=function(p){p=p.target;const E=this.O;E&&Da(p)==3?E.j():this.Y(p)},G.prototype.Y=function(p){try{if(p==this.g)e:{const lt=Da(this.g),fn=this.g.ya(),St=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||qn(this.g)))){this.K||lt!=4||fn==7||(fn==8||St<=0?Ur(3):Ur(2)),ke(this);var E=this.g.ca();this.X=E;var S=Te(this);if(this.o=E==200,Rl(this.i,this.v,this.B,this.l,this.S,lt,E),this.o){if(this.U&&!this.L){t:{if(this.g){var U,se=this.g;if((U=se.g?se.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(U)){var ve=U;break t}}ve=null}if(p=ve)sa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Le(this,p);else{this.o=!1,this.m=3,on(12),Ie(this),Ue(this);break e}}if(this.R){p=!0;let tn;for(;!this.K&&this.C<S.length;)if(tn=me(this,S),tn==H){lt==4&&(this.m=4,on(14),p=!1),sa(this.i,this.l,null,"[Incomplete Response]");break}else if(tn==B){this.m=4,on(15),sa(this.i,this.l,S,"[Invalid Chunk]"),p=!1;break}else sa(this.i,this.l,tn,null),Le(this,tn);if(ue(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||S.length!=0||this.h.h||(this.m=1,on(16),p=!1),this.o=this.o&&p,!p)sa(this.i,this.l,S,"[Invalid Chunked Response]"),Ie(this),Ue(this);else if(S.length>0&&!this.W){this.W=!0;var Fe=this.j;Fe.g==this&&Fe.aa&&!Fe.P&&(Fe.j.info("Great, no buffering proxy detected. Bytes received: "+S.length),wu(Fe),Fe.P=!0,on(11))}}else sa(this.i,this.l,S,null),Le(this,S);lt==4&&Ie(this),this.o&&!this.K&&(lt==4?Cf(this.j,this):(this.o=!1,fe(this)))}else Ni(this.g),E==400&&S.indexOf("Unknown SID")>0?(this.m=3,on(12)):(this.m=0,on(13)),Ie(this),Ue(this)}}}catch{}finally{}};function Te(p){if(!ue(p))return p.g.la();const E=qn(p.g);if(E==="")return"";let S="";const U=E.length,se=Da(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return Ie(p),Ue(p),"";p.h.i=new c.TextDecoder}for(let ve=0;ve<U;ve++)p.h.h=!0,S+=p.h.i.decode(E[ve],{stream:!(se&&ve==U-1)});return E.length=0,p.h.g+=S,p.C=0,p.h.g}function ue(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function me(p,E){var S=p.C,U=E.indexOf(`
`,S);return U==-1?H:(S=Number(E.substring(S,U)),isNaN(S)?B:(U+=1,U+S>E.length?H:(E=E.slice(U,U+S),p.C=U+S,E)))}G.prototype.cancel=function(){this.K=!0,Ie(this)};function fe(p){p.T=Date.now()+p.H,De(p,p.H)}function De(p,E){if(p.D!=null)throw Error("WatchDog timer not null");p.D=ia(d(p.aa,p),E)}function ke(p){p.D&&(c.clearTimeout(p.D),p.D=null)}G.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(wi(this.i,this.B),this.M!=2&&(Ur(),on(17)),Ie(this),this.m=2,Ue(this)):De(this,this.T-p)};function Ue(p){p.j.I==0||p.K||Cf(p.j,p)}function Ie(p){ke(p);var E=p.O;E&&typeof E.dispose=="function"&&E.dispose(),p.O=null,yi(p.V),p.g&&(E=p.g,p.g=null,E.abort(),E.dispose())}function Le(p,E){try{var S=p.j;if(S.I!=0&&(S.g==p||ar(S.h,p))){if(!p.L&&ar(S.h,p)&&S.I==3){try{var U=S.Ba.g.parse(E)}catch{U=null}if(Array.isArray(U)&&U.length==3){var se=U;if(se[0]==0){e:if(!S.v){if(S.g)if(S.g.F+3e3<p.F)jl(S),Es(S);else break e;Fo(S),on(18)}}else S.xa=se[1],0<S.xa-S.K&&se[2]<37500&&S.F&&S.A==0&&!S.C&&(S.C=ia(d(S.Va,S),6e3));Kt(S.h)<=1&&S.ta&&(S.ta=void 0)}else ti(S,11)}else if((p.L||S.g==p)&&jl(S),!F(E))for(se=S.Ba.g.parse(E),E=0;E<se.length;E++){let St=se[E];const tn=St[0];if(!(tn<=S.K))if(S.K=tn,St=St[1],S.I==2)if(St[0]=="c"){S.M=St[1],S.ba=St[2];const ca=St[3];ca!=null&&(S.ka=ca,S.j.info("VER="+S.ka));const ni=St[4];ni!=null&&(S.za=ni,S.j.info("SVER="+S.za));const Oa=St[5];Oa!=null&&typeof Oa=="number"&&Oa>0&&(U=1.5*Oa,S.O=U,S.j.info("backChannelRequestTimeoutMs_="+U)),U=S;const ka=p.g;if(ka){const Lo=ka.g?ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lo){var ve=U.h;ve.g||Lo.indexOf("spdy")==-1&&Lo.indexOf("quic")==-1&&Lo.indexOf("h2")==-1||(ve.j=ve.l,ve.g=new Set,ve.h&&(ba(ve,ve.h),ve.h=null))}if(U.G){const Fl=ka.g?ka.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(U.wa=Fl,kt(U.J,U.G,Fl))}}S.I=3,S.l&&S.l.ra(),S.aa&&(S.T=Date.now()-p.F,S.j.info("Handshake RTT: "+S.T+"ms")),U=S;var Fe=p;if(U.na=Rf(U,U.L?U.ba:null,U.W),Fe.L){Na(U.h,Fe);var lt=Fe,fn=U.O;fn&&(lt.H=fn),lt.D&&(ke(lt),fe(lt)),U.g=Fe}else Af(U);S.i.length>0&&ei(S)}else St[0]!="stop"&&St[0]!="close"||ti(S,7);else S.I==3&&(St[0]=="stop"||St[0]=="close"?St[0]=="stop"?ti(S,7):Eu(S):St[0]!="noop"&&S.l&&S.l.qa(St),S.A=0)}}Ur(4)}catch{}}var Ke=class{constructor(p,E){this.g=p,this.map=E}};function Dt(p){this.l=p||10,c.PerformanceNavigationTiming?(p=c.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ot(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Kt(p){return p.h?1:p.g?p.g.size:0}function ar(p,E){return p.h?p.h==E:p.g?p.g.has(E):!1}function ba(p,E){p.g?p.g.add(E):p.h=E}function Na(p,E){p.h&&p.h==E?p.h=null:p.g&&p.g.has(E)&&p.g.delete(E)}Dt.prototype.cancel=function(){if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function zr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let E=p.i;for(const S of p.g.values())E=E.concat(S.G);return E}return T(p.i)}var ds=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ir(p,E){if(p){p=p.split("&");for(let S=0;S<p.length;S++){const U=p[S].indexOf("=");let se,ve=null;U>=0?(se=p[S].substring(0,U),ve=p[S].substring(U+1)):se=p[S],E(se,ve?decodeURIComponent(ve.replace(/\+/g," ")):"")}}}function qr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;p instanceof qr?(this.l=p.l,jn(this,p.j),this.o=p.o,this.g=p.g,ms(this,p.u),this.h=p.h,mu(this,Tf(p.i)),this.m=p.m):p&&(E=String(p).match(ds))?(this.l=!1,jn(this,E[1]||"",!0),this.o=Ya(E[2]||""),this.g=Ya(E[3]||"",!0),ms(this,E[4]),this.h=Ya(E[5]||"",!0),mu(this,E[6]||"",!0),this.m=Ya(E[7]||"")):(this.l=!1,this.i=new gs(null,this.l))}qr.prototype.toString=function(){const p=[];var E=this.j;E&&p.push(Do(E,Il,!0),":");var S=this.g;return(S||E=="file")&&(p.push("//"),(E=this.o)&&p.push(Do(E,Il,!0),"@"),p.push(Ca(S).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.u,S!=null&&p.push(":",String(S))),(S=this.h)&&(this.g&&S.charAt(0)!="/"&&p.push("/"),p.push(Do(S,S.charAt(0)=="/"?pu:xf,!0))),(S=this.i.toString())&&p.push("?",S),(S=this.m)&&p.push("#",Do(S,yf)),p.join("")},qr.prototype.resolve=function(p){const E=_n(this);let S=!!p.j;S?jn(E,p.j):S=!!p.o,S?E.o=p.o:S=!!p.g,S?E.g=p.g:S=p.u!=null;var U=p.h;if(S)ms(E,p.u);else if(S=!!p.h){if(U.charAt(0)!="/")if(this.g&&!this.h)U="/"+U;else{var se=E.h.lastIndexOf("/");se!=-1&&(U=E.h.slice(0,se+1)+U)}if(se=U,se==".."||se==".")U="";else if(se.indexOf("./")!=-1||se.indexOf("/.")!=-1){U=se.lastIndexOf("/",0)==0,se=se.split("/");const ve=[];for(let Fe=0;Fe<se.length;){const lt=se[Fe++];lt=="."?U&&Fe==se.length&&ve.push(""):lt==".."?((ve.length>1||ve.length==1&&ve[0]!="")&&ve.pop(),U&&Fe==se.length&&ve.push("")):(ve.push(lt),U=!0)}U=ve.join("/")}else U=se}return S?E.h=U:S=p.i.toString()!=="",S?mu(E,Tf(p.i)):S=!!p.m,S&&(E.m=p.m),E};function _n(p){return new qr(p)}function jn(p,E,S){p.j=S?Ya(E,!0):E,p.j&&(p.j=p.j.replace(/:$/,""))}function ms(p,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);p.u=E}else p.u=null}function mu(p,E,S){E instanceof gs?(p.i=E,Ol(p.i,p.l)):(S||(E=Do(E,ps)),p.i=new gs(E,p.l))}function kt(p,E,S){p.i.set(E,S)}function Io(p){return kt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function Ya(p,E){return p?E?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Do(p,E,S){return typeof p=="string"?(p=encodeURI(p).replace(E,br),S&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function br(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Il=/[#\/\?@]/g,xf=/[#\?:]/g,pu=/[#\?]/g,ps=/[#\?@]/g,yf=/#/g;function gs(p,E){this.h=this.g=null,this.i=p||null,this.j=!!E}function Nr(p){p.g||(p.g=new Map,p.h=0,p.i&&ir(p.i,function(E,S){p.add(decodeURIComponent(E.replace(/\+/g," ")),S)}))}n=gs.prototype,n.add=function(p,E){Nr(this),this.i=null,p=vs(this,p);let S=this.g.get(p);return S||this.g.set(p,S=[]),S.push(E),this.h+=1,this};function Ef(p,E){Nr(p),E=vs(p,E),p.g.has(E)&&(p.i=null,p.h-=p.g.get(E).length,p.g.delete(E))}function gu(p,E){return Nr(p),E=vs(p,E),p.g.has(E)}n.forEach=function(p,E){Nr(this),this.g.forEach(function(S,U){S.forEach(function(se){p.call(E,se,U,this)},this)},this)};function vu(p,E){Nr(p);let S=[];if(typeof E=="string")gu(p,E)&&(S=S.concat(p.g.get(vs(p,E))));else for(p=Array.from(p.g.values()),E=0;E<p.length;E++)S=S.concat(p[E]);return S}n.set=function(p,E){return Nr(this),this.i=null,p=vs(this,p),gu(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[E]),this.h+=1,this},n.get=function(p,E){return p?(p=vu(this,p),p.length>0?String(p[0]):E):E};function Dl(p,E,S){Ef(p,E),S.length>0&&(p.i=null,p.g.set(vs(p,E),T(S)),p.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],E=Array.from(this.g.keys());for(let U=0;U<E.length;U++){var S=E[U];const se=Ca(S);S=vu(this,S);for(let ve=0;ve<S.length;ve++){let Fe=se;S[ve]!==""&&(Fe+="="+Ca(S[ve])),p.push(Fe)}}return this.i=p.join("&")};function Tf(p){const E=new gs;return E.i=p.i,p.g&&(E.g=new Map(p.g),E.h=p.h),E}function vs(p,E){return E=String(E),p.j&&(E=E.toLowerCase()),E}function Ol(p,E){E&&!p.j&&(Nr(p),p.i=null,p.g.forEach(function(S,U){const se=U.toLowerCase();U!=se&&(Ef(this,U),Dl(this,se,S))},p)),p.j=E}function Ra(p,E){const S=new Br;if(c.Image){const U=new Image;U.onload=v(oa,S,"TestLoadImage: loaded",!0,E,U),U.onerror=v(oa,S,"TestLoadImage: error",!1,E,U),U.onabort=v(oa,S,"TestLoadImage: abort",!1,E,U),U.ontimeout=v(oa,S,"TestLoadImage: timeout",!1,E,U),c.setTimeout(function(){U.ontimeout&&U.ontimeout()},1e4),U.src=p}else E(!1)}function _u(p,E){const S=new Br,U=new AbortController,se=setTimeout(()=>{U.abort(),oa(S,"TestPingServer: timeout",!1,E)},1e4);fetch(p,{signal:U.signal}).then(ve=>{clearTimeout(se),ve.ok?oa(S,"TestPingServer: ok",!0,E):oa(S,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(se),oa(S,"TestPingServer: error",!1,E)})}function oa(p,E,S,U,se){try{se&&(se.onload=null,se.onerror=null,se.onabort=null,se.ontimeout=null),U(S)}catch{}}function _s(){this.g=new So}function Qa(p){this.i=p.Sb||null,this.h=p.ab||!1}x(Qa,Co),Qa.prototype.g=function(){return new Oo(this.i,this.h)};function Oo(p,E){Rt.call(this),this.H=p,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Oo,Rt),n=Oo.prototype,n.open=function(p,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=E,this.readyState=1,Ia(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(E.body=p),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,xs(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ia(this)),this.g&&(this.readyState=3,Ia(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;kl(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function kl(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var E=p.value?p.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!p.done}))&&(this.response=this.responseText+=E)}p.done?xs(this):Ia(this),this.readyState==3&&kl(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,xs(this))},n.Na=function(p){this.g&&(this.response=p,xs(this))},n.ga=function(){this.g&&xs(this)};function xs(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ia(p)}n.setRequestHeader=function(p,E){this.A.append(p,E)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],E=this.h.entries();for(var S=E.next();!S.done;)S=S.value,p.push(S[0]+": "+S[1]),S=E.next();return p.join(`\r
`)};function Ia(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Oo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function la(p){let E="";return Ve(p,function(S,U){E+=U,E+=":",E+=S,E+=`\r
`}),E}function ko(p,E,S){e:{for(U in S){var U=!1;break e}U=!0}U||(S=la(S),typeof p=="string"?S!=null&&Ca(S):kt(p,E,S))}function Ut(p){Rt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(Ut,Rt);var Ja=/^https?$/i,xu=["POST","PUT"];n=Ut.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,E,S,U){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);E=E?E.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=y(d(this.Ca,this));try{this.B=!0,this.g.open(E,String(p),!0),this.B=!1}catch(ve){Mo(this,ve);return}if(p=S||"",S=new Map(this.headers),U)if(Object.getPrototypeOf(U)===Object.prototype)for(var se in U)S.set(se,U[se]);else if(typeof U.keys=="function"&&typeof U.get=="function")for(const ve of U.keys())S.set(ve,U.get(ve));else throw Error("Unknown input type for opt_headers: "+String(U));U=Array.from(S.keys()).find(ve=>ve.toLowerCase()=="content-type"),se=c.FormData&&p instanceof c.FormData,!(Array.prototype.indexOf.call(xu,E,void 0)>=0)||U||se||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ve,Fe]of S)this.g.setRequestHeader(ve,Fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(ve){Mo(this,ve)}};function Mo(p,E){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=E,p.o=5,yu(p),bi(p)}function yu(p){p.A||(p.A=!0,Gt(p,"complete"),Gt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Gt(this,"complete"),Gt(this,"abort"),bi(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bi(this,!0)),Ut.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Po(this):this.Xa())},n.Xa=function(){Po(this)};function Po(p){if(p.h&&typeof o<"u"){if(p.v&&Da(p)==4)setTimeout(p.Ca.bind(p),0);else if(Gt(p,"readystatechange"),Da(p)==4){p.h=!1;try{const ve=p.ca();e:switch(ve){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var S;if(!(S=E)){var U;if(U=ve===0){let Fe=String(p.D).match(ds)[1]||null;!Fe&&c.self&&c.self.location&&(Fe=c.self.location.protocol.slice(0,-1)),U=!Ja.test(Fe?Fe.toLowerCase():"")}S=U}if(S)Gt(p,"complete"),Gt(p,"success");else{p.o=6;try{var se=Da(p)>2?p.g.statusText:""}catch{se=""}p.l=se+" ["+p.ca()+"]",yu(p)}}finally{bi(p)}}}}function bi(p,E){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const S=p.g;p.g=null,E||Gt(p,"ready");try{S.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Da(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Da(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var E=this.g.responseText;return p&&E.indexOf(p)==0&&(E=E.substring(p.length)),hu(E)}};function qn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ni(p){const E={};p=(p.g&&Da(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let U=0;U<p.length;U++){if(F(p[U]))continue;var S=D(p[U]);const se=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const ve=E[se]||[];E[se]=ve,ve.push(S)}et(E,function(U){return U.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Za(p,E,S){return S&&S.internalChannelParams&&S.internalChannelParams[p]||E}function ys(p){this.za=0,this.i=[],this.j=new Br,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Za("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Za("baseRetryDelayMs",5e3,p),this.Za=Za("retryDelaySeedMs",1e4,p),this.Ta=Za("forwardChannelMaxRetries",2,p),this.va=Za("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new Dt(p&&p.concurrentRequestLimit),this.Ba=new _s,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ys.prototype,n.ka=8,n.I=1,n.connect=function(p,E,S,U){on(0),this.W=p,this.H=E||{},S&&U!==void 0&&(this.H.OSID=S,this.H.OAID=U),this.F=this.X,this.J=Rf(this,null,this.W),ei(this)};function Eu(p){if(Ml(p),p.I==3){var E=p.V++,S=_n(p.J);if(kt(S,"SID",p.M),kt(S,"RID",E),kt(S,"TYPE","terminate"),jo(p,S),E=new G(p,p.j,E),E.M=2,E.A=Io(_n(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!S&&c.Image&&(new Image().src=E.A,S=!0),S||(E.g=If(E.j,null),E.g.ea(E.A)),E.F=Date.now(),fe(E)}Nf(p)}function Es(p){p.g&&(wu(p),p.g.cancel(),p.g=null)}function Ml(p){Es(p),p.v&&(c.clearTimeout(p.v),p.v=null),jl(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&c.clearTimeout(p.m),p.m=null)}function ei(p){if(!Ot(p.h)&&!p.m){p.m=!0;var E=p.Ea;de||I(),_e||(de(),_e=!0),R.add(E,p),p.D=0}}function Pl(p,E){return Kt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=E.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=ia(d(p.Ea,p,E),bf(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const se=new G(this,this.j,p);let ve=this.o;if(this.U&&(ve?(ve=Z(ve),J(ve,this.U)):ve=this.U),this.u!==null||this.R||(se.J=ve,ve=null),this.S)e:{for(var E=0,S=0;S<this.i.length;S++){t:{var U=this.i[S];if("__data__"in U.map&&(U=U.map.__data__,typeof U=="string")){U=U.length;break t}U=void 0}if(U===void 0)break;if(E+=U,E>4096){E=S;break e}if(E===4096||S===this.i.length-1){E=S+1;break e}}E=1e3}else E=1e3;E=wf(this,se,E),S=_n(this.J),kt(S,"RID",p),kt(S,"CVER",22),this.G&&kt(S,"X-HTTP-Session-Id",this.G),jo(this,S),ve&&(this.R?E="headers="+Ca(la(ve))+"&"+E:this.u&&ko(S,this.u,ve)),ba(this.h,se),this.Ra&&kt(S,"TYPE","init"),this.S?(kt(S,"$req",E),kt(S,"SID","null"),se.U=!0,K(se,S,null)):K(se,S,E),this.I=2}}else this.I==3&&(p?Tu(this,p):this.i.length==0||Ot(this.h)||Tu(this))};function Tu(p,E){var S;E?S=E.l:S=p.V++;const U=_n(p.J);kt(U,"SID",p.M),kt(U,"RID",S),kt(U,"AID",p.K),jo(p,U),p.u&&p.o&&ko(U,p.u,p.o),S=new G(p,p.j,S,p.D+1),p.u===null&&(S.J=p.o),E&&(p.i=E.G.concat(p.i)),E=wf(p,S,1e3),S.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),ba(p.h,S),K(S,U,E)}function jo(p,E){p.H&&Ve(p.H,function(S,U){kt(E,U,S)}),p.l&&Ve({},function(S,U){kt(E,U,S)})}function wf(p,E,S){S=Math.min(p.i.length,S);const U=p.l?d(p.l.Ka,p.l,p):null;e:{var se=p.i;let lt=-1;for(;;){const fn=["count="+S];lt==-1?S>0?(lt=se[0].g,fn.push("ofs="+lt)):lt=0:fn.push("ofs="+lt);let St=!0;for(let tn=0;tn<S;tn++){var ve=se[tn].g;const ca=se[tn].map;if(ve-=lt,ve<0)lt=Math.max(0,se[tn].g-100),St=!1;else try{ve="req"+ve+"_"||"";try{var Fe=ca instanceof Map?ca:Object.entries(ca);for(const[ni,Oa]of Fe){let ka=Oa;h(Oa)&&(ka=rr(Oa)),fn.push(ve+ni+"="+encodeURIComponent(ka))}}catch(ni){throw fn.push(ve+"type="+encodeURIComponent("_badmap")),ni}}catch{U&&U(ca)}}if(St){Fe=fn.join("&");break e}}Fe=void 0}return p=p.i.splice(0,S),E.G=p,Fe}function Af(p){if(!p.g&&!p.v){p.Y=1;var E=p.Da;de||I(),_e||(de(),_e=!0),R.add(E,p),p.A=0}}function Fo(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=ia(d(p.Da,p),bf(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Sf(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=ia(d(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,on(10),Es(this),Sf(this))};function wu(p){p.B!=null&&(c.clearTimeout(p.B),p.B=null)}function Sf(p){p.g=new G(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var E=_n(p.na);kt(E,"RID","rpc"),kt(E,"SID",p.M),kt(E,"AID",p.K),kt(E,"CI",p.F?"0":"1"),!p.F&&p.ia&&kt(E,"TO",p.ia),kt(E,"TYPE","xmlhttp"),jo(p,E),p.u&&p.o&&ko(E,p.u,p.o),p.O&&(p.g.H=p.O);var S=p.g;p=p.ba,S.M=1,S.A=Io(_n(E)),S.u=null,S.R=!0,ce(S,p)}n.Va=function(){this.C!=null&&(this.C=null,Es(this),Fo(this),on(19))};function jl(p){p.C!=null&&(c.clearTimeout(p.C),p.C=null)}function Cf(p,E){var S=null;if(p.g==E){jl(p),wu(p),p.g=null;var U=2}else if(ar(p.h,E))S=E.G,Na(p.h,E),U=1;else return;if(p.I!=0){if(E.o)if(U==1){S=E.u?E.u.length:0,E=Date.now()-E.F;var se=p.D;U=Ei(),Gt(U,new gr(U,S)),ei(p)}else Af(p);else if(se=E.m,se==3||se==0&&E.X>0||!(U==1&&Pl(p,E)||U==2&&Fo(p)))switch(S&&S.length>0&&(E=p.h,E.i=E.i.concat(S)),se){case 1:ti(p,5);break;case 4:ti(p,10);break;case 3:ti(p,6);break;default:ti(p,2)}}}function bf(p,E){let S=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(S*=2),S*E}function ti(p,E){if(p.j.info("Error code "+E),E==2){var S=d(p.bb,p),U=p.Ua;const se=!U;U=new qr(U||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||jn(U,"https"),Io(U),se?Ra(U.toString(),S):_u(U.toString(),S)}else on(2);p.I=0,p.l&&p.l.pa(E),Nf(p),Ml(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),on(2)):(this.j.info("Failed to ping google.com"),on(1))};function Nf(p){if(p.I=0,p.ja=[],p.l){const E=zr(p.h);(E.length!=0||p.i.length!=0)&&(N(p.ja,E),N(p.ja,p.i),p.h.i.length=0,T(p.i),p.i.length=0),p.l.oa()}}function Rf(p,E,S){var U=S instanceof qr?_n(S):new qr(S);if(U.g!="")E&&(U.g=E+"."+U.g),ms(U,U.u);else{var se=c.location;U=se.protocol,E=E?E+"."+se.hostname:se.hostname,se=+se.port;const ve=new qr(null);U&&jn(ve,U),E&&(ve.g=E),se&&ms(ve,se),S&&(ve.h=S),U=ve}return S=p.G,E=p.wa,S&&E&&kt(U,S,E),kt(U,"VER",p.ka),jo(p,U),U}function If(p,E,S){if(E&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=p.Aa&&!p.ma?new Ut(new Qa({ab:S})):new Ut(p.ma),E.Fa(p.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Df(){}n=Df.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Ts(){}Ts.prototype.g=function(p,E){return new vr(p,E)};function vr(p,E){Rt.call(this),this.g=new ys(E),this.l=p,this.h=E&&E.messageUrlParams||null,p=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(p?p["X-WebChannel-Content-Type"]=E.messageContentType:p={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(p?p["X-WebChannel-Client-Profile"]=E.sa:p={"X-WebChannel-Client-Profile":E.sa}),this.g.U=p,(p=E&&E.Qb)&&!F(p)&&(this.g.u=p),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!F(E)&&(this.g.G=E,p=this.h,p!==null&&E in p&&(p=this.h,E in p&&delete p[E])),this.j=new Ri(this)}x(vr,Rt),vr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},vr.prototype.close=function(){Eu(this.g)},vr.prototype.o=function(p){var E=this.g;if(typeof p=="string"){var S={};S.__data__=p,p=S}else this.v&&(S={},S.__data__=rr(p),p=S);E.i.push(new Ke(E.Ya++,p)),E.I==3&&ei(E)},vr.prototype.N=function(){this.g.l=null,delete this.j,Eu(this.g),delete this.g,vr.Z.N.call(this)};function Of(p){vn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var E=p.__sm__;if(E){e:{for(const S in E){p=S;break e}p=void 0}(this.i=p)&&(p=this.i,E=E!==null&&p in E?E[p]:void 0),this.data=E}else this.data=p}x(Of,vn);function kf(){pr.call(this),this.status=1}x(kf,pr);function Ri(p){this.g=p}x(Ri,Df),Ri.prototype.ra=function(){Gt(this.g,"a")},Ri.prototype.qa=function(p){Gt(this.g,new Of(p))},Ri.prototype.pa=function(p){Gt(this.g,new kf)},Ri.prototype.oa=function(){Gt(this.g,"b")},Ts.prototype.createWebChannel=Ts.prototype.g,vr.prototype.send=vr.prototype.o,vr.prototype.open=vr.prototype.m,vr.prototype.close=vr.prototype.close,fA=function(){return new Ts},hA=function(){return Ei()},uA=an,f1={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ai.NO_ERROR=0,Ai.TIMEOUT=8,Ai.HTTP_ERROR=6,s0=Ai,Si.COMPLETE="complete",cA=Si,bo.EventType=Cr,Cr.OPEN="a",Cr.CLOSE="b",Cr.ERROR="c",Cr.MESSAGE="d",Rt.prototype.listen=Rt.prototype.J,gh=bo,Ut.prototype.listenOnce=Ut.prototype.K,Ut.prototype.getLastError=Ut.prototype.Ha,Ut.prototype.getLastErrorCode=Ut.prototype.ya,Ut.prototype.getStatus=Ut.prototype.ca,Ut.prototype.getResponseJson=Ut.prototype.La,Ut.prototype.getResponseText=Ut.prototype.la,Ut.prototype.send=Ut.prototype.ea,Ut.prototype.setWithCredentials=Ut.prototype.Fa,lA=Ut}).apply(typeof Ld<"u"?Ld:typeof self<"u"?self:typeof window<"u"?window:{});const v2="@firebase/firestore",_2="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};lr.UNAUTHENTICATED=new lr(null),lr.GOOGLE_CREDENTIALS=new lr("google-credentials-uid"),lr.FIRST_PARTY=new lr("first-party-uid"),lr.MOCK_USER=new lr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yc="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fl=new z1("@firebase/firestore");function yc(){return fl.logLevel}function He(n,...e){if(fl.logLevel<=vt.DEBUG){const t=e.map(Z1);fl.debug(`Firestore (${Yc}): ${n}`,...t)}}function ns(n,...e){if(fl.logLevel<=vt.ERROR){const t=e.map(Z1);fl.error(`Firestore (${Yc}): ${n}`,...t)}}function Uc(n,...e){if(fl.logLevel<=vt.WARN){const t=e.map(Z1);fl.warn(`Firestore (${Yc}): ${n}`,...t)}}function Z1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,dA(n,r,t)}function dA(n,e,t){let r=`FIRESTORE (${Yc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ns(r),new Error(r)}function It(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||dA(e,i,r)}function ot(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Se={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ze extends cs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ND{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(lr.UNAUTHENTICATED)))}shutdown(){}}class RD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class ID{constructor(e){this.t=e,this.currentUser=lr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){It(this.o===void 0,42304);let r=this.i;const i=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let o=new Xi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xi,e.enqueueRetryable((()=>i(this.currentUser)))};const c=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await i(this.currentUser)}))},h=m=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((m=>h(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?h(m):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xi)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(It(typeof r.accessToken=="string",31837,{l:r}),new mA(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return It(e===null||typeof e=="string",2055,{h:e}),new lr(e)}}class DD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=lr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class OD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new DD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(lr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class x2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class kD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ya(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){It(this.o===void 0,3512);const r=o=>{o.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,He("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const i=o=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>i(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new x2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(It(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new x2(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ev{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=MD(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function _t(n,e){return n<e?-1:n>e?1:0}function d1(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const i=n.charAt(r),o=e.charAt(r);if(i!==o)return Ug(i)===Ug(o)?_t(i,o):Ug(i)?1:-1}return _t(n.length,e.length)}const PD=55296,jD=57343;function Ug(n){const e=n.charCodeAt(0);return e>=PD&&e<=jD}function Bc(n,e,t){return n.length===e.length&&n.every(((r,i)=>t(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2="__name__";class ci{constructor(e,t,r){t===void 0?t=0:t>e.length&&nt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&nt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return ci.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof ci?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=ci.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return _t(e.length,t.length)}static compareSegments(e,t){const r=ci.isNumericId(e),i=ci.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?ci.extractNumericId(e).compare(ci.extractNumericId(t)):d1(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ao.fromString(e.substring(4,e.length-2))}}class Yt extends ci{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ze(Se.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((i=>i.length>0)))}return new Yt(t)}static emptyPath(){return new Yt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qn extends ci{construct(e,t,r){return new Qn(e,t,r)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y2}static keyField(){return new Qn([y2])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new ze(Se.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[i+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new ze(Se.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,i+=2}else h==="`"?(c=!c,i++):h!=="."||c?(r+=h,i++):(o(),i++)}if(o(),c)throw new ze(Se.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qn(t)}static emptyPath(){return new Qn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.path=e}static fromPath(e){return new Qe(Yt.fromString(e))}static fromName(e){return new Qe(Yt.fromString(e).popFirst(5))}static empty(){return new Qe(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Qe(new Yt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(n,e,t){if(!t)throw new ze(Se.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LD(n,e,t,r){if(e===!0&&r===!0)throw new ze(Se.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function E2(n){if(!Qe.isDocumentKey(n))throw new ze(Se.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function T2(n){if(Qe.isDocumentKey(n))throw new ze(Se.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function gA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":nt(12329,{type:typeof n})}function Ha(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ze(Se.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rm(n);throw new ze(Se.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(n,e){const t={typeString:n};return e&&(t.value=e),t}function af(n,e){if(!gA(n))throw new ze(Se.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const i=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const c=n[r];if(i&&typeof c!==i){t=`JSON field '${r}' must be a ${i}.`;break}if(o!==void 0&&c!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new ze(Se.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w2=-62135596800,A2=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*A2);return new Xe(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ze(Se.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<w2)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ze(Se.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/A2}_compareTo(e){return this.seconds===e.seconds?_t(this.nanoseconds,e.nanoseconds):_t(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(af(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:bn("string",Xe._jsonSchemaVersion),seconds:bn("number"),nanoseconds:bn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{static fromTimestamp(e){return new it(e)}static min(){return new it(new Xe(0,0))}static max(){return new it(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fh=-1;function VD(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=it.fromTimestamp(r===1e9?new Xe(t+1,0):new Xe(t,r));return new oo(i,Qe.empty(),e)}function UD(n){return new oo(n.readTime,n.key,Fh)}class oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new oo(it.min(),Qe.empty(),Fh)}static max(){return new oo(it.max(),Qe.empty(),Fh)}}function BD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Qe.comparator(n.documentKey,e.documentKey),t!==0?t:_t(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n){if(n.code!==Se.FAILED_PRECONDITION||n.message!==zD)throw n;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ne(((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ne?t:Ne.resolve(t)}catch(t){return Ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ne.reject(t)}static resolve(e){return new Ne(((t,r)=>{t(e)}))}static reject(e){return new Ne(((t,r)=>{r(e)}))}static waitFor(e){return new Ne(((t,r)=>{let i=0,o=0,c=!1;e.forEach((h=>{++i,h.next((()=>{++o,c&&o===i&&t()}),(m=>r(m)))})),c=!0,o===i&&t()}))}static or(e){let t=Ne.resolve(!1);for(const r of e)t=t.next((i=>i?Ne.resolve(i):r()));return t}static forEach(e,t){const r=[];return e.forEach(((i,o)=>{r.push(t.call(this,i,o))})),this.waitFor(r)}static mapArray(e,t){return new Ne(((r,i)=>{const o=e.length,c=new Array(o);let h=0;for(let m=0;m<o;m++){const d=m;t(e[d]).next((v=>{c[d]=v,++h,h===o&&r(c)}),(v=>i(v)))}}))}static doWhile(e,t){return new Ne(((r,i)=>{const o=()=>{e()===!0?t().next((()=>{o()}),i):r()};o()}))}}function HD(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Jc(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class am{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}am.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv=-1;function im(n){return n==null}function T0(n){return n===0&&1/n==-1/0}function GD(n){return typeof n=="number"&&Number.isInteger(n)&&!T0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA="";function KD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=S2(e)),e=$D(n.get(t),e);return S2(e)}function $D(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case vA:t+="";break;default:t+=o}}return t}function S2(n){return n+vA+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function yo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _A(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.comparator=e,this.root=t||Yn.EMPTY}insert(e,t){return new sn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Yn.BLACK,null,null))}remove(e){return new sn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Vd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Vd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Vd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Vd(this.root,e,this.comparator,!0)}}class Vd{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yn{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??Yn.RED,this.left=i??Yn.EMPTY,this.right=o??Yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new Yn(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return Yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw nt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw nt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw nt(27949);return e+(this.isRed()?0:1)}}Yn.EMPTY=null,Yn.RED=!0,Yn.BLACK=!1;Yn.EMPTY=new class{constructor(){this.size=0}get key(){throw nt(57766)}get value(){throw nt(16141)}get color(){throw nt(16727)}get left(){throw nt(29726)}get right(){throw nt(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new Yn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn{constructor(e){this.comparator=e,this.data=new sn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new b2(this.data.getIterator())}getIteratorFrom(e){return new b2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof kn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kn(this.comparator);return t.data=e,t}}class b2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.fields=e,e.sort(Qn.comparator)}static empty(){return new ta([])}unionWith(e){let t=new kn(Qn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ta(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Bc(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new xA("Invalid base64 string: "+o):o}})(e);return new tr(t)}static fromUint8Array(e){const t=(function(i){let o="";for(let c=0;c<i.length;++c)o+=String.fromCharCode(i[c]);return o})(e);return new tr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return _t(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}tr.EMPTY_BYTE_STRING=new tr("");const WD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function lo(n){if(It(!!n,39018),typeof n=="string"){let e=0;const t=WD.exec(n);if(It(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pn(n.seconds),nanos:pn(n.nanos)}}function pn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function co(n){return typeof n=="string"?tr.fromBase64String(n):tr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="server_timestamp",EA="__type__",TA="__previous_value__",wA="__local_write_time__";function nv(n){return(n?.mapValue?.fields||{})[EA]?.stringValue===yA}function sm(n){const e=n.mapValue.fields[TA];return nv(e)?sm(e):e}function Lh(n){const e=lo(n.mapValue.fields[wA].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,t,r,i,o,c,h,m,d,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=m,this.useFetchStreams=d,this.isUsingEmulator=v}}const w0="(default)";class Vh{constructor(e,t){this.projectId=e,this.database=t||w0}static empty(){return new Vh("","")}get isDefaultDatabase(){return this.database===w0}isEqual(e){return e instanceof Vh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AA="__type__",YD="__max__",Ud={mapValue:{}},SA="__vector__",A0="value";function uo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?nv(n)?4:JD(n)?9007199254740991:QD(n)?10:11:nt(28295,{value:n})}function gi(n,e){if(n===e)return!0;const t=uo(n);if(t!==uo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Lh(n).isEqual(Lh(e));case 3:return(function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const c=lo(i.timestampValue),h=lo(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(i,o){return co(i.bytesValue).isEqual(co(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(i,o){return pn(i.geoPointValue.latitude)===pn(o.geoPointValue.latitude)&&pn(i.geoPointValue.longitude)===pn(o.geoPointValue.longitude)})(n,e);case 2:return(function(i,o){if("integerValue"in i&&"integerValue"in o)return pn(i.integerValue)===pn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const c=pn(i.doubleValue),h=pn(o.doubleValue);return c===h?T0(c)===T0(h):isNaN(c)&&isNaN(h)}return!1})(n,e);case 9:return Bc(n.arrayValue.values||[],e.arrayValue.values||[],gi);case 10:case 11:return(function(i,o){const c=i.mapValue.fields||{},h=o.mapValue.fields||{};if(C2(c)!==C2(h))return!1;for(const m in c)if(c.hasOwnProperty(m)&&(h[m]===void 0||!gi(c[m],h[m])))return!1;return!0})(n,e);default:return nt(52216,{left:n})}}function Uh(n,e){return(n.values||[]).find((t=>gi(t,e)))!==void 0}function zc(n,e){if(n===e)return 0;const t=uo(n),r=uo(e);if(t!==r)return _t(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return _t(n.booleanValue,e.booleanValue);case 2:return(function(o,c){const h=pn(o.integerValue||o.doubleValue),m=pn(c.integerValue||c.doubleValue);return h<m?-1:h>m?1:h===m?0:isNaN(h)?isNaN(m)?0:-1:1})(n,e);case 3:return N2(n.timestampValue,e.timestampValue);case 4:return N2(Lh(n),Lh(e));case 5:return d1(n.stringValue,e.stringValue);case 6:return(function(o,c){const h=co(o),m=co(c);return h.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(o,c){const h=o.split("/"),m=c.split("/");for(let d=0;d<h.length&&d<m.length;d++){const v=_t(h[d],m[d]);if(v!==0)return v}return _t(h.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,c){const h=_t(pn(o.latitude),pn(c.latitude));return h!==0?h:_t(pn(o.longitude),pn(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return R2(n.arrayValue,e.arrayValue);case 10:return(function(o,c){const h=o.fields||{},m=c.fields||{},d=h[A0]?.arrayValue,v=m[A0]?.arrayValue,x=_t(d?.values?.length||0,v?.values?.length||0);return x!==0?x:R2(d,v)})(n.mapValue,e.mapValue);case 11:return(function(o,c){if(o===Ud.mapValue&&c===Ud.mapValue)return 0;if(o===Ud.mapValue)return 1;if(c===Ud.mapValue)return-1;const h=o.fields||{},m=Object.keys(h),d=c.fields||{},v=Object.keys(d);m.sort(),v.sort();for(let x=0;x<m.length&&x<v.length;++x){const y=d1(m[x],v[x]);if(y!==0)return y;const T=zc(h[m[x]],d[v[x]]);if(T!==0)return T}return _t(m.length,v.length)})(n.mapValue,e.mapValue);default:throw nt(23264,{he:t})}}function N2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return _t(n,e);const t=lo(n),r=lo(e),i=_t(t.seconds,r.seconds);return i!==0?i:_t(t.nanos,r.nanos)}function R2(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=zc(t[i],r[i]);if(o)return o}return _t(t.length,r.length)}function qc(n){return m1(n)}function m1(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=lo(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return co(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Qe.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=m1(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const c of r)o?o=!1:i+=",",i+=`${c}:${m1(t.fields[c])}`;return i+"}"})(n.mapValue):nt(61005,{value:n})}function o0(n){switch(uo(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sm(n);return e?16+o0(e):16;case 5:return 2*n.stringValue.length;case 6:return co(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((i,o)=>i+o0(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let i=0;return yo(r.fields,((o,c)=>{i+=o.length+o0(c)})),i})(n.mapValue);default:throw nt(13486,{value:n})}}function I2(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function p1(n){return!!n&&"integerValue"in n}function rv(n){return!!n&&"arrayValue"in n}function D2(n){return!!n&&"nullValue"in n}function O2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function l0(n){return!!n&&"mapValue"in n}function QD(n){return(n?.mapValue?.fields||{})[AA]?.stringValue===SA}function Ah(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return yo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=Ah(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ah(n.arrayValue.values[t]);return e}return{...n}}function JD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===YD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!l0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ah(t)}setAll(e){let t=Qn.emptyPath(),r={},i=[];e.forEach(((c,h)=>{if(!t.isImmediateParentOf(h)){const m=this.getFieldsMap(t);this.applyChanges(m,r,i),r={},i=[],t=h.popLast()}c?r[h.lastSegment()]=Ah(c):i.push(h.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());l0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return gi(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];l0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){yo(t,((i,o)=>e[i]=o));for(const i of r)delete e[i]}clone(){return new jr(Ah(this.value))}}function CA(n){const e=[];return yo(n.fields,((t,r)=>{const i=new Qn([t]);if(l0(r)){const o=CA(r.mapValue).fields;if(o.length===0)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)})),new ta(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(e,t,r,i,o,c,h){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(e){return new cr(e,0,it.min(),it.min(),it.min(),jr.empty(),0)}static newFoundDocument(e,t,r,i){return new cr(e,1,t,it.min(),r,i,0)}static newNoDocument(e,t){return new cr(e,2,t,it.min(),it.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new cr(e,3,t,it.min(),it.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(it.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=it.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.position=e,this.inclusive=t}}function k2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(o.field.isKeyField()?r=Qe.comparator(Qe.fromName(c.referenceValue),t.key):r=zc(c,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function M2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!gi(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(e,t="asc"){this.field=e,this.dir=t}}function ZD(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{}class Sn extends bA{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new tO(e,t,r):t==="array-contains"?new aO(e,r):t==="in"?new iO(e,r):t==="not-in"?new sO(e,r):t==="array-contains-any"?new oO(e,r):new Sn(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new nO(e,r):new rO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(zc(t,this.value)):t!==null&&uo(this.value)===uo(t)&&this.matchesComparison(zc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return nt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ga extends bA{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ga(e,t)}matches(e){return NA(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function NA(n){return n.op==="and"}function RA(n){return eO(n)&&NA(n)}function eO(n){for(const e of n.filters)if(e instanceof Ga)return!1;return!0}function g1(n){if(n instanceof Sn)return n.field.canonicalString()+n.op.toString()+qc(n.value);if(RA(n))return n.filters.map((e=>g1(e))).join(",");{const e=n.filters.map((t=>g1(t))).join(",");return`${n.op}(${e})`}}function IA(n,e){return n instanceof Sn?(function(r,i){return i instanceof Sn&&r.op===i.op&&r.field.isEqual(i.field)&&gi(r.value,i.value)})(n,e):n instanceof Ga?(function(r,i){return i instanceof Ga&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((o,c,h)=>o&&IA(c,i.filters[h])),!0):!1})(n,e):void nt(19439)}function DA(n){return n instanceof Sn?(function(t){return`${t.field.canonicalString()} ${t.op} ${qc(t.value)}`})(n):n instanceof Ga?(function(t){return t.op.toString()+" {"+t.getFilters().map(DA).join(" ,")+"}"})(n):"Filter"}class tO extends Sn{constructor(e,t,r){super(e,t,r),this.key=Qe.fromName(r.referenceValue)}matches(e){const t=Qe.comparator(e.key,this.key);return this.matchesComparison(t)}}class nO extends Sn{constructor(e,t){super(e,"in",t),this.keys=OA("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class rO extends Sn{constructor(e,t){super(e,"not-in",t),this.keys=OA("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function OA(n,e){return(e.arrayValue?.values||[]).map((t=>Qe.fromName(t.referenceValue)))}class aO extends Sn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rv(t)&&Uh(t.arrayValue,this.value)}}class iO extends Sn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Uh(this.value.arrayValue,t)}}class sO extends Sn{constructor(e,t){super(e,"not-in",t)}matches(e){if(Uh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Uh(this.value.arrayValue,t)}}class oO extends Sn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>Uh(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,t=null,r=[],i=[],o=null,c=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function P2(n,e=null,t=[],r=[],i=null,o=null,c=null){return new lO(n,e,t,r,i,o,c)}function av(n){const e=ot(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>g1(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),im(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>qc(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>qc(r))).join(",")),e.Te=t}return e.Te}function iv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!ZD(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!IA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!M2(n.startAt,e.startAt)&&M2(n.endAt,e.endAt)}function v1(n){return Qe.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,t=null,r=[],i=[],o=null,c="F",h=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function cO(n,e,t,r,i,o,c,h){return new Zc(n,e,t,r,i,o,c,h)}function sv(n){return new Zc(n)}function j2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function kA(n){return n.collectionGroup!==null}function Sh(n){const e=ot(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new kn(Qn.comparator);return c.filters.forEach((m=>{m.getFlattenedFilters().forEach((d=>{d.isInequality()&&(h=h.add(d.field))}))})),h})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new Bh(o,r))})),t.has(Qn.keyField().canonicalString())||e.Ie.push(new Bh(Qn.keyField(),r))}return e.Ie}function fi(n){const e=ot(n);return e.Ee||(e.Ee=uO(e,Sh(n))),e.Ee}function uO(n,e){if(n.limitType==="F")return P2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((i=>{const o=i.dir==="desc"?"asc":"desc";return new Bh(i.field,o)}));const t=n.endAt?new S0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new S0(n.startAt.position,n.startAt.inclusive):null;return P2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function _1(n,e){const t=n.filters.concat([e]);return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function x1(n,e,t){return new Zc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function om(n,e){return iv(fi(n),fi(e))&&n.limitType===e.limitType}function MA(n){return`${av(fi(n))}|lt:${n.limitType}`}function Ec(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((i=>DA(i))).join(", ")}]`),im(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((i=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(i))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((i=>qc(i))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((i=>qc(i))).join(",")),`Target(${r})`})(fi(n))}; limitType=${n.limitType})`}function lm(n,e){return e.isFoundDocument()&&(function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Qe.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,i){for(const o of Sh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0})(n,e)&&(function(r,i){return!(r.startAt&&!(function(c,h,m){const d=k2(c,h,m);return c.inclusive?d<=0:d<0})(r.startAt,Sh(r),i)||r.endAt&&!(function(c,h,m){const d=k2(c,h,m);return c.inclusive?d>=0:d>0})(r.endAt,Sh(r),i))})(n,e)}function hO(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PA(n){return(e,t)=>{let r=!1;for(const i of Sh(n)){const o=fO(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function fO(n,e,t){const r=n.field.isKeyField()?Qe.comparator(e.key,t.key):(function(o,c,h){const m=c.data.field(o),d=h.data.field(o);return m!==null&&d!==null?zc(m,d):nt(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,((t,r)=>{for(const[i,o]of r)e(i,o)}))}isEmpty(){return _A(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=new sn(Qe.comparator);function rs(){return dO}const jA=new sn(Qe.comparator);function vh(...n){let e=jA;for(const t of n)e=e.insert(t.key,t);return e}function FA(n){let e=jA;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function al(){return Ch()}function LA(){return Ch()}function Ch(){return new _l((n=>n.toString()),((n,e)=>n.isEqual(e)))}const mO=new sn(Qe.comparator),pO=new kn(Qe.comparator);function xt(...n){let e=pO;for(const t of n)e=e.add(t);return e}const gO=new kn(_t);function vO(){return gO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:T0(e)?"-0":e}}function VA(n){return{integerValue:""+n}}function _O(n,e){return GD(e)?VA(e):ov(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(){this._=void 0}}function xO(n,e,t){return n instanceof C0?(function(i,o){const c={fields:{[EA]:{stringValue:yA},[wA]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&nv(o)&&(o=sm(o)),o&&(c.fields[TA]=o),{mapValue:c}})(t,e):n instanceof zh?BA(n,e):n instanceof qh?zA(n,e):(function(i,o){const c=UA(i,o),h=F2(c)+F2(i.Ae);return p1(c)&&p1(i.Ae)?VA(h):ov(i.serializer,h)})(n,e)}function yO(n,e,t){return n instanceof zh?BA(n,e):n instanceof qh?zA(n,e):t}function UA(n,e){return n instanceof b0?(function(r){return p1(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class C0 extends cm{}class zh extends cm{constructor(e){super(),this.elements=e}}function BA(n,e){const t=qA(e);for(const r of n.elements)t.some((i=>gi(i,r)))||t.push(r);return{arrayValue:{values:t}}}class qh extends cm{constructor(e){super(),this.elements=e}}function zA(n,e){let t=qA(e);for(const r of n.elements)t=t.filter((i=>!gi(i,r)));return{arrayValue:{values:t}}}class b0 extends cm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function F2(n){return pn(n.integerValue||n.doubleValue)}function qA(n){return rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function EO(n,e){return n.field.isEqual(e.field)&&(function(r,i){return r instanceof zh&&i instanceof zh||r instanceof qh&&i instanceof qh?Bc(r.elements,i.elements,gi):r instanceof b0&&i instanceof b0?gi(r.Ae,i.Ae):r instanceof C0&&i instanceof C0})(n.transform,e.transform)}class TO{constructor(e,t){this.version=e,this.transformResults=t}}class Aa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Aa}static exists(e){return new Aa(void 0,e)}static updateTime(e){return new Aa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function c0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class um{}function HA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new lv(n.key,Aa.none()):new sf(n.key,n.data,Aa.none());{const t=n.data,r=jr.empty();let i=new kn(Qn.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);c===null&&o.length>1&&(o=o.popLast(),c=t.field(o)),c===null?r.delete(o):r.set(o,c),i=i.add(o)}return new Eo(n.key,r,new ta(i.toArray()),Aa.none())}}function wO(n,e,t){n instanceof sf?(function(i,o,c){const h=i.value.clone(),m=V2(i.fieldTransforms,o,c.transformResults);h.setAll(m),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,e,t):n instanceof Eo?(function(i,o,c){if(!c0(i.precondition,o))return void o.convertToUnknownDocument(c.version);const h=V2(i.fieldTransforms,o,c.transformResults),m=o.data;m.setAll(GA(i)),m.setAll(h),o.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(n,e,t):(function(i,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function bh(n,e,t,r){return n instanceof sf?(function(o,c,h,m){if(!c0(o.precondition,c))return h;const d=o.value.clone(),v=U2(o.fieldTransforms,m,c);return d.setAll(v),c.convertToFoundDocument(c.version,d).setHasLocalMutations(),null})(n,e,t,r):n instanceof Eo?(function(o,c,h,m){if(!c0(o.precondition,c))return h;const d=U2(o.fieldTransforms,m,c),v=c.data;return v.setAll(GA(o)),v.setAll(d),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((x=>x.field)))})(n,e,t,r):(function(o,c,h){return c0(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,e,t)}function AO(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=UA(r.transform,i||null);o!=null&&(t===null&&(t=jr.empty()),t.set(r.field,o))}return t||null}function L2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Bc(r,i,((o,c)=>EO(o,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class sf extends um{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Eo extends um{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function GA(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function V2(n,e,t){const r=new Map;It(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,h=e.data.field(o.field);r.set(o.field,yO(c,h,t[i]))}return r}function U2(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,xO(o,c,e))}return r}class lv extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class SO extends um{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&wO(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=bh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=bh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=LA();return this.mutations.forEach((i=>{const o=e.get(i.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=t.has(i.key)?null:h;const m=HA(c,h);m!==null&&r.set(i.key,m),c.isValidDocument()||c.convertToNoDocument(it.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),xt())}isEqual(e){return this.batchId===e.batchId&&Bc(this.mutations,e.mutations,((t,r)=>L2(t,r)))&&Bc(this.baseMutations,e.baseMutations,((t,r)=>L2(t,r)))}}class cv{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){It(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=(function(){return mO})();const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new cv(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bO{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var An,Et;function RO(n){switch(n){case Se.OK:return nt(64938);case Se.CANCELLED:case Se.UNKNOWN:case Se.DEADLINE_EXCEEDED:case Se.RESOURCE_EXHAUSTED:case Se.INTERNAL:case Se.UNAVAILABLE:case Se.UNAUTHENTICATED:return!1;case Se.INVALID_ARGUMENT:case Se.NOT_FOUND:case Se.ALREADY_EXISTS:case Se.PERMISSION_DENIED:case Se.FAILED_PRECONDITION:case Se.ABORTED:case Se.OUT_OF_RANGE:case Se.UNIMPLEMENTED:case Se.DATA_LOSS:return!0;default:return nt(15467,{code:n})}}function KA(n){if(n===void 0)return ns("GRPC error has no .code"),Se.UNKNOWN;switch(n){case An.OK:return Se.OK;case An.CANCELLED:return Se.CANCELLED;case An.UNKNOWN:return Se.UNKNOWN;case An.DEADLINE_EXCEEDED:return Se.DEADLINE_EXCEEDED;case An.RESOURCE_EXHAUSTED:return Se.RESOURCE_EXHAUSTED;case An.INTERNAL:return Se.INTERNAL;case An.UNAVAILABLE:return Se.UNAVAILABLE;case An.UNAUTHENTICATED:return Se.UNAUTHENTICATED;case An.INVALID_ARGUMENT:return Se.INVALID_ARGUMENT;case An.NOT_FOUND:return Se.NOT_FOUND;case An.ALREADY_EXISTS:return Se.ALREADY_EXISTS;case An.PERMISSION_DENIED:return Se.PERMISSION_DENIED;case An.FAILED_PRECONDITION:return Se.FAILED_PRECONDITION;case An.ABORTED:return Se.ABORTED;case An.OUT_OF_RANGE:return Se.OUT_OF_RANGE;case An.UNIMPLEMENTED:return Se.UNIMPLEMENTED;case An.DATA_LOSS:return Se.DATA_LOSS;default:return nt(39323,{code:n})}}(Et=An||(An={}))[Et.OK=0]="OK",Et[Et.CANCELLED=1]="CANCELLED",Et[Et.UNKNOWN=2]="UNKNOWN",Et[Et.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Et[Et.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Et[Et.NOT_FOUND=5]="NOT_FOUND",Et[Et.ALREADY_EXISTS=6]="ALREADY_EXISTS",Et[Et.PERMISSION_DENIED=7]="PERMISSION_DENIED",Et[Et.UNAUTHENTICATED=16]="UNAUTHENTICATED",Et[Et.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Et[Et.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Et[Et.ABORTED=10]="ABORTED",Et[Et.OUT_OF_RANGE=11]="OUT_OF_RANGE",Et[Et.UNIMPLEMENTED=12]="UNIMPLEMENTED",Et[Et.INTERNAL=13]="INTERNAL",Et[Et.UNAVAILABLE=14]="UNAVAILABLE",Et[Et.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=new ao([4294967295,4294967295],0);function B2(n){const e=IO().encode(n),t=new oA;return t.update(e),new Uint8Array(t.digest())}function z2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ao([t,r],0),new ao([i,o],0)]}class uv{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new _h(`Invalid padding: ${t}`);if(r<0)throw new _h(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new _h(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new _h(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=ao.fromNumber(this.ge)}ye(e,t,r){let i=e.add(t.multiply(ao.fromNumber(r)));return i.compare(DO)===1&&(i=new ao([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=B2(e),[r,i]=z2(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);if(!this.we(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new uv(o,i,t);return r.forEach((h=>c.insert(h))),c}insert(e){if(this.ge===0)return;const t=B2(e),[r,i]=z2(t);for(let o=0;o<this.hashCount;o++){const c=this.ye(r,i,o);this.Se(c)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class _h extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,of.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new hm(it.min(),i,new sn(_t),rs(),xt())}}class of{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new of(r,t,xt(),xt(),xt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e,t,r,i){this.be=e,this.removedTargetIds=t,this.key=r,this.De=i}}class $A{constructor(e,t){this.targetId=e,this.Ce=t}}class WA{constructor(e,t,r=tr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class q2{constructor(){this.ve=0,this.Fe=H2(),this.Me=tr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xt(),t=xt(),r=xt();return this.Fe.forEach(((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:nt(38017,{changeType:o})}})),new of(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=H2()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,It(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class OO{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=Bd(),this.He=Bd(),this.Ye=new sn(_t)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:nt(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,i)=>{this.rt(i)&&t(i)}))}st(e){const t=e.targetId,r=e.Ce.count,i=this.ot(t);if(i){const o=i.target;if(v1(o))if(r===0){const c=new Qe(o.path);this.et(t,c,cr.newNoDocument(c,it.min()))}else It(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const h=this.ut(e),m=h?this.ct(h,e,c):1;if(m!==0){this.it(t);const d=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,d)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let c,h;try{c=co(r).toUint8Array()}catch(m){if(m instanceof xA)return Uc("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{h=new uv(c,i,o)}catch(m){return Uc(m instanceof _h?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return h.ge===0?null:h}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let i=0;return r.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;e.mightContain(h)||(this.et(t,o,null),i++)})),i}Tt(e){const t=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&v1(h.target)){const m=new Qe(h.target.path);this.It(m).has(c)||this.Et(c,m)||this.et(c,m,cr.newNoDocument(m,e))}o.Be&&(t.set(c,o.ke()),o.qe())}}));let r=xt();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((m=>{const d=this.ot(m);return!d||d.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(r=r.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(e)));const i=new hm(e,t,this.Ye,this.je,r);return this.je=rs(),this.Je=Bd(),this.He=Bd(),this.Ye=new sn(_t),i}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,t)?i.Qe(t,1):i.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new q2,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new kn(_t),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new kn(_t),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||He("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new q2),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Bd(){return new sn(Qe.comparator)}function H2(){return new sn(Qe.comparator)}const kO={asc:"ASCENDING",desc:"DESCENDING"},MO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},PO={and:"AND",or:"OR"};class jO{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function y1(n,e){return n.useProto3Json||im(e)?e:{value:e}}function N0(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function XA(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function FO(n,e){return N0(n,e.toTimestamp())}function di(n){return It(!!n,49232),it.fromTimestamp((function(t){const r=lo(t);return new Xe(r.seconds,r.nanos)})(n))}function hv(n,e){return E1(n,e).canonicalString()}function E1(n,e){const t=(function(i){return new Yt(["projects",i.projectId,"databases",i.database])})(n).child("documents");return e===void 0?t:t.child(e)}function YA(n){const e=Yt.fromString(n);return It(tS(e),10190,{key:e.toString()}),e}function T1(n,e){return hv(n.databaseId,e.path)}function Bg(n,e){const t=YA(e);if(t.get(1)!==n.databaseId.projectId)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ze(Se.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Qe(JA(t))}function QA(n,e){return hv(n.databaseId,e)}function LO(n){const e=YA(n);return e.length===4?Yt.emptyPath():JA(e)}function w1(n){return new Yt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function JA(n){return It(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function G2(n,e,t){return{name:T1(n,e),fields:t.value.mapValue.fields}}function VO(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:nt(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=(function(d,v){return d.useProto3Json?(It(v===void 0||typeof v=="string",58123),tr.fromBase64String(v||"")):(It(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),tr.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,h=c&&(function(d){const v=d.code===void 0?Se.UNKNOWN:KA(d.code);return new ze(v,d.message||"")})(c);t=new WA(r,i,o,h||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Bg(n,r.document.name),o=di(r.document.updateTime),c=r.document.createTime?di(r.document.createTime):it.min(),h=new jr({mapValue:{fields:r.document.fields}}),m=cr.newFoundDocument(i,o,c,h),d=r.targetIds||[],v=r.removedTargetIds||[];t=new u0(d,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Bg(n,r.document),o=r.readTime?di(r.readTime):it.min(),c=cr.newNoDocument(i,o),h=r.removedTargetIds||[];t=new u0([],h,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Bg(n,r.document),o=r.removedTargetIds||[];t=new u0([],o,i,null)}else{if(!("filter"in e))return nt(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,c=new NO(i,o),h=r.targetId;t=new $A(h,c)}}return t}function UO(n,e){let t;if(e instanceof sf)t={update:G2(n,e.key,e.value)};else if(e instanceof lv)t={delete:T1(n,e.key)};else if(e instanceof Eo)t={update:G2(n,e.key,e.data),updateMask:XO(e.fieldMask)};else{if(!(e instanceof SO))return nt(16599,{Vt:e.type});t={verify:T1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,c){const h=c.transform;if(h instanceof C0)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof zh)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof qh)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof b0)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw nt(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(i,o){return o.updateTime!==void 0?{updateTime:FO(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:nt(27497)})(n,e.precondition)),t}function BO(n,e){return n&&n.length>0?(It(e!==void 0,14353),n.map((t=>(function(i,o){let c=i.updateTime?di(i.updateTime):di(o);return c.isEqual(it.min())&&(c=di(o)),new TO(c,i.transformResults||[])})(t,e)))):[]}function zO(n,e){return{documents:[QA(n,e.path)]}}function qO(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=QA(n,i);const o=(function(d){if(d.length!==0)return eS(Ga.create(d,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const c=(function(d){if(d.length!==0)return d.map((v=>(function(y){return{field:Tc(y.field),direction:KO(y.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const h=y1(n,e.limit);return h!==null&&(t.structuredQuery.limit=h),e.startAt&&(t.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:t,parent:i}}function HO(n){let e=LO(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){It(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(x){const y=ZA(x);return y instanceof Ga&&RA(y)?y.getFilters():[y]})(t.where));let c=[];t.orderBy&&(c=(function(x){return x.map((y=>(function(N){return new Bh(wc(N.field),(function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(N.direction))})(y)))})(t.orderBy));let h=null;t.limit&&(h=(function(x){let y;return y=typeof x=="object"?x.value:x,im(y)?null:y})(t.limit));let m=null;t.startAt&&(m=(function(x){const y=!!x.before,T=x.values||[];return new S0(T,y)})(t.startAt));let d=null;return t.endAt&&(d=(function(x){const y=!x.before,T=x.values||[];return new S0(T,y)})(t.endAt)),cO(e,i,c,o,h,"F",m,d)}function GO(n,e){const t=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt(28987,{purpose:i})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function ZA(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=wc(t.unaryFilter.field);return Sn.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=wc(t.unaryFilter.field);return Sn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=wc(t.unaryFilter.field);return Sn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=wc(t.unaryFilter.field);return Sn.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return nt(61313);default:return nt(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Sn.create(wc(t.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return nt(58110);default:return nt(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ga.create(t.compositeFilter.filters.map((r=>ZA(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return nt(1026)}})(t.compositeFilter.op))})(n):nt(30097,{filter:n})}function KO(n){return kO[n]}function $O(n){return MO[n]}function WO(n){return PO[n]}function Tc(n){return{fieldPath:n.canonicalString()}}function wc(n){return Qn.fromServerFormat(n.fieldPath)}function eS(n){return n instanceof Sn?(function(t){if(t.op==="=="){if(O2(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NAN"}};if(D2(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(O2(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NAN"}};if(D2(t.value))return{unaryFilter:{field:Tc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Tc(t.field),op:$O(t.op),value:t.value}}})(n):n instanceof Ga?(function(t){const r=t.getFilters().map((i=>eS(i)));return r.length===1?r[0]:{compositeFilter:{op:WO(t.op),filters:r}}})(n):nt(54877,{filter:n})}function XO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function tS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t,r,i,o=it.min(),c=it.min(),h=tr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=m}withSequenceNumber(e){return new Js(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Js(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YO{constructor(e){this.yt=e}}function QO(n){const e=HO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?x1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JO{constructor(){this.Cn=new ZO}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ne.resolve()}getCollectionParents(e,t){return Ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ne.resolve()}deleteFieldIndex(e,t){return Ne.resolve()}deleteAllFieldIndexes(e){return Ne.resolve()}createTargetIndexes(e,t){return Ne.resolve()}getDocumentsMatchingTarget(e,t){return Ne.resolve(null)}getIndexType(e,t){return Ne.resolve(0)}getFieldIndexes(e,t){return Ne.resolve([])}getNextCollectionGroupToUpdate(e){return Ne.resolve(null)}getMinOffset(e,t){return Ne.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return Ne.resolve(oo.min())}updateCollectionGroup(e,t,r){return Ne.resolve()}updateIndexEntries(e,t){return Ne.resolve()}}class ZO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new kn(Yt.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new kn(Yt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},nS=41943040;class Pr{static withCacheSize(e){return new Pr(e,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Pr.DEFAULT_COLLECTION_PERCENTILE=10,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Pr.DEFAULT=new Pr(nS,Pr.DEFAULT_COLLECTION_PERCENTILE,Pr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Pr.DISABLED=new Pr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Hc(0)}static cr(){return new Hc(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $2="LruGarbageCollector",e6=1048576;function W2([n,e],[t,r]){const i=_t(n,t);return i===0?_t(e,r):i}class t6{constructor(e){this.Ir=e,this.buffer=new kn(W2),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();W2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class n6{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){He($2,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Jc(t)?He($2,"Ignoring IndexedDB error during garbage collection: ",t):await Qc(t)}await this.Vr(3e5)}))}}class r6{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ne.resolve(am.ce);const r=new t6(t);return this.mr.forEachTarget(e,(i=>r.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>r.Ar(i))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(He("LruGarbageCollector","Garbage collection skipped; disabled"),Ne.resolve(K2)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(He("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),K2):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,i,o,c,h,m,d;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(He("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),i=this.params.maximumSequenceNumbersToCollect):i=x,c=Date.now(),this.nthSequenceNumber(e,i)))).next((x=>(r=x,h=Date.now(),this.removeTargets(e,r,t)))).next((x=>(o=x,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((x=>(d=Date.now(),yc()<=vt.DEBUG&&He("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${i} in `+(h-c)+`ms
	Removed ${o} targets in `+(m-h)+`ms
	Removed ${x} documents in `+(d-m)+`ms
Total Duration: ${d-v}ms`),Ne.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:x}))))}}function a6(n,e){return new r6(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6{constructor(){this.changes=new _l((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,t)))).next((i=>(r!==null&&bh(r.mutation,i,ta.empty(),Xe.now()),i)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,xt()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=xt()){const i=al();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,r).next((o=>{let c=vh();return o.forEach(((h,m)=>{c=c.insert(h,m.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=al();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,xt())))}populateOverlays(e,t,r){const i=[];return r.forEach((o=>{t.has(o)||i.push(o)})),this.documentOverlayCache.getOverlays(e,i).next((o=>{o.forEach(((c,h)=>{t.set(c,h)}))}))}computeViews(e,t,r,i){let o=rs();const c=Ch(),h=(function(){return Ch()})();return t.forEach(((m,d)=>{const v=r.get(d.key);i.has(d.key)&&(v===void 0||v.mutation instanceof Eo)?o=o.insert(d.key,d):v!==void 0?(c.set(d.key,v.mutation.getFieldMask()),bh(v.mutation,d,v.mutation.getFieldMask(),Xe.now())):c.set(d.key,ta.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((d,v)=>c.set(d,v))),t.forEach(((d,v)=>h.set(d,new s6(v,c.get(d)??null)))),h)))}recalculateAndSaveOverlays(e,t){const r=Ch();let i=new sn(((c,h)=>c-h)),o=xt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const h of c)h.keys().forEach((m=>{const d=t.get(m);if(d===null)return;let v=r.get(m)||ta.empty();v=h.applyToLocalView(d,v),r.set(m,v);const x=(i.get(h.batchId)||xt()).add(m);i=i.insert(h.batchId,x)}))})).next((()=>{const c=[],h=i.getReverseIterator();for(;h.hasNext();){const m=h.getNext(),d=m.key,v=m.value,x=LA();v.forEach((y=>{if(!o.has(y)){const T=HA(t.get(y),r.get(y));T!==null&&x.set(y,T),o=o.add(y)}})),c.push(this.documentOverlayCache.saveOverlays(e,d,x))}return Ne.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,i){return(function(c){return Qe.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):kA(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next((o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):Ne.resolve(al());let h=Fh,m=o;return c.next((d=>Ne.forEach(d,((v,x)=>(h<x.largestBatchId&&(h=x.largestBatchId),o.get(v)?Ne.resolve():this.remoteDocumentCache.getEntry(e,v).next((y=>{m=m.insert(v,y)}))))).next((()=>this.populateOverlays(e,d,o))).next((()=>this.computeViews(e,m,d,xt()))).next((v=>({batchId:h,changes:FA(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Qe(t)).next((r=>{let i=vh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let c=vh();return this.indexManager.getCollectionParents(e,o).next((h=>Ne.forEach(h,(m=>{const d=(function(x,y){return new Zc(y,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next((v=>{v.forEach(((x,y)=>{c=c.insert(x,y)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i)))).next((c=>{o.forEach(((m,d)=>{const v=d.getKey();c.get(v)===null&&(c=c.insert(v,cr.newInvalidDocument(v)))}));let h=vh();return c.forEach(((m,d)=>{const v=o.get(m);v!==void 0&&bh(v.mutation,d,ta.empty(),Xe.now()),lm(t,d)&&(h=h.insert(m,d))})),h}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ne.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(i){return{id:i.id,version:i.version,createTime:di(i.createTime)}})(t)),Ne.resolve()}getNamedQuery(e,t){return Ne.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(i){return{name:i.name,query:QO(i.bundledQuery),readTime:di(i.readTime)}})(t)),Ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.overlays=new sn(Qe.comparator),this.qr=new Map}getOverlay(e,t){return Ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=al();return Ne.forEach(t,(i=>this.getOverlay(e,i).next((o=>{o!==null&&r.set(i,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((i,o)=>{this.St(e,t,o)})),Ne.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ne.resolve()}getOverlaysForCollection(e,t,r){const i=al(),o=t.length+1,c=new Qe(t.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const m=h.getNext().value,d=m.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&m.largestBatchId>r&&i.set(m.getKey(),m)}return Ne.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new sn(((d,v)=>d-v));const c=this.overlays.getIterator();for(;c.hasNext();){const d=c.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let v=o.get(d.largestBatchId);v===null&&(v=al(),o=o.insert(d.largestBatchId,v)),v.set(d.getKey(),d)}}const h=al(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((d,v)=>h.set(d,v))),!(h.size()>=i)););return Ne.resolve(h)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const c=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new bO(t,r));let o=this.qr.get(t);o===void 0&&(o=xt(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u6{constructor(){this.sessionToken=tr.EMPTY_BYTE_STRING}getSessionToken(e){return Ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(){this.Qr=new kn(Ln.$r),this.Ur=new kn(Ln.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Ln(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Ln(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new Qe(new Yt([])),r=new Ln(t,e),i=new Ln(t,e+1),o=[];return this.Ur.forEachInRange([r,i],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Qe(new Yt([])),r=new Ln(t,e),i=new Ln(t,e+1);let o=xt();return this.Ur.forEachInRange([r,i],(c=>{o=o.add(c.key)})),o}containsKey(e){const t=new Ln(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ln{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Qe.comparator(e.key,t.key)||_t(e.Yr,t.Yr)}static Kr(e,t){return _t(e.Yr,t.Yr)||Qe.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h6{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new kn(Ln.$r)}checkEmpty(e){return Ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new CO(o,t,r,i);this.mutationQueue.push(c);for(const h of i)this.Zr=this.Zr.add(new Ln(h.key,o)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return Ne.resolve(c)}lookupMutationBatch(e,t){return Ne.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.ei(r),o=i<0?0:i;return Ne.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ne.resolve(this.mutationQueue.length===0?tv:this.tr-1)}getAllMutationBatches(e){return Ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ln(t,0),i=new Ln(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,i],(c=>{const h=this.Xr(c.Yr);o.push(h)})),Ne.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new kn(_t);return t.forEach((i=>{const o=new Ln(i,0),c=new Ln(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{r=r.add(h.Yr)}))})),Ne.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Qe.isDocumentKey(o)||(o=o.child(""));const c=new Ln(new Qe(o),0);let h=new kn(_t);return this.Zr.forEachWhile((m=>{const d=m.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(h=h.add(m.Yr)),!0)}),c),Ne.resolve(this.ti(h))}ti(e){const t=[];return e.forEach((r=>{const i=this.Xr(r);i!==null&&t.push(i)})),t}removeMutationBatch(e,t){It(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ne.forEach(t.mutations,(i=>{const o=new Ln(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Ln(t,0),i=this.Zr.firstAfterOrEqual(r);return Ne.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ne.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e){this.ri=e,this.docs=(function(){return new sn(Qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ne.resolve(r?r.document.mutableCopy():cr.newInvalidDocument(t))}getEntries(e,t){let r=rs();return t.forEach((i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():cr.newInvalidDocument(i))})),Ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=rs();const c=t.path,h=new Qe(c.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(h);for(;m.hasNext();){const{key:d,value:{document:v}}=m.getNext();if(!c.isPrefixOf(d.path))break;d.path.length>c.length+1||BD(UD(v),r)<=0||(i.has(v.key)||lm(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ne.resolve(o)}getAllFromCollectionGroup(e,t,r,i){nt(9500)}ii(e,t){return Ne.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new d6(this)}getSize(e){return Ne.resolve(this.size)}}class d6 extends i6{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?t.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)})),Ne.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m6{constructor(e){this.persistence=e,this.si=new _l((t=>av(t)),iv),this.lastRemoteSnapshotVersion=it.min(),this.highestTargetId=0,this.oi=0,this._i=new fv,this.targetCount=0,this.ai=Hc.ur()}forEachTarget(e,t){return this.si.forEach(((r,i)=>t(i))),Ne.resolve()}getLastRemoteSnapshotVersion(e){return Ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ne.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ne.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new Hc(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ne.resolve()}updateTargetData(e,t){return this.Pr(t),Ne.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ne.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=t&&r.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)})),Ne.waitFor(o).next((()=>i))}getTargetCount(e){return Ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ne.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ne.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach((c=>{o.push(i.markPotentiallyOrphaned(e,c))})),Ne.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ne.resolve(r)}containsKey(e,t){return Ne.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rS{constructor(e,t){this.ui={},this.overlays={},this.ci=new am(0),this.li=!1,this.li=!0,this.hi=new u6,this.referenceDelegate=e(this),this.Pi=new m6(this),this.indexManager=new JO,this.remoteDocumentCache=(function(i){return new f6(i)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new YO(t),this.Ii=new l6(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new c6,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new h6(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){He("MemoryPersistence","Starting transaction:",e);const i=new p6(this.ci.next());return this.referenceDelegate.Ei(),r(i).next((o=>this.referenceDelegate.di(i).next((()=>o)))).toPromise().then((o=>(i.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ne.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class p6 extends qD{constructor(e){super(),this.currentSequenceNumber=e}}class dv{constructor(e){this.persistence=e,this.Ri=new fv,this.Vi=null}static mi(e){return new dv(e)}get fi(){if(this.Vi)return this.Vi;throw nt(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ne.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ne.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ne.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((i=>this.fi.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((i=>{i.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ne.forEach(this.fi,(r=>{const i=Qe.fromPath(r);return this.gi(e,i).next((o=>{o||t.removeEntry(i,it.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ne.or([()=>Ne.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class R0{constructor(e,t){this.persistence=e,this.pi=new _l((r=>KD(r.path)),((r,i)=>r.isEqual(i))),this.garbageCollector=a6(this,t)}static mi(e,t){return new R0(e,t)}Ei(){}di(e){return Ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((i=>r+i))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Ne.forEach(this.pi,((r,i)=>this.br(e,r,i).next((o=>o?Ne.resolve():t(i)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.ii(e,(c=>this.br(e,c,t).next((h=>{h||(r++,o.removeEntry(c,it.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ne.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ne.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=o0(e.data.value)),t}br(e,t,r){return Ne.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.pi.get(t);return Ne.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=i}static As(e,t){let r=xt(),i=xt();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new mv(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $N()?8:HD(fr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.ys(e,t).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(e,t,i,r).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new g6;return this.Ss(e,t,c).next((h=>{if(o.result=h,this.Vs)return this.bs(e,t,c,h.size)}))})).next((()=>o.result))}bs(e,t,r,i){return r.documentReadCount<this.fs?(yc()<=vt.DEBUG&&He("QueryEngine","SDK will not create cache indexes for query:",Ec(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ne.resolve()):(yc()<=vt.DEBUG&&He("QueryEngine","Query:",Ec(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(yc()<=vt.DEBUG&&He("QueryEngine","The SDK decides to create cache indexes for query:",Ec(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(t))):Ne.resolve())}ys(e,t){if(j2(t))return Ne.resolve(null);let r=fi(t);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(t.limit!==null&&i===1&&(t=x1(t,null,"F"),r=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const c=xt(...o);return this.ps.getDocuments(e,c).next((h=>this.indexManager.getMinOffset(e,r).next((m=>{const d=this.Ds(t,h);return this.Cs(t,d,c,m.readTime)?this.ys(e,x1(t,null,"F")):this.vs(e,d,t,m)}))))})))))}ws(e,t,r,i){return j2(t)||i.isEqual(it.min())?Ne.resolve(null):this.ps.getDocuments(e,r).next((o=>{const c=this.Ds(t,o);return this.Cs(t,c,r,i)?Ne.resolve(null):(yc()<=vt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ec(t)),this.vs(e,c,t,VD(i,Fh)).next((h=>h)))}))}Ds(e,t){let r=new kn(PA(e));return t.forEach(((i,o)=>{lm(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Ss(e,t,r){return yc()<=vt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",Ec(t)),this.ps.getDocumentsMatchingQuery(e,t,oo.min(),r)}vs(e,t,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next((o=>(t.forEach((c=>{o=o.insert(c.key,c)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="LocalStore",_6=3e8;class x6{constructor(e,t,r,i){this.persistence=e,this.Fs=t,this.serializer=i,this.Ms=new sn(_t),this.xs=new _l((o=>av(o)),iv),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new o6(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function y6(n,e,t,r){return new x6(n,e,t,r)}async function aS(n,e){const t=ot(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next((o=>(i=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const c=[],h=[];let m=xt();for(const d of i){c.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}for(const d of o){h.push(d.batchId);for(const v of d.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((d=>({Ls:d,removedBatchIds:c,addedBatchIds:h})))}))}))}function E6(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,m,d,v){const x=d.batch,y=x.keys();let T=Ne.resolve();return y.forEach((N=>{T=T.next((()=>v.getEntry(m,N))).next((A=>{const b=d.docVersions.get(N);It(b!==null,48541),A.version.compareTo(b)<0&&(x.applyToRemoteDocument(A,d),A.isValidDocument()&&(A.setReadTime(d.commitVersion),v.addEntry(A)))}))})),T.next((()=>h.mutationQueue.removeMutationBatch(m,x)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(h){let m=xt();for(let d=0;d<h.mutationResults.length;++d)h.mutationResults[d].transformResults.length>0&&(m=m.add(h.batch.mutations[d].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,i)))}))}function iS(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function T6(n,e){const t=ot(n),r=e.snapshotVersion;let i=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});i=t.Ms;const h=[];e.targetChanges.forEach(((v,x)=>{const y=i.get(x);if(!y)return;h.push(t.Pi.removeMatchingKeys(o,v.removedDocuments,x).next((()=>t.Pi.addMatchingKeys(o,v.addedDocuments,x))));let T=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(x)!==null?T=T.withResumeToken(tr.EMPTY_BYTE_STRING,it.min()).withLastLimboFreeSnapshotVersion(it.min()):v.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(v.resumeToken,r)),i=i.insert(x,T),(function(A,b,P){return A.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=_6?!0:P.addedDocuments.size+P.modifiedDocuments.size+P.removedDocuments.size>0})(y,T,v)&&h.push(t.Pi.updateTargetData(o,T))}));let m=rs(),d=xt();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),h.push(w6(o,c,e.documentUpdates).next((v=>{m=v.ks,d=v.qs}))),!r.isEqual(it.min())){const v=t.Pi.getLastRemoteSnapshotVersion(o).next((x=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));h.push(v)}return Ne.waitFor(h).next((()=>c.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,m,d))).next((()=>m))})).then((o=>(t.Ms=i,o)))}function w6(n,e,t){let r=xt(),i=xt();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let c=rs();return t.forEach(((h,m)=>{const d=o.get(h);m.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(h)),m.isNoDocument()&&m.version.isEqual(it.min())?(e.removeEntry(h,m.readTime),c=c.insert(h,m)):!d.isValidDocument()||m.version.compareTo(d.version)>0||m.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(m),c=c.insert(h,m)):He(pv,"Ignoring outdated watch update for ",h,". Current version:",d.version," Watch version:",m.version)})),{ks:c,qs:i}}))}function A6(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=tv),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function S6(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return t.Pi.getTargetData(r,e).next((o=>o?(i=o,Ne.resolve(i)):t.Pi.allocateTargetId(r).next((c=>(i=new Js(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=t.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function A1(n,e,t){const r=ot(n),i=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Jc(c))throw c;He(pv,`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function X2(n,e,t){const r=ot(n);let i=it.min(),o=xt();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(m,d,v){const x=ot(m),y=x.xs.get(v);return y!==void 0?Ne.resolve(x.Ms.get(y)):x.Pi.getTargetData(d,v)})(r,c,fi(e)).next((h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(c,h.targetId).next((m=>{o=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(c,e,t?i:it.min(),t?o:xt()))).next((h=>(C6(r,hO(e),h),{documents:h,Qs:o})))))}function C6(n,e,t){let r=n.Os.get(e)||it.min();t.forEach(((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class Y2{constructor(){this.activeTargetIds=vO()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class b6{constructor(){this.Mo=new Y2,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new Y2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N6{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q2="ConnectivityMonitor";class J2{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){He(Q2,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){He(Q2,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zd=null;function S1(){return zd===null?zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():zd++,"0x"+zd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zg="RestConnection",R6={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class I6{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===w0?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,t,r,i,o){const c=S1(),h=this.zo(e,t.toUriEncodedString());He(zg,`Sending RPC '${e}' ${c}:`,h,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,i,o);const{host:d}=new URL(h),v=$c(d);return this.Jo(e,h,m,r,v).then((x=>(He(zg,`Received RPC '${e}' ${c}: `,x),x)),(x=>{throw Uc(zg,`RPC '${e}' ${c} failed with error: `,x,"url: ",h,"request:",r),x}))}Ho(e,t,r,i,o,c){return this.Go(e,t,r,i,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Yc})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((i,o)=>e[o]=i)),r&&r.headers.forEach(((i,o)=>e[o]=i))}zo(e,t){const r=R6[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or="WebChannelConnection";class O6 extends I6{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,i,o){const c=S1();return new Promise(((h,m)=>{const d=new lA;d.setWithCredentials(!0),d.listenOnce(cA.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case s0.NO_ERROR:const x=d.getResponseJson();He(or,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),h(x);break;case s0.TIMEOUT:He(or,`RPC '${e}' ${c} timed out`),m(new ze(Se.DEADLINE_EXCEEDED,"Request time out"));break;case s0.HTTP_ERROR:const y=d.getStatus();if(He(or,`RPC '${e}' ${c} failed with status:`,y,"response text:",d.getResponseText()),y>0){let T=d.getResponseJson();Array.isArray(T)&&(T=T[0]);const N=T?.error;if(N&&N.status&&N.message){const A=(function(P){const z=P.toLowerCase().replace(/_/g,"-");return Object.values(Se).indexOf(z)>=0?z:Se.UNKNOWN})(N.status);m(new ze(A,N.message))}else m(new ze(Se.UNKNOWN,"Server responded with status "+d.getStatus()))}else m(new ze(Se.UNAVAILABLE,"Connection failed."));break;default:nt(9055,{l_:e,streamId:c,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{He(or,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(i);He(or,`RPC '${e}' ${c} sending request:`,i),d.send(t,"POST",v,r,15)}))}T_(e,t,r){const i=S1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=fA(),h=hA(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(m.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=o.join("");He(or,`Creating RPC '${e}' stream ${i}: ${v}`,m);const x=c.createWebChannel(v,m);this.I_(x);let y=!1,T=!1;const N=new D6({Yo:b=>{T?He(or,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(y||(He(or,`Opening RPC '${e}' stream ${i} transport.`),x.open(),y=!0),He(or,`RPC '${e}' stream ${i} sending:`,b),x.send(b))},Zo:()=>x.close()}),A=(b,P,z)=>{b.listen(P,(q=>{try{z(q)}catch(ee){setTimeout((()=>{throw ee}),0)}}))};return A(x,gh.EventType.OPEN,(()=>{T||(He(or,`RPC '${e}' stream ${i} transport opened.`),N.o_())})),A(x,gh.EventType.CLOSE,(()=>{T||(T=!0,He(or,`RPC '${e}' stream ${i} transport closed`),N.a_(),this.E_(x))})),A(x,gh.EventType.ERROR,(b=>{T||(T=!0,Uc(or,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),N.a_(new ze(Se.UNAVAILABLE,"The operation could not be completed")))})),A(x,gh.EventType.MESSAGE,(b=>{if(!T){const P=b.data[0];It(!!P,16349);const z=P,q=z?.error||z[0]?.error;if(q){He(or,`RPC '${e}' stream ${i} received error:`,q);const ee=q.status;let de=(function(I){const C=An[I];if(C!==void 0)return KA(C)})(ee),_e=q.message;de===void 0&&(de=Se.INTERNAL,_e="Unknown error status: "+ee+" with message "+q.message),T=!0,N.a_(new ze(de,_e)),x.close()}else He(or,`RPC '${e}' stream ${i} received:`,P),N.u_(P)}})),A(h,uA.STAT_EVENT,(b=>{b.stat===f1.PROXY?He(or,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===f1.NOPROXY&&He(or,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{N.__()}),0),N}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function qg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fm(n){return new jO(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,t,r=1e3,i=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=i,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,t-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2="PersistentStream";class oS{constructor(e,t,r,i,o,c,h,m){this.Mi=e,this.S_=r,this.b_=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new sS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Se.RESOURCE_EXHAUSTED?(ns(t.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Se.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.D_===t&&this.G_(r,i)}),(r=>{e((()=>{const i=new ze(Se.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{r((()=>this.z_(i)))})),this.stream.onMessage((i=>{r((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return He(Z2,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(He(Z2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class k6 extends oS{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=VO(this.serializer,e),r=(function(o){if(!("targetChange"in o))return it.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?it.min():c.readTime?di(c.readTime):it.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=w1(this.serializer),t.addTarget=(function(o,c){let h;const m=c.target;if(h=v1(m)?{documents:zO(o,m)}:{query:qO(o,m).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=XA(o,c.resumeToken);const d=y1(o,c.expectedCount);d!==null&&(h.expectedCount=d)}else if(c.snapshotVersion.compareTo(it.min())>0){h.readTime=N0(o,c.snapshotVersion.toTimestamp());const d=y1(o,c.expectedCount);d!==null&&(h.expectedCount=d)}return h})(this.serializer,e);const r=GO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=w1(this.serializer),t.removeTarget=e,this.q_(t)}}class M6 extends oS{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return It(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,It(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){It(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=BO(e.writeResults,e.commitTime),r=di(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=w1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>UO(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P6{}class j6 extends P6{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(e,E1(t,r),i,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ze(Se.UNKNOWN,o.toString())}))}Ho(e,t,r,i,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(e,E1(t,r),i,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Se.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ze(Se.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class F6{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(t),this.aa=!1):He("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl="RemoteStore";class L6{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{r.enqueueAndForget((async()=>{xl(this)&&(He(dl,"Restarting streams for network reachability change."),await(async function(m){const d=ot(m);d.Ea.add(4),await lf(d),d.Ra.set("Unknown"),d.Ea.delete(4),await dm(d)})(this))}))})),this.Ra=new F6(r,i)}}async function dm(n){if(xl(n))for(const e of n.da)await e(!0)}async function lf(n){for(const e of n.da)await e(!1)}function lS(n,e){const t=ot(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),xv(t)?_v(t):eu(t).O_()&&vv(t,e))}function gv(n,e){const t=ot(n),r=eu(t);t.Ia.delete(e),r.O_()&&cS(t,e),t.Ia.size===0&&(r.O_()?r.L_():xl(t)&&t.Ra.set("Unknown"))}function vv(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(it.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}eu(n).Y_(e)}function cS(n,e){n.Va.Ue(e),eu(n).Z_(e)}function _v(n){n.Va=new OO({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),eu(n).start(),n.Ra.ua()}function xv(n){return xl(n)&&!eu(n).x_()&&n.Ia.size>0}function xl(n){return ot(n).Ea.size===0}function uS(n){n.Va=void 0}async function V6(n){n.Ra.set("Online")}async function U6(n){n.Ia.forEach(((e,t)=>{vv(n,e)}))}async function B6(n,e){uS(n),xv(n)?(n.Ra.ha(e),_v(n)):n.Ra.set("Unknown")}async function z6(n,e,t){if(n.Ra.set("Online"),e instanceof WA&&e.state===2&&e.cause)try{await(async function(i,o){const c=o.cause;for(const h of o.targetIds)i.Ia.has(h)&&(await i.remoteSyncer.rejectListen(h,c),i.Ia.delete(h),i.Va.removeTarget(h))})(n,e)}catch(r){He(dl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await I0(n,r)}else if(e instanceof u0?n.Va.Ze(e):e instanceof $A?n.Va.st(e):n.Va.tt(e),!t.isEqual(it.min()))try{const r=await iS(n.localStore);t.compareTo(r)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((m,d)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ia.get(d);v&&o.Ia.set(d,v.withResumeToken(m.resumeToken,c))}})),h.targetMismatches.forEach(((m,d)=>{const v=o.Ia.get(m);if(!v)return;o.Ia.set(m,v.withResumeToken(tr.EMPTY_BYTE_STRING,v.snapshotVersion)),cS(o,m);const x=new Js(v.target,m,d,v.sequenceNumber);vv(o,x)})),o.remoteSyncer.applyRemoteEvent(h)})(n,t)}catch(r){He(dl,"Failed to raise snapshot:",r),await I0(n,r)}}async function I0(n,e,t){if(!Jc(e))throw e;n.Ea.add(1),await lf(n),n.Ra.set("Offline"),t||(t=()=>iS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{He(dl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await dm(n)}))}function hS(n,e){return e().catch((t=>I0(n,t,e)))}async function mm(n){const e=ot(n),t=ho(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tv;for(;q6(e);)try{const i=await A6(e.localStore,r);if(i===null){e.Ta.length===0&&t.L_();break}r=i.batchId,H6(e,i)}catch(i){await I0(e,i)}fS(e)&&dS(e)}function q6(n){return xl(n)&&n.Ta.length<10}function H6(n,e){n.Ta.push(e);const t=ho(n);t.O_()&&t.X_&&t.ea(e.mutations)}function fS(n){return xl(n)&&!ho(n).x_()&&n.Ta.length>0}function dS(n){ho(n).start()}async function G6(n){ho(n).ra()}async function K6(n){const e=ho(n);for(const t of n.Ta)e.ea(t.mutations)}async function $6(n,e,t){const r=n.Ta.shift(),i=cv.from(r,e,t);await hS(n,(()=>n.remoteSyncer.applySuccessfulWrite(i))),await mm(n)}async function W6(n,e){e&&ho(n).X_&&await(async function(r,i){if((function(c){return RO(c)&&c!==Se.ABORTED})(i.code)){const o=r.Ta.shift();ho(r).B_(),await hS(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i))),await mm(r)}})(n,e),fS(n)&&dS(n)}async function eT(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),He(dl,"RemoteStore received new credentials");const r=xl(t);t.Ea.add(3),await lf(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await dm(t)}async function X6(n,e){const t=ot(n);e?(t.Ea.delete(2),await dm(t)):e||(t.Ea.add(2),await lf(t),t.Ra.set("Unknown"))}function eu(n){return n.ma||(n.ma=(function(t,r,i){const o=ot(t);return o.sa(),new k6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:V6.bind(null,n),t_:U6.bind(null,n),r_:B6.bind(null,n),H_:z6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),xv(n)?_v(n):n.Ra.set("Unknown")):(await n.ma.stop(),uS(n))}))),n.ma}function ho(n){return n.fa||(n.fa=(function(t,r,i){const o=ot(t);return o.sa(),new M6(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:G6.bind(null,n),r_:W6.bind(null,n),ta:K6.bind(null,n),na:$6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await mm(n)):(await n.fa.stop(),n.Ta.length>0&&(He(dl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Xi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,h=new yv(e,t,c,i,o);return h.start(r),h}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ze(Se.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ev(n,e){if(ns("AsyncQueue",`${e}: ${n}`),Jc(n))return new ze(Se.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc{static emptySet(e){return new Dc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Qe.comparator(t.key,r.key):(t,r)=>Qe.comparator(t.key,r.key),this.keyedMap=vh(),this.sortedSet=new sn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Dc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Dc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(){this.ga=new sn(Qe.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):nt(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class Gc{constructor(e,t,r,i,o,c,h,m,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=m,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach((h=>{c.push({type:0,doc:h})})),new Gc(e,t,Dc.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&om(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Q6{constructor(){this.queries=nT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const i=ot(t),o=i.queries;i.queries=nT(),o.forEach(((c,h)=>{for(const m of h.Sa)m.onError(r)}))})(this,new ze(Se.ABORTED,"Firestore shutting down"))}}function nT(){return new _l((n=>MA(n)),om)}async function mS(n,e){const t=ot(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.ba()&&e.Da()&&(r=2):(o=new Y6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(i,!0);break;case 1:o.wa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(c){const h=Ev(c,`Initialization of query '${Ec(e.query)}' failed`);return void e.onError(h)}t.queries.set(i,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&Tv(t)}async function pS(n,e){const t=ot(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const c=o.Sa.indexOf(e);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?i=e.Da()?0:1:!o.ba()&&e.Da()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function J6(n,e){const t=ot(n);let r=!1;for(const i of e){const o=i.query,c=t.queries.get(o);if(c){for(const h of c.Sa)h.Fa(i)&&(r=!0);c.wa=i}}r&&Tv(t)}function Z6(n,e,t){const r=ot(n),i=r.queries.get(e);if(i)for(const o of i.Sa)o.onError(t);r.queries.delete(e)}function Tv(n){n.Ca.forEach((e=>{e.next()}))}var C1,rT;(rT=C1||(C1={})).Ma="default",rT.Cache="cache";class gS{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==C1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e){this.key=e}}class _S{constructor(e){this.key=e}}class ek{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xt(),this.mutatedKeys=xt(),this.eu=PA(e),this.tu=new Dc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new tT,i=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,h=!1;const m=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((v,x)=>{const y=i.get(v),T=lm(this.query,x)?x:null,N=!!y&&this.mutatedKeys.has(y.key),A=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;y&&T?y.data.isEqual(T.data)?N!==A&&(r.track({type:3,doc:T}),b=!0):this.su(y,T)||(r.track({type:2,doc:T}),b=!0,(m&&this.eu(T,m)>0||d&&this.eu(T,d)<0)&&(h=!0)):!y&&T?(r.track({type:0,doc:T}),b=!0):y&&!T&&(r.track({type:1,doc:y}),b=!0,(m||d)&&(h=!0)),b&&(T?(c=c.add(T),o=A?o.add(v):o.delete(v)):(c=c.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:c,iu:r,Cs:h,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,x)=>(function(T,N){const A=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt(20277,{Rt:b})}};return A(T)-A(N)})(v.type,x.type)||this.eu(v.doc,x.doc))),this.ou(r),i=i??!1;const h=t&&!i?this._u():[],m=this.Xa.size===0&&this.current&&!i?1:0,d=m!==this.Za;return this.Za=m,c.length!==0||d?{snapshot:new Gc(this.query,e.tu,o,c,e.mutatedKeys,m===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new tT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new _S(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new vS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=xt();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return Gc.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const wv="SyncEngine";class tk{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class nk{constructor(e){this.key=e,this.hu=!1}}class rk{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new _l((h=>MA(h)),om),this.Iu=new Map,this.Eu=new Set,this.du=new sn(Qe.comparator),this.Au=new Map,this.Ru=new fv,this.Vu={},this.mu=new Map,this.fu=Hc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ak(n,e,t=!0){const r=AS(n);let i;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.lu()):i=await xS(r,e,t,!0),i}async function ik(n,e){const t=AS(n);await xS(t,e,!0,!1)}async function xS(n,e,t,r){const i=await S6(n.localStore,fi(e)),o=i.targetId,c=n.sharedClientState.addLocalQueryTarget(o,t);let h;return r&&(h=await sk(n,e,o,c==="current",i.resumeToken)),n.isPrimaryClient&&t&&lS(n.remoteStore,i),h}async function sk(n,e,t,r,i){n.pu=(x,y,T)=>(async function(A,b,P,z){let q=b.view.ru(P);q.Cs&&(q=await X2(A.localStore,b.query,!1).then((({documents:R})=>b.view.ru(R,q))));const ee=z&&z.targetChanges.get(b.targetId),de=z&&z.targetMismatches.get(b.targetId)!=null,_e=b.view.applyChanges(q,A.isPrimaryClient,ee,de);return iT(A,b.targetId,_e.au),_e.snapshot})(n,x,y,T);const o=await X2(n.localStore,e,!0),c=new ek(e,o.Qs),h=c.ru(o.documents),m=of.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=c.applyChanges(h,n.isPrimaryClient,m);iT(n,t,d.au);const v=new tk(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),d.snapshot}async function ok(n,e,t){const r=ot(n),i=r.Tu.get(e),o=r.Iu.get(i.targetId);if(o.length>1)return r.Iu.set(i.targetId,o.filter((c=>!om(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await A1(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),t&&gv(r.remoteStore,i.targetId),b1(r,i.targetId)})).catch(Qc)):(b1(r,i.targetId),await A1(r.localStore,i.targetId,!0))}async function lk(n,e){const t=ot(n),r=t.Tu.get(e),i=t.Iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),gv(t.remoteStore,r.targetId))}async function ck(n,e,t){const r=gk(n);try{const i=await(function(c,h){const m=ot(c),d=Xe.now(),v=h.reduce(((T,N)=>T.add(N.key)),xt());let x,y;return m.persistence.runTransaction("Locally write mutations","readwrite",(T=>{let N=rs(),A=xt();return m.Ns.getEntries(T,v).next((b=>{N=b,N.forEach(((P,z)=>{z.isValidDocument()||(A=A.add(P))}))})).next((()=>m.localDocuments.getOverlayedDocuments(T,N))).next((b=>{x=b;const P=[];for(const z of h){const q=AO(z,x.get(z.key).overlayedDocument);q!=null&&P.push(new Eo(z.key,q,CA(q.value.mapValue),Aa.exists(!0)))}return m.mutationQueue.addMutationBatch(T,d,P,h)})).next((b=>{y=b;const P=b.applyToLocalDocumentSet(x,A);return m.documentOverlayCache.saveOverlays(T,b.batchId,P)}))})).then((()=>({batchId:y.batchId,changes:FA(x)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(c,h,m){let d=c.Vu[c.currentUser.toKey()];d||(d=new sn(_t)),d=d.insert(h,m),c.Vu[c.currentUser.toKey()]=d})(r,i.batchId,t),await cf(r,i.changes),await mm(r.remoteStore)}catch(i){const o=Ev(i,"Failed to persist write");t.reject(o)}}async function yS(n,e){const t=ot(n);try{const r=await T6(t.localStore,e);e.targetChanges.forEach(((i,o)=>{const c=t.Au.get(o);c&&(It(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?c.hu=!0:i.modifiedDocuments.size>0?It(c.hu,14607):i.removedDocuments.size>0&&(It(c.hu,42227),c.hu=!1))})),await cf(t,r,e)}catch(r){await Qc(r)}}function aT(n,e,t){const r=ot(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.Tu.forEach(((o,c)=>{const h=c.view.va(e);h.snapshot&&i.push(h.snapshot)})),(function(c,h){const m=ot(c);m.onlineState=h;let d=!1;m.queries.forEach(((v,x)=>{for(const y of x.Sa)y.va(h)&&(d=!0)})),d&&Tv(m)})(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function uk(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Au.get(e),o=i&&i.key;if(o){let c=new sn(Qe.comparator);c=c.insert(o,cr.newNoDocument(o,it.min()));const h=xt().add(o),m=new hm(it.min(),new Map,new sn(_t),c,h);await yS(r,m),r.du=r.du.remove(o),r.Au.delete(e),Av(r)}else await A1(r.localStore,e,!1).then((()=>b1(r,e,t))).catch(Qc)}async function hk(n,e){const t=ot(n),r=e.batch.batchId;try{const i=await E6(t.localStore,e);TS(t,r,null),ES(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await cf(t,i)}catch(i){await Qc(i)}}async function fk(n,e,t){const r=ot(n);try{const i=await(function(c,h){const m=ot(c);return m.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let v;return m.mutationQueue.lookupMutationBatch(d,h).next((x=>(It(x!==null,37113),v=x.keys(),m.mutationQueue.removeMutationBatch(d,x)))).next((()=>m.mutationQueue.performConsistencyCheck(d))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(d,v,h))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,v))).next((()=>m.localDocuments.getDocuments(d,v)))}))})(r.localStore,e);TS(r,e,t),ES(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await cf(r,i)}catch(i){await Qc(i)}}function ES(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function TS(n,e,t){const r=ot(n);let i=r.Vu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function b1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||wS(n,r)}))}function wS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(gv(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),Av(n))}function iT(n,e,t){for(const r of t)r instanceof vS?(n.Ru.addReference(r.key,e),dk(n,r)):r instanceof _S?(He(wv,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||wS(n,r.key)):nt(19791,{wu:r})}function dk(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(He(wv,"New document in limbo: "+t),n.Eu.add(r),Av(n))}function Av(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Qe(Yt.fromString(e)),r=n.fu.next();n.Au.set(r,new nk(t)),n.du=n.du.insert(t,r),lS(n.remoteStore,new Js(fi(sv(t.path)),r,"TargetPurposeLimboResolution",am.ce))}}async function cf(n,e,t){const r=ot(n),i=[],o=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((h,m)=>{c.push(r.pu(m,e,t).then((d=>{if((d||t)&&r.isPrimaryClient){const v=d?!d.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(d){i.push(d);const v=mv.As(m.targetId,d);o.push(v)}})))})),await Promise.all(c),r.Pu.H_(i),await(async function(m,d){const v=ot(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Ne.forEach(d,(y=>Ne.forEach(y.Es,(T=>v.persistence.referenceDelegate.addReference(x,y.targetId,T))).next((()=>Ne.forEach(y.ds,(T=>v.persistence.referenceDelegate.removeReference(x,y.targetId,T)))))))))}catch(x){if(!Jc(x))throw x;He(pv,"Failed to update sequence numbers: "+x)}for(const x of d){const y=x.targetId;if(!x.fromCache){const T=v.Ms.get(y),N=T.snapshotVersion,A=T.withLastLimboFreeSnapshotVersion(N);v.Ms=v.Ms.insert(y,A)}}})(r.localStore,o))}async function mk(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){He(wv,"User change. New user:",e.toKey());const r=await aS(t.localStore,e);t.currentUser=e,(function(o,c){o.mu.forEach((h=>{h.forEach((m=>{m.reject(new ze(Se.CANCELLED,c))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await cf(t,r.Ls)}}function pk(n,e){const t=ot(n),r=t.Au.get(e);if(r&&r.hu)return xt().add(r.key);{let i=xt();const o=t.Iu.get(e);if(!o)return i;for(const c of o){const h=t.Tu.get(c);i=i.unionWith(h.view.nu)}return i}}function AS(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=yS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uk.bind(null,e),e.Pu.H_=J6.bind(null,e.eventManager),e.Pu.yu=Z6.bind(null,e.eventManager),e}function gk(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=hk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=fk.bind(null,e),e}class D0{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=fm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return y6(this.persistence,new v6,e.initialUser,this.serializer)}Cu(e){return new rS(dv.mi,this.serializer)}Du(e){return new b6}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}D0.provider={build:()=>new D0};class vk extends D0{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){It(this.persistence.referenceDelegate instanceof R0,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new n6(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?Pr.withCacheSize(this.cacheSizeBytes):Pr.DEFAULT;return new rS((r=>R0.mi(r,t)),this.serializer)}}class N1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>aT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mk.bind(null,this.syncEngine),await X6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Q6})()}createDatastore(e){const t=fm(e.databaseInfo.databaseId),r=(function(o){return new O6(o)})(e.databaseInfo);return(function(o,c,h,m){return new j6(o,c,h,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,i,o,c,h){return new L6(r,i,o,c,h)})(this.localStore,this.datastore,e.asyncQueue,(t=>aT(this.syncEngine,t,0)),(function(){return J2.v()?new J2:new N6})())}createSyncEngine(e,t){return(function(i,o,c,h,m,d,v){const x=new rk(i,o,c,h,m,d);return v&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ot(t);He(dl,"RemoteStore shutting down."),r.Ea.add(5),await lf(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}N1.provider={build:()=>new N1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="FirestoreClient";class _k{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=lr.UNAUTHENTICATED,this.clientId=ev.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async c=>{He(fo,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(He(fo,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Xi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ev(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function Hg(n,e){n.asyncQueue.verifyOperationInProgress(),He(fo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async i=>{r.isEqual(i)||(await aS(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function sT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await xk(n);He(fo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>eT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,i)=>eT(e.remoteStore,i))),n._onlineComponents=e}async function xk(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){He(fo,"Using user provided OfflineComponentProvider");try{await Hg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Se.FAILED_PRECONDITION||i.code===Se.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(t))throw t;Uc("Error using user provided cache. Falling back to memory cache: "+t),await Hg(n,new D0)}}else He(fo,"Using default OfflineComponentProvider"),await Hg(n,new vk(void 0));return n._offlineComponents}async function CS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(He(fo,"Using user provided OnlineComponentProvider"),await sT(n,n._uninitializedComponentsProvider._online)):(He(fo,"Using default OnlineComponentProvider"),await sT(n,new N1))),n._onlineComponents}function yk(n){return CS(n).then((e=>e.syncEngine))}async function bS(n){const e=await CS(n),t=e.eventManager;return t.onListen=ak.bind(null,e.syncEngine),t.onUnlisten=ok.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ik.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=lk.bind(null,e.syncEngine),t}function Ek(n,e,t={}){const r=new Xi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,d){const v=new SS({next:y=>{v.Nu(),c.enqueueAndForget((()=>pS(o,x)));const T=y.docs.has(h);!T&&y.fromCache?d.reject(new ze(Se.UNAVAILABLE,"Failed to get document because the client is offline.")):T&&y.fromCache&&m&&m.source==="server"?d.reject(new ze(Se.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(y)},error:y=>d.reject(y)}),x=new gS(sv(h.path),v,{includeMetadataChanges:!0,qa:!0});return mS(o,x)})(await bS(n),n.asyncQueue,e,t,r))),r.promise}function Tk(n,e,t={}){const r=new Xi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,m,d){const v=new SS({next:y=>{v.Nu(),c.enqueueAndForget((()=>pS(o,x))),y.fromCache&&m.source==="server"?d.reject(new ze(Se.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(y)},error:y=>d.reject(y)}),x=new gS(h,v,{includeMetadataChanges:!0,qa:!0});return mS(o,x)})(await bS(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RS="firestore.googleapis.com",lT=!0;class cT{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ze(Se.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=RS,this.ssl=lT}else this.host=e.host,this.ssl=e.ssl??lT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=nS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e6)throw new ze(Se.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NS(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ze(Se.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pm{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new cT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ze(Se.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ze(Se.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new cT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ND;switch(r.type){case"firstParty":return new OD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ze(Se.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=oT.get(t);r&&(He("ComponentProvider","Removing Datastore"),oT.delete(t),r.terminate())})(this),Promise.resolve()}}function wk(n,e,t,r={}){n=Ha(n,pm);const i=$c(e),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${e}:${t}`;i&&(xw(`https://${h}`),yw("Firestore",!0)),o.host!==RS&&o.host!==h&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:h,ssl:i,emulatorOptions:r};if(!ll(m,c)&&(n._setSettings(m),r.mockUserToken)){let d,v;if(typeof r.mockUserToken=="string")d=r.mockUserToken,v=lr.MOCK_USER;else{d=LN(r.mockUserToken,n._app?.options.projectId);const x=r.mockUserToken.sub||r.mockUserToken.user_id;if(!x)throw new ze(Se.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new lr(x)}n._authCredentials=new RD(new mA(d,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yl(this.firestore,e,this._query)}}class gn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gn(this.firestore,e,this._key)}toJSON(){return{type:gn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(af(t,gn._jsonSchema))return new gn(e,r||null,new Qe(Yt.fromString(t.referencePath)))}}gn._jsonSchemaVersion="firestore/documentReference/1.0",gn._jsonSchema={type:bn("string",gn._jsonSchemaVersion),referencePath:bn("string")};class io extends yl{constructor(e,t,r){super(e,t,sv(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gn(this.firestore,null,new Qe(e))}withConverter(e){return new io(this.firestore,e,this._path)}}function Cn(n,e,...t){if(n=zn(n),pA("collection","path",e),n instanceof pm){const r=Yt.fromString(e,...t);return T2(r),new io(n,null,r)}{if(!(n instanceof gn||n instanceof io))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return T2(r),new io(n.firestore,null,r)}}function Wt(n,e,...t){if(n=zn(n),arguments.length===1&&(e=ev.newId()),pA("doc","path",e),n instanceof pm){const r=Yt.fromString(e,...t);return E2(r),new gn(n,null,new Qe(r))}{if(!(n instanceof gn||n instanceof io))throw new ze(Se.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yt.fromString(e,...t));return E2(r),new gn(n.firestore,n instanceof io?n.converter:null,new Qe(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uT="AsyncQueue";class hT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new sS(this,"async_queue_retry"),this._c=()=>{const r=qg();r&&He(uT,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=qg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=qg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Xi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Jc(e))throw e;He(uT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",fT(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const i=yv.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(i),i}uc(){this.nc&&nt(47125,{Pc:fT(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function fT(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class El extends pm{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new hT,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new hT(e),this._firestoreClient=void 0,await e}}}function Ak(n,e){const t=typeof n=="object"?n:Aw(),r=typeof n=="string"?n:w0,i=H1(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=jN("firestore");o&&wk(i,...o)}return i}function Sv(n){if(n._terminated)throw new ze(Se.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Sk(n),n._firestoreClient}function Sk(n){const e=n._freezeSettings(),t=(function(i,o,c,h){return new XD(i,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new _k(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(i){const o=i?._online.build();return{_offline:i?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ea(tr.fromBase64String(e))}catch(t){throw new ze(Se.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ea(tr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ea._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(af(e,Ea._jsonSchema))return Ea.fromBase64String(e.bytes)}}Ea._jsonSchemaVersion="firestore/bytes/1.0",Ea._jsonSchema={type:bn("string",Ea._jsonSchemaVersion),bytes:bn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ze(Se.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ze(Se.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ze(Se.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return _t(this._lat,e._lat)||_t(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:mi._jsonSchemaVersion}}static fromJSON(e){if(af(e,mi._jsonSchema))return new mi(e.latitude,e.longitude)}}mi._jsonSchemaVersion="firestore/geoPoint/1.0",mi._jsonSchema={type:bn("string",mi._jsonSchemaVersion),latitude:bn("number"),longitude:bn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(af(e,pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new pi(e.vectorValues);throw new ze(Se.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}pi._jsonSchemaVersion="firestore/vectorValue/1.0",pi._jsonSchema={type:bn("string",pi._jsonSchemaVersion),vectorValues:bn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ck=/^__.*__$/;class bk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms):new sf(e,this.data,t,this.fieldTransforms)}}class IS{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Eo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function DS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt(40011,{Ac:n})}}class bv{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new bv({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return O0(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(DS(this.Ac)&&Ck.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Nk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||fm(e)}Cc(e,t,r,i=!1){return new bv({Ac:e,methodName:t,Dc:r,path:Qn.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function vm(n){const e=n._freezeSettings(),t=fm(n._databaseId);return new Nk(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(n,e,t,r,i,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,e,t,i);Nv("Data must be an object, but it was:",c,r);const h=kS(r,c);let m,d;if(o.merge)m=new ta(c.fieldMask),d=c.fieldTransforms;else if(o.mergeFields){const v=[];for(const x of o.mergeFields){const y=R1(e,x,t);if(!c.contains(y))throw new ze(Se.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);PS(v,y)||v.push(y)}m=new ta(v),d=c.fieldTransforms.filter((x=>m.covers(x.field)))}else m=null,d=c.fieldTransforms;return new bk(new jr(h),m,d)}class _m extends Cv{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof _m}}function Rk(n,e,t,r){const i=n.Cc(1,e,t);Nv("Data must be an object, but it was:",i,r);const o=[],c=jr.empty();yo(r,((m,d)=>{const v=Rv(e,m,t);d=zn(d);const x=i.yc(v);if(d instanceof _m)o.push(v);else{const y=uf(d,x);y!=null&&(o.push(v),c.set(v,y))}}));const h=new ta(o);return new IS(c,h,i.fieldTransforms)}function Ik(n,e,t,r,i,o){const c=n.Cc(1,e,t),h=[R1(e,r,t)],m=[i];if(o.length%2!=0)throw new ze(Se.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)h.push(R1(e,o[y])),m.push(o[y+1]);const d=[],v=jr.empty();for(let y=h.length-1;y>=0;--y)if(!PS(d,h[y])){const T=h[y];let N=m[y];N=zn(N);const A=c.yc(T);if(N instanceof _m)d.push(T);else{const b=uf(N,A);b!=null&&(d.push(T),v.set(T,b))}}const x=new ta(d);return new IS(v,x,c.fieldTransforms)}function Dk(n,e,t,r=!1){return uf(t,n.Cc(r?4:3,e))}function uf(n,e){if(MS(n=zn(n)))return Nv("Unsupported field value:",e,n),kS(n,e);if(n instanceof Cv)return(function(r,i){if(!DS(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,i){const o=[];let c=0;for(const h of r){let m=uf(h,i.wc(c));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),c++}return{arrayValue:{values:o}}})(n,e)}return(function(r,i){if((r=zn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return _O(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Xe.fromDate(r);return{timestampValue:N0(i.serializer,o)}}if(r instanceof Xe){const o=new Xe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:N0(i.serializer,o)}}if(r instanceof mi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ea)return{bytesValue:XA(i.serializer,r._byteString)};if(r instanceof gn){const o=i.databaseId,c=r.firestore._databaseId;if(!c.isEqual(o))throw i.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:hv(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof pi)return(function(c,h){return{mapValue:{fields:{[AA]:{stringValue:SA},[A0]:{arrayValue:{values:c.toArray().map((d=>{if(typeof d!="number")throw h.Sc("VectorValues must only contain numeric values.");return ov(h.serializer,d)}))}}}}}})(r,i);throw i.Sc(`Unsupported field value: ${rm(r)}`)})(n,e)}function kS(n,e){const t={};return _A(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(n,((r,i)=>{const o=uf(i,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function MS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof mi||n instanceof Ea||n instanceof gn||n instanceof Cv||n instanceof pi)}function Nv(n,e,t){if(!MS(t)||!gA(t)){const r=rm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function R1(n,e,t){if((e=zn(e))instanceof gm)return e._internalPath;if(typeof e=="string")return Rv(n,e);throw O0("Field path arguments must be of type string or ",n,!1,void 0,t)}const Ok=new RegExp("[~\\*/\\[\\]]");function Rv(n,e,t){if(e.search(Ok)>=0)throw O0(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new gm(...e.split("."))._internalPath}catch{throw O0(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function O0(n,e,t,r,i){const o=r&&!r.isEmpty(),c=i!==void 0;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let m="";return(o||c)&&(m+=" (found",o&&(m+=` in field ${r}`),c&&(m+=` in document ${i}`),m+=")"),new ze(Se.INVALID_ARGUMENT,h+n+m)}function PS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new gn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(xm("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class kk extends jS{data(){return super.data()}}function xm(n,e){return typeof e=="string"?Rv(n,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mk(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ze(Se.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Iv{}class FS extends Iv{}function Ta(n,e,...t){let r=[];e instanceof Iv&&r.push(e),r=r.concat(t),(function(o){const c=o.filter((m=>m instanceof Dv)).length,h=o.filter((m=>m instanceof ym)).length;if(c>1||c>0&&h>0)throw new ze(Se.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)n=i._apply(n);return n}class ym extends FS{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new ym(e,t,r)}_apply(e){const t=this._parse(e);return LS(e._query,t),new yl(e.firestore,e.converter,_1(e._query,t))}_parse(e){const t=vm(e.firestore);return(function(o,c,h,m,d,v,x){let y;if(d.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){mT(x,v);const N=[];for(const A of x)N.push(dT(m,o,A));y={arrayValue:{values:N}}}else y=dT(m,o,x)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||mT(x,v),y=Dk(h,c,x,v==="in"||v==="not-in");return Sn.create(d,v,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Tr(n,e,t){const r=e,i=xm("where",n);return ym._create(i,r,t)}class Dv extends Iv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Dv(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:Ga.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(i,o){let c=i;const h=o.getFlattenedFilters();for(const m of h)LS(c,m),c=_1(c,m)})(e._query,t),new yl(e.firestore,e.converter,_1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ov extends FS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ov(e,t)}_apply(e){const t=(function(i,o,c){if(i.startAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ze(Se.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Bh(o,c)})(e._query,this._field,this._direction);return new yl(e.firestore,e.converter,(function(i,o){const c=i.explicitOrderBy.concat([o]);return new Zc(i.path,i.collectionGroup,c,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,t))}}function mo(n,e="asc"){const t=e,r=xm("orderBy",n);return Ov._create(r,t)}function dT(n,e,t){if(typeof(t=zn(t))=="string"){if(t==="")throw new ze(Se.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!kA(e)&&t.indexOf("/")!==-1)throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Yt.fromString(t));if(!Qe.isDocumentKey(r))throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return I2(n,new Qe(r))}if(t instanceof gn)return I2(n,t._key);throw new ze(Se.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rm(t)}.`)}function mT(n,e){if(!Array.isArray(n)||n.length===0)throw new ze(Se.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function LS(n,e){const t=(function(i,o){for(const c of i)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ze(Se.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class Pk{convertValue(e,t="none"){switch(uo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(co(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw nt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return yo(e,((i,o)=>{r[i]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[A0].arrayValue?.values?.map((r=>pn(r.doubleValue)));return new pi(t)}convertGeoPoint(e){return new mi(pn(e.latitude),pn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=sm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Lh(e));default:return null}}convertTimestamp(e){const t=lo(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yt.fromString(e);It(tS(r),9688,{name:e});const i=new Vh(r.get(1),r.get(3)),o=new Qe(r.popFirst(5));return i.isEqual(t)||ns(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class xh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class il extends jS{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new h0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(xm("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Se.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=il._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}il._jsonSchemaVersion="firestore/documentSnapshot/1.0",il._jsonSchema={type:bn("string",il._jsonSchemaVersion),bundleSource:bn("string","DocumentSnapshot"),bundleName:bn("string"),bundle:bn("string")};class h0 extends il{data(e={}){return super.data(e)}}class Oc{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new xh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new h0(this._firestore,this._userDataWriter,r.key,r,new xh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ze(Se.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(i,o){if(i._snapshot.oldDocs.isEmpty()){let c=0;return i._snapshot.docChanges.map((h=>{const m=new h0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new xh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);return h.doc,{type:"added",doc:m,oldIndex:-1,newIndex:c++}}))}{let c=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const m=new h0(i._firestore,i._userDataWriter,h.doc.key,h.doc,new xh(i._snapshot.mutatedKeys.has(h.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,v=-1;return h.type!==0&&(d=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),v=c.indexOf(h.doc.key)),{type:jk(h.type),doc:m,oldIndex:d,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ze(Se.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Oc._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ev.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],i=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),i.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function jk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(n){n=Ha(n,gn);const e=Ha(n.firestore,El);return Ek(Sv(e),n._key).then((t=>Fk(e,n,t)))}Oc._jsonSchemaVersion="firestore/querySnapshot/1.0",Oc._jsonSchema={type:bn("string",Oc._jsonSchemaVersion),bundleSource:bn("string","QuerySnapshot"),bundleName:bn("string"),bundle:bn("string")};class US extends Pk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new gn(this.firestore,null,t)}}function wa(n){n=Ha(n,yl);const e=Ha(n.firestore,El),t=Sv(e),r=new US(e);return Mk(n._query),Tk(t,n._query).then((i=>new Oc(e,r,n,i)))}function pT(n,e,t){n=Ha(n,gn);const r=Ha(n.firestore,El),i=VS(n.converter,e);return Em(r,[OS(vm(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Aa.none())])}function Ka(n,e,t,...r){n=Ha(n,gn);const i=Ha(n.firestore,El),o=vm(i);let c;return c=typeof(e=zn(e))=="string"||e instanceof gm?Ik(o,"updateDoc",n._key,e,t,r):Rk(o,"updateDoc",n._key,e),Em(i,[c.toMutation(n._key,Aa.exists(!0))])}function is(n){return Em(Ha(n.firestore,El),[new lv(n._key,Aa.none())])}function To(n,e){const t=Ha(n.firestore,El),r=Wt(n),i=VS(n.converter,e);return Em(t,[OS(vm(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Aa.exists(!1))]).then((()=>r))}function Em(n,e){return(function(r,i){const o=new Xi;return r.asyncQueue.enqueueAndForget((async()=>ck(await yk(r),i,o))),o.promise})(Sv(n),e)}function Fk(n,e,t){const r=t.docs.get(e._key),i=new US(n);return new il(n,i,e._key,r,new xh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){Yc=i})(Wc),Vc(new cl("firestore",((r,{instanceIdentifier:i,options:o})=>{const c=r.getProvider("app").getImmediate(),h=new El(new ID(r.getProvider("auth-internal")),new kD(c,r.getProvider("app-check-internal")),(function(d,v){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new ze(Se.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vh(d.options.projectId,v)})(c,i),c);return o={useFetchStreams:t,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),ro(v2,_2,e),ro(v2,_2,"esm2020")})();const Lk={apiKey:"AIzaSyCPjYXHSx_RgxBs8fXhYKbX1kCohqARi7k",authDomain:"carlos-3d173.firebaseapp.com",projectId:"carlos-3d173",storageBucket:"carlos-3d173.firebasestorage.app",messagingSenderId:"477163826623",appId:"1:477163826623:web:e6f176af4ff42df0fdc50a"},BS=ww(Lk),qd=CD(BS),at=Ak(BS);function kc(n){if(typeof n=="string")return n;switch(n?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const Gg={async logOut(){try{await p3(qd)}catch(n){const e=kc(n);throw new Error(e)}},async login(n){try{const t=(await h3(qd,n.email,n.password)).user,r=await as(Wt(at,"users",t.uid));if(!r.exists())throw new Error("Usurio no encontrado");const o={...r.data(),lastLogin:new Date};return await pT(Wt(at,"users",t.uid),o),o}catch(e){const t=kc(e);throw new Error(t)}},async register(n){try{if(!n.email||!n.password||!n.name)throw new Error("Todos os campos so obrigatrios");if(n.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const t=(await u3(qd,n.email,n.password)).user,r={uid:t.uid,email:n.email,name:n.name,createdAt:new Date,updatedAt:new Date,role:n.role||"user"};return await pT(Wt(at,"users",t.uid),r),r}catch(e){const t=kc(e);throw new Error(t)}},observeAuthState(n){try{return m3(qd,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const t=await as(Wt(at,"users",e.uid));if(t.exists()){const r=t.data();console.log(" Usurio autenticado:",r),n(r)}else console.log(" Usurio no encontrado no Firestore"),n(null)}catch(t){console.error(" Erro ao buscar dados do usurio:",t),n(null)}else console.log(" Usurio deslogado"),n(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},zS=W.createContext(void 0);function Vk({children:n}){const[e,t]=W.useState(null),[r,i]=W.useState(!0),[o,c]=W.useState(null);W.useEffect(()=>{t(null),i(!1)},[]);const x={user:e,loading:r,error:o,login:async y=>{try{i(!0),c(null);const T=await Gg.login(y);t(T),i(!1)}catch(T){const N=kc(T);c(N),i(!1),t(null)}},register:async y=>{try{i(!0),c(null);const T=await Gg.register(y);t(T),i(!1)}catch(T){const N=kc(T);c(N),i(!1),t(null)}},logout:async()=>{try{i(!0),c(null),await Gg.logOut(),t(null),i(!1)}catch(y){const T=kc(y);c(T),i(!1)}},clearError:()=>{c(null)}};return f.jsx(zS.Provider,{value:x,children:n})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var gT="popstate";function Uk(n={}){function e(r,i){let{pathname:o,search:c,hash:h}=r.location;return I1("",{pathname:o,search:c,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:Hh(i)}return zk(e,t,null,n)}function rn(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $a(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Bk(){return Math.random().toString(36).substring(2,10)}function vT(n,e){return{usr:n.state,key:n.key,idx:e}}function I1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?tu(e):e,state:t,key:e&&e.key||r||Bk()}}function Hh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function tu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function zk(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,c=i.history,h="POP",m=null,d=v();d==null&&(d=0,c.replaceState({...c.state,idx:d},""));function v(){return(c.state||{idx:null}).idx}function x(){h="POP";let b=v(),P=b==null?null:b-d;d=b,m&&m({action:h,location:A.location,delta:P})}function y(b,P){h="PUSH";let z=I1(A.location,b,P);d=v()+1;let q=vT(z,d),ee=A.createHref(z);try{c.pushState(q,"",ee)}catch(de){if(de instanceof DOMException&&de.name==="DataCloneError")throw de;i.location.assign(ee)}o&&m&&m({action:h,location:A.location,delta:1})}function T(b,P){h="REPLACE";let z=I1(A.location,b,P);d=v();let q=vT(z,d),ee=A.createHref(z);c.replaceState(q,"",ee),o&&m&&m({action:h,location:A.location,delta:0})}function N(b){return qk(b)}let A={get action(){return h},get location(){return n(i,c)},listen(b){if(m)throw new Error("A history only accepts one active listener");return i.addEventListener(gT,x),m=b,()=>{i.removeEventListener(gT,x),m=null}},createHref(b){return e(i,b)},createURL:N,encodeLocation(b){let P=N(b);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:y,replace:T,go(b){return c.go(b)}};return A}function qk(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),rn(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Hh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function qS(n,e,t="/"){return Hk(n,e,t,!1)}function Hk(n,e,t,r){let i=typeof e=="string"?tu(e):e,o=ss(i.pathname||"/",t);if(o==null)return null;let c=HS(n);Gk(c);let h=null;for(let m=0;h==null&&m<c.length;++m){let d=nM(o);h=eM(c[m],d,r)}return h}function HS(n,e=[],t=[],r="",i=!1){let o=(c,h,m=i,d)=>{let v={relativePath:d===void 0?c.path||"":d,caseSensitive:c.caseSensitive===!0,childrenIndex:h,route:c};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;rn(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let x=Yi([r,v.relativePath]),y=t.concat(v);c.children&&c.children.length>0&&(rn(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),HS(c.children,e,y,x,m)),!(c.path==null&&!c.index)&&e.push({path:x,score:Jk(x,c.index),routesMeta:y})};return n.forEach((c,h)=>{if(c.path===""||!c.path?.includes("?"))o(c,h);else for(let m of GS(c.path))o(c,h,!0,m)}),e}function GS(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let c=GS(r.join("/")),h=[];return h.push(...c.map(m=>m===""?o:[o,m].join("/"))),i&&h.push(...c),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function Gk(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Zk(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var Kk=/^:[\w-]+$/,$k=3,Wk=2,Xk=1,Yk=10,Qk=-2,_T=n=>n==="*";function Jk(n,e){let t=n.split("/"),r=t.length;return t.some(_T)&&(r+=Qk),e&&(r+=Wk),t.filter(i=>!_T(i)).reduce((i,o)=>i+(Kk.test(o)?$k:o===""?Xk:Yk),r)}function Zk(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function eM(n,e,t=!1){let{routesMeta:r}=n,i={},o="/",c=[];for(let h=0;h<r.length;++h){let m=r[h],d=h===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",x=k0({path:m.relativePath,caseSensitive:m.caseSensitive,end:d},v),y=m.route;if(!x&&d&&t&&!r[r.length-1].route.index&&(x=k0({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!x)return null;Object.assign(i,x.params),c.push({params:i,pathname:Yi([o,x.pathname]),pathnameBase:sM(Yi([o,x.pathnameBase])),route:y}),x.pathnameBase!=="/"&&(o=Yi([o,x.pathnameBase]))}return c}function k0(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=tM(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],c=o.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((d,{paramName:v,isOptional:x},y)=>{if(v==="*"){let N=h[y]||"";c=o.slice(0,o.length-N.length).replace(/(.)\/+$/,"$1")}const T=h[y];return x&&!T?d[v]=void 0:d[v]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:o,pathnameBase:c,pattern:n}}function tM(n,e=!1,t=!0){$a(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function nM(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $a(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ss(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function rM(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?tu(n):n;return{pathname:t?t.startsWith("/")?t:aM(t,e):e,search:oM(r),hash:lM(i)}}function aM(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Kg(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function iM(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function kv(n){let e=iM(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Mv(n,e,t,r=!1){let i;typeof n=="string"?i=tu(n):(i={...n},rn(!i.pathname||!i.pathname.includes("?"),Kg("?","pathname","search",i)),rn(!i.pathname||!i.pathname.includes("#"),Kg("#","pathname","hash",i)),rn(!i.search||!i.search.includes("#"),Kg("#","search","hash",i)));let o=n===""||i.pathname==="",c=o?"/":i.pathname,h;if(c==null)h=t;else{let x=e.length-1;if(!r&&c.startsWith("..")){let y=c.split("/");for(;y[0]==="..";)y.shift(),x-=1;i.pathname=y.join("/")}h=x>=0?e[x]:"/"}let m=rM(i,h),d=c&&c!=="/"&&c.endsWith("/"),v=(o||c===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(d||v)&&(m.pathname+="/"),m}var Yi=n=>n.join("/").replace(/\/\/+/g,"/"),sM=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),oM=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,lM=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function cM(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var KS=["POST","PUT","PATCH","DELETE"];new Set(KS);var uM=["GET",...KS];new Set(uM);var nu=W.createContext(null);nu.displayName="DataRouter";var Tm=W.createContext(null);Tm.displayName="DataRouterState";W.createContext(!1);var $S=W.createContext({isTransitioning:!1});$S.displayName="ViewTransition";var hM=W.createContext(new Map);hM.displayName="Fetchers";var fM=W.createContext(null);fM.displayName="Await";var Wa=W.createContext(null);Wa.displayName="Navigation";var hf=W.createContext(null);hf.displayName="Location";var Xa=W.createContext({outlet:null,matches:[],isDataRoute:!1});Xa.displayName="Route";var Pv=W.createContext(null);Pv.displayName="RouteError";function dM(n,{relative:e}={}){rn(ru(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=W.useContext(Wa),{hash:i,pathname:o,search:c}=ff(n,{relative:e}),h=o;return t!=="/"&&(h=o==="/"?t:Yi([t,o])),r.createHref({pathname:h,search:c,hash:i})}function ru(){return W.useContext(hf)!=null}function wo(){return rn(ru(),"useLocation() may be used only in the context of a <Router> component."),W.useContext(hf).location}var WS="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function XS(n){W.useContext(Wa).static||W.useLayoutEffect(n)}function au(){let{isDataRoute:n}=W.useContext(Xa);return n?CM():mM()}function mM(){rn(ru(),"useNavigate() may be used only in the context of a <Router> component.");let n=W.useContext(nu),{basename:e,navigator:t}=W.useContext(Wa),{matches:r}=W.useContext(Xa),{pathname:i}=wo(),o=JSON.stringify(kv(r)),c=W.useRef(!1);return XS(()=>{c.current=!0}),W.useCallback((m,d={})=>{if($a(c.current,WS),!c.current)return;if(typeof m=="number"){t.go(m);return}let v=Mv(m,JSON.parse(o),i,d.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(d.replace?t.replace:t.push)(v,d.state,d)},[e,t,o,i,n])}W.createContext(null);function us(){let{matches:n}=W.useContext(Xa),e=n[n.length-1];return e?e.params:{}}function ff(n,{relative:e}={}){let{matches:t}=W.useContext(Xa),{pathname:r}=wo(),i=JSON.stringify(kv(t));return W.useMemo(()=>Mv(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function pM(n,e){return YS(n,e)}function YS(n,e,t,r,i){rn(ru(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=W.useContext(Wa),{matches:c}=W.useContext(Xa),h=c[c.length-1],m=h?h.params:{},d=h?h.pathname:"/",v=h?h.pathnameBase:"/",x=h&&h.route;{let z=x&&x.path||"";QS(d,!x||z.endsWith("*")||z.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${z}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${z}"> to <Route path="${z==="/"?"*":`${z}/*`}">.`)}let y=wo(),T;if(e){let z=typeof e=="string"?tu(e):e;rn(v==="/"||z.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${z.pathname}" was given in the \`location\` prop.`),T=z}else T=y;let N=T.pathname||"/",A=N;if(v!=="/"){let z=v.replace(/^\//,"").split("/");A="/"+N.replace(/^\//,"").split("/").slice(z.length).join("/")}let b=qS(n,{pathname:A});$a(x||b!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),$a(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=yM(b&&b.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:Yi([v,o.encodeLocation?o.encodeLocation(z.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:Yi([v,o.encodeLocation?o.encodeLocation(z.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:z.pathnameBase])})),c,t,r,i);return e&&P?W.createElement(hf.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},P):P}function gM(){let n=SM(),e=cM(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},c=null;return console.error("Error handled by React Router default ErrorBoundary:",n),c=W.createElement(W.Fragment,null,W.createElement("p",null," Hey developer "),W.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",W.createElement("code",{style:o},"ErrorBoundary")," or"," ",W.createElement("code",{style:o},"errorElement")," prop on your route.")),W.createElement(W.Fragment,null,W.createElement("h2",null,"Unexpected Application Error!"),W.createElement("h3",{style:{fontStyle:"italic"}},e),t?W.createElement("pre",{style:i},t):null,c)}var vM=W.createElement(gM,null),_M=class extends W.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?W.createElement(Xa.Provider,{value:this.props.routeContext},W.createElement(Pv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xM({routeContext:n,match:e,children:t}){let r=W.useContext(nu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),W.createElement(Xa.Provider,{value:n},t)}function yM(n,e=[],t=null,r=null,i=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t?.errors;if(c!=null){let d=o.findIndex(v=>v.route.id&&c?.[v.route.id]!==void 0);rn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,d+1))}let h=!1,m=-1;if(t)for(let d=0;d<o.length;d++){let v=o[d];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=d),v.route.id){let{loaderData:x,errors:y}=t,T=v.route.loader&&!x.hasOwnProperty(v.route.id)&&(!y||y[v.route.id]===void 0);if(v.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((d,v,x)=>{let y,T=!1,N=null,A=null;t&&(y=c&&v.route.id?c[v.route.id]:void 0,N=v.route.errorElement||vM,h&&(m<0&&x===0?(QS("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,A=null):m===x&&(T=!0,A=v.route.hydrateFallbackElement||null)));let b=e.concat(o.slice(0,x+1)),P=()=>{let z;return y?z=N:T?z=A:v.route.Component?z=W.createElement(v.route.Component,null):v.route.element?z=v.route.element:z=d,W.createElement(xM,{match:v,routeContext:{outlet:d,matches:b,isDataRoute:t!=null},children:z})};return t&&(v.route.ErrorBoundary||v.route.errorElement||x===0)?W.createElement(_M,{location:t.location,revalidation:t.revalidation,component:N,error:y,children:P(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:r}):P()},null)}function jv(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function EM(n){let e=W.useContext(nu);return rn(e,jv(n)),e}function TM(n){let e=W.useContext(Tm);return rn(e,jv(n)),e}function wM(n){let e=W.useContext(Xa);return rn(e,jv(n)),e}function Fv(n){let e=wM(n),t=e.matches[e.matches.length-1];return rn(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function AM(){return Fv("useRouteId")}function SM(){let n=W.useContext(Pv),e=TM("useRouteError"),t=Fv("useRouteError");return n!==void 0?n:e.errors?.[t]}function CM(){let{router:n}=EM("useNavigate"),e=Fv("useNavigate"),t=W.useRef(!1);return XS(()=>{t.current=!0}),W.useCallback(async(i,o={})=>{$a(t.current,WS),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...o}))},[n,e])}var xT={};function QS(n,e,t){!e&&!xT[n]&&(xT[n]=!0,$a(!1,t))}W.memo(bM);function bM({routes:n,future:e,state:t,unstable_onError:r}){return YS(n,void 0,t,r,e)}function Lv({to:n,replace:e,state:t,relative:r}){rn(ru(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=W.useContext(Wa);$a(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=W.useContext(Xa),{pathname:c}=wo(),h=au(),m=Mv(n,kv(o),c,r==="path"),d=JSON.stringify(m);return W.useEffect(()=>{h(JSON.parse(d),{replace:e,state:t,relative:r})},[h,d,r,e,t]),null}function Dn(n){rn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function NM({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:o=!1}){rn(!ru(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=n.replace(/^\/*/,"/"),h=W.useMemo(()=>({basename:c,navigator:i,static:o,future:{}}),[c,i,o]);typeof t=="string"&&(t=tu(t));let{pathname:m="/",search:d="",hash:v="",state:x=null,key:y="default"}=t,T=W.useMemo(()=>{let N=ss(m,c);return N==null?null:{location:{pathname:N,search:d,hash:v,state:x,key:y},navigationType:r}},[c,m,d,v,x,y,r]);return $a(T!=null,`<Router basename="${c}"> is not able to match the URL "${m}${d}${v}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:W.createElement(Wa.Provider,{value:h},W.createElement(hf.Provider,{children:e,value:T}))}function RM({children:n,location:e}){return pM(D1(n),e)}function D1(n,e=[]){let t=[];return W.Children.forEach(n,(r,i)=>{if(!W.isValidElement(r))return;let o=[...e,i];if(r.type===W.Fragment){t.push.apply(t,D1(r.props.children,o));return}rn(r.type===Dn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),rn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let c={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(c.children=D1(r.props.children,o)),t.push(c)}),t}var f0="get",d0="application/x-www-form-urlencoded";function wm(n){return n!=null&&typeof n.tagName=="string"}function IM(n){return wm(n)&&n.tagName.toLowerCase()==="button"}function DM(n){return wm(n)&&n.tagName.toLowerCase()==="form"}function OM(n){return wm(n)&&n.tagName.toLowerCase()==="input"}function kM(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function MM(n,e){return n.button===0&&(!e||e==="_self")&&!kM(n)}var Hd=null;function PM(){if(Hd===null)try{new FormData(document.createElement("form"),0),Hd=!1}catch{Hd=!0}return Hd}var jM=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function $g(n){return n!=null&&!jM.has(n)?($a(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${d0}"`),null):n}function FM(n,e){let t,r,i,o,c;if(DM(n)){let h=n.getAttribute("action");r=h?ss(h,e):null,t=n.getAttribute("method")||f0,i=$g(n.getAttribute("enctype"))||d0,o=new FormData(n)}else if(IM(n)||OM(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(r=m?ss(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||f0,i=$g(n.getAttribute("formenctype"))||$g(h.getAttribute("enctype"))||d0,o=new FormData(h,n),!PM()){let{name:d,type:v,value:x}=n;if(v==="image"){let y=d?`${d}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else d&&o.append(d,x)}}else{if(wm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=f0,r=null,i=d0,c=n}return o&&i==="text/plain"&&(c=o,o=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:o,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Vv(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function LM(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&ss(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function VM(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function UM(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function BM(n,e,t){let r=await Promise.all(n.map(async i=>{let o=e.routes[i.route.id];if(o){let c=await VM(o,t);return c.links?c.links():[]}return[]}));return GM(r.flat(1).filter(UM).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function yT(n,e,t,r,i,o){let c=(m,d)=>t[d]?m.route.id!==t[d].route.id:!0,h=(m,d)=>t[d].pathname!==m.pathname||t[d].route.path?.endsWith("*")&&t[d].params["*"]!==m.params["*"];return o==="assets"?e.filter((m,d)=>c(m,d)||h(m,d)):o==="data"?e.filter((m,d)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(c(m,d)||h(m,d))return!0;if(m.route.shouldRevalidate){let x=m.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function zM(n,e,{includeHydrateFallback:t}={}){return qM(n.map(r=>{let i=e.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),t&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function qM(n){return[...new Set(n)]}function HM(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function GM(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let o=JSON.stringify(HM(i));return t.has(o)||(t.add(o),r.push({key:o,link:i})),r},[])}function JS(){let n=W.useContext(nu);return Vv(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function KM(){let n=W.useContext(Tm);return Vv(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Uv=W.createContext(void 0);Uv.displayName="FrameworkContext";function ZS(){let n=W.useContext(Uv);return Vv(n,"You must render this element inside a <HydratedRouter> element"),n}function $M(n,e){let t=W.useContext(Uv),[r,i]=W.useState(!1),[o,c]=W.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:d,onMouseLeave:v,onTouchStart:x}=e,y=W.useRef(null);W.useEffect(()=>{if(n==="render"&&c(!0),n==="viewport"){let A=P=>{P.forEach(z=>{c(z.isIntersecting)})},b=new IntersectionObserver(A,{threshold:.5});return y.current&&b.observe(y.current),()=>{b.disconnect()}}},[n]),W.useEffect(()=>{if(r){let A=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(A)}}},[r]);let T=()=>{i(!0)},N=()=>{i(!1),c(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:lh(h,T),onBlur:lh(m,N),onMouseEnter:lh(d,T),onMouseLeave:lh(v,N),onTouchStart:lh(x,T)}]:[!1,y,{}]}function lh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function WM({page:n,...e}){let{router:t}=JS(),r=W.useMemo(()=>qS(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?W.createElement(YM,{page:n,matches:r,...e}):null}function XM(n){let{manifest:e,routeModules:t}=ZS(),[r,i]=W.useState([]);return W.useEffect(()=>{let o=!1;return BM(n,e,t).then(c=>{o||i(c)}),()=>{o=!0}},[n,e,t]),r}function YM({page:n,matches:e,...t}){let r=wo(),{manifest:i,routeModules:o}=ZS(),{basename:c}=JS(),{loaderData:h,matches:m}=KM(),d=W.useMemo(()=>yT(n,e,m,i,r,"data"),[n,e,m,i,r]),v=W.useMemo(()=>yT(n,e,m,i,r,"assets"),[n,e,m,i,r]),x=W.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let N=new Set,A=!1;if(e.forEach(P=>{let z=i.routes[P.route.id];!z||!z.hasLoader||(!d.some(q=>q.route.id===P.route.id)&&P.route.id in h&&o[P.route.id]?.shouldRevalidate||z.hasClientLoader?A=!0:N.add(P.route.id))}),N.size===0)return[];let b=LM(n,c,"data");return A&&N.size>0&&b.searchParams.set("_routes",e.filter(P=>N.has(P.route.id)).map(P=>P.route.id).join(",")),[b.pathname+b.search]},[c,h,r,i,d,e,n,o]),y=W.useMemo(()=>zM(v,i),[v,i]),T=XM(v);return W.createElement(W.Fragment,null,x.map(N=>W.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...t})),y.map(N=>W.createElement("link",{key:N,rel:"modulepreload",href:N,...t})),T.map(({key:N,link:A})=>W.createElement("link",{key:N,nonce:t.nonce,...A})))}function QM(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var eC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eC&&(window.__reactRouterVersion="7.9.4")}catch{}function JM({basename:n,children:e,window:t}){let r=W.useRef();r.current==null&&(r.current=Uk({window:t,v5Compat:!0}));let i=r.current,[o,c]=W.useState({action:i.action,location:i.location}),h=W.useCallback(m=>{W.startTransition(()=>c(m))},[c]);return W.useLayoutEffect(()=>i.listen(h),[i,h]),W.createElement(NM,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:i})}var tC=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Am=W.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:o,replace:c,state:h,target:m,to:d,preventScrollReset:v,viewTransition:x,...y},T){let{basename:N}=W.useContext(Wa),A=typeof d=="string"&&tC.test(d),b,P=!1;if(typeof d=="string"&&A&&(b=d,eC))try{let C=new URL(window.location.href),M=d.startsWith("//")?new URL(C.protocol+d):new URL(d),j=ss(M.pathname,N);M.origin===C.origin&&j!=null?d=j+M.search+M.hash:P=!0}catch{$a(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let z=dM(d,{relative:i}),[q,ee,de]=$M(r,y),_e=t5(d,{replace:c,state:h,target:m,preventScrollReset:v,relative:i,viewTransition:x});function R(C){e&&e(C),C.defaultPrevented||_e(C)}let I=W.createElement("a",{...y,...de,href:b||z,onClick:P||o?e:R,ref:QM(T,ee),target:m,"data-discover":!A&&t==="render"?"true":void 0});return q&&!A?W.createElement(W.Fragment,null,I,W.createElement(WM,{page:z})):I});Am.displayName="Link";var nC=W.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:o,to:c,viewTransition:h,children:m,...d},v){let x=ff(c,{relative:d.relative}),y=wo(),T=W.useContext(Tm),{navigator:N,basename:A}=W.useContext(Wa),b=T!=null&&s5(x)&&h===!0,P=N.encodeLocation?N.encodeLocation(x).pathname:x.pathname,z=y.pathname,q=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(z=z.toLowerCase(),q=q?q.toLowerCase():null,P=P.toLowerCase()),q&&A&&(q=ss(q,A)||q);const ee=P!=="/"&&P.endsWith("/")?P.length-1:P.length;let de=z===P||!i&&z.startsWith(P)&&z.charAt(ee)==="/",_e=q!=null&&(q===P||!i&&q.startsWith(P)&&q.charAt(P.length)==="/"),R={isActive:de,isPending:_e,isTransitioning:b},I=de?e:void 0,C;typeof r=="function"?C=r(R):C=[r,de?"active":null,_e?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let M=typeof o=="function"?o(R):o;return W.createElement(Am,{...d,"aria-current":I,className:C,ref:v,style:M,to:c,viewTransition:h},typeof m=="function"?m(R):m)});nC.displayName="NavLink";var ZM=W.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:o,method:c=f0,action:h,onSubmit:m,relative:d,preventScrollReset:v,viewTransition:x,...y},T)=>{let N=a5(),A=i5(h,{relative:d}),b=c.toLowerCase()==="get"?"get":"post",P=typeof h=="string"&&tC.test(h),z=q=>{if(m&&m(q),q.defaultPrevented)return;q.preventDefault();let ee=q.nativeEvent.submitter,de=ee?.getAttribute("formmethod")||c;N(ee||q.currentTarget,{fetcherKey:e,method:de,navigate:t,replace:i,state:o,relative:d,preventScrollReset:v,viewTransition:x})};return W.createElement("form",{ref:T,method:b,action:A,onSubmit:r?m:z,...y,"data-discover":!P&&n==="render"?"true":void 0})});ZM.displayName="Form";function e5(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rC(n){let e=W.useContext(nu);return rn(e,e5(n)),e}function t5(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:o,viewTransition:c}={}){let h=au(),m=wo(),d=ff(n,{relative:o});return W.useCallback(v=>{if(MM(v,e)){v.preventDefault();let x=t!==void 0?t:Hh(m)===Hh(d);h(n,{replace:x,state:r,preventScrollReset:i,relative:o,viewTransition:c})}},[m,h,d,t,r,e,n,i,o,c])}var n5=0,r5=()=>`__${String(++n5)}__`;function a5(){let{router:n}=rC("useSubmit"),{basename:e}=W.useContext(Wa),t=AM();return W.useCallback(async(r,i={})=>{let{action:o,method:c,encType:h,formData:m,body:d}=FM(r,e);if(i.navigate===!1){let v=i.fetcherKey||r5();await n.fetch(v,t,i.action||o,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||c,formEncType:i.encType||h,flushSync:i.flushSync})}else await n.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:m,body:d,formMethod:i.method||c,formEncType:i.encType||h,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function i5(n,{relative:e}={}){let{basename:t}=W.useContext(Wa),r=W.useContext(Xa);rn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...ff(n||".",{relative:e})},c=wo();if(n==null){o.search=c.search;let h=new URLSearchParams(o.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(x=>x).forEach(x=>h.append("index",x));let v=h.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:Yi([t,o.pathname])),Hh(o)}function s5(n,{relative:e}={}){let t=W.useContext($S);rn(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=rC("useViewTransitionState"),i=ff(n,{relative:e});if(!t.isTransitioning)return!1;let o=ss(t.currentLocation.pathname,r)||t.currentLocation.pathname,c=ss(t.nextLocation.pathname,r)||t.nextLocation.pathname;return k0(i.pathname,c)!=null||k0(i.pathname,o)!=null}var M0=fw();const $i={home:"/",login:"/login",register:"/register",dashboard:"/dashboard"},iu=()=>{const n=W.useContext(zS);if(n===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return n};function xr({children:n}){const{user:e,loading:t}=iu();return e?t?null:f.jsx(f.Fragment,{children:n}):f.jsx(Lv,{to:$i.login})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),ET=n=>{const e=l5(n);return e.charAt(0).toUpperCase()+e.slice(1)},aC=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),c5=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var u5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h5=W.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:c,...h},m)=>W.createElement("svg",{ref:m,...u5,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:aC("lucide",i),...!o&&!c5(h)&&{"aria-hidden":"true"},...h},[...c.map(([d,v])=>W.createElement(d,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=(n,e)=>{const t=W.forwardRef(({className:r,...i},o)=>W.createElement(h5,{ref:o,iconNode:e,className:aC(`lucide-${o5(ET(n))}`,`lucide-${n}`,r),...i}));return t.displayName=ET(n),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],d5=rt("activity",f5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m5=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],p5=rt("arrow-left",m5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],TT=rt("box",g5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],so=rt("building-2",v5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _5=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],yh=rt("building",_5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],y5=rt("calendar",x5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],T5=rt("chart-pie",E5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],dc=rt("check",w5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],wr=rt("circle-alert",A5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bv=rt("circle-check-big",S5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],b5=rt("circle-x",C5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],O1=rt("clock",N5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],P0=rt("dollar-sign",R5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],su=rt("ellipsis-vertical",I5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],k1=rt("eye-off",D5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],j0=rt("eye",O5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],wT=rt("factory",k5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],iC=rt("file-spreadsheet",M5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],j5=rt("file-stack",P5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],F0=rt("file-text",F5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],V5=rt("funnel",L5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],B5=rt("git-branch",U5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],q5=rt("house",z5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],G5=rt("info",H5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],zv=rt("layers",K5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],W5=rt("layout-grid",$5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Y5=rt("list",X5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],na=rt("loader-circle",Q5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],M1=rt("lock",J5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],e8=rt("log-out",Z5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t8=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],n8=rt("mail-check",t8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r8=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],sC=rt("mail",r8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a8=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],i8=rt("map-pin",a8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s8=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],P1=rt("package",s8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],AT=rt("pen",o8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l8=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],c8=rt("pencil",l8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u8=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sr=rt("plus",u8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h8=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],f8=rt("ruler",h8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d8=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],m8=rt("search",d8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p8=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],g8=rt("settings",p8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v8=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_8=rt("square-check-big",v8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x8=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Sm=rt("square-pen",x8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y8=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],vi=rt("trash-2",y8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],oC=rt("trending-up",E8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T8=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Cc=rt("triangle-alert",T8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w8=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],A8=rt("truck",w8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S8=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],C8=rt("user",S8);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b8=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mn=rt("x",b8),ST=()=>{const[n,e]=W.useState(""),[t,r]=W.useState(""),[i,o]=W.useState(!1),{login:c,loading:h,error:m,clearError:d}=iu(),v=au(),x=async y=>{if(y.preventDefault(),d(),!(!n||!t))try{await c({email:n,password:t}),v($i.dashboard)}catch(T){console.error("Erro no login:",T)}};return f.jsx("div",{className:"login-container",children:f.jsxs("div",{className:"login-content",children:[f.jsxs("div",{className:"login-left",children:[f.jsxs("div",{className:"login-brand",children:[f.jsx("div",{className:"brand-icon",children:f.jsx(so,{size:32})}),f.jsx("h1",{children:"Gesto de Obras"}),f.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),f.jsxs("div",{className:"login-features",children:[f.jsxs("div",{className:"feature-item",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(d5,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{children:"Controle Total"}),f.jsx("p",{children:"Gerencie vages, custos e estoque em tempo real"})]})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(W5,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{children:"Gesto de Contratos"}),f.jsx("p",{children:"Acompanhe medies, kits e checklists"})]})]}),f.jsxs("div",{className:"feature-item",children:[f.jsx("div",{className:"feature-icon",children:f.jsx(P0,{size:24})}),f.jsxs("div",{children:[f.jsx("h3",{children:"Anlise Financeira"}),f.jsx("p",{children:"Relatrios detalhados de custos e produo"})]})]})]})]}),f.jsx("div",{className:"login-right",children:f.jsxs("div",{className:"login-form-wrapper",children:[f.jsxs("div",{className:"login-header",children:[f.jsx("h2",{children:"Bem-vindo de volta"}),f.jsx("p",{children:"Entre com suas credenciais para acessar o sistema"})]}),m&&f.jsxs("div",{className:"error-message",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:m})]}),f.jsxs("form",{onSubmit:x,className:"login-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"E-mail"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(sC,{className:"input-icon",size:20}),f.jsx("input",{type:"email",id:"email",value:n,onChange:y=>e(y.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:h})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Senha"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(M1,{className:"input-icon",size:20}),f.jsx("input",{type:i?"text":"password",id:"password",value:t,onChange:y=>r(y.target.value),placeholder:"",required:!0,autoComplete:"current-password",disabled:h}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!i),tabIndex:-1,children:i?f.jsx(k1,{size:20}):f.jsx(j0,{size:20})})]})]}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:h,children:h?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Entrando..."]}):"Entrar"})]}),f.jsx("div",{className:"login-footer",children:f.jsxs("p",{children:["No tem uma conta?"," ",f.jsx(Am,{to:$i.register,className:"link-primary",children:"Cadastre-se"})]})})]})})]})})},N8=n=>n==="admin@gmail.com"?"admin":"user",R8=()=>{const[n,e]=W.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),[t,r]=W.useState(!1),[i,o]=W.useState(!1),[c,h]=W.useState(""),{register:m,loading:d,error:v,clearError:x}=iu(),y=au(),T=P=>{const{name:z,value:q}=P.target;e(ee=>({...ee,[z]:q})),h(""),x()},N=()=>!n.name||!n.email||!n.password||!n.confirmPassword?(h("Todos os campos so obrigatrios"),!1):n.name.length<3?(h("O nome deve ter pelo menos 3 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password.length<6?(h("A senha deve ter pelo menos 6 caracteres"),!1):n.password!==n.confirmPassword?(h("As senhas no coincidem"),!1):!0:(h("Digite um e-mail vlido"),!1),A=async P=>{if(P.preventDefault(),x(),h(""),!!N())try{await m({name:n.name,email:n.email,password:n.password,role:N8(n.email)}),y($i.dashboard)}catch(z){console.error("Erro no registro:",z)}},b=c||v;return f.jsx("div",{className:"register-container",children:f.jsxs("div",{className:"register-content",children:[f.jsxs("div",{className:"register-left",children:[f.jsxs("div",{className:"register-brand",children:[f.jsx("div",{className:"brand-icon",children:f.jsx(so,{size:32})}),f.jsx("h1",{children:"Gesto de Obras"}),f.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),f.jsxs("div",{className:"register-benefits",children:[f.jsx("h3",{children:"Ao criar sua conta, voc ter acesso a:"}),f.jsxs("ul",{className:"benefits-list",children:[f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Controle completo de vages e equipamentos"})]}),f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Gesto de custos e oramentos em tempo real"})]}),f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Controle de estoque e materiais"})]}),f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Gerenciamento de contratos e documentos"})]}),f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Acompanhamento de medies e produo"})]}),f.jsxs("li",{children:[f.jsx(dc,{size:20}),f.jsx("span",{children:"Relatrios e anlises detalhadas"})]})]})]})]}),f.jsx("div",{className:"register-right",children:f.jsxs("div",{className:"register-form-wrapper",children:[f.jsxs("div",{className:"register-header",children:[f.jsx("h2",{children:"Criar nova conta"}),f.jsx("p",{children:"Preencha os dados abaixo para comear"})]}),b&&f.jsxs("div",{className:"error-message",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:b})]}),f.jsxs("form",{onSubmit:A,className:"register-form",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"name",children:"Nome completo"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(C8,{className:"input-icon",size:20}),f.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:T,placeholder:"Seu nome completo",required:!0,autoComplete:"name",disabled:d})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"email",children:"E-mail"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(sC,{className:"input-icon",size:20}),f.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:T,placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:d})]})]}),f.jsxs("div",{className:"form-row",children:[f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"password",children:"Senha"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(M1,{className:"input-icon",size:20}),f.jsx("input",{type:t?"text":"password",id:"password",name:"password",value:n.password,onChange:T,placeholder:"",required:!0,autoComplete:"new-password",disabled:d}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!t),tabIndex:-1,children:t?f.jsx(k1,{size:20}):f.jsx(j0,{size:20})})]})]}),f.jsxs("div",{className:"form-group",children:[f.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar senha"}),f.jsxs("div",{className:"input-wrapper",children:[f.jsx(M1,{className:"input-icon",size:20}),f.jsx("input",{type:i?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:T,placeholder:"",required:!0,autoComplete:"new-password",disabled:d}),f.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!i),tabIndex:-1,children:i?f.jsx(k1,{size:20}):f.jsx(j0,{size:20})})]})]})]}),f.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"spinner"}),"Criando conta..."]}):"Criar conta"})]}),f.jsx("div",{className:"register-footer",children:f.jsxs("p",{children:["J tem uma conta?"," ",f.jsx(Am,{to:$i.login,className:"link-primary",children:"Faa login"})]})})]})})]})})},ch="obras",Wg={async createObra(n,e){try{const t={nome:n.nome,numeroPavimentos:n.numeroPavimentos,numeroTorres:n.numeroTorres,userId:e,status:"ativa",createdAt:Xe.now(),updatedAt:Xe.now()};return{id:(await To(Cn(at,ch),t)).id,...t,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar obra:",t),new Error("No foi possvel criar a obra. Tente novamente.")}},async getObrasByUser(n){try{const e=Ta(Cn(at,ch),Tr("userId","==",n),mo("createdAt","desc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,nome:o.nome,numeroPavimentos:o.numeroPavimentos,numeroTorres:o.numeroTorres,userId:o.userId,status:o.status,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar obras:",e),new Error("No foi possvel carregar as obras. Tente novamente.")}},async updateObra(n,e){try{const t=Wt(at,ch,n);await Ka(t,{...e,updatedAt:Xe.now()})}catch(t){throw console.error("Erro ao atualizar obra:",t),new Error("No foi possvel atualizar a obra. Tente novamente.")}},async deleteObra(n){try{await is(Wt(at,ch,n))}catch(e){throw console.error("Erro ao deletar obra:",e),new Error("No foi possvel deletar a obra. Tente novamente.")}},async updateObraStatus(n,e){try{const t=Wt(at,ch,n);await Ka(t,{status:e,updatedAt:Xe.now()})}catch(t){throw console.error("Erro ao atualizar status:",t),new Error("No foi possvel atualizar o status. Tente novamente.")}}},I8=()=>{const{user:n,logout:e}=iu(),t=au(),[r,i]=W.useState([]),[o,c]=W.useState([]),[h,m]=W.useState(""),[d,v]=W.useState("todas"),[x,y]=W.useState(!0),[T,N]=W.useState(null),[A,b]=W.useState(!1),[P,z]=W.useState(!1),[q,ee]=W.useState(null),[de,_e]=W.useState({nome:"",numeroPavimentos:1,numeroTorres:1}),R=W.useCallback(async()=>{if(n)try{y(!0),N(null);const ae=await Wg.getObrasByUser(n.uid);i(ae),c(ae)}catch(ae){N(ae instanceof Error?ae.message:"Erro ao carregar obras")}finally{y(!1)}},[n]),I=W.useCallback(()=>{let ae=[...r];h&&(ae=ae.filter(Ce=>Ce.nome.toLowerCase().includes(h.toLowerCase()))),d!=="todas"&&(ae=ae.filter(Ce=>Ce.status===d)),c(ae)},[r,h,d]);W.useEffect(()=>{R()},[R]),W.useEffect(()=>{I()},[I]);const C=async ae=>{if(ae.preventDefault(),!!n)try{z(!0),N(null),await Wg.createObra(de,n.uid),b(!1),_e({nome:"",numeroPavimentos:1,numeroTorres:1}),await R()}catch(Ce){N(Ce instanceof Error?Ce.message:"Erro ao criar obra")}finally{z(!1)}},M=async()=>{try{await e(),t("/login")}catch(ae){console.error("Erro ao fazer logout:",ae)}},j=async ae=>{if(confirm("Tem certeza que deseja excluir esta obra?"))try{await Wg.deleteObra(ae),await R(),ee(null)}catch(Ce){N(Ce instanceof Error?Ce.message:"Erro ao deletar obra")}},O=ae=>{switch(ae){case"ativa":return"status-ativa";case"pausada":return"status-pausada";case"concluida":return"status-concluida";default:return""}},F=ae=>{switch(ae){case"ativa":return"Ativa";case"pausada":return"Pausada";case"concluida":return"Concluda";default:return ae}};return f.jsxs("div",{className:"dashboard-container",children:[f.jsx("header",{className:"dashboard-header",children:f.jsxs("div",{className:"header-content",children:[f.jsxs("div",{className:"header-left",children:[f.jsx("div",{className:"header-icon",children:f.jsx(so,{size:28})}),f.jsxs("div",{className:"header-info",children:[f.jsx("h1",{children:"Gesto de Obras"}),f.jsxs("p",{children:["Bem-vindo, ",n?.name]})]})]}),f.jsx("div",{className:"header-right",children:f.jsxs("button",{onClick:M,className:"btn-logout",children:[f.jsx(e8,{size:20}),f.jsx("span",{children:"Sair"})]})})]})}),f.jsx("main",{className:"dashboard-main",children:f.jsxs("div",{className:"dashboard-content",children:[f.jsxs("div",{className:"toolbar",children:[f.jsxs("div",{className:"toolbar-left",children:[f.jsxs("div",{className:"search-box",children:[f.jsx(m8,{size:20}),f.jsx("input",{type:"text",placeholder:"Buscar obra...",value:h,onChange:ae=>m(ae.target.value)})]}),f.jsxs("div",{className:"filter-box",children:[f.jsx(V5,{size:20}),f.jsxs("select",{value:d,onChange:ae=>v(ae.target.value),children:[f.jsx("option",{value:"todas",children:"Todas"}),f.jsx("option",{value:"ativa",children:"Ativas"}),f.jsx("option",{value:"pausada",children:"Pausadas"}),f.jsx("option",{value:"concluida",children:"Concludas"})]})]})]}),f.jsx("div",{className:"toolbar-right",children:f.jsxs("button",{onClick:()=>b(!0),className:"btn-primary-action",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Nova Obra"})]})})]}),T&&f.jsxs("div",{className:"error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:T}),f.jsx("button",{onClick:()=>N(null),children:f.jsx(Mn,{size:18})})]}),x?f.jsxs("div",{className:"loading-state",children:[f.jsx(na,{size:48,className:"dashboard-spinner-large"}),f.jsx("p",{children:"Carregando obras..."})]}):o.length===0?f.jsxs("div",{className:"empty-state",children:[f.jsx(so,{size:64}),f.jsx("h2",{children:"Nenhuma obra encontrada"}),f.jsx("p",{children:h||d!=="todas"?"Tente ajustar os filtros de busca":"Comece criando sua primeira obra"}),!h&&d==="todas"&&f.jsxs("button",{onClick:()=>b(!0),className:"btn-primary-action",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Criar Primeira Obra"})]})]}):f.jsx("div",{className:"obras-grid",children:o.map(ae=>f.jsxs("div",{className:"obra-card",children:[f.jsxs("div",{className:"obra-card-header",children:[f.jsx("div",{className:"obra-icon",children:f.jsx(so,{size:24})}),f.jsxs("div",{className:"obra-menu",children:[f.jsx("button",{onClick:()=>ee(q===ae.id?null:ae.id),className:"menu-button",children:f.jsx(su,{size:20})}),q===ae.id&&f.jsxs("div",{className:"dropdown-menu",children:[f.jsxs("button",{onClick:()=>{ee(null)},children:[f.jsx(Sm,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:()=>j(ae.id),className:"delete-action",children:[f.jsx(vi,{size:16}),f.jsx("span",{children:"Excluir"})]})]})]})]}),f.jsxs("div",{className:"obra-content",children:[f.jsx("h3",{children:ae.nome}),f.jsxs("div",{className:"obra-details",children:[f.jsxs("div",{className:"detail-item",children:[f.jsx(zv,{size:16}),f.jsxs("span",{children:[ae.numeroPavimentos," ",ae.numeroPavimentos===1?"Pavimento":"Pavimentos"]})]}),f.jsxs("div",{className:"detail-item",children:[f.jsx(q5,{size:16}),f.jsxs("span",{children:[ae.numeroTorres," ",ae.numeroTorres===1?"Torre":"Torres"]})]})]}),f.jsx("div",{className:"obra-status",children:f.jsx("span",{className:`status-badge ${O(ae.status)}`,children:F(ae.status)})})]}),f.jsx("div",{className:"obra-footer",children:f.jsx("button",{onClick:()=>t(`/obras/${ae.id}`),className:"btn-view-obra",children:"Acessar Obra"})})]},ae.id))})]})}),A&&f.jsx("div",{className:"dashboard-modal-overlay",onClick:()=>b(!1),children:f.jsxs("div",{className:"dashboard-modal-content",onClick:ae=>ae.stopPropagation(),children:[f.jsxs("div",{className:"dashboard-modal-header",children:[f.jsx("h2",{children:"Nova Obra"}),f.jsx("button",{onClick:()=>b(!1),className:"dashboard-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{onSubmit:C,className:"dashboard-modal-form",children:[f.jsxs("div",{className:"dashboard-form-group",children:[f.jsx("label",{htmlFor:"nome",children:"Nome da Obra *"}),f.jsx("input",{type:"text",id:"nome",value:de.nome,onChange:ae=>_e({...de,nome:ae.target.value}),placeholder:"Ex: Residencial Sunset Boulevard",required:!0,disabled:P})]}),f.jsxs("div",{className:"dashboard-form-row",children:[f.jsxs("div",{className:"dashboard-form-group",children:[f.jsx("label",{htmlFor:"pavimentos",children:"N de Pavimentos *"}),f.jsx("input",{type:"number",id:"pavimentos",min:"1",value:de.numeroPavimentos,onChange:ae=>_e({...de,numeroPavimentos:parseInt(ae.target.value)||1}),required:!0,disabled:P})]}),f.jsxs("div",{className:"dashboard-form-group",children:[f.jsx("label",{htmlFor:"torres",children:"N de Torres *"}),f.jsx("input",{type:"number",id:"torres",min:"1",value:de.numeroTorres,onChange:ae=>_e({...de,numeroTorres:parseInt(ae.target.value)||1}),required:!0,disabled:P})]})]}),f.jsxs("div",{className:"dashboard-modal-actions",children:[f.jsx("button",{type:"button",onClick:()=>b(!1),className:"dashboard-btn-secondary",disabled:P,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"dashboard-btn-primary",disabled:P,children:P?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:18,className:"dashboard-spinner-small"}),"Criando..."]}):"Criar Obra"})]})]})]})})]})},D8=({obraNome:n})=>{const e=au(),{user:t}=iu();return f.jsx("header",{className:"obra-header",children:f.jsxs("div",{className:"obra-header-content",children:[f.jsxs("div",{className:"obra-header-left",children:[f.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-back",title:"Voltar ao Dashboard",children:f.jsx(p5,{size:20})}),f.jsx("div",{className:"obra-header-divider"}),f.jsx("div",{className:"obra-header-icon",children:f.jsx(so,{size:24})}),f.jsxs("div",{className:"obra-header-info",children:[f.jsx("h1",{children:n}),f.jsx("p",{children:"Gerenciamento de obra"})]})]}),f.jsxs("div",{className:"obra-header-right",children:[f.jsxs("div",{className:"obra-header-user",children:[f.jsx("div",{className:"user-avatar",children:t?.name.charAt(0).toUpperCase()}),f.jsx("span",{children:t?.name})]}),f.jsx("button",{className:"btn-settings",title:"Configuraes",children:f.jsx(g8,{size:20})})]})]})})},O8=()=>{const{obraId:n}=us(),e=[{id:"vagoes",label:"Vages",icon:f.jsx(A8,{size:20}),path:`/obras/${n}/vagoes`},{id:"custo-vagoes",label:"Custo Orado dos Vages",icon:f.jsx(P0,{size:20}),path:`/obras/${n}/custo-vagoes`},{id:"estoque-insumos",label:"Estoque de Insumos",icon:f.jsx(P1,{size:20}),path:`/obras/${n}/estoque-insumos`},{id:"itens",label:"Itens",icon:f.jsx(Y5,{size:20}),path:`/obras/${n}/itens`},{id:"contrato",label:"Contrato",icon:f.jsx(F0,{size:20}),path:`/obras/${n}/contrato`},{id:"kits",label:"Kits",icon:f.jsx(TT,{size:20}),path:`/obras/${n}/kits`},{id:"checklist-mensal",label:"Checklist Mensal",icon:f.jsx(_8,{size:20}),path:`/obras/${n}/checklist-mensal`},{id:"medicao",label:"Medio",icon:f.jsx(f8,{size:20}),path:`/obras/${n}/medicao`},{id:"producao",label:"Produo",icon:f.jsx(oC,{size:20}),path:`/obras/${n}/producao`},{id:"producao-faltante",label:"Produo Faltante",icon:f.jsx(Cc,{size:20}),path:`/obras/${n}/producao-faltante`},{id:"estoque-kits",label:"Estoque de Kits",icon:f.jsx(TT,{size:20}),path:`/obras/${n}/estoque-kits`},{id:"material-faltante",label:"Material Faltante",icon:f.jsx(wr,{size:20}),path:`/obras/${n}/material-faltante`},{id:"mapa-restricoes",label:"Mapa de Restries",icon:f.jsx(i8,{size:20}),path:`/obras/${n}/mapa-restricoes`}];return f.jsx("aside",{className:"obra-sidebar",children:f.jsx("nav",{className:"sidebar-nav",children:f.jsxs("div",{className:"sidebar-section",children:[f.jsx("h3",{className:"sidebar-section-title",children:"Mdulos da Obra"}),f.jsx("ul",{className:"sidebar-menu",children:e.map((t,r)=>f.jsx("li",{style:{animationDelay:`${r*.05}s`},children:f.jsxs(nC,{to:t.path,className:({isActive:i})=>`sidebar-link ${i?"active":""}`,children:[f.jsx("span",{className:"sidebar-icon",children:t.icon}),f.jsx("span",{className:"sidebar-label",children:t.label})]})},t.id))})]})})})},Mr=({children:n})=>{const{obraId:e}=us(),{user:t}=iu(),[r,i]=W.useState(null),[o,c]=W.useState(!0),[h,m]=W.useState(!1);return W.useEffect(()=>{(async()=>{if(!(!e||!t))try{c(!0);const v=await as(Wt(at,"obras",e));if(!v.exists()){m(!0);return}const x=v.data();if(x.userId!==t.uid){m(!0);return}i({id:v.id,...x,createdAt:x.createdAt?.toDate()||new Date,updatedAt:x.updatedAt?.toDate()||new Date})}catch(v){console.error("Erro ao carregar obra:",v),m(!0)}finally{c(!1)}})()},[e,t]),o?f.jsxs("div",{className:"obra-layout-loading",children:[f.jsx(na,{size:48,className:"spinner-rotate"}),f.jsx("p",{children:"Carregando obra..."})]}):h||!r?f.jsx(Lv,{to:"/dashboard",replace:!0}):f.jsxs("div",{className:"obra-layout",children:[f.jsx(D8,{obraNome:r.nome}),f.jsxs("div",{className:"obra-layout-body",children:[f.jsx(O8,{}),f.jsx("main",{className:"obra-layout-content",children:n})]})]})},mc="vagoes",Qs={async createVagao(n,e){try{const t={obraId:n,numero:e.numero,predecessorId:e.predecessorId,dataInicio:Xe.fromDate(e.dataInicio),dataFim:Xe.fromDate(e.dataFim),numeroApartamentos:e.numeroApartamentos,createdAt:Xe.now(),updatedAt:Xe.now()},r=await To(Cn(at,mc),t);let i;if(e.predecessorId){const o=await as(Wt(at,mc,e.predecessorId));o.exists()&&(i=o.data().numero)}return{id:r.id,obraId:n,numero:e.numero,predecessorId:e.predecessorId,predecessorNumero:i,dataInicio:e.dataInicio,dataFim:e.dataFim,numeroApartamentos:e.numeroApartamentos,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar vago:",t),new Error("No foi possvel criar o vago. Tente novamente.")}},async getVagoesByObra(n){try{const e=Ta(Cn(at,mc),Tr("obraId","==",n),mo("numero","asc")),t=await wa(e),r=[];for(const i of t.docs){const o=i.data();let c;if(o.predecessorId){const h=await as(Wt(at,mc,o.predecessorId));h.exists()&&(c=h.data().numero)}r.push({id:i.id,obraId:o.obraId,numero:o.numero,predecessorId:o.predecessorId||null,predecessorNumero:c,dataInicio:o.dataInicio?.toDate()||new Date,dataFim:o.dataFim?.toDate()||new Date,numeroApartamentos:o.numeroApartamentos,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}return r}catch(e){throw console.error("Erro ao buscar vages:",e),new Error("No foi possvel carregar os vages. Tente novamente.")}},async updateVagao(n,e){try{const t={updatedAt:Xe.now()};e.predecessorId!==void 0&&(t.predecessorId=e.predecessorId),e.dataInicio&&(t.dataInicio=Xe.fromDate(e.dataInicio)),e.dataFim&&(t.dataFim=Xe.fromDate(e.dataFim)),e.numeroApartamentos!==void 0&&(t.numeroApartamentos=e.numeroApartamentos);const r=Wt(at,mc,n);await Ka(r,t)}catch(t){throw console.error("Erro ao atualizar vago:",t),new Error("No foi possvel atualizar o vago. Tente novamente.")}},async deleteVagao(n){try{await is(Wt(at,mc,n))}catch(e){throw console.error("Erro ao deletar vago:",e),new Error("No foi possvel deletar o vago. Tente novamente.")}}},k8=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState(!0),[o,c]=W.useState(null),[h,m]=W.useState(!1),[d,v]=W.useState(!1),[x,y]=W.useState(!1),[T,N]=W.useState(null),[A,b]=W.useState(null),[P,z]=W.useState(null),[q,ee]=W.useState({numero:1,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1}),de=W.useCallback(async()=>{if(n)try{i(!0),c(null);const O=await Qs.getVagoesByObra(n);t(O)}catch(O){c(O instanceof Error?O.message:"Erro ao carregar vages")}finally{i(!1)}},[n]);W.useEffect(()=>{de()},[de]);const _e=O=>{if(O)N(O),ee({numero:O.numero,predecessorId:O.predecessorId,dataInicio:O.dataInicio,dataFim:O.dataFim,numeroApartamentos:O.numeroApartamentos});else{N(null);const F=e.length>0?Math.max(...e.map(ae=>ae.numero))+1:1;ee({numero:F,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1})}m(!0),b(null)},R=async O=>{if(O.preventDefault(),!!n)try{y(!0),c(null),T?await Qs.updateVagao(T.id,{predecessorId:q.predecessorId,dataInicio:q.dataInicio,dataFim:q.dataFim,numeroApartamentos:q.numeroApartamentos}):await Qs.createVagao(n,q),m(!1),N(null),await de()}catch(F){c(F instanceof Error?F.message:"Erro ao salvar vago")}finally{y(!1)}},I=async O=>{if(confirm("Tem certeza que deseja excluir este vago?"))try{await Qs.deleteVagao(O),await de(),b(null)}catch(F){c(F instanceof Error?F.message:"Erro ao deletar vago")}},C=O=>new Date(O).toLocaleDateString("pt-BR"),M=(O,F)=>{const ae=new Date(F).getTime()-new Date(O).getTime();return Math.ceil(ae/(1e3*60*60*24))},j=async(O,F,ae)=>{try{await Qs.updateVagao(O.id,{dataInicio:F,dataFim:ae}),await de(),z(null)}catch(Ce){c(Ce instanceof Error?Ce.message:"Erro ao atualizar datas")}};return f.jsxs("div",{className:"vagoes-container",children:[f.jsxs("div",{className:"vagoes-header",children:[f.jsxs("div",{className:"vagoes-header-left",children:[f.jsx("h1",{children:"Vages"}),f.jsx("p",{children:"Gerencie os vages e suas atividades"})]}),f.jsxs("div",{className:"vagoes-header-right",children:[f.jsxs("button",{onClick:()=>v(!0),className:"btn-timeline",disabled:e.length===0,children:[f.jsx(O1,{size:20}),f.jsx("span",{children:"Linha do Tempo"})]}),f.jsxs("button",{onClick:()=>_e(),className:"btn-add-vagao",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Novo Vago"})]})]})]}),o&&f.jsxs("div",{className:"vagoes-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:o}),f.jsx("button",{onClick:()=>c(null),children:f.jsx(Mn,{size:18})})]}),r?f.jsxs("div",{className:"vagoes-loading",children:[f.jsx(na,{size:48,className:"vagoes-spinner"}),f.jsx("p",{children:"Carregando vages..."})]}):e.length===0?f.jsxs("div",{className:"vagoes-empty",children:[f.jsx(yh,{size:64}),f.jsx("h2",{children:"Nenhum vago cadastrado"}),f.jsx("p",{children:"Comece criando o primeiro vago desta obra"}),f.jsxs("button",{onClick:()=>_e(),className:"btn-add-vagao",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Criar Primeiro Vago"})]})]}):f.jsx("div",{className:"vagoes-grid",children:e.map(O=>f.jsxs("div",{className:"vagao-card",children:[f.jsxs("div",{className:"vagao-card-header",children:[f.jsxs("div",{className:"vagao-numero",children:[f.jsx(yh,{size:20}),f.jsxs("span",{children:["Vago ",O.numero]})]}),f.jsxs("div",{className:"vagao-menu",children:[f.jsx("button",{onClick:()=>b(A===O.id?null:O.id),className:"vagao-menu-button",children:f.jsx(su,{size:20})}),A===O.id&&f.jsxs("div",{className:"vagao-dropdown-menu",children:[f.jsxs("button",{onClick:()=>_e(O),children:[f.jsx(Sm,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:()=>I(O.id),className:"delete-action",children:[f.jsx(vi,{size:16}),f.jsx("span",{children:"Excluir"})]})]})]})]}),f.jsxs("div",{className:"vagao-card-body",children:[f.jsxs("div",{className:"vagao-info-row",children:[f.jsx(B5,{size:16}),f.jsx("span",{className:"vagao-label",children:"Predecessor:"}),f.jsx("span",{className:"vagao-value",children:O.predecessorNumero?`Vago ${O.predecessorNumero}`:"Nenhum"})]}),f.jsxs("div",{className:"vagao-info-row",children:[f.jsx(y5,{size:16}),f.jsx("span",{className:"vagao-label",children:"Perodo:"}),f.jsxs("span",{className:"vagao-value",children:[C(O.dataInicio)," - ",C(O.dataFim)]})]}),f.jsxs("div",{className:"vagao-info-row",children:[f.jsx(O1,{size:16}),f.jsx("span",{className:"vagao-label",children:"Durao:"}),f.jsxs("span",{className:"vagao-value",children:[M(O.dataInicio,O.dataFim)," dias"]})]}),f.jsxs("div",{className:"vagao-info-row",children:[f.jsx(yh,{size:16}),f.jsx("span",{className:"vagao-label",children:"Apartamentos:"}),f.jsx("span",{className:"vagao-value",children:O.numeroApartamentos})]})]})]},O.id))}),h&&f.jsx("div",{className:"vagoes-modal-overlay",onClick:()=>m(!1),children:f.jsxs("div",{className:"vagoes-modal-content",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"vagoes-modal-header",children:[f.jsx("h2",{children:T?"Editar Vago":"Novo Vago"}),f.jsx("button",{onClick:()=>m(!1),className:"vagoes-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{onSubmit:R,className:"vagoes-modal-form",children:[f.jsxs("div",{className:"vagoes-form-group",children:[f.jsx("label",{htmlFor:"numero",children:"Nmero do Vago *"}),f.jsx("input",{type:"number",id:"numero",min:"1",value:q.numero,onChange:O=>ee({...q,numero:parseInt(O.target.value)||1}),required:!0,disabled:x||!!T})]}),f.jsxs("div",{className:"vagoes-form-group",children:[f.jsx("label",{htmlFor:"predecessor",children:"Predecessor"}),f.jsxs("select",{id:"predecessor",value:q.predecessorId||"",onChange:O=>ee({...q,predecessorId:O.target.value||null}),disabled:x,children:[f.jsx("option",{value:"",children:"Nenhum"}),e.filter(O=>O.id!==T?.id).map(O=>f.jsxs("option",{value:O.id,children:["Vago ",O.numero]},O.id))]})]}),f.jsxs("div",{className:"vagoes-form-row",children:[f.jsxs("div",{className:"vagoes-form-group",children:[f.jsx("label",{htmlFor:"dataInicio",children:"Data de Incio *"}),f.jsx("input",{type:"date",id:"dataInicio",value:q.dataInicio instanceof Date?q.dataInicio.toISOString().split("T")[0]:"",onChange:O=>ee({...q,dataInicio:new Date(O.target.value)}),required:!0,disabled:x})]}),f.jsxs("div",{className:"vagoes-form-group",children:[f.jsx("label",{htmlFor:"dataFim",children:"Data de Fim *"}),f.jsx("input",{type:"date",id:"dataFim",value:q.dataFim instanceof Date?q.dataFim.toISOString().split("T")[0]:"",onChange:O=>ee({...q,dataFim:new Date(O.target.value)}),required:!0,disabled:x})]})]}),f.jsxs("div",{className:"vagoes-form-group",children:[f.jsx("label",{htmlFor:"apartamentos",children:"Nmero de Apartamentos *"}),f.jsx("input",{type:"number",id:"apartamentos",min:"1",value:q.numeroApartamentos,onChange:O=>ee({...q,numeroApartamentos:parseInt(O.target.value)||1}),required:!0,disabled:x})]}),f.jsxs("div",{className:"vagoes-modal-actions",children:[f.jsx("button",{type:"button",onClick:()=>m(!1),className:"vagoes-btn-secondary",disabled:x,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"vagoes-btn-primary",disabled:x,children:x?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:18,className:"vagoes-spinner-small"}),"Salvando..."]}):T?"Salvar Alteraes":"Criar Vago"})]})]})]})}),d&&f.jsx("div",{className:"timeline-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"timeline-modal-content",onClick:O=>O.stopPropagation(),children:[f.jsxs("div",{className:"timeline-modal-header",children:[f.jsx("h2",{children:"Linha do Tempo - Linha de Balano"}),f.jsx("button",{onClick:()=>v(!1),className:"timeline-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("div",{className:"timeline-container",children:[f.jsx("div",{className:"timeline-legend",children:f.jsxs("div",{className:"timeline-legend-item",children:[f.jsx("div",{className:"timeline-legend-color timeline-color-active"}),f.jsx("span",{children:"Clique para editar datas"})]})}),f.jsx("div",{className:"timeline-content",children:e.map(O=>f.jsxs("div",{className:"timeline-row",children:[f.jsxs("div",{className:"timeline-row-label",children:[f.jsx(yh,{size:16}),f.jsxs("span",{children:["Vago ",O.numero]}),O.predecessorNumero&&f.jsxs("span",{className:"timeline-predecessor",children:[" V",O.predecessorNumero]})]}),f.jsx("div",{className:"timeline-row-content",children:f.jsxs("div",{className:`timeline-bar ${P?.id===O.id?"editing":""}`,onClick:()=>z(O),title:"Clique para editar",children:[f.jsxs("span",{className:"timeline-bar-label",children:[C(O.dataInicio)," -"," ",C(O.dataFim)]}),f.jsxs("span",{className:"timeline-bar-duration",children:[M(O.dataInicio,O.dataFim),"d"]})]})})]},O.id))}),P&&f.jsxs("div",{className:"timeline-editor",children:[f.jsxs("h3",{children:["Editando Vago ",P.numero]}),f.jsxs("div",{className:"timeline-editor-form",children:[f.jsxs("div",{className:"timeline-editor-field",children:[f.jsx("label",{children:"Data de Incio:"}),f.jsx("input",{type:"date",value:P.dataInicio.toISOString().split("T")[0],onChange:O=>z({...P,dataInicio:new Date(O.target.value)})})]}),f.jsxs("div",{className:"timeline-editor-field",children:[f.jsx("label",{children:"Data de Fim:"}),f.jsx("input",{type:"date",value:P.dataFim.toISOString().split("T")[0],onChange:O=>z({...P,dataFim:new Date(O.target.value)})})]}),f.jsxs("div",{className:"timeline-editor-actions",children:[f.jsx("button",{onClick:()=>z(null),className:"timeline-btn-cancel",children:"Cancelar"}),f.jsx("button",{onClick:()=>j(P,P.dataInicio,P.dataFim),className:"timeline-btn-save",children:"Salvar Datas"})]})]})]})]})]})})]})},uh="custos_vagoes",hh={async createCusto(n,e,t){try{const r=e.custoMaterial+e.custoMaoObra,i={obraId:n,vagaoId:e.vagaoId,vagaoNumero:t,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:r,peso:0,createdAt:Xe.now(),updatedAt:Xe.now()},o=await To(Cn(at,uh),i);return await this.recalcularPesos(n),{id:o.id,obraId:n,vagaoId:e.vagaoId,vagaoNumero:t,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:r,peso:0,createdAt:new Date,updatedAt:new Date}}catch(r){throw console.error("Erro ao criar custo:",r),new Error("No foi possvel criar o custo. Tente novamente.")}},async getCustosByObra(n){try{const e=Ta(Cn(at,uh),Tr("obraId","==",n),mo("vagaoNumero","asc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,custoMaterial:o.custoMaterial,custoMaoObra:o.custoMaoObra,custoTotal:o.custoTotal,peso:o.peso||0,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar custos:",e),new Error("No foi possvel carregar os custos. Tente novamente.")}},async updateCusto(n,e,t){try{const r={updatedAt:Xe.now()};t.custoMaterial!==void 0&&(r.custoMaterial=t.custoMaterial),t.custoMaoObra!==void 0&&(r.custoMaoObra=t.custoMaoObra);const i=Wt(at,uh,n),o=await as(i);if(o.exists()){const c=o.data(),h=t.custoMaterial??c.custoMaterial,m=t.custoMaoObra??c.custoMaoObra;r.custoTotal=h+m}await Ka(i,r),await this.recalcularPesos(e)}catch(r){throw console.error("Erro ao atualizar custo:",r),new Error("No foi possvel atualizar o custo. Tente novamente.")}},async deleteCusto(n,e){try{await is(Wt(at,uh,n)),await this.recalcularPesos(e)}catch(t){throw console.error("Erro ao deletar custo:",t),new Error("No foi possvel deletar o custo. Tente novamente.")}},async recalcularPesos(n){try{const e=await this.getCustosByObra(n),t=e.reduce((i,o)=>i+o.custoTotal,0);if(t===0)return;const r=e.map(async i=>{const o=i.custoTotal/t*100,c=Wt(at,uh,i.id);return Ka(c,{peso:o,updatedAt:Xe.now()})});await Promise.all(r)}catch(e){console.error("Erro ao recalcular pesos:",e)}},async gerarFluxoCaixa(n,e){try{const t=new Map;return n.forEach(i=>{const o=e.find(y=>y.vagaoId===i.id);if(!o)return;const c=new Date(i.dataInicio),h=new Date(i.dataFim),m=this.calcularMesesEntreDatas(c,h),d=o.custoMaterial/m.length,v=o.custoMaoObra/m.length,x=o.custoTotal/m.length;m.forEach(y=>{const T=`${y.ano}-${String(y.mes).padStart(2,"0")}`;t.has(T)||t.set(T,{mes:this.getNomeMes(y.mes),ano:y.ano,custoMaterial:0,custoMaoObra:0,custoTotal:0,vagoes:[]});const N=t.get(T);N.custoMaterial+=d,N.custoMaoObra+=v,N.custoTotal+=x,N.vagoes.push({numero:i.numero,custoMaterial:d,custoMaoObra:v,custoTotal:x})})}),Array.from(t.values()).sort((i,o)=>i.ano!==o.ano?i.ano-o.ano:this.getMesNumero(i.mes)-this.getMesNumero(o.mes))}catch(t){throw console.error("Erro ao gerar fluxo de caixa:",t),new Error("No foi possvel gerar o fluxo de caixa.")}},calcularMesesEntreDatas(n,e){const t=[],r=new Date(n);for(r.setDate(1);r<=e;)t.push({mes:r.getMonth()+1,ano:r.getFullYear()}),r.setMonth(r.getMonth()+1);return t},getNomeMes(n){return["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][n-1]},getMesNumero(n){return["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].indexOf(n)+1}},M8=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState([]),[o,c]=W.useState(!0),[h,m]=W.useState(null),[d,v]=W.useState(!1),[x,y]=W.useState(!1),[T,N]=W.useState(!1),[A,b]=W.useState(null),[P,z]=W.useState(null),[q,ee]=W.useState([]),[de,_e]=W.useState(!1),[R,I]=W.useState({vagaoId:"",custoMaterial:0,custoMaoObra:0}),C=W.useCallback(async()=>{if(n)try{c(!0),m(null);const[oe,Ve]=await Promise.all([Qs.getVagoesByObra(n),hh.getCustosByObra(n)]);t(oe),i(Ve)}catch(oe){m(oe instanceof Error?oe.message:"Erro ao carregar dados")}finally{c(!1)}},[n]);W.useEffect(()=>{C()},[C]);const M=oe=>{oe?(b(oe),I({vagaoId:oe.vagaoId,custoMaterial:oe.custoMaterial,custoMaoObra:oe.custoMaoObra})):(b(null),I({vagaoId:"",custoMaterial:0,custoMaoObra:0})),v(!0),z(null)},j=async oe=>{if(oe.preventDefault(),!!n)try{if(N(!0),m(null),A)await hh.updateCusto(A.id,n,{custoMaterial:R.custoMaterial,custoMaoObra:R.custoMaoObra});else{const Ve=e.find(et=>et.id===R.vagaoId);if(!Ve)throw new Error("Vago no encontrado");await hh.createCusto(n,R,Ve.numero)}v(!1),b(null),await C()}catch(Ve){m(Ve instanceof Error?Ve.message:"Erro ao salvar custo")}finally{N(!1)}},O=async oe=>{if(!(!n||!confirm("Tem certeza que deseja excluir este custo?")))try{await hh.deleteCusto(oe,n),await C(),z(null)}catch(Ve){m(Ve instanceof Error?Ve.message:"Erro ao deletar custo")}},F=async()=>{if(n)try{_e(!0),m(null);const oe=await hh.gerarFluxoCaixa(e,r);ee(oe),y(!0)}catch(oe){m(oe instanceof Error?oe.message:"Erro ao gerar relatrio")}finally{_e(!1)}},ae=oe=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(oe),Ce=r.reduce((oe,Ve)=>oe+Ve.custoTotal,0),te=r.map(oe=>oe.vagaoId),ye=e.filter(oe=>!te.includes(oe.id));return f.jsxs("div",{className:"custo-vagoes-container",children:[f.jsxs("div",{className:"custo-vagoes-header",children:[f.jsxs("div",{className:"custo-vagoes-header-left",children:[f.jsx("h1",{children:"Custo Orado dos Vages"}),f.jsx("p",{children:"Gerencie os custos de material e mo de obra"})]}),f.jsxs("div",{className:"custo-vagoes-header-right",children:[f.jsx("button",{onClick:F,className:"btn-relatorio",disabled:r.length===0||de,children:de?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:20,className:"custo-spinner-small"}),f.jsx("span",{children:"Gerando..."})]}):f.jsxs(f.Fragment,{children:[f.jsx(F0,{size:20}),f.jsx("span",{children:"Gerar Relatrio"})]})}),f.jsxs("button",{onClick:()=>M(),className:"btn-add-custo",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Adicionar Custo"})]})]})]}),h&&f.jsxs("div",{className:"custo-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:h}),f.jsx("button",{onClick:()=>m(null),children:f.jsx(Mn,{size:18})})]}),f.jsxs("div",{className:"custo-resumo",children:[f.jsxs("div",{className:"custo-resumo-card",children:[f.jsx("div",{className:"custo-resumo-icon",children:f.jsx(P0,{size:24})}),f.jsxs("div",{className:"custo-resumo-info",children:[f.jsx("span",{className:"custo-resumo-label",children:"Custo Total da Obra"}),f.jsx("span",{className:"custo-resumo-value",children:ae(Ce)})]})]}),f.jsxs("div",{className:"custo-resumo-card",children:[f.jsx("div",{className:"custo-resumo-icon custo-icon-success",children:f.jsx(T5,{size:24})}),f.jsxs("div",{className:"custo-resumo-info",children:[f.jsx("span",{className:"custo-resumo-label",children:"Vages com Custo"}),f.jsxs("span",{className:"custo-resumo-value",children:[r.length," / ",e.length]})]})]}),f.jsxs("div",{className:"custo-resumo-card",children:[f.jsx("div",{className:"custo-resumo-icon custo-icon-info",children:f.jsx(oC,{size:24})}),f.jsxs("div",{className:"custo-resumo-info",children:[f.jsx("span",{className:"custo-resumo-label",children:"Custo Mdio por Vago"}),f.jsx("span",{className:"custo-resumo-value",children:ae(r.length>0?Ce/r.length:0)})]})]})]}),o?f.jsxs("div",{className:"custo-loading",children:[f.jsx(na,{size:48,className:"custo-spinner"}),f.jsx("p",{children:"Carregando custos..."})]}):r.length===0?f.jsxs("div",{className:"custo-empty",children:[f.jsx(P0,{size:64}),f.jsx("h2",{children:"Nenhum custo cadastrado"}),f.jsx("p",{children:"Comece adicionando o custo do primeiro vago"}),f.jsxs("button",{onClick:()=>M(),className:"btn-add-custo",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Adicionar Primeiro Custo"})]})]}):f.jsx("div",{className:"custo-table-container",children:f.jsxs("table",{className:"custo-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Vago"}),f.jsx("th",{children:"Material"}),f.jsx("th",{children:"Mo de Obra"}),f.jsx("th",{children:"Total"}),f.jsx("th",{children:"Peso (%)"}),f.jsx("th",{children:"Aes"})]})}),f.jsx("tbody",{children:r.map((oe,Ve)=>f.jsxs("tr",{style:{animationDelay:`${Ve*.05}s`},children:[f.jsx("td",{children:f.jsxs("span",{className:"custo-vagao-numero",children:["Vago ",oe.vagaoNumero]})}),f.jsx("td",{children:ae(oe.custoMaterial)}),f.jsx("td",{children:ae(oe.custoMaoObra)}),f.jsx("td",{children:f.jsx("strong",{children:ae(oe.custoTotal)})}),f.jsx("td",{children:f.jsxs("div",{className:"custo-peso",children:[f.jsx("div",{className:"custo-peso-bar",children:f.jsx("div",{className:"custo-peso-fill",style:{width:`${oe.peso}%`}})}),f.jsxs("span",{children:[oe.peso.toFixed(2),"%"]})]})}),f.jsx("td",{children:f.jsxs("div",{className:"custo-actions",children:[f.jsx("button",{onClick:()=>z(P===oe.id?null:oe.id),className:"custo-menu-button",children:f.jsx(su,{size:20})}),P===oe.id&&f.jsxs("div",{className:"custo-dropdown-menu",children:[f.jsxs("button",{onClick:()=>M(oe),children:[f.jsx(Sm,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:()=>O(oe.id),className:"delete-action",children:[f.jsx(vi,{size:16}),f.jsx("span",{children:"Excluir"})]})]})]})})]},oe.id))}),f.jsx("tfoot",{children:f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("strong",{children:"TOTAL"})}),f.jsx("td",{children:f.jsx("strong",{children:ae(r.reduce((oe,Ve)=>oe+Ve.custoMaterial,0))})}),f.jsx("td",{children:f.jsx("strong",{children:ae(r.reduce((oe,Ve)=>oe+Ve.custoMaoObra,0))})}),f.jsx("td",{children:f.jsx("strong",{children:ae(Ce)})}),f.jsx("td",{children:f.jsx("strong",{children:"100%"})}),f.jsx("td",{})]})})]})}),d&&f.jsx("div",{className:"custo-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"custo-modal-content",onClick:oe=>oe.stopPropagation(),children:[f.jsxs("div",{className:"custo-modal-header",children:[f.jsx("h2",{children:A?"Editar Custo":"Adicionar Custo"}),f.jsx("button",{onClick:()=>v(!1),className:"custo-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{onSubmit:j,className:"custo-modal-form",children:[f.jsxs("div",{className:"custo-form-group",children:[f.jsx("label",{htmlFor:"vagao",children:"Vago *"}),f.jsxs("select",{id:"vagao",value:R.vagaoId,onChange:oe=>I({...R,vagaoId:oe.target.value}),required:!0,disabled:T||!!A,children:[f.jsx("option",{value:"",children:"Selecione um vago"}),(A?e:ye).map(oe=>f.jsxs("option",{value:oe.id,children:["Vago ",oe.numero]},oe.id))]}),!A&&ye.length===0&&f.jsx("small",{className:"custo-form-hint",children:"Todos os vages j possuem custo cadastrado"})]}),f.jsxs("div",{className:"custo-form-group",children:[f.jsx("label",{htmlFor:"material",children:"Custo de Material (R$) *"}),f.jsx("input",{type:"number",id:"material",min:"0",step:"0.01",value:R.custoMaterial,onChange:oe=>I({...R,custoMaterial:parseFloat(oe.target.value)||0}),required:!0,disabled:T,placeholder:"0,00"})]}),f.jsxs("div",{className:"custo-form-group",children:[f.jsx("label",{htmlFor:"maoObra",children:"Custo de Mo de Obra (R$) *"}),f.jsx("input",{type:"number",id:"maoObra",min:"0",step:"0.01",value:R.custoMaoObra,onChange:oe=>I({...R,custoMaoObra:parseFloat(oe.target.value)||0}),required:!0,disabled:T,placeholder:"0,00"})]}),f.jsxs("div",{className:"custo-form-total",children:[f.jsx("span",{children:"Custo Total:"}),f.jsx("strong",{children:ae(R.custoMaterial+R.custoMaoObra)})]}),f.jsxs("div",{className:"custo-modal-actions",children:[f.jsx("button",{type:"button",onClick:()=>v(!1),className:"custo-btn-secondary",disabled:T,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"custo-btn-primary",disabled:T,children:T?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:18,className:"custo-spinner-small"}),"Salvando..."]}):A?"Salvar Alteraes":"Adicionar Custo"})]})]})]})}),x&&f.jsx("div",{className:"relatorio-modal-overlay",onClick:()=>y(!1),children:f.jsxs("div",{className:"relatorio-modal-content",onClick:oe=>oe.stopPropagation(),children:[f.jsxs("div",{className:"relatorio-modal-header",children:[f.jsx("h2",{children:"Relatrio de Fluxo de Caixa - Despesas Oradas"}),f.jsx("button",{onClick:()=>y(!1),className:"relatorio-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("div",{className:"relatorio-container",children:[f.jsx("div",{className:"relatorio-resumo",children:f.jsx("p",{children:"Previso de despesas mensais ao longo da execuo da obra, distribudas proporcionalmente ao perodo de cada vago."})}),f.jsx("div",{className:"relatorio-table-container",children:f.jsxs("table",{className:"relatorio-table",children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Perodo"}),f.jsx("th",{children:"Material"}),f.jsx("th",{children:"Mo de Obra"}),f.jsx("th",{children:"Total"}),f.jsx("th",{children:"Vages Ativos"})]})}),f.jsx("tbody",{children:q.map((oe,Ve)=>f.jsxs("tr",{style:{animationDelay:`${Ve*.03}s`},children:[f.jsx("td",{children:f.jsxs("strong",{children:[oe.mes,"/",oe.ano]})}),f.jsx("td",{children:ae(oe.custoMaterial)}),f.jsx("td",{children:ae(oe.custoMaoObra)}),f.jsx("td",{children:f.jsx("strong",{children:ae(oe.custoTotal)})}),f.jsx("td",{children:f.jsx("div",{className:"relatorio-vagoes",children:oe.vagoes.map(et=>f.jsxs("span",{className:"relatorio-vagao-badge",children:["V",et.numero]},et.numero))})})]},`${oe.ano}-${oe.mes}`))}),f.jsx("tfoot",{children:f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("strong",{children:"TOTAL"})}),f.jsx("td",{children:f.jsx("strong",{children:ae(q.reduce((oe,Ve)=>oe+Ve.custoMaterial,0))})}),f.jsx("td",{children:f.jsx("strong",{children:ae(q.reduce((oe,Ve)=>oe+Ve.custoMaoObra,0))})}),f.jsx("td",{children:f.jsx("strong",{children:ae(q.reduce((oe,Ve)=>oe+Ve.custoTotal,0))})}),f.jsx("td",{})]})})]})})]})]})})]})},P8=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Estoque de Insumos"}),f.jsx("p",{children:"Controle de materiais e insumos"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Estoque de Insumos ser implementado aqui."})})]}),Gd="itens_vagoes",tl={async createItem(n,e,t,r){if(t.quantidade+r>e.numeroApartamentos)throw new Error("Quantidade excede o limite orado do vago.");try{const i={obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,empresa:t.empresa,servico:t.servico,quantidade:t.quantidade,quantidadeMaxima:e.numeroApartamentos,createdAt:Xe.now(),updatedAt:Xe.now()};return{id:(await To(Cn(at,Gd),i)).id,obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,empresa:t.empresa,servico:t.servico,quantidade:t.quantidade,quantidadeMaxima:e.numeroApartamentos,createdAt:new Date,updatedAt:new Date}}catch(i){throw console.error("Erro ao criar item:",i),new Error("No foi possvel criar o item. Tente novamente.")}},async getItensByObra(n){try{const e=Ta(Cn(at,Gd),Tr("obraId","==",n),mo("vagaoNumero","asc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,empresa:o.empresa,servico:o.servico,quantidade:o.quantidade,quantidadeMaxima:o.quantidadeMaxima,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar itens:",e),new Error("No foi possvel carregar os itens. Tente novamente.")}},async updateItem(n,e,t,r,i){if((t.quantidade!==void 0?t.quantidade:i)+(r-i)>e.numeroApartamentos)throw new Error("Quantidade excede o limite orado do vago.");try{const c={updatedAt:Xe.now()};t.empresa!==void 0&&(c.empresa=t.empresa),t.servico!==void 0&&(c.servico=t.servico),t.quantidade!==void 0&&(c.quantidade=t.quantidade);const h=Wt(at,Gd,n);await Ka(h,c)}catch(c){throw console.error("Erro ao atualizar item:",c),new Error("No foi possvel atualizar o item. Tente novamente.")}},async deleteItem(n){try{await is(Wt(at,Gd,n))}catch(e){throw console.error("Erro ao deletar item:",e),new Error("No foi possvel deletar o item. Tente novamente.")}},somarQuantidadePorVagao(n,e){return n.filter(t=>t.vagaoId===e).reduce((t,r)=>t+r.quantidade,0)}},j8=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState([]),[o,c]=W.useState(!0),[h,m]=W.useState(null),[d,v]=W.useState(!1),[x,y]=W.useState(!1),[T,N]=W.useState(null),[A,b]=W.useState(null),[P,z]=W.useState({vagaoId:"",empresa:"",servico:"",quantidade:0}),q=W.useCallback(async()=>{if(n)try{c(!0),m(null);const[C,M]=await Promise.all([Qs.getVagoesByObra(n),tl.getItensByObra(n)]);t(C),i(M)}catch(C){m(C instanceof Error?C.message:"Erro ao carregar dados")}finally{c(!1)}},[n]);W.useEffect(()=>{q()},[q]);const ee=C=>tl.somarQuantidadePorVagao(r,C),de=C=>{C?(N(C),z({vagaoId:C.vagaoId,empresa:C.empresa,servico:C.servico,quantidade:C.quantidade})):(N(null),z({vagaoId:"",empresa:"",servico:"",quantidade:0})),v(!0),b(null)},_e=async C=>{if(C.preventDefault(),!!n)try{y(!0),m(null);const M=e.find(O=>O.id===P.vagaoId);if(!M)throw new Error("Vago no encontrado");const j=ee(P.vagaoId);T?await tl.updateItem(T.id,M,{...P},j,T.quantidade):await tl.createItem(n,M,P,j),v(!1),N(null),await q()}catch(M){m(M instanceof Error?M.message:"Erro ao salvar item")}finally{y(!1)}},R=async C=>{if(confirm("Tem certeza que deseja excluir este item?"))try{await tl.deleteItem(C),await q(),b(null)}catch(M){m(M instanceof Error?M.message:"Erro ao deletar item")}},I=C=>{const M=e.find(j=>j.id===C);return M?{atual:ee(C),max:M.numeroApartamentos}:{atual:0,max:0}};return f.jsxs("div",{className:"itens-container",children:[f.jsxs("div",{className:"itens-header",children:[f.jsxs("div",{className:"itens-header-left",children:[f.jsx("h1",{children:"Itens por Vago"}),f.jsx("p",{children:"Cadastre fornecedores e servios vinculados a cada vago"})]}),f.jsx("div",{className:"itens-header-right",children:f.jsxs("button",{onClick:()=>de(),className:"btn-add-item",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Novo Item"})]})})]}),h&&f.jsxs("div",{className:"itens-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:h}),f.jsx("button",{onClick:()=>m(null),children:f.jsx(Mn,{size:18})})]}),o?f.jsxs("div",{className:"itens-loading",children:[f.jsx(na,{size:48,className:"itens-spinner"}),f.jsx("p",{children:"Carregando itens..."})]}):r.length===0?f.jsxs("div",{className:"itens-empty",children:[f.jsx(wT,{size:64}),f.jsx("h2",{children:"Nenhum item cadastrado"}),f.jsx("p",{children:"Comece adicionando servios para os vages"}),f.jsxs("button",{onClick:()=>de(),className:"btn-add-item",children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Adicionar Primeiro Item"})]})]}):f.jsx("div",{className:"itens-grid",children:r.map((C,M)=>f.jsxs("div",{className:"item-card",style:{animationDelay:`${M*.05}s`},children:[f.jsxs("div",{className:"item-card-header",children:[f.jsxs("div",{className:"item-vagao",children:[f.jsx(yh,{size:20}),f.jsxs("span",{children:["Vago ",C.vagaoNumero]})]}),f.jsxs("div",{className:"item-menu",children:[f.jsx("button",{onClick:()=>b(A===C.id?null:C.id),className:"item-menu-button",children:f.jsx(su,{size:20})}),A===C.id&&f.jsxs("div",{className:"item-dropdown-menu",children:[f.jsxs("button",{onClick:()=>de(C),children:[f.jsx(Sm,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{onClick:()=>R(C.id),className:"delete-action",children:[f.jsx(vi,{size:16}),f.jsx("span",{children:"Excluir"})]})]})]})]}),f.jsxs("div",{className:"item-body",children:[f.jsxs("div",{className:"item-info-row",children:[f.jsx(wT,{size:16}),f.jsxs("div",{children:[f.jsx("span",{className:"item-label",children:"Empresa"}),f.jsx("p",{className:"item-value",children:C.empresa})]})]}),f.jsxs("div",{className:"item-info-row",children:[f.jsx(zv,{size:16}),f.jsxs("div",{children:[f.jsx("span",{className:"item-label",children:"Servio"}),f.jsx("p",{className:"item-value",children:C.servico})]})]}),f.jsxs("div",{className:"item-progress",children:[f.jsxs("div",{className:"item-progress-header",children:[f.jsx("span",{children:"Quantidade"}),f.jsxs("strong",{children:[C.quantidade," / ",C.quantidadeMaxima]})]}),f.jsx("div",{className:"item-progress-bar",children:f.jsx("div",{className:`item-progress-fill ${C.quantidade===C.quantidadeMaxima?"complete":""}`,style:{width:`${C.quantidade/C.quantidadeMaxima*100}%`}})}),C.quantidade===C.quantidadeMaxima&&f.jsx("span",{className:"item-progress-status",children:"Limite do Vago atingido"})]})]})]},C.id))}),d&&f.jsx("div",{className:"itens-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"itens-modal-content",onClick:C=>C.stopPropagation(),children:[f.jsxs("div",{className:"itens-modal-header",children:[f.jsx("h2",{children:T?"Editar Item":"Novo Item"}),f.jsx("button",{onClick:()=>v(!1),className:"itens-modal-close",children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{onSubmit:_e,className:"itens-modal-form",children:[f.jsxs("div",{className:"itens-form-group",children:[f.jsx("label",{htmlFor:"vagao",children:"Vago *"}),f.jsxs("select",{id:"vagao",value:P.vagaoId,onChange:C=>z({...P,vagaoId:C.target.value}),required:!0,disabled:x||!!T,children:[f.jsx("option",{value:"",children:"Selecione um vago"}),e.map(C=>{const M=I(C.id),j=C.numeroApartamentos-M.atual;return!T&&j<=0?null:f.jsx("option",{value:C.id,children:`Vago ${C.numero} (Disponvel: ${j})`},C.id)})]})]}),f.jsxs("div",{className:"itens-form-group",children:[f.jsx("label",{htmlFor:"empresa",children:"Empresa Fornecedora*"}),f.jsx("input",{type:"text",id:"empresa",value:P.empresa,onChange:C=>z({...P,empresa:C.target.value}),required:!0,disabled:x,placeholder:"Ex: Construtora XYZ"})]}),f.jsxs("div",{className:"itens-form-group",children:[f.jsx("label",{htmlFor:"servico",children:"Servio Negociado *"}),f.jsx("input",{type:"text",id:"servico",value:P.servico,onChange:C=>z({...P,servico:C.target.value}),required:!0,disabled:x,placeholder:"Ex: Instalao eltrica"})]}),f.jsxs("div",{className:"itens-form-group",children:[f.jsx("label",{htmlFor:"quantidade",children:"Quantidade *"}),f.jsx("input",{type:"number",id:"quantidade",min:"0",step:"1",value:P.quantidade,onChange:C=>z({...P,quantidade:parseInt(C.target.value)||0}),required:!0,disabled:x}),P.vagaoId&&(()=>{const C=I(P.vagaoId),M=C.max-C.atual;return(T?C.atual-T.quantidade+P.quantidade:C.atual+P.quantidade)>C.max?f.jsxs("div",{className:"itens-form-warning",children:[f.jsx(wr,{size:16}),f.jsxs("span",{children:["Quantidade excede o limite! Disponvel:"," ",M+(T?T.quantidade:0)," ","unidades"]})]}):M===0&&!T?f.jsxs("div",{className:"itens-form-warning",children:[f.jsx(wr,{size:16}),f.jsx("span",{children:"Este vago j atingiu sua capacidade mxima!"})]}):null})()]}),f.jsxs("div",{className:"itens-modal-actions",children:[f.jsx("button",{type:"button",onClick:()=>v(!1),className:"itens-btn-secondary",disabled:x,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"itens-btn-primary",disabled:x,children:x?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:18,className:"itens-spinner-small"}),"Salvando..."]}):T?"Salvar Alteraes":"Adicionar Item"})]})]})]})})]})},pc="contratos",F8=()=>`${Date.now()}-${Math.random().toString(36).slice(2,11)}`,Kd={async createContrato(n,e){try{const t=await this.getContratosByFornecedor(n,e.fornecedor),r=t.length>0,i=r?t[0].id:void 0,o=e.itens.reduce((d,v)=>d+v.valorTotal,0),c=F8(),h={obraId:n,fornecedor:e.fornecedor,tipo:r?"aditivo":"contrato",contratoOriginalId:i||null,numeroContrato:e.numeroContrato,itens:e.itens,valorTotal:o,status:"pendente",aprovadorId:e.aprovadorId,aprovadorNome:e.aprovadorNome,aprovadorEmail:e.aprovadorEmail,tokenAprovacao:c,dataAprovacao:null,observacoesAprovacao:null,createdAt:Xe.now(),updatedAt:Xe.now()},m=await To(Cn(at,pc),h);return await this.enviarEmailAprovacao({contratoId:m.id,fornecedor:e.fornecedor,numeroContrato:e.numeroContrato,valorTotal:o,aprovadorEmail:e.aprovadorEmail,aprovadorNome:e.aprovadorNome,tokenAprovacao:c,tipo:r?"aditivo":"contrato"}),{id:m.id,obraId:n,fornecedor:e.fornecedor,tipo:r?"aditivo":"contrato",contratoOriginalId:i,numeroContrato:e.numeroContrato,itens:e.itens,valorTotal:o,status:"pendente",aprovadorId:e.aprovadorId,aprovadorNome:e.aprovadorNome,aprovadorEmail:e.aprovadorEmail,tokenAprovacao:c,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar contrato:",t),new Error("No foi possvel criar o contrato. Tente novamente.")}},async enviarEmailAprovacao(n){try{console.warn("URL do Power Automate no configurada");return}catch(e){console.error("Erro ao enviar e-mail de aprovao:",e)}},async getContratosByObra(n){try{const e=Ta(Cn(at,pc),Tr("obraId","==",n),mo("createdAt","desc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,obraId:o.obraId,fornecedor:o.fornecedor,tipo:o.tipo,contratoOriginalId:o.contratoOriginalId,numeroContrato:o.numeroContrato,itens:o.itens||[],valorTotal:o.valorTotal,status:o.status,aprovadorId:o.aprovadorId,aprovadorNome:o.aprovadorNome,aprovadorEmail:o.aprovadorEmail,tokenAprovacao:o.tokenAprovacao,dataAprovacao:o.dataAprovacao?.toDate(),observacoesAprovacao:o.observacoesAprovacao,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar contratos:",e),new Error("No foi possvel carregar os contratos. Tente novamente.")}},async getContratosByFornecedor(n,e){try{const t=Ta(Cn(at,pc),Tr("obraId","==",n),Tr("fornecedor","==",e),mo("createdAt","desc")),r=await wa(t),i=[];return r.forEach(o=>{const c=o.data();i.push({id:o.id,obraId:c.obraId,fornecedor:c.fornecedor,tipo:c.tipo,contratoOriginalId:c.contratoOriginalId,numeroContrato:c.numeroContrato,itens:c.itens||[],valorTotal:c.valorTotal,status:c.status,aprovadorId:c.aprovadorId,aprovadorNome:c.aprovadorNome,aprovadorEmail:c.aprovadorEmail,tokenAprovacao:c.tokenAprovacao,dataAprovacao:c.dataAprovacao?.toDate(),observacoesAprovacao:c.observacoesAprovacao,createdAt:c.createdAt?.toDate()||new Date,updatedAt:c.updatedAt?.toDate()||new Date})}),i}catch(t){throw console.error("Erro ao buscar contratos por fornecedor:",t),new Error("No foi possvel carregar os contratos.")}},async getContratoById(n){try{const e=Wt(at,pc,n),t=await as(e);if(!t.exists())return null;const r=t.data();return{id:t.id,obraId:r.obraId,fornecedor:r.fornecedor,tipo:r.tipo,contratoOriginalId:r.contratoOriginalId,numeroContrato:r.numeroContrato,itens:r.itens||[],valorTotal:r.valorTotal,status:r.status,aprovadorId:r.aprovadorId,aprovadorNome:r.aprovadorNome,aprovadorEmail:r.aprovadorEmail,tokenAprovacao:r.tokenAprovacao,dataAprovacao:r.dataAprovacao?.toDate(),observacoesAprovacao:r.observacoesAprovacao,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}catch(e){throw console.error("Erro ao buscar contrato:",e),new Error("No foi possvel carregar o contrato.")}},async aprovarContrato(n){try{const e=await this.getContratoById(n.contratoId);if(!e)throw new Error("Contrato no encontrado");if(e.tokenAprovacao!==n.token)throw new Error("Token de aprovao invlido");if(e.status!=="pendente")throw new Error("Este contrato j foi processado");const t=Wt(at,pc,n.contratoId);await Ka(t,{status:n.aprovado?"aprovado":"rejeitado",dataAprovacao:Xe.now(),observacoesAprovacao:n.observacoes||null,updatedAt:Xe.now()})}catch(e){throw console.error("Erro ao aprovar contrato:",e),e}},async deleteContrato(n){try{await is(Wt(at,pc,n))}catch(e){throw console.error("Erro ao deletar contrato:",e),new Error("No foi possvel deletar o contrato. Tente novamente.")}},createItemId(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}},L8=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState(!0),[o,c]=W.useState(""),[h,m]=W.useState(!1),[d,v]=W.useState(!1),[x,y]=W.useState(null),[T,N]=W.useState({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),[A,b]=W.useState([]),[P,z]=W.useState({descricao:"",unidade:"",quantidade:0,valorUnitario:0}),[q,ee]=W.useState([]),[de,_e]=W.useState(""),[R,I]=W.useState(!1),[C,M]=W.useState(""),[j,O]=W.useState(null),F=W.useMemo(()=>{const re=new Set;return q.forEach($e=>{$e.empresa&&re.add($e.empresa)}),Array.from(re).sort()},[q]),ae=W.useMemo(()=>q.map(re=>({id:re.id,label:`Vago ${re.vagaoNumero}  ${re.servico} (${re.empresa})`})),[q]),Ce=W.useMemo(()=>q.find(re=>re.id===de),[q,de]),te=W.useCallback(async()=>{if(n){i(!0),c("");try{const re=await Kd.getContratosByObra(n);t(re)}catch(re){c(re instanceof Error?re.message:"Erro ao carregar contratos")}finally{i(!1)}}},[n]),ye=W.useCallback(async()=>{if(n)try{const re=await tl.getItensByObra(n);ee(re)}catch(re){console.error("Erro ao carregar itens da Tela 4:",re)}},[n]);W.useEffect(()=>{n&&(te(),ye())},[n,te,ye]),W.useEffect(()=>(h||d?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[h,d]);const oe=re=>{if(N(Je=>({...Je,fornecedor:re})),!re){O(null);return}const $e=e.find(Je=>Je.fornecedor.toLowerCase()===re.toLowerCase());O($e?{tipo:"aditivo",contratoNumero:$e.numeroContrato}:{tipo:"contrato"})},Ve=re=>{if(_e(re),!re)return;const $e=q.find(Je=>Je.id===re);$e&&(z(Je=>({...Je,descricao:$e.servico,unidade:Je.unidade||"un",quantidade:$e.quantidade})),oe($e.empresa))},et=()=>{N({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),b([]),_e(""),O(null),M(""),m(!0)},Z=()=>{M("");const re=P.descricao.trim()||Ce?.servico?.trim()||"",$e=P.unidade.trim()||"un",Je=P.quantidade>0?P.quantidade:Ce&&Ce.quantidade>0?Ce.quantidade:0;if(!re){M("Selecione um servio cadastrado ou informe a descrio manualmente.");return}if(Je<=0){M("Defina uma quantidade maior que zero.");return}if(P.valorUnitario<=0){M("Informe o valor unitrio do item.");return}const en={id:Kd.createItemId(),descricao:re,unidade:$e,quantidade:Je,valorUnitario:P.valorUnitario,valorTotal:Je*P.valorUnitario};b([...A,en]),z({descricao:"",unidade:"",quantidade:0,valorUnitario:0}),M("")},L=re=>{b(A.filter($e=>$e.id!==re))},J=async re=>{if(re.preventDefault(),!!n&&!R){if(A.length===0){c("Adicione pelo menos um item ao contrato");return}c(""),I(!0);try{await Kd.createContrato(n,{...T,itens:A,aprovadorId:"aprovador-id"}),await te(),m(!1),N({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),b([])}catch($e){c($e instanceof Error?$e.message:"Erro ao criar contrato")}finally{I(!1)}}},X=re=>{y(re),v(!0)},Q=async re=>{if(window.confirm("Tem certeza que deseja excluir este contrato?"))try{await Kd.deleteContrato(re),await te()}catch($e){c($e instanceof Error?$e.message:"Erro ao excluir contrato")}},ge=re=>{switch(re){case"aprovado":return f.jsx(Bv,{size:20,className:"status-icon aprovado"});case"rejeitado":return f.jsx(b5,{size:20,className:"status-icon rejeitado"});default:return f.jsx(O1,{size:20,className:"status-icon pendente"})}},Oe=re=>{switch(re){case"aprovado":return"Aprovado";case"rejeitado":return"Rejeitado";default:return"Pendente"}},Be=re=>[{id:"criado",label:"Criao",state:"completed"},{id:"email",label:"E-mail enviado",state:"completed"},{id:"aguardando",label:"Aguardando aprovao",state:re==="pendente"?"current":"completed"},{id:"conclusao",label:re==="aprovado"?"Aprovado":re==="rejeitado"?"Rejeitado":"Concluso",state:re==="pendente"?"upcoming":"completed",highlight:re==="pendente"?void 0:re==="aprovado"?"aprovado":"rejeitado"}],Me=A.reduce((re,$e)=>re+$e.valorTotal,0);return r?f.jsx("div",{className:"contrato-container",children:f.jsx("div",{className:"contrato-loading",children:"Carregando contratos..."})}):f.jsxs("div",{className:"contrato-container",children:[f.jsxs("div",{className:"contrato-header",children:[f.jsxs("div",{className:"contrato-header-left",children:[f.jsx(F0,{size:32}),f.jsx("h1",{children:"Contratos"})]}),f.jsxs("button",{className:"btn-add-contrato",onClick:et,children:[f.jsx(Sr,{size:20}),"Novo Contrato"]})]}),f.jsxs("div",{className:"contrato-highlights",children:[f.jsxs("div",{className:"highlight-card",children:[f.jsx("strong",{children:"Dependncia  Tela 4 (Itens)"}),f.jsx("p",{children:"Os contratos aproveitam fornecedores e servios j aprovados na tela de Itens. Vincule o servio antes de definir valores contratuais."})]}),f.jsxs("div",{className:"highlight-card",children:[f.jsx("strong",{children:"Workflow de Aprovao"}),f.jsx("p",{children:"Aps a criao, o aprovador recebe um link via Power Automate para aprovar ou rejeitar o contrato/aditivo."})]})]}),o&&f.jsxs("div",{className:"contrato-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:o}),f.jsx("button",{onClick:()=>c(""),children:f.jsx(Mn,{size:16})})]}),e.length===0?f.jsxs("div",{className:"contrato-empty",children:[f.jsx(F0,{size:48}),f.jsx("h2",{children:"Nenhum contrato cadastrado"}),f.jsx("p",{children:"Crie um novo contrato para comear"})]}):f.jsx("div",{className:"contrato-list",children:e.map(re=>f.jsxs("div",{className:"contrato-card",children:[f.jsxs("div",{className:"contrato-card-header",children:[f.jsxs("div",{className:"contrato-card-info",children:[f.jsx("div",{className:"contrato-tipo-badge",children:re.tipo==="aditivo"?"Aditivo":"Contrato"}),f.jsx("h3",{children:re.fornecedor}),f.jsxs("span",{className:"contrato-numero",children:["N ",re.numeroContrato]})]}),f.jsxs("div",{className:"contrato-card-status",children:[ge(re.status),f.jsx("span",{className:`status-text ${re.status}`,children:Oe(re.status)})]})]}),f.jsxs("div",{className:"contrato-card-body",children:[f.jsxs("div",{className:"contrato-info-row",children:[f.jsx("span",{className:"info-label",children:"Valor Total:"}),f.jsx("span",{className:"info-value",children:re.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),f.jsxs("div",{className:"contrato-info-row",children:[f.jsx("span",{className:"info-label",children:"Aprovador:"}),f.jsx("span",{className:"info-value",children:re.aprovadorNome})]}),f.jsxs("div",{className:"contrato-info-row",children:[f.jsx("span",{className:"info-label",children:"Itens:"}),f.jsx("span",{className:"info-value",children:re.itens.length})]}),f.jsx("div",{className:"contrato-approval-timeline",children:Be(re.status).map($e=>f.jsxs("div",{className:`timeline-step ${$e.state} ${$e.highlight?`timeline-${$e.highlight}`:""}`,children:[f.jsx("div",{className:"timeline-dot"}),f.jsx("span",{children:$e.label})]},`${re.id}-${$e.id}`))})]}),f.jsxs("div",{className:"contrato-card-footer",children:[f.jsxs("button",{className:"btn-view",onClick:()=>X(re),children:[f.jsx(j0,{size:16}),"Visualizar"]}),re.status==="pendente"&&f.jsxs("button",{className:"btn-delete",onClick:()=>Q(re.id),children:[f.jsx(vi,{size:16}),"Excluir"]})]})]},re.id))}),h&&M0.createPortal(f.jsx("div",{className:"contrato-modal-overlay",onClick:()=>m(!1),children:f.jsxs("div",{className:"contrato-modal-content",onClick:re=>re.stopPropagation(),children:[f.jsxs("div",{className:"contrato-modal-header",children:[f.jsx("h2",{children:"Novo Contrato"}),f.jsx("button",{className:"contrato-modal-close",onClick:()=>m(!1),children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{className:"contrato-modal-form",onSubmit:J,children:[f.jsxs("div",{className:"contrato-form-section",children:[f.jsx("h3",{children:"Dados do Contrato"}),f.jsxs("div",{className:"contrato-form-row",children:[f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Fornecedor *"}),f.jsx("input",{type:"text",list:"fornecedoresOptions",value:T.fornecedor,onChange:re=>oe(re.target.value),placeholder:"Ex: Fornecedor de Cimento",required:!0}),F.length>0&&f.jsx("datalist",{id:"fornecedoresOptions",children:F.map(re=>f.jsx("option",{value:re},re))}),j&&f.jsxs("div",{className:`fornecedor-alert ${j.tipo}`,children:[f.jsx(G5,{size:16}),j.tipo==="aditivo"?f.jsxs("span",{children:["Fornecedor j possui contrato N"," ",j.contratoNumero,". Este registro ser tratado como aditivo automaticamente."]}):f.jsx("span",{children:"Nenhum contrato anterior encontrado. Este ser um novo contrato base."})]})]}),f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Nmero do Contrato *"}),f.jsx("input",{type:"text",value:T.numeroContrato,onChange:re=>N({...T,numeroContrato:re.target.value}),placeholder:"Ex: 1234567890",required:!0})]}),f.jsxs("div",{className:"contrato-info-banner",children:[f.jsx(n8,{size:20}),f.jsxs("div",{children:[f.jsx("strong",{children:"Power Automate"}),f.jsx("p",{children:"Ao salvar, um e-mail automtico com link seguro de aprovao ser enviado para o aprovador informado."})]})]})]}),f.jsxs("div",{className:"contrato-form-row",children:[f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Nome do Aprovador *"}),f.jsx("input",{type:"text",value:T.aprovadorNome,onChange:re=>N({...T,aprovadorNome:re.target.value}),placeholder:"Ex: Joo da Silva",required:!0})]}),f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"E-mail do Aprovador *"}),f.jsx("input",{type:"email",value:T.aprovadorEmail,onChange:re=>N({...T,aprovadorEmail:re.target.value}),placeholder:"Ex: joao@gmail.com",required:!0})]})]})]}),f.jsxs("div",{className:"contrato-form-section",children:[f.jsx("h3",{children:"Adicionar Itens"}),f.jsxs("div",{className:"contrato-form-group full-width",children:[f.jsx("label",{children:"Servio cadastrado (Tela 4)"}),f.jsxs("select",{value:de,onChange:re=>Ve(re.target.value),children:[f.jsx("option",{value:"",children:"Selecione um servio existente para vincular"}),ae.map(re=>f.jsx("option",{value:re.id,children:re.label},re.id))]}),Ce&&f.jsxs("div",{className:"contrato-base-item",children:[f.jsxs("span",{children:["Fornecedor:"," ",f.jsx("strong",{children:Ce.empresa})]}),f.jsxs("span",{children:["Vago: ",f.jsx("strong",{children:Ce.vagaoNumero})]}),f.jsxs("span",{children:["Qtde orada:"," ",f.jsxs("strong",{children:[Ce.quantidade,"/",Ce.quantidadeMaxima]})]})]})]}),f.jsxs("div",{className:"item-form-grid",children:[f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Descrio"}),f.jsx("input",{type:"text",value:P.descricao,onChange:re=>z({...P,descricao:re.target.value}),placeholder:"Ex: Cimento Portland",required:!0})]}),f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Unidade"}),f.jsx("input",{type:"text",value:P.unidade,onChange:re=>z({...P,unidade:re.target.value}),placeholder:"m, kg, un...",required:!0})]}),f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Quantidade"}),f.jsx("input",{type:"number",min:0,step:"0.01",value:P.quantidade,onChange:re=>z({...P,quantidade:parseFloat(re.target.value)||0}),placeholder:"Ex: 100",required:!0})]}),f.jsxs("div",{className:"contrato-form-group",children:[f.jsx("label",{children:"Valor Unitrio"}),f.jsx("input",{type:"number",min:0,step:"0.01",value:P.valorUnitario,onChange:re=>z({...P,valorUnitario:parseFloat(re.target.value)||0}),placeholder:"Ex: 100.00",required:!0})]}),f.jsx("div",{className:"contrato-form-group add-button",children:f.jsxs("button",{type:"button",onClick:Z,disabled:R,children:[f.jsx(Sr,{size:16}),R?"Aguarde...":"Adicionar"]})})]}),C&&f.jsxs("div",{className:"contrato-item-error",children:[f.jsx(wr,{size:16}),f.jsx("span",{children:C})]}),A.length>0&&f.jsx("div",{className:"itens-list",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Descrio"}),f.jsx("th",{children:"Unidade"}),f.jsx("th",{children:"Qtd"}),f.jsx("th",{children:"Valor Unit."}),f.jsx("th",{children:"Total"}),f.jsx("th",{})]})}),f.jsx("tbody",{children:A.map(re=>f.jsxs("tr",{children:[f.jsx("td",{children:re.descricao}),f.jsx("td",{children:re.unidade}),f.jsx("td",{children:re.quantidade}),f.jsx("td",{children:re.valorUnitario.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),f.jsx("td",{children:re.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),f.jsx("td",{children:f.jsx("button",{type:"button",className:"btn-remove-item",onClick:()=>L(re.id),children:f.jsx(vi,{size:16})})})]},re.id))}),f.jsx("tfoot",{children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:4,style:{textAlign:"right"},children:f.jsx("strong",{children:"Total:"})}),f.jsx("td",{children:f.jsx("strong",{children:Me.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})}),f.jsx("td",{})]})})]})})]}),f.jsxs("div",{className:"contrato-modal-actions",children:[f.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>m(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary-modal",disabled:R,children:R?"Criando...":"Criar Contrato"})]})]})]})}),document.body),d&&x&&M0.createPortal(f.jsx("div",{className:"contrato-modal-overlay",onClick:()=>v(!1),children:f.jsxs("div",{className:"contrato-modal-content",onClick:re=>re.stopPropagation(),children:[f.jsxs("div",{className:"contrato-modal-header",children:[f.jsx("h2",{children:"Detalhes do Contrato"}),f.jsx("button",{className:"contrato-modal-close",onClick:()=>v(!1),children:f.jsx(Mn,{size:24})})]}),f.jsxs("div",{className:"contrato-view-content",children:[f.jsxs("div",{className:"contrato-view-section",children:[f.jsx("h3",{children:"Informaes Gerais"}),f.jsxs("div",{className:"contrato-view-grid",children:[f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Tipo:"}),f.jsx("span",{className:"view-value",children:x.tipo==="aditivo"?"Aditivo":"Contrato"})]}),f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Fornecedor:"}),f.jsx("span",{className:"view-value",children:x.fornecedor})]}),f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Nmero:"}),f.jsx("span",{className:"view-value",children:x.numeroContrato})]}),f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Status:"}),f.jsx("span",{className:`view-value status ${x.status}`,children:Oe(x.status)})]}),f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Aprovador:"}),f.jsx("span",{className:"view-value",children:x.aprovadorNome})]}),f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"E-mail:"}),f.jsx("span",{className:"view-value",children:x.aprovadorEmail})]})]})]}),f.jsxs("div",{className:"contrato-view-section",children:[f.jsx("h3",{children:"Itens do Contrato"}),f.jsx("div",{className:"itens-list",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Descrio"}),f.jsx("th",{children:"Unidade"}),f.jsx("th",{children:"Qtd"}),f.jsx("th",{children:"Valor Unit."}),f.jsx("th",{children:"Total"})]})}),f.jsx("tbody",{children:x.itens.map(re=>f.jsxs("tr",{children:[f.jsx("td",{children:re.descricao}),f.jsx("td",{children:re.unidade}),f.jsx("td",{children:re.quantidade}),f.jsx("td",{children:re.valorUnitario.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),f.jsx("td",{children:re.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},re.id))}),f.jsx("tfoot",{children:f.jsxs("tr",{children:[f.jsx("td",{colSpan:4,style:{textAlign:"right"},children:f.jsx("strong",{children:"Total:"})}),f.jsx("td",{children:f.jsx("strong",{children:x.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})})]})})]})})]}),x.dataAprovacao&&f.jsxs("div",{className:"contrato-view-section",children:[f.jsx("h3",{children:"Informaes de Aprovao"}),f.jsxs("div",{className:"contrato-view-grid",children:[f.jsxs("div",{className:"contrato-view-item",children:[f.jsx("span",{className:"view-label",children:"Data de Aprovao:"}),f.jsx("span",{className:"view-value",children:x.dataAprovacao.toLocaleDateString("pt-BR")})]}),x.observacoesAprovacao&&f.jsxs("div",{className:"contrato-view-item full-width",children:[f.jsx("span",{className:"view-label",children:"Observaes:"}),f.jsx("span",{className:"view-value",children:x.observacoesAprovacao})]})]})]})]})]})}),document.body)]})},V8=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Checklist Mensal"}),f.jsx("p",{children:"Verificaes e checklists mensais"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Checklist Mensal ser implementado aqui."})})]}),U8=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Medio"}),f.jsx("p",{children:"Controle de medies da obra"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Medio ser implementado aqui."})})]}),B8=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Produo"}),f.jsx("p",{children:"Acompanhamento da produo"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Produo ser implementado aqui."})})]}),z8=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Produo Faltante"}),f.jsx("p",{children:"Itens pendentes de produo"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Produo Faltante ser implementado aqui."})})]}),fh="kits",q8=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,sl={async createKit(n,e,t){try{const r={obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,nome:t.nome,maoDeObra:t.maoDeObra,materiais:t.materiais,createdAt:Xe.now(),updatedAt:Xe.now()};return{id:(await To(Cn(at,fh),r)).id,obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,nome:t.nome,maoDeObra:t.maoDeObra,materiais:t.materiais,createdAt:new Date,updatedAt:new Date}}catch(r){throw console.error("Erro ao criar kit:",r),new Error("No foi possvel criar o kit. Tente novamente.")}},async getKitsByObra(n){try{const e=Ta(Cn(at,fh),Tr("obraId","==",n),mo("vagaoNumero","asc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,nome:o.nome,maoDeObra:o.maoDeObra||[],materiais:o.materiais||[],createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar kits:",e),new Error("No foi possvel carregar os kits. Tente novamente.")}},async deleteKit(n){try{await is(Wt(at,fh,n))}catch(e){throw console.error("Erro ao deletar kit:",e),new Error("No foi possvel deletar o kit. Tente novamente.")}},async addMaoDeObraEntry(n,e){try{const t=Wt(at,fh,n),r=await as(t);if(!r.exists())throw new Error("Kit no encontrado");const o=[...r.data().maoDeObra||[],e];await Ka(t,{maoDeObra:o,updatedAt:Xe.now()})}catch(t){throw console.error("Erro ao adicionar mo de obra:",t),new Error("No foi possvel adicionar a mo de obra.")}},async addMaterialEntry(n,e){try{const t=Wt(at,fh,n),r=await as(t);if(!r.exists())throw new Error("Kit no encontrado");const o=[...r.data().materiais||[],e];await Ka(t,{materiais:o,updatedAt:Xe.now()})}catch(t){throw console.error("Erro ao adicionar material:",t),new Error("No foi possvel adicionar o material.")}},createEntryId:q8},H8=({activeTab:n,onChange:e})=>f.jsxs("div",{className:"kit-tabs",children:[f.jsx("button",{type:"button",className:`kit-tab ${n==="mao-de-obra"?"active":""}`,onClick:()=>e("mao-de-obra"),children:"Mao de Obra"}),f.jsx("button",{type:"button",className:`kit-tab ${n==="materiais"?"active":""}`,onClick:()=>e("materiais"),children:"Materiais"})]}),G8=({itens:n,entries:e,onAdd:t,onRemove:r})=>{const[i,o]=W.useState(""),[c,h]=W.useState(0),[m,d]=W.useState(""),v=()=>{const x=n.find(T=>T.id===i);if(!x){d("Item no encontrado");return}if(c<=0){d("Quantidade deve ser maior que 0");return}if(c>x.quantidade){d("Quantidade disponvel insuficiente");return}const y={id:sl.createEntryId(),itemId:x.id,itemNome:`${x.empresa} - ${x.servico}`,quantidade:c};t(y),o(""),h(0),d("")};return f.jsxs("div",{className:"kit-maoobra-form",children:[f.jsxs("div",{className:"kit-form-row",children:[f.jsxs("div",{className:"kit-form-group",children:[f.jsx("label",{children:"Item cadastrado *"}),f.jsxs("select",{value:i,onChange:x=>o(x.target.value),children:[f.jsx("option",{value:"",children:"Selecione um item"}),n.map(x=>f.jsx("option",{value:x.id,children:`Vago ${x.vagaoNumero}  ${x.empresa}  ${x.servico} (Qtd: ${x.quantidade})`},x.id))]})]}),f.jsxs("div",{className:"kit-form-group",children:[f.jsx("label",{children:"Quantidade *"}),f.jsx("input",{type:"number",min:0,value:c,onChange:x=>h(parseInt(x.target.value)||0)})]}),f.jsx("div",{className:"kit-form-group add-button",children:f.jsxs("button",{type:"button",onClick:v,children:[f.jsx(Sr,{size:16}),f.jsx("span",{children:"Adicionar"})]})})]}),m&&f.jsxs("div",{className:"kit-form-warning",children:[f.jsx(wr,{size:16}),f.jsx("span",{children:m})]}),f.jsx("div",{className:"kit-entries-list",children:e.length===0?f.jsx("p",{className:"kit-entries-empty",children:"Nenhum item adicionado ainda"}):e.map(x=>f.jsxs("div",{className:"kit-entry",children:[f.jsxs("div",{children:[f.jsx("strong",{children:x.itemNome}),f.jsxs("strong",{children:[x.quantidade," profissionais"]})]}),f.jsx("button",{type:"button",onClick:()=>r(x.id),children:f.jsx(vi,{size:16})})]},x.id))})]})},K8=({entries:n,onAdd:e,onRemove:t})=>{const[r,i]=W.useState(""),[o,c]=W.useState(0),[h,m]=W.useState(""),d=()=>{if(!r||!h||o<=0)return;const v={id:sl.createEntryId(),nome:r,unidade:h,quantidade:o};e(v),i(""),c(0),m("")};return f.jsxs("div",{className:"kit-materiais-form",children:[f.jsxs("div",{className:"kit-form-row",children:[f.jsxs("div",{className:"kit-form-group",children:[f.jsx("label",{children:"Nome do insumo *"}),f.jsx("input",{type:"text",value:r,onChange:v=>i(v.target.value),placeholder:"Ex: Concreto usinado"})]}),f.jsxs("div",{className:"kit-form-group",children:[f.jsx("label",{children:"Unidade *"}),f.jsx("input",{type:"text",value:h,onChange:v=>m(v.target.value),placeholder:"m3, kg, pea..."})]}),f.jsxs("div",{className:"kit-form-group",children:[f.jsx("label",{children:"Quantidade *"}),f.jsx("input",{type:"number",min:0,value:o,onChange:v=>c(parseFloat(v.target.value)||0)})]}),f.jsx("div",{className:"kit-form-group add-button",children:f.jsxs("button",{type:"button",onClick:d,children:[f.jsx(Sr,{size:16}),f.jsx("span",{children:"Adicionar"})]})})]}),f.jsx("div",{className:"kit-entries-list",children:n.length===0?f.jsx("p",{className:"kit-entries-empty",children:"Nenhum insumo adicionado ainda"}):n.map(v=>f.jsxs("div",{className:"kit-entry",children:[f.jsxs("div",{children:[f.jsx("strong",{children:v.nome}),f.jsxs("span",{children:[v.quantidade," ",v.unidade]})]}),f.jsx("button",{type:"button",onClick:()=>t(v.id),children:f.jsx(vi,{size:16})})]},v.id))})]})},$8=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState([]),[o,c]=W.useState([]),[h,m]=W.useState(!0),[d,v]=W.useState(null),[x,y]=W.useState(!1),[T,N]=W.useState(!1),[A,b]=W.useState("mao-de-obra"),[P,z]=W.useState({vagaoId:"",nome:""}),[q,ee]=W.useState([]),[de,_e]=W.useState([]),[R,I]=W.useState(null),C=W.useCallback(async()=>{if(n)try{m(!0),v(null);const[te,ye,oe]=await Promise.all([Qs.getVagoesByObra(n),tl.getItensByObra(n),sl.getKitsByObra(n)]);t(te),i(ye),c(oe)}catch(te){v(te instanceof Error?te.message:"Erro ao carregar dados.")}finally{m(!1)}},[n]);W.useEffect(()=>{C()},[C]),W.useEffect(()=>{const te=ye=>{ye.target.closest(".kit-menu-container")||I(null)};if(R)return document.addEventListener("mousedown",te),()=>document.removeEventListener("mousedown",te)},[R]);const M=()=>{z({vagaoId:"",nome:""}),ee([]),_e([]),b("mao-de-obra"),y(!0)},j=async te=>{if(te.preventDefault(),!!n)try{N(!0),v(null);const ye=e.find(oe=>oe.id===P.vagaoId);if(!ye)throw new Error("Vago no encontrado");await sl.createKit(n,ye,{vagaoId:P.vagaoId,nome:P.nome,maoDeObra:q,materiais:de}),y(!1),await C()}catch(ye){v(ye instanceof Error?ye.message:"Erro ao salvar kit.")}finally{N(!1)}},O=async te=>{if(I(null),!!confirm("Deseja realmente excluir este kit?"))try{await sl.deleteKit(te),await C()}catch(ye){v(ye instanceof Error?ye.message:"Erro ao deletar kit.")}},F=te=>{I(null),console.log("Editar kit:",te)},ae=te=>{I(R===te?null:te)},Ce=r.filter(te=>te.vagaoId===P.vagaoId);return f.jsxs("div",{className:"kits-container",children:[f.jsxs("div",{className:"kits-header",children:[f.jsxs("div",{children:[f.jsx("h1",{children:"Kits"}),f.jsx("p",{children:"Cadastre kits de mo de obra e materiais por vago"})]}),f.jsxs("button",{className:"btn-add-kit",onClick:M,children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Novo Kit"})]})]}),d&&f.jsxs("div",{className:"kits-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:d}),f.jsx("button",{onClick:()=>v(null),children:f.jsx(Mn,{size:18})})]}),h?f.jsxs("div",{className:"kits-loading",children:[f.jsx(na,{size:48,className:"kits-spinner"}),f.jsx("p",{children:"Carregando kits..."})]}):o.length===0?f.jsxs("div",{className:"kits-empty",children:[f.jsx(zv,{size:64}),f.jsx("h2",{children:"Nenhum kit cadastrado"}),f.jsx("p",{children:"Comece criando o primeiro kit para os seus vages"}),f.jsxs("button",{className:"btn-add-kit",onClick:M,children:[f.jsx(Sr,{size:20}),f.jsx("span",{children:"Criar Kit"})]})]}):f.jsx("div",{className:"kits-grid",children:o.map(te=>f.jsxs("div",{className:"kit-card",children:[f.jsxs("div",{className:"kit-card-header",children:[f.jsx("div",{children:f.jsxs("span",{className:"kit-vagao",children:[f.jsx(so,{size:18}),"Vago ",te.vagaoNumero]})}),f.jsxs("div",{className:"kit-menu-container",children:[f.jsx("button",{title:"Opes",onClick:ye=>{ye.stopPropagation(),ae(te.id)},children:f.jsx(su,{size:18})}),R===te.id&&f.jsxs("div",{className:"kit-dropdown-menu",children:[f.jsxs("button",{className:"kit-menu-item kit-menu-item-edit",onClick:ye=>{ye.stopPropagation(),F(te)},children:[f.jsx(c8,{size:16}),f.jsx("span",{children:"Editar"})]}),f.jsxs("button",{className:"kit-menu-item kit-menu-item-delete",onClick:ye=>{ye.stopPropagation(),O(te.id)},children:[f.jsx(vi,{size:16}),f.jsx("span",{children:"Excluir"})]})]})]})]}),f.jsxs("div",{className:"kit-card-body",children:[f.jsxs("div",{children:[f.jsx(so,{size:20}),f.jsxs("div",{children:[f.jsx("strong",{children:"Mo de Obra"}),f.jsxs("p",{children:[te.maoDeObra.length," registro(s)"]})]})]}),f.jsxs("div",{children:[f.jsx(j5,{size:20}),f.jsxs("div",{children:[f.jsx("strong",{children:"Materiais"}),f.jsxs("p",{children:[te.materiais.length," registro(s)"]})]})]})]})]},te.id))}),x&&f.jsx("div",{className:"kits-modal-overlay",onClick:()=>y(!1),children:f.jsxs("div",{className:"kits-modal-content",onClick:te=>te.stopPropagation(),children:[f.jsxs("div",{className:"kits-modal-header",children:[f.jsx("h2",{children:"Criar Kit"}),f.jsx("button",{onClick:()=>y(!1),className:"kits-modal-close",children:f.jsx(Mn,{size:20})})]}),f.jsxs("form",{className:"kits-modal-form",onSubmit:j,children:[f.jsxs("div",{className:"kits-form-row",children:[f.jsxs("div",{className:"kits-form-group",children:[f.jsx("label",{htmlFor:"nome",children:"Nome do Kit *"}),f.jsx("input",{id:"nome",value:P.nome,onChange:te=>z({...P,nome:te.target.value}),required:!0,placeholder:"Ex: Kit Estrutura"})]}),f.jsxs("div",{className:"kits-form-group",children:[f.jsx("label",{htmlFor:"vagaoId",children:"Vago *"}),f.jsxs("select",{id:"vagaoId",value:P.vagaoId,onChange:te=>z({...P,vagaoId:te.target.value}),required:!0,children:[f.jsx("option",{value:"",children:"Selecione um vago"}),e.map(te=>f.jsx("option",{value:te.id,children:`Vago ${te.numero}`},te.id))]})]})]}),f.jsx(H8,{activeTab:A,onChange:b}),A==="mao-de-obra"?f.jsx(G8,{itens:Ce,entries:q,onAdd:te=>ee(ye=>[...ye,te]),onRemove:te=>ee(ye=>ye.filter(oe=>oe.id!==te))}):f.jsx(K8,{entries:de,onAdd:te=>_e(ye=>[...ye,te]),onRemove:te=>_e(ye=>ye.filter(oe=>oe.id!==te))}),f.jsxs("div",{className:"kits-modal-actions",children:[f.jsx("button",{type:"button",className:"kits-btn-secondary",onClick:()=>y(!1),disabled:T,children:"Cancelar"}),f.jsx("button",{type:"submit",className:"kits-btn-primary",disabled:T,children:T?f.jsxs(f.Fragment,{children:[f.jsx(na,{size:18,className:"kits-spinner-small"}),"Salvando..."]}):"Salvar Kit"})]})]})]})})]})},$d="estoque_insumos",nl={async createEstoque(n,e){try{const t={obraId:n,nome:e.nome,unidade:e.unidade,quantidadeDisponivel:e.quantidadeDisponivel,createdAt:Xe.now(),updatedAt:Xe.now()};return{id:(await To(Cn(at,$d),t)).id,obraId:n,nome:e.nome,unidade:e.unidade,quantidadeDisponivel:e.quantidadeDisponivel,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar estoque:",t),new Error("No foi possvel criar o estoque. Tente novamente.")}},async getEstoquesByObra(n){try{const e=Ta(Cn(at,$d),Tr("obraId","==",n),mo("nome","asc")),t=await wa(e),r=[];return t.forEach(i=>{const o=i.data();r.push({id:i.id,obraId:o.obraId,nome:o.nome,unidade:o.unidade,quantidadeDisponivel:o.quantidadeDisponivel,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar estoques:",e),new Error("No foi possvel carregar os estoques. Tente novamente.")}},async updateEstoque(n,e){try{const t={updatedAt:Xe.now()};e.nome!==void 0&&(t.nome=e.nome),e.unidade!==void 0&&(t.unidade=e.unidade),e.quantidadeDisponivel!==void 0&&(t.quantidadeDisponivel=e.quantidadeDisponivel);const r=Wt(at,$d,n);await Ka(r,t)}catch(t){throw console.error("Erro ao atualizar estoque:",t),new Error("No foi possvel atualizar o estoque. Tente novamente.")}},async deleteEstoque(n){try{await is(Wt(at,$d,n))}catch(e){throw console.error("Erro ao deletar estoque:",e),new Error("No foi possvel deletar o estoque. Tente novamente.")}},analisarKits(n,e,t){const r=new Map;e.forEach(o=>{const c=`${o.nome.toLowerCase()}-${o.unidade.toLowerCase()}`;r.set(c,o.quantidadeDisponivel)});const i=[];for(const o of n){const c=t.get(o.id)||0,h=[];let m=!1;for(const d of o.materiais){const v=`${d.nome.toLowerCase()}-${d.unidade.toLowerCase()}`,x=d.quantidade*c,y=r.get(v)||0,T=Math.min(x,y),N=Math.max(0,x-y);r.set(v,Math.max(0,y-x)),h.push({nome:d.nome,unidade:d.unidade,quantidadePorUnidade:d.quantidade,quantidadeTotal:x,quantidadeAlocada:T,deficit:N,temAlerta:N>0}),N>0&&(m=!0)}i.push({kitId:o.id,kitNome:o.nome,vagaoNumero:o.vagaoNumero,producaoFaltante:c,insumos:h,temAlerta:m})}return i}},gc="producao_faltante",j1={async saveProducaoFaltante(n,e){try{const t=Ta(Cn(at,gc),Tr("obraId","==",n),Tr("kitId","==",e.kitId)),r=await wa(t);if(r.empty){const i={obraId:n,kitId:e.kitId,quantidade:e.quantidade,createdAt:Xe.now(),updatedAt:Xe.now()};return{id:(await To(Cn(at,gc),i)).id,obraId:n,kitId:e.kitId,quantidade:e.quantidade,createdAt:new Date,updatedAt:new Date}}else{const i=r.docs[0].ref;await Ka(i,{quantidade:e.quantidade,updatedAt:Xe.now()});const o=r.docs[0].data();return{id:i.id,obraId:o.obraId,kitId:o.kitId,quantidade:e.quantidade,createdAt:o.createdAt?.toDate()||new Date,updatedAt:new Date}}}catch(t){throw console.error("Erro ao salvar produo faltante:",t),new Error("No foi possvel salvar a produo faltante. Tente novamente.")}},async saveProducoesFaltantes(n,e){try{const t=[];e.forEach((r,i)=>{t.push(this.saveProducaoFaltante(n,{kitId:i,quantidade:r}))}),await Promise.all(t)}catch(t){throw console.error("Erro ao salvar produes faltantes:",t),new Error("No foi possvel salvar as produes faltantes. Tente novamente.")}},async getProducoesFaltantesByObra(n){try{const e=Ta(Cn(at,gc),Tr("obraId","==",n)),t=await wa(e),r=new Map;return t.forEach(i=>{const o=i.data();r.set(o.kitId,o.quantidade||0)}),r}catch(e){throw console.error("Erro ao buscar produes faltantes:",e),new Error("No foi possvel carregar as produes faltantes. Tente novamente.")}},async getProducaoFaltanteByKit(n,e){try{const t=Ta(Cn(at,gc),Tr("obraId","==",n),Tr("kitId","==",e)),r=await wa(t);return r.empty?0:r.docs[0].data().quantidade||0}catch(t){return console.error("Erro ao buscar produo faltante:",t),0}},async deleteProducaoFaltante(n){try{await is(Wt(at,gc,n))}catch(e){throw console.error("Erro ao deletar produo faltante:",e),new Error("No foi possvel deletar a produo faltante. Tente novamente.")}},async deleteProducoesFaltantesByObra(n){try{const e=Ta(Cn(at,gc),Tr("obraId","==",n)),r=(await wa(e)).docs.map(i=>is(i.ref));await Promise.all(r)}catch(e){throw console.error("Erro ao deletar produes faltantes:",e),new Error("No foi possvel deletar as produes faltantes. Tente novamente.")}}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var L0={};L0.version="0.18.5";var lC=1252,W8=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],cC=function(n){W8.indexOf(n)!=-1&&(lC=n)};function X8(){cC(1252)}var Gh=function(n){cC(n)};function Y8(){Gh(1200),X8()}var Wd=function(e){return String.fromCharCode(e)},CT=function(e){return String.fromCharCode(e)},V0,Zs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Kh(n){for(var e="",t=0,r=0,i=0,o=0,c=0,h=0,m=0,d=0;d<n.length;)t=n.charCodeAt(d++),o=t>>2,r=n.charCodeAt(d++),c=(t&3)<<4|r>>4,i=n.charCodeAt(d++),h=(r&15)<<2|i>>6,m=i&63,isNaN(r)?h=m=64:isNaN(i)&&(m=64),e+=Zs.charAt(o)+Zs.charAt(c)+Zs.charAt(h)+Zs.charAt(m);return e}function os(n){var e="",t=0,r=0,i=0,o=0,c=0,h=0,m=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var d=0;d<n.length;)o=Zs.indexOf(n.charAt(d++)),c=Zs.indexOf(n.charAt(d++)),t=o<<2|c>>4,e+=String.fromCharCode(t),h=Zs.indexOf(n.charAt(d++)),r=(c&15)<<4|h>>2,h!==64&&(e+=String.fromCharCode(r)),m=Zs.indexOf(n.charAt(d++)),i=(h&3)<<6|m,m!==64&&(e+=String.fromCharCode(i));return e}var bt=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),hs=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ml(n){return bt?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function bT(n){return bt?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var Va=function(e){return bt?hs(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function Cm(n){if(typeof ArrayBuffer>"u")return Va(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function df(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function Q8(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var Jn=bt?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:hs(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),i=0;for(e=0,t=0;e<n.length;t+=i,++e)if(i=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function J8(n){for(var e=[],t=0,r=n.length+250,i=ml(n.length+255),o=0;o<n.length;++o){var c=n.charCodeAt(o);if(c<128)i[t++]=c;else if(c<2048)i[t++]=192|c>>6&31,i[t++]=128|c&63;else if(c>=55296&&c<57344){c=(c&1023)+64;var h=n.charCodeAt(++o)&1023;i[t++]=240|c>>8&7,i[t++]=128|c>>2&63,i[t++]=128|h>>6&15|(c&3)<<4,i[t++]=128|h&63}else i[t++]=224|c>>12&15,i[t++]=128|c>>6&63,i[t++]=128|c&63;t>r&&(e.push(i.slice(0,t)),t=0,i=ml(65535),r=65530)}return e.push(i.slice(0,t)),Jn(e)}var Nh=/\u0000/g,Xd=/[\u0001-\u0006]/g;function Mc(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function Ba(n,e){var t=""+n;return t.length>=e?t:un("0",e-t.length)+t}function qv(n,e){var t=""+n;return t.length>=e?t:un(" ",e-t.length)+t}function U0(n,e){var t=""+n;return t.length>=e?t:t+un(" ",e-t.length)}function Z8(n,e){var t=""+Math.round(n);return t.length>=e?t:un("0",e-t.length)+t}function eP(n,e){var t=""+n;return t.length>=e?t:un("0",e-t.length)+t}var NT=Math.pow(2,32);function vc(n,e){if(n>NT||n<-NT)return Z8(n,e);var t=Math.round(n);return eP(t,e)}function B0(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var RT=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Xg=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function tP(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var hn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},IT={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},nP={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function z0(n,e,t){for(var r=n<0?-1:1,i=n*r,o=0,c=1,h=0,m=1,d=0,v=0,x=Math.floor(i);d<e&&(x=Math.floor(i),h=x*c+o,v=x*d+m,!(i-x<5e-8));)i=1/(i-x),o=c,c=h,m=d,d=v;if(v>e&&(d>e?(v=m,h=o):(v=d,h=c)),!t)return[0,r*h,v];var y=Math.floor(r*h/v);return[y,r*h-y*v,v]}function Yd(n,e,t){if(n>2958465||n<0)return null;var r=n|0,i=Math.floor(86400*(n-r)),o=0,c=[],h={D:r,T:i,u:86400*(n-r)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(h.u)<1e-6&&(h.u=0),e&&e.date1904&&(r+=1462),h.u>.9999&&(h.u=0,++i==86400&&(h.T=i=0,++r,++h.D)),r===60)c=t?[1317,10,29]:[1900,2,29],o=3;else if(r===0)c=t?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var m=new Date(1900,0,1);m.setDate(m.getDate()+r-1),c=[m.getFullYear(),m.getMonth()+1,m.getDate()],o=m.getDay(),r<60&&(o=(o+6)%7),t&&(o=cP(m,c))}return h.y=c[0],h.m=c[1],h.d=c[2],h.S=i%60,i=Math.floor(i/60),h.M=i%60,i=Math.floor(i/60),h.H=i,h.q=o,h}var uC=new Date(1899,11,31,0,0,0),rP=uC.getTime(),aP=new Date(1900,2,1,0,0,0);function hC(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=aP&&(t+=1440*60*1e3),(t-(rP+(n.getTimezoneOffset()-uC.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Hv(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function iP(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function sP(n){var e=n<0?12:11,t=Hv(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function oP(n){var e=Hv(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function lP(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=sP(n):e===10?t=n.toFixed(10).substr(0,12):t=oP(n),Hv(iP(t.toUpperCase()))}function F1(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):lP(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return po(14,hC(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function cP(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function uP(n,e,t,r){var i="",o=0,c=0,h=t.y,m,d=0;switch(n){case 98:h=t.y+543;case 121:switch(e.length){case 1:case 2:m=h%100,d=2;break;default:m=h%1e4,d=4;break}break;case 109:switch(e.length){case 1:case 2:m=t.m,d=e.length;break;case 3:return Xg[t.m-1][1];case 5:return Xg[t.m-1][0];default:return Xg[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:m=t.d,d=e.length;break;case 3:return RT[t.q][0];default:return RT[t.q][1]}break;case 104:switch(e.length){case 1:case 2:m=1+(t.H+11)%12,d=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:m=t.H,d=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:m=t.M,d=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?Ba(t.S,e.length):(r>=2?c=r===3?1e3:100:c=r===1?10:1,o=Math.round(c*(t.S+t.u)),o>=60*c&&(o=0),e==="s"?o===0?"0":""+o/c:(i=Ba(o,2+r),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":m=t.D*24+t.H;break;case"[m]":case"[mm]":m=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":m=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}d=e.length===3?1:2;break;case 101:m=h,d=1;break}var v=d>0?Ba(m,d):"";return v}function eo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var fC=/%/g;function hP(n,e,t){var r=e.replace(fC,""),i=e.length-r.length;return Qi(n,r,t*Math.pow(10,2*i))+un("%",i)}function fP(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Qi(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function dC(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+dC(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),t.indexOf("e")===-1){var c=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+o):t+="E+"+(c-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,i)+"."+t.substr(2+i),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,m,d,v){return m+d+v.substr(0,(i+o)%i)+"."+v.substr(o)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var mC=/# (\?+)( ?)\/( ?)(\d+)/;function dP(n,e,t){var r=parseInt(n[4],10),i=Math.round(e*r),o=Math.floor(i/r),c=i-o*r,h=r;return t+(o===0?"":""+o)+" "+(c===0?un(" ",n[1].length+1+n[4].length):qv(c,n[1].length)+n[2]+"/"+n[3]+Ba(h,n[4].length))}function mP(n,e,t){return t+(e===0?"":""+e)+un(" ",n[1].length+2+n[4].length)}var pC=/^#*0*\.([0#]+)/,gC=/\).*[0#]/,vC=/\(###\) ###\\?-####/;function yr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function DT(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function OT(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function pP(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function gP(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function _a(n,e,t){if(n.charCodeAt(0)===40&&!e.match(gC)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?_a("n",r,t):"("+_a("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return fP(n,e,t);if(e.indexOf("%")!==-1)return hP(n,e,t);if(e.indexOf("E")!==-1)return dC(e,t);if(e.charCodeAt(0)===36)return"$"+_a(n,e.substr(e.charAt(1)==" "?2:1),t);var i,o,c,h,m=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+vc(m,e.length);if(e.match(/^[#?]+$/))return i=vc(t,0),i==="0"&&(i=""),i.length>e.length?i:yr(e.substr(0,e.length-i.length))+i;if(o=e.match(mC))return dP(o,m,d);if(e.match(/^#+0+$/))return d+vc(m,e.length-e.indexOf("0"));if(o=e.match(pC))return i=DT(t,o[1].length).replace(/^([^\.]+)$/,"$1."+yr(o[1])).replace(/\.$/,"."+yr(o[1])).replace(/\.(\d*)$/,function(N,A){return"."+A+un("0",yr(o[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return d+DT(m,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return d+eo(vc(m,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+_a(n,e,-t):eo(""+(Math.floor(t)+pP(t,o[1].length)))+"."+Ba(OT(t,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return _a(n,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mc(_a(n,e.replace(/[\\-]/g,""),t)),c=0,Mc(Mc(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return c<i.length?i.charAt(c++):N==="0"?"0":""}));if(e.match(vC))return i=_a(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var v="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=z0(m,Math.pow(10,c)-1,!1),i=""+d,v=Qi("n",o[1],h[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),i+=v+o[2]+"/"+o[3],v=U0(h[2],c),v.length<o[4].length&&(v=yr(o[4].substr(o[4].length-v.length))+v),i+=v,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=z0(m,Math.pow(10,c)-1,!0),d+(h[0]||(h[1]?"":"0"))+" "+(h[1]?qv(h[1],c)+o[2]+"/"+o[3]+U0(h[2],c):un(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=vc(t,0),e.length<=i.length?i:yr(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var x=e.indexOf(".")-c,y=e.length-i.length-x;return yr(e.substr(0,x)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return c=OT(t,o[1].length),t<0?"-"+_a(n,e,-t):eo(gP(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Ba(0,3-N.length):"")+N})+"."+Ba(c,o[1].length);switch(e){case"###,##0.00":return _a(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var T=eo(vc(m,0));return T!=="0"?d+T:"";case"###,###.00":return _a(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return _a(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function vP(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return Qi(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function _P(n,e,t){var r=e.replace(fC,""),i=e.length-r.length;return Qi(n,r,t*Math.pow(10,2*i))+un("%",i)}function _C(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+_C(n,-e);var i=n.indexOf(".");i===-1&&(i=n.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%i;if(o<0&&(o+=i),t=(e/Math.pow(10,o)).toPrecision(r+1+(i+o)%i),!t.match(/[Ee]/)){var c=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(c-t.length+o):t+="E+"+(c-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(h,m,d,v){return m+d+v.substr(0,(i+o)%i)+"."+v.substr(o)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function oi(n,e,t){if(n.charCodeAt(0)===40&&!e.match(gC)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?oi("n",r,t):"("+oi("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return vP(n,e,t);if(e.indexOf("%")!==-1)return _P(n,e,t);if(e.indexOf("E")!==-1)return _C(e,t);if(e.charCodeAt(0)===36)return"$"+oi(n,e.substr(e.charAt(1)==" "?2:1),t);var i,o,c,h,m=Math.abs(t),d=t<0?"-":"";if(e.match(/^00+$/))return d+Ba(m,e.length);if(e.match(/^[#?]+$/))return i=""+t,t===0&&(i=""),i.length>e.length?i:yr(e.substr(0,e.length-i.length))+i;if(o=e.match(mC))return mP(o,m,d);if(e.match(/^#+0+$/))return d+Ba(m,e.length-e.indexOf("0"));if(o=e.match(pC))return i=(""+t).replace(/^([^\.]+)$/,"$1."+yr(o[1])).replace(/\.$/,"."+yr(o[1])),i=i.replace(/\.(\d*)$/,function(N,A){return"."+A+un("0",yr(o[1]).length-A.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return d+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return d+eo(""+m);if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+oi(n,e,-t):eo(""+t)+"."+un("0",o[1].length);if(o=e.match(/^#,#*,#0/))return oi(n,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Mc(oi(n,e.replace(/[\\-]/g,""),t)),c=0,Mc(Mc(e.replace(/\\/g,"")).replace(/[0#]/g,function(N){return c<i.length?i.charAt(c++):N==="0"?"0":""}));if(e.match(vC))return i=oi(n,"##########",t),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var v="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(o[4].length,7),h=z0(m,Math.pow(10,c)-1,!1),i=""+d,v=Qi("n",o[1],h[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),i+=v+o[2]+"/"+o[3],v=U0(h[2],c),v.length<o[4].length&&(v=yr(o[4].substr(o[4].length-v.length))+v),i+=v,i;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return c=Math.min(Math.max(o[1].length,o[4].length),7),h=z0(m,Math.pow(10,c)-1,!0),d+(h[0]||(h[1]?"":"0"))+" "+(h[1]?qv(h[1],c)+o[2]+"/"+o[3]+U0(h[2],c):un(" ",2*c+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return i=""+t,e.length<=i.length?i:yr(e.substr(0,e.length-i.length))+i;if(o=e.match(/^([#0]+)\.([#0]+)$/)){i=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),c=i.indexOf(".");var x=e.indexOf(".")-c,y=e.length-i.length-x;return yr(e.substr(0,x)+i+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+oi(n,e,-t):eo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(N){return"00,"+(N.length<3?Ba(0,3-N.length):"")+N})+"."+Ba(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var T=eo(""+m);return T!=="0"?d+T:"";default:if(e.match(/\.[0#?]*$/))return oi(n,e.slice(0,e.lastIndexOf(".")),t)+yr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function Qi(n,e,t){return(t|0)===t?oi(n,e,t):_a(n,e,t)}function xP(n){for(var e=[],t=!1,r=0,i=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(i,r-i),i=r+1}if(e[e.length]=n.substr(i),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var xC=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function yC(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":B0(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(xC))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function yP(n,e,t,r){for(var i=[],o="",c=0,h="",m="t",d,v,x,y="H";c<n.length;)switch(h=n.charAt(c)){case"G":if(!B0(n,c))throw new Error("unrecognized character "+h+" in "+n);i[i.length]={t:"G",v:"General"},c+=7;break;case'"':for(o="";(x=n.charCodeAt(++c))!==34&&c<n.length;)o+=String.fromCharCode(x);i[i.length]={t:"t",v:o},++c;break;case"\\":var T=n.charAt(++c),N=T==="("||T===")"?T:"t";i[i.length]={t:N,v:T},++c;break;case"_":i[i.length]={t:"t",v:" "},c+=2;break;case"@":i[i.length]={t:"T",v:e},++c;break;case"B":case"b":if(n.charAt(c+1)==="1"||n.charAt(c+1)==="2"){if(d==null&&(d=Yd(e,t,n.charAt(c+1)==="2"),d==null))return"";i[i.length]={t:"X",v:n.substr(c,2)},m=h,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":h=h.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||d==null&&(d=Yd(e,t),d==null))return"";for(o=h;++c<n.length&&n.charAt(c).toLowerCase()===h;)o+=h;h==="m"&&m.toLowerCase()==="h"&&(h="M"),h==="h"&&(h=y),i[i.length]={t:h,v:o},m=h;break;case"A":case"a":case"":var A={t:h,v:h};if(d==null&&(d=Yd(e,t)),n.substr(c,3).toUpperCase()==="A/P"?(d!=null&&(A.v=d.H>=12?"P":"A"),A.t="T",y="h",c+=3):n.substr(c,5).toUpperCase()==="AM/PM"?(d!=null&&(A.v=d.H>=12?"PM":"AM"),A.t="T",c+=5,y="h"):n.substr(c,5).toUpperCase()==="/"?(d!=null&&(A.v=d.H>=12?"":""),A.t="T",c+=5,y="h"):(A.t="t",++c),d==null&&A.t==="T")return"";i[i.length]=A,m=h;break;case"[":for(o=h;n.charAt(c++)!=="]"&&c<n.length;)o+=n.charAt(c);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(xC)){if(d==null&&(d=Yd(e,t),d==null))return"";i[i.length]={t:"Z",v:o.toLowerCase()},m=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",yC(n)||(i[i.length]={t:"t",v:o}));break;case".":if(d!=null){for(o=h;++c<n.length&&(h=n.charAt(c))==="0";)o+=h;i[i.length]={t:"s",v:o};break}case"0":case"#":for(o=h;++c<n.length&&"0#?.,E+-%".indexOf(h=n.charAt(c))>-1;)o+=h;i[i.length]={t:"n",v:o};break;case"?":for(o=h;n.charAt(++c)===h;)o+=h;i[i.length]={t:h,v:o},m=h;break;case"*":++c,(n.charAt(c)==" "||n.charAt(c)=="*")&&++c;break;case"(":case")":i[i.length]={t:r===1?"t":h,v:h},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=h;c<n.length&&"0123456789".indexOf(n.charAt(++c))>-1;)o+=n.charAt(c);i[i.length]={t:"D",v:o};break;case" ":i[i.length]={t:h,v:h},++c;break;case"$":i[i.length]={t:"t",v:"$"},++c;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(h)===-1)throw new Error("unrecognized character "+h+" in "+n);i[i.length]={t:"t",v:h},++c;break}var b=0,P=0,z;for(c=i.length-1,m="t";c>=0;--c)switch(i[c].t){case"h":case"H":i[c].t=y,m="h",b<1&&(b=1);break;case"s":(z=i[c].v.match(/\.0+$/))&&(P=Math.max(P,z[0].length-1)),b<3&&(b=3);case"d":case"y":case"M":case"e":m=i[c].t;break;case"m":m==="s"&&(i[c].t="M",b<2&&(b=2));break;case"X":break;case"Z":b<1&&i[c].v.match(/[Hh]/)&&(b=1),b<2&&i[c].v.match(/[Mm]/)&&(b=2),b<3&&i[c].v.match(/[Ss]/)&&(b=3)}switch(b){case 0:break;case 1:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M),d.M>=60&&(d.M=0,++d.H);break;case 2:d.u>=.5&&(d.u=0,++d.S),d.S>=60&&(d.S=0,++d.M);break}var q="",ee;for(c=0;c<i.length;++c)switch(i[c].t){case"t":case"T":case" ":case"D":break;case"X":i[c].v="",i[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[c].v=uP(i[c].t.charCodeAt(0),i[c].v,d,P),i[c].t="t";break;case"n":case"?":for(ee=c+1;i[ee]!=null&&((h=i[ee].t)==="?"||h==="D"||(h===" "||h==="t")&&i[ee+1]!=null&&(i[ee+1].t==="?"||i[ee+1].t==="t"&&i[ee+1].v==="/")||i[c].t==="("&&(h===" "||h==="n"||h===")")||h==="t"&&(i[ee].v==="/"||i[ee].v===" "&&i[ee+1]!=null&&i[ee+1].t=="?"));)i[c].v+=i[ee].v,i[ee]={v:"",t:";"},++ee;q+=i[c].v,c=ee-1;break;case"G":i[c].t="t",i[c].v=F1(e,t);break}var de="",_e,R;if(q.length>0){q.charCodeAt(0)==40?(_e=e<0&&q.charCodeAt(0)===45?-e:e,R=Qi("n",q,_e)):(_e=e<0&&r>1?-e:e,R=Qi("n",q,_e),_e<0&&i[0]&&i[0].t=="t"&&(R=R.substr(1),i[0].v="-"+i[0].v)),ee=R.length-1;var I=i.length;for(c=0;c<i.length;++c)if(i[c]!=null&&i[c].t!="t"&&i[c].v.indexOf(".")>-1){I=c;break}var C=i.length;if(I===i.length&&R.indexOf("E")===-1){for(c=i.length-1;c>=0;--c)i[c]==null||"n?".indexOf(i[c].t)===-1||(ee>=i[c].v.length-1?(ee-=i[c].v.length,i[c].v=R.substr(ee+1,i[c].v.length)):ee<0?i[c].v="":(i[c].v=R.substr(0,ee+1),ee=-1),i[c].t="t",C=c);ee>=0&&C<i.length&&(i[C].v=R.substr(0,ee+1)+i[C].v)}else if(I!==i.length&&R.indexOf("E")===-1){for(ee=R.indexOf(".")-1,c=I;c>=0;--c)if(!(i[c]==null||"n?".indexOf(i[c].t)===-1)){for(v=i[c].v.indexOf(".")>-1&&c===I?i[c].v.indexOf(".")-1:i[c].v.length-1,de=i[c].v.substr(v+1);v>=0;--v)ee>=0&&(i[c].v.charAt(v)==="0"||i[c].v.charAt(v)==="#")&&(de=R.charAt(ee--)+de);i[c].v=de,i[c].t="t",C=c}for(ee>=0&&C<i.length&&(i[C].v=R.substr(0,ee+1)+i[C].v),ee=R.indexOf(".")+1,c=I;c<i.length;++c)if(!(i[c]==null||"n?(".indexOf(i[c].t)===-1&&c!==I)){for(v=i[c].v.indexOf(".")>-1&&c===I?i[c].v.indexOf(".")+1:0,de=i[c].v.substr(0,v);v<i[c].v.length;++v)ee<R.length&&(de+=R.charAt(ee++));i[c].v=de,i[c].t="t",C=c}}}for(c=0;c<i.length;++c)i[c]!=null&&"n?".indexOf(i[c].t)>-1&&(_e=r>1&&e<0&&c>0&&i[c-1].v==="-"?-e:e,i[c].v=Qi(i[c].t,i[c].v,_e),i[c].t="t");var M="";for(c=0;c!==i.length;++c)i[c]!=null&&(M+=i[c].v);return M}var kT=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function MT(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function EP(n,e){var t=xP(n),r=t.length,i=t[r-1].indexOf("@");if(r<4&&i>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||i>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=i>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=i>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=i>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var c=t[0].match(kT),h=t[1].match(kT);return MT(e,c)?[r,t[0]]:MT(e,h)?[r,t[1]]:[r,t[c!=null&&h!=null?2:1]]}return[r,o]}function po(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:hn)[n],r==null&&(r=t.table&&t.table[IT[n]]||hn[IT[n]]),r==null&&(r=nP[n]||"General");break}if(B0(r,0))return F1(e,t);e instanceof Date&&(e=hC(e,t.date1904));var i=EP(r,e);if(B0(i[1]))return F1(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return yP(i[1],e,t,i[0])}function EC(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(hn[t]==null){e<0&&(e=t);continue}if(hn[t]==n){e=t;break}}e<0&&(e=391)}return hn[e]=n,e}function bm(n){for(var e=0;e!=392;++e)n[e]!==void 0&&EC(n[e],e)}function Nm(){hn=tP()}var TC=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function TP(n){var e=typeof n=="number"?hn[n]:n;return e=e.replace(TC,"(\\d+)"),new RegExp("^"+e+"$")}function wP(n,e,t){var r=-1,i=-1,o=-1,c=-1,h=-1,m=-1;(e.match(TC)||[]).forEach(function(x,y){var T=parseInt(t[y+1],10);switch(x.toLowerCase().charAt(0)){case"y":r=T;break;case"d":o=T;break;case"h":c=T;break;case"s":m=T;break;case"m":c>=0?h=T:i=T;break}}),m>=0&&h==-1&&i>=0&&(h=i,i=-1);var d=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);d.length==7&&(d="0"+d),d.length==8&&(d="20"+d);var v=("00"+(c>=0?c:0)).slice(-2)+":"+("00"+(h>=0?h:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return c==-1&&h==-1&&m==-1?d:r==-1&&i==-1&&o==-1?v:d+"T"+v}var AP=(function(){var n={};n.version="1.2.0";function e(){for(var R=0,I=new Array(256),C=0;C!=256;++C)R=C,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,R=R&1?-306674912^R>>>1:R>>>1,I[C]=R;return typeof Int32Array<"u"?new Int32Array(I):I}var t=e();function r(R){var I=0,C=0,M=0,j=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(M=0;M!=256;++M)j[M]=R[M];for(M=0;M!=256;++M)for(C=R[M],I=256+M;I<4096;I+=256)C=j[I]=C>>>8^R[C&255];var O=[];for(M=1;M!=16;++M)O[M-1]=typeof Int32Array<"u"?j.subarray(M*256,M*256+256):j.slice(M*256,M*256+256);return O}var i=r(t),o=i[0],c=i[1],h=i[2],m=i[3],d=i[4],v=i[5],x=i[6],y=i[7],T=i[8],N=i[9],A=i[10],b=i[11],P=i[12],z=i[13],q=i[14];function ee(R,I){for(var C=I^-1,M=0,j=R.length;M<j;)C=C>>>8^t[(C^R.charCodeAt(M++))&255];return~C}function de(R,I){for(var C=I^-1,M=R.length-15,j=0;j<M;)C=q[R[j++]^C&255]^z[R[j++]^C>>8&255]^P[R[j++]^C>>16&255]^b[R[j++]^C>>>24]^A[R[j++]]^N[R[j++]]^T[R[j++]]^y[R[j++]]^x[R[j++]]^v[R[j++]]^d[R[j++]]^m[R[j++]]^h[R[j++]]^c[R[j++]]^o[R[j++]]^t[R[j++]];for(M+=15;j<M;)C=C>>>8^t[(C^R[j++])&255];return~C}function _e(R,I){for(var C=I^-1,M=0,j=R.length,O=0,F=0;M<j;)O=R.charCodeAt(M++),O<128?C=C>>>8^t[(C^O)&255]:O<2048?(C=C>>>8^t[(C^(192|O>>6&31))&255],C=C>>>8^t[(C^(128|O&63))&255]):O>=55296&&O<57344?(O=(O&1023)+64,F=R.charCodeAt(M++)&1023,C=C>>>8^t[(C^(240|O>>8&7))&255],C=C>>>8^t[(C^(128|O>>2&63))&255],C=C>>>8^t[(C^(128|F>>6&15|(O&3)<<4))&255],C=C>>>8^t[(C^(128|F&63))&255]):(C=C>>>8^t[(C^(224|O>>12&15))&255],C=C>>>8^t[(C^(128|O>>6&63))&255],C=C>>>8^t[(C^(128|O&63))&255]);return~C}return n.table=t,n.bstr=ee,n.buf=de,n.str=_e,n})(),Ht=(function(){var e={};e.version="1.2.1";function t(D,G){for(var V=D.split("/"),B=G.split("/"),H=0,K=0,ce=Math.min(V.length,B.length);H<ce;++H){if(K=V[H].length-B[H].length)return K;if(V[H]!=B[H])return V[H]<B[H]?-1:1}return V.length-B.length}function r(D){if(D.charAt(D.length-1)=="/")return D.slice(0,-1).indexOf("/")===-1?D:r(D.slice(0,-1));var G=D.lastIndexOf("/");return G===-1?D:D.slice(0,G+1)}function i(D){if(D.charAt(D.length-1)=="/")return i(D.slice(0,-1));var G=D.lastIndexOf("/");return G===-1?D:D.slice(G+1)}function o(D,G){typeof G=="string"&&(G=new Date(G));var V=G.getHours();V=V<<6|G.getMinutes(),V=V<<5|G.getSeconds()>>>1,D.write_shift(2,V);var B=G.getFullYear()-1980;B=B<<4|G.getMonth()+1,B=B<<5|G.getDate(),D.write_shift(2,B)}function c(D){var G=D.read_shift(2)&65535,V=D.read_shift(2)&65535,B=new Date,H=V&31;V>>>=5;var K=V&15;V>>>=4,B.setMilliseconds(0),B.setFullYear(V+1980),B.setMonth(K-1),B.setDate(H);var ce=G&31;G>>>=5;var Te=G&63;return G>>>=6,B.setHours(G),B.setMinutes(Te),B.setSeconds(ce<<1),B}function h(D){Jr(D,0);for(var G={},V=0;D.l<=D.length-4;){var B=D.read_shift(2),H=D.read_shift(2),K=D.l+H,ce={};switch(B){case 21589:V=D.read_shift(1),V&1&&(ce.mtime=D.read_shift(4)),H>5&&(V&2&&(ce.atime=D.read_shift(4)),V&4&&(ce.ctime=D.read_shift(4))),ce.mtime&&(ce.mt=new Date(ce.mtime*1e3));break}D.l=K,G[B]=ce}return G}var m;function d(){return m||(m={})}function v(D,G){if(D[0]==80&&D[1]==75)return Ur(D,G);if((D[0]|32)==109&&(D[1]|32)==105)return wi(D,G);if(D.length<512)throw new Error("CFB file size "+D.length+" < 512");var V=3,B=512,H=0,K=0,ce=0,Te=0,ue=0,me=[],fe=D.slice(0,512);Jr(fe,0);var De=x(fe);switch(V=De[0],V){case 3:B=512;break;case 4:B=4096;break;case 0:if(De[1]==0)return Ur(D,G);default:throw new Error("Major Version: Expected 3 or 4 saw "+V)}B!==512&&(fe=D.slice(0,B),Jr(fe,28));var ke=D.slice(0,B);y(fe,V);var Ue=fe.read_shift(4,"i");if(V===3&&Ue!==0)throw new Error("# Directory Sectors: Expected 0 saw "+Ue);fe.l+=4,ce=fe.read_shift(4,"i"),fe.l+=4,fe.chk("00100000","Mini Stream Cutoff Size: "),Te=fe.read_shift(4,"i"),H=fe.read_shift(4,"i"),ue=fe.read_shift(4,"i"),K=fe.read_shift(4,"i");for(var Ie=-1,Le=0;Le<109&&(Ie=fe.read_shift(4,"i"),!(Ie<0));++Le)me[Le]=Ie;var Ke=T(D,B);b(ue,K,Ke,B,me);var Dt=z(Ke,ce,me,B);Dt[ce].name="!Directory",H>0&&Te!==F&&(Dt[Te].name="!MiniFAT"),Dt[me[0]].name="!FAT",Dt.fat_addrs=me,Dt.ssz=B;var Ot={},Kt=[],ar=[],ba=[];q(ce,Dt,Ke,Kt,H,Ot,ar,Te),N(ar,ba,Kt),Kt.shift();var Na={FileIndex:ar,FullPaths:ba};return G&&G.raw&&(Na.raw={header:ke,sectors:Ke}),Na}function x(D){if(D[D.l]==80&&D[D.l+1]==75)return[0,0];D.chk(ae,"Header Signature: "),D.l+=16;var G=D.read_shift(2,"u");return[D.read_shift(2,"u"),G]}function y(D,G){var V=9;switch(D.l+=2,V=D.read_shift(2)){case 9:if(G!=3)throw new Error("Sector Shift: Expected 9 saw "+V);break;case 12:if(G!=4)throw new Error("Sector Shift: Expected 12 saw "+V);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+V)}D.chk("0600","Mini Sector Shift: "),D.chk("000000000000","Reserved: ")}function T(D,G){for(var V=Math.ceil(D.length/G)-1,B=[],H=1;H<V;++H)B[H-1]=D.slice(H*G,(H+1)*G);return B[V-1]=D.slice(V*G),B}function N(D,G,V){for(var B=0,H=0,K=0,ce=0,Te=0,ue=V.length,me=[],fe=[];B<ue;++B)me[B]=fe[B]=B,G[B]=V[B];for(;Te<fe.length;++Te)B=fe[Te],H=D[B].L,K=D[B].R,ce=D[B].C,me[B]===B&&(H!==-1&&me[H]!==H&&(me[B]=me[H]),K!==-1&&me[K]!==K&&(me[B]=me[K])),ce!==-1&&(me[ce]=B),H!==-1&&B!=me[B]&&(me[H]=me[B],fe.lastIndexOf(H)<Te&&fe.push(H)),K!==-1&&B!=me[B]&&(me[K]=me[B],fe.lastIndexOf(K)<Te&&fe.push(K));for(B=1;B<ue;++B)me[B]===B&&(K!==-1&&me[K]!==K?me[B]=me[K]:H!==-1&&me[H]!==H&&(me[B]=me[H]));for(B=1;B<ue;++B)if(D[B].type!==0){if(Te=B,Te!=me[Te])do Te=me[Te],G[B]=G[Te]+"/"+G[B];while(Te!==0&&me[Te]!==-1&&Te!=me[Te]);me[B]=-1}for(G[0]+="/",B=1;B<ue;++B)D[B].type!==2&&(G[B]+="/")}function A(D,G,V){for(var B=D.start,H=D.size,K=[],ce=B;V&&H>0&&ce>=0;)K.push(G.slice(ce*O,ce*O+O)),H-=O,ce=rl(V,ce*4);return K.length===0?Ee(0):Jn(K).slice(0,D.size)}function b(D,G,V,B,H){var K=F;if(D===F){if(G!==0)throw new Error("DIFAT chain shorter than expected")}else if(D!==-1){var ce=V[D],Te=(B>>>2)-1;if(!ce)return;for(var ue=0;ue<Te&&(K=rl(ce,ue*4))!==F;++ue)H.push(K);b(rl(ce,B-4),G-1,V,B,H)}}function P(D,G,V,B,H){var K=[],ce=[];H||(H=[]);var Te=B-1,ue=0,me=0;for(ue=G;ue>=0;){H[ue]=!0,K[K.length]=ue,ce.push(D[ue]);var fe=V[Math.floor(ue*4/B)];if(me=ue*4&Te,B<4+me)throw new Error("FAT boundary crossed: "+ue+" 4 "+B);if(!D[fe])break;ue=rl(D[fe],me)}return{nodes:K,data:zT([ce])}}function z(D,G,V,B){var H=D.length,K=[],ce=[],Te=[],ue=[],me=B-1,fe=0,De=0,ke=0,Ue=0;for(fe=0;fe<H;++fe)if(Te=[],ke=fe+G,ke>=H&&(ke-=H),!ce[ke]){ue=[];var Ie=[];for(De=ke;De>=0;){Ie[De]=!0,ce[De]=!0,Te[Te.length]=De,ue.push(D[De]);var Le=V[Math.floor(De*4/B)];if(Ue=De*4&me,B<4+Ue)throw new Error("FAT boundary crossed: "+De+" 4 "+B);if(!D[Le]||(De=rl(D[Le],Ue),Ie[De]))break}K[ke]={nodes:Te,data:zT([ue])}}return K}function q(D,G,V,B,H,K,ce,Te){for(var ue=0,me=B.length?2:0,fe=G[D].data,De=0,ke=0,Ue;De<fe.length;De+=128){var Ie=fe.slice(De,De+128);Jr(Ie,64),ke=Ie.read_shift(2),Ue=Xv(Ie,0,ke-me),B.push(Ue);var Le={name:Ue,type:Ie.read_shift(1),color:Ie.read_shift(1),L:Ie.read_shift(4,"i"),R:Ie.read_shift(4,"i"),C:Ie.read_shift(4,"i"),clsid:Ie.read_shift(16),state:Ie.read_shift(4,"i"),start:0,size:0},Ke=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Ke!==0&&(Le.ct=ee(Ie,Ie.l-8));var Dt=Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2)+Ie.read_shift(2);Dt!==0&&(Le.mt=ee(Ie,Ie.l-8)),Le.start=Ie.read_shift(4,"i"),Le.size=Ie.read_shift(4,"i"),Le.size<0&&Le.start<0&&(Le.size=Le.type=0,Le.start=F,Le.name=""),Le.type===5?(ue=Le.start,H>0&&ue!==F&&(G[ue].name="!StreamData")):Le.size>=4096?(Le.storage="fat",G[Le.start]===void 0&&(G[Le.start]=P(V,Le.start,G.fat_addrs,G.ssz)),G[Le.start].name=Le.name,Le.content=G[Le.start].data.slice(0,Le.size)):(Le.storage="minifat",Le.size<0?Le.size=0:ue!==F&&Le.start!==F&&G[ue]&&(Le.content=A(Le,G[ue].data,(G[Te]||{}).data))),Le.content&&Jr(Le.content,0),K[Ue]=Le,ce.push(Le)}}function ee(D,G){return new Date((ea(D,G+4)/1e7*Math.pow(2,32)+ea(D,G)/1e7-11644473600)*1e3)}function de(D,G){return d(),v(m.readFileSync(D),G)}function _e(D,G){var V=G&&G.type;switch(V||bt&&Buffer.isBuffer(D)&&(V="buffer"),V||"base64"){case"file":return de(D,G);case"base64":return v(Va(os(D)),G);case"binary":return v(Va(D),G)}return v(D,G)}function R(D,G){var V=G||{},B=V.root||"Root Entry";if(D.FullPaths||(D.FullPaths=[]),D.FileIndex||(D.FileIndex=[]),D.FullPaths.length!==D.FileIndex.length)throw new Error("inconsistent CFB structure");D.FullPaths.length===0&&(D.FullPaths[0]=B+"/",D.FileIndex[0]={name:B,type:5}),V.CLSID&&(D.FileIndex[0].clsid=V.CLSID),I(D)}function I(D){var G="Sh33tJ5";if(!Ht.find(D,"/"+G)){var V=Ee(4);V[0]=55,V[1]=V[3]=50,V[2]=54,D.FileIndex.push({name:G,type:2,content:V,size:4,L:69,R:69,C:69}),D.FullPaths.push(D.FullPaths[0]+G),C(D)}}function C(D,G){R(D);for(var V=!1,B=!1,H=D.FullPaths.length-1;H>=0;--H){var K=D.FileIndex[H];switch(K.type){case 0:B?V=!0:(D.FileIndex.pop(),D.FullPaths.pop());break;case 1:case 2:case 5:B=!0,isNaN(K.R*K.L*K.C)&&(V=!0),K.R>-1&&K.L>-1&&K.R==K.L&&(V=!0);break;default:V=!0;break}}if(!(!V&&!G)){var ce=new Date(1987,1,19),Te=0,ue=Object.create?Object.create(null):{},me=[];for(H=0;H<D.FullPaths.length;++H)ue[D.FullPaths[H]]=!0,D.FileIndex[H].type!==0&&me.push([D.FullPaths[H],D.FileIndex[H]]);for(H=0;H<me.length;++H){var fe=r(me[H][0]);B=ue[fe],B||(me.push([fe,{name:i(fe).replace("/",""),type:1,clsid:te,ct:ce,mt:ce,content:null}]),ue[fe]=!0)}for(me.sort(function(Ue,Ie){return t(Ue[0],Ie[0])}),D.FullPaths=[],D.FileIndex=[],H=0;H<me.length;++H)D.FullPaths[H]=me[H][0],D.FileIndex[H]=me[H][1];for(H=0;H<me.length;++H){var De=D.FileIndex[H],ke=D.FullPaths[H];if(De.name=i(ke).replace("/",""),De.L=De.R=De.C=-(De.color=1),De.size=De.content?De.content.length:0,De.start=0,De.clsid=De.clsid||te,H===0)De.C=me.length>1?1:-1,De.size=0,De.type=5;else if(ke.slice(-1)=="/"){for(Te=H+1;Te<me.length&&r(D.FullPaths[Te])!=ke;++Te);for(De.C=Te>=me.length?-1:Te,Te=H+1;Te<me.length&&r(D.FullPaths[Te])!=r(ke);++Te);De.R=Te>=me.length?-1:Te,De.type=1}else r(D.FullPaths[H+1]||"")==r(ke)&&(De.R=H+1),De.type=2}}}function M(D,G){var V=G||{};if(V.fileType=="mad")return du(D,V);switch(C(D),V.fileType){case"zip":return on(D,V)}var B=(function(Ue){for(var Ie=0,Le=0,Ke=0;Ke<Ue.FileIndex.length;++Ke){var Dt=Ue.FileIndex[Ke];if(Dt.content){var Ot=Dt.content.length;Ot>0&&(Ot<4096?Ie+=Ot+63>>6:Le+=Ot+511>>9)}}for(var Kt=Ue.FullPaths.length+3>>2,ar=Ie+7>>3,ba=Ie+127>>7,Na=ar+Le+Kt+ba,zr=Na+127>>7,ds=zr<=109?0:Math.ceil((zr-109)/127);Na+zr+ds+127>>7>zr;)ds=++zr<=109?0:Math.ceil((zr-109)/127);var ir=[1,ds,zr,ba,Kt,Le,Ie,0];return Ue.FileIndex[0].size=Ie<<6,ir[7]=(Ue.FileIndex[0].start=ir[0]+ir[1]+ir[2]+ir[3]+ir[4]+ir[5])+(ir[6]+7>>3),ir})(D),H=Ee(B[7]<<9),K=0,ce=0;{for(K=0;K<8;++K)H.write_shift(1,Ce[K]);for(K=0;K<8;++K)H.write_shift(2,0);for(H.write_shift(2,62),H.write_shift(2,3),H.write_shift(2,65534),H.write_shift(2,9),H.write_shift(2,6),K=0;K<3;++K)H.write_shift(2,0);for(H.write_shift(4,0),H.write_shift(4,B[2]),H.write_shift(4,B[0]+B[1]+B[2]+B[3]-1),H.write_shift(4,0),H.write_shift(4,4096),H.write_shift(4,B[3]?B[0]+B[1]+B[2]-1:F),H.write_shift(4,B[3]),H.write_shift(-4,B[1]?B[0]-1:F),H.write_shift(4,B[1]),K=0;K<109;++K)H.write_shift(-4,K<B[2]?B[1]+K:-1)}if(B[1])for(ce=0;ce<B[1];++ce){for(;K<236+ce*127;++K)H.write_shift(-4,K<B[2]?B[1]+K:-1);H.write_shift(-4,ce===B[1]-1?F:ce+1)}var Te=function(Ue){for(ce+=Ue;K<ce-1;++K)H.write_shift(-4,K+1);Ue&&(++K,H.write_shift(-4,F))};for(ce=K=0,ce+=B[1];K<ce;++K)H.write_shift(-4,ye.DIFSECT);for(ce+=B[2];K<ce;++K)H.write_shift(-4,ye.FATSECT);Te(B[3]),Te(B[4]);for(var ue=0,me=0,fe=D.FileIndex[0];ue<D.FileIndex.length;++ue)fe=D.FileIndex[ue],fe.content&&(me=fe.content.length,!(me<4096)&&(fe.start=ce,Te(me+511>>9)));for(Te(B[6]+7>>3);H.l&511;)H.write_shift(-4,ye.ENDOFCHAIN);for(ce=K=0,ue=0;ue<D.FileIndex.length;++ue)fe=D.FileIndex[ue],fe.content&&(me=fe.content.length,!(!me||me>=4096)&&(fe.start=ce,Te(me+63>>6)));for(;H.l&511;)H.write_shift(-4,ye.ENDOFCHAIN);for(K=0;K<B[4]<<2;++K){var De=D.FullPaths[K];if(!De||De.length===0){for(ue=0;ue<17;++ue)H.write_shift(4,0);for(ue=0;ue<3;++ue)H.write_shift(4,-1);for(ue=0;ue<12;++ue)H.write_shift(4,0);continue}fe=D.FileIndex[K],K===0&&(fe.start=fe.size?fe.start-1:F);var ke=K===0&&V.root||fe.name;if(me=2*(ke.length+1),H.write_shift(64,ke,"utf16le"),H.write_shift(2,me),H.write_shift(1,fe.type),H.write_shift(1,fe.color),H.write_shift(-4,fe.L),H.write_shift(-4,fe.R),H.write_shift(-4,fe.C),fe.clsid)H.write_shift(16,fe.clsid,"hex");else for(ue=0;ue<4;++ue)H.write_shift(4,0);H.write_shift(4,fe.state||0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,0),H.write_shift(4,fe.start),H.write_shift(4,fe.size),H.write_shift(4,0)}for(K=1;K<D.FileIndex.length;++K)if(fe=D.FileIndex[K],fe.size>=4096)if(H.l=fe.start+1<<9,bt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+511&-512;else{for(ue=0;ue<fe.size;++ue)H.write_shift(1,fe.content[ue]);for(;ue&511;++ue)H.write_shift(1,0)}for(K=1;K<D.FileIndex.length;++K)if(fe=D.FileIndex[K],fe.size>0&&fe.size<4096)if(bt&&Buffer.isBuffer(fe.content))fe.content.copy(H,H.l,0,fe.size),H.l+=fe.size+63&-64;else{for(ue=0;ue<fe.size;++ue)H.write_shift(1,fe.content[ue]);for(;ue&63;++ue)H.write_shift(1,0)}if(bt)H.l=H.length;else for(;H.l<H.length;)H.write_shift(1,0);return H}function j(D,G){var V=D.FullPaths.map(function(ue){return ue.toUpperCase()}),B=V.map(function(ue){var me=ue.split("/");return me[me.length-(ue.slice(-1)=="/"?2:1)]}),H=!1;G.charCodeAt(0)===47?(H=!0,G=V[0].slice(0,-1)+G):H=G.indexOf("/")!==-1;var K=G.toUpperCase(),ce=H===!0?V.indexOf(K):B.indexOf(K);if(ce!==-1)return D.FileIndex[ce];var Te=!K.match(Xd);for(K=K.replace(Nh,""),Te&&(K=K.replace(Xd,"!")),ce=0;ce<V.length;++ce)if((Te?V[ce].replace(Xd,"!"):V[ce]).replace(Nh,"")==K||(Te?B[ce].replace(Xd,"!"):B[ce]).replace(Nh,"")==K)return D.FileIndex[ce];return null}var O=64,F=-2,ae="d0cf11e0a1b11ae1",Ce=[208,207,17,224,161,177,26,225],te="00000000000000000000000000000000",ye={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:F,FREESECT:-1,HEADER_SIGNATURE:ae,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:te,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function oe(D,G,V){d();var B=M(D,V);m.writeFileSync(G,B)}function Ve(D){for(var G=new Array(D.length),V=0;V<D.length;++V)G[V]=String.fromCharCode(D[V]);return G.join("")}function et(D,G){var V=M(D,G);switch(G&&G.type||"buffer"){case"file":return d(),m.writeFileSync(G.filename,V),V;case"binary":return typeof V=="string"?V:Ve(V);case"base64":return Kh(typeof V=="string"?V:Ve(V));case"buffer":if(bt)return Buffer.isBuffer(V)?V:hs(V);case"array":return typeof V=="string"?Va(V):V}return V}var Z;function L(D){try{var G=D.InflateRaw,V=new G;if(V._processChunk(new Uint8Array([3,0]),V._finishFlushFlag),V.bytesRead)Z=D;else throw new Error("zlib does not expose bytesRead")}catch(B){console.error("cannot use native zlib: "+(B.message||B))}}function J(D,G){if(!Z)return Ei(D,G);var V=Z.InflateRaw,B=new V,H=B._processChunk(D.slice(D.l),B._finishFlushFlag);return D.l+=B.bytesRead,H}function X(D){return Z?Z.deflateRawSync(D):So(D)}var Q=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ge=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],Oe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(D){var G=(D<<1|D<<11)&139536|(D<<5|D<<15)&558144;return(G>>16|G>>8|G)&255}for(var Me=typeof Uint8Array<"u",re=Me?new Uint8Array(256):[],$e=0;$e<256;++$e)re[$e]=Be($e);function Je(D,G){var V=re[D&255];return G<=8?V>>>8-G:(V=V<<8|re[D>>8&255],G<=16?V>>>16-G:(V=V<<8|re[D>>16&255],V>>>24-G))}function en(D,G){var V=G&7,B=G>>>3;return(D[B]|(V<=6?0:D[B+1]<<8))>>>V&3}function ut(D,G){var V=G&7,B=G>>>3;return(D[B]|(V<=5?0:D[B+1]<<8))>>>V&7}function dr(D,G){var V=G&7,B=G>>>3;return(D[B]|(V<=4?0:D[B+1]<<8))>>>V&15}function Nt(D,G){var V=G&7,B=G>>>3;return(D[B]|(V<=3?0:D[B+1]<<8))>>>V&31}function qe(D,G){var V=G&7,B=G>>>3;return(D[B]|(V<=1?0:D[B+1]<<8))>>>V&127}function Pn(D,G,V){var B=G&7,H=G>>>3,K=(1<<V)-1,ce=D[H]>>>B;return V<8-B||(ce|=D[H+1]<<8-B,V<16-B)||(ce|=D[H+2]<<16-B,V<24-B)||(ce|=D[H+3]<<24-B),ce&K}function Rt(D,G,V){var B=G&7,H=G>>>3;return B<=5?D[H]|=(V&7)<<B:(D[H]|=V<<B&255,D[H+1]=(V&7)>>8-B),G+3}function Gt(D,G,V){var B=G&7,H=G>>>3;return V=(V&1)<<B,D[H]|=V,G+1}function mr(D,G,V){var B=G&7,H=G>>>3;return V<<=B,D[H]|=V&255,V>>>=8,D[H+1]=V,G+8}function bl(D,G,V){var B=G&7,H=G>>>3;return V<<=B,D[H]|=V&255,V>>>=8,D[H+1]=V&255,D[H+2]=V>>>8,G+16}function fs(D,G){var V=D.length,B=2*V>G?2*V:G+5,H=0;if(V>=G)return D;if(bt){var K=bT(B);if(D.copy)D.copy(K);else for(;H<D.length;++H)K[H]=D[H];return K}else if(Me){var ce=new Uint8Array(B);if(ce.set)ce.set(D);else for(;H<V;++H)ce[H]=D[H];return ce}return D.length=B,D}function Xt(D){for(var G=new Array(D),V=0;V<D;++V)G[V]=0;return G}function aa(D,G,V){var B=1,H=0,K=0,ce=0,Te=0,ue=D.length,me=Me?new Uint16Array(32):Xt(32);for(K=0;K<32;++K)me[K]=0;for(K=ue;K<V;++K)D[K]=0;ue=D.length;var fe=Me?new Uint16Array(ue):Xt(ue);for(K=0;K<ue;++K)me[H=D[K]]++,B<H&&(B=H),fe[K]=0;for(me[0]=0,K=1;K<=B;++K)me[K+16]=Te=Te+me[K-1]<<1;for(K=0;K<ue;++K)Te=D[K],Te!=0&&(fe[K]=me[Te+16]++);var De=0;for(K=0;K<ue;++K)if(De=D[K],De!=0)for(Te=Je(fe[K],B)>>B-De,ce=(1<<B+4-De)-1;ce>=0;--ce)G[Te|ce<<De]=De&15|K<<4;return B}var xi=Me?new Uint16Array(512):Xt(512),yi=Me?new Uint16Array(32):Xt(32);if(!Me){for(var rr=0;rr<512;++rr)xi[rr]=0;for(rr=0;rr<32;++rr)yi[rr]=0}(function(){for(var D=[],G=0;G<32;G++)D.push(5);aa(D,yi,32);var V=[];for(G=0;G<=143;G++)V.push(8);for(;G<=255;G++)V.push(9);for(;G<=279;G++)V.push(7);for(;G<=287;G++)V.push(8);aa(V,xi,288)})();var hu=(function(){for(var G=Me?new Uint8Array(32768):[],V=0,B=0;V<Oe.length-1;++V)for(;B<Oe[V+1];++B)G[B]=V;for(;B<32768;++B)G[B]=29;var H=Me?new Uint8Array(259):[];for(V=0,B=0;V<ge.length-1;++V)for(;B<ge[V+1];++B)H[B]=V;function K(Te,ue){for(var me=0;me<Te.length;){var fe=Math.min(65535,Te.length-me),De=me+fe==Te.length;for(ue.write_shift(1,+De),ue.write_shift(2,fe),ue.write_shift(2,~fe&65535);fe-- >0;)ue[ue.l++]=Te[me++]}return ue.l}function ce(Te,ue){for(var me=0,fe=0,De=Me?new Uint16Array(32768):[];fe<Te.length;){var ke=Math.min(65535,Te.length-fe);if(ke<10){for(me=Rt(ue,me,+(fe+ke==Te.length)),me&7&&(me+=8-(me&7)),ue.l=me/8|0,ue.write_shift(2,ke),ue.write_shift(2,~ke&65535);ke-- >0;)ue[ue.l++]=Te[fe++];me=ue.l*8;continue}me=Rt(ue,me,+(fe+ke==Te.length)+2);for(var Ue=0;ke-- >0;){var Ie=Te[fe];Ue=(Ue<<5^Ie)&32767;var Le=-1,Ke=0;if((Le=De[Ue])&&(Le|=fe&-32768,Le>fe&&(Le-=32768),Le<fe))for(;Te[Le+Ke]==Te[fe+Ke]&&Ke<250;)++Ke;if(Ke>2){Ie=H[Ke],Ie<=22?me=mr(ue,me,re[Ie+1]>>1)-1:(mr(ue,me,3),me+=5,mr(ue,me,re[Ie-23]>>5),me+=3);var Dt=Ie<8?0:Ie-4>>2;Dt>0&&(bl(ue,me,Ke-ge[Ie]),me+=Dt),Ie=G[fe-Le],me=mr(ue,me,re[Ie]>>3),me-=3;var Ot=Ie<4?0:Ie-2>>1;Ot>0&&(bl(ue,me,fe-Le-Oe[Ie]),me+=Ot);for(var Kt=0;Kt<Ke;++Kt)De[Ue]=fe&32767,Ue=(Ue<<5^Te[fe])&32767,++fe;ke-=Ke-1}else Ie<=143?Ie=Ie+48:me=Gt(ue,me,1),me=mr(ue,me,re[Ie]),De[Ue]=fe&32767,++fe}me=mr(ue,me,0)-1}return ue.l=(me+7)/8|0,ue.l}return function(ue,me){return ue.length<8?K(ue,me):ce(ue,me)}})();function So(D){var G=Ee(50+Math.floor(D.length*1.1)),V=hu(D,G);return G.slice(0,V)}var Co=Me?new Uint16Array(32768):Xt(32768),bo=Me?new Uint16Array(32768):Xt(32768),Cr=Me?new Uint16Array(128):Xt(128),vn=1,pr=1;function an(D,G){var V=Nt(D,G)+257;G+=5;var B=Nt(D,G)+1;G+=5;var H=dr(D,G)+4;G+=4;for(var K=0,ce=Me?new Uint8Array(19):Xt(19),Te=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],ue=1,me=Me?new Uint8Array(8):Xt(8),fe=Me?new Uint8Array(8):Xt(8),De=ce.length,ke=0;ke<H;++ke)ce[Q[ke]]=K=ut(D,G),ue<K&&(ue=K),me[K]++,G+=3;var Ue=0;for(me[0]=0,ke=1;ke<=ue;++ke)fe[ke]=Ue=Ue+me[ke-1]<<1;for(ke=0;ke<De;++ke)(Ue=ce[ke])!=0&&(Te[ke]=fe[Ue]++);var Ie=0;for(ke=0;ke<De;++ke)if(Ie=ce[ke],Ie!=0){Ue=re[Te[ke]]>>8-Ie;for(var Le=(1<<7-Ie)-1;Le>=0;--Le)Cr[Ue|Le<<Ie]=Ie&7|ke<<3}var Ke=[];for(ue=1;Ke.length<V+B;)switch(Ue=Cr[qe(D,G)],G+=Ue&7,Ue>>>=3){case 16:for(K=3+en(D,G),G+=2,Ue=Ke[Ke.length-1];K-- >0;)Ke.push(Ue);break;case 17:for(K=3+ut(D,G),G+=3;K-- >0;)Ke.push(0);break;case 18:for(K=11+qe(D,G),G+=7;K-- >0;)Ke.push(0);break;default:Ke.push(Ue),ue<Ue&&(ue=Ue);break}var Dt=Ke.slice(0,V),Ot=Ke.slice(V);for(ke=V;ke<286;++ke)Dt[ke]=0;for(ke=B;ke<30;++ke)Ot[ke]=0;return vn=aa(Dt,Co,286),pr=aa(Ot,bo,30),G}function Nl(D,G){if(D[0]==3&&!(D[1]&3))return[ml(G),2];for(var V=0,B=0,H=bT(G||1<<18),K=0,ce=H.length>>>0,Te=0,ue=0;(B&1)==0;){if(B=ut(D,V),V+=3,B>>>1)B>>1==1?(Te=9,ue=5):(V=an(D,V),Te=vn,ue=pr);else{V&7&&(V+=8-(V&7));var me=D[V>>>3]|D[(V>>>3)+1]<<8;if(V+=32,me>0)for(!G&&ce<K+me&&(H=fs(H,K+me),ce=H.length);me-- >0;)H[K++]=D[V>>>3],V+=8;continue}for(;;){!G&&ce<K+32767&&(H=fs(H,K+32767),ce=H.length);var fe=Pn(D,V,Te),De=B>>>1==1?xi[fe]:Co[fe];if(V+=De&15,De>>>=4,(De>>>8&255)===0)H[K++]=De;else{if(De==256)break;De-=257;var ke=De<8?0:De-4>>2;ke>5&&(ke=0);var Ue=K+ge[De];ke>0&&(Ue+=Pn(D,V,ke),V+=ke),fe=Pn(D,V,ue),De=B>>>1==1?yi[fe]:bo[fe],V+=De&15,De>>>=4;var Ie=De<4?0:De-2>>1,Le=Oe[De];for(Ie>0&&(Le+=Pn(D,V,Ie),V+=Ie),!G&&ce<Ue&&(H=fs(H,Ue+100),ce=H.length);K<Ue;)H[K]=H[K-Le],++K}}}return G?[H,V+7>>>3]:[H.slice(0,K),V+7>>>3]}function Ei(D,G){var V=D.slice(D.l||0),B=Nl(V,G);return D.l+=B[1],B[0]}function No(D,G){if(D)typeof console<"u"&&console.error(G);else throw new Error(G)}function Ur(D,G){var V=D;Jr(V,0);var B=[],H=[],K={FileIndex:B,FullPaths:H};R(K,{root:G.root});for(var ce=V.length-4;(V[ce]!=80||V[ce+1]!=75||V[ce+2]!=5||V[ce+3]!=6)&&ce>=0;)--ce;V.l=ce+4,V.l+=4;var Te=V.read_shift(2);V.l+=6;var ue=V.read_shift(4);for(V.l=ue,ce=0;ce<Te;++ce){V.l+=20;var me=V.read_shift(4),fe=V.read_shift(4),De=V.read_shift(2),ke=V.read_shift(2),Ue=V.read_shift(2);V.l+=8;var Ie=V.read_shift(4),Le=h(V.slice(V.l+De,V.l+De+ke));V.l+=De+ke+Ue;var Ke=V.l;V.l=Ie+4,Ti(V,me,fe,K,Le),V.l=Ke}return K}function Ti(D,G,V,B,H){D.l+=2;var K=D.read_shift(2),ce=D.read_shift(2),Te=c(D);if(K&8257)throw new Error("Unsupported ZIP encryption");for(var ue=D.read_shift(4),me=D.read_shift(4),fe=D.read_shift(4),De=D.read_shift(2),ke=D.read_shift(2),Ue="",Ie=0;Ie<De;++Ie)Ue+=String.fromCharCode(D[D.l++]);if(ke){var Le=h(D.slice(D.l,D.l+ke));(Le[21589]||{}).mt&&(Te=Le[21589].mt),((H||{})[21589]||{}).mt&&(Te=H[21589].mt)}D.l+=ke;var Ke=D.slice(D.l,D.l+me);switch(ce){case 8:Ke=J(D,fe);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+ce)}var Dt=!1;K&8&&(ue=D.read_shift(4),ue==134695760&&(ue=D.read_shift(4),Dt=!0),me=D.read_shift(4),fe=D.read_shift(4)),me!=G&&No(Dt,"Bad compressed size: "+G+" != "+me),fe!=V&&No(Dt,"Bad uncompressed size: "+V+" != "+fe),Si(B,Ue,Ke,{unsafe:!0,mt:Te})}function on(D,G){var V=G||{},B=[],H=[],K=Ee(1),ce=V.compression?8:0,Te=0,ue=0,me=0,fe=0,De=0,ke=D.FullPaths[0],Ue=ke,Ie=D.FileIndex[0],Le=[],Ke=0;for(ue=1;ue<D.FullPaths.length;++ue)if(Ue=D.FullPaths[ue].slice(ke.length),Ie=D.FileIndex[ue],!(!Ie.size||!Ie.content||Ue=="Sh33tJ5")){var Dt=fe,Ot=Ee(Ue.length);for(me=0;me<Ue.length;++me)Ot.write_shift(1,Ue.charCodeAt(me)&127);Ot=Ot.slice(0,Ot.l),Le[De]=AP.buf(Ie.content,0);var Kt=Ie.content;ce==8&&(Kt=X(Kt)),K=Ee(30),K.write_shift(4,67324752),K.write_shift(2,20),K.write_shift(2,Te),K.write_shift(2,ce),Ie.mt?o(K,Ie.mt):K.write_shift(4,0),K.write_shift(-4,Le[De]),K.write_shift(4,Kt.length),K.write_shift(4,Ie.content.length),K.write_shift(2,Ot.length),K.write_shift(2,0),fe+=K.length,B.push(K),fe+=Ot.length,B.push(Ot),fe+=Kt.length,B.push(Kt),K=Ee(46),K.write_shift(4,33639248),K.write_shift(2,0),K.write_shift(2,20),K.write_shift(2,Te),K.write_shift(2,ce),K.write_shift(4,0),K.write_shift(-4,Le[De]),K.write_shift(4,Kt.length),K.write_shift(4,Ie.content.length),K.write_shift(2,Ot.length),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(4,0),K.write_shift(4,Dt),Ke+=K.l,H.push(K),Ke+=Ot.length,H.push(Ot),++De}return K=Ee(22),K.write_shift(4,101010256),K.write_shift(2,0),K.write_shift(2,0),K.write_shift(2,De),K.write_shift(2,De),K.write_shift(4,Ke),K.write_shift(4,fe),K.write_shift(2,0),Jn([Jn(B),Jn(H),K])}var gr={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ia(D,G){if(D.ctype)return D.ctype;var V=D.name||"",B=V.match(/\.([^\.]+)$/);return B&&gr[B[1]]||G&&(B=(V=G).match(/[\.\\]([^\.\\])+$/),B&&gr[B[1]])?gr[B[1]]:"application/octet-stream"}function Br(D){for(var G=Kh(D),V=[],B=0;B<G.length;B+=76)V.push(G.slice(B,B+76));return V.join(`\r
`)+`\r
`}function fu(D){var G=D.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(me){var fe=me.charCodeAt(0).toString(16).toUpperCase();return"="+(fe.length==1?"0"+fe:fe)});G=G.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),G.charAt(0)==`
`&&(G="=0D"+G.slice(1)),G=G.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var V=[],B=G.split(`\r
`),H=0;H<B.length;++H){var K=B[H];if(K.length==0){V.push("");continue}for(var ce=0;ce<K.length;){var Te=76,ue=K.slice(ce,ce+Te);ue.charAt(Te-1)=="="?Te--:ue.charAt(Te-2)=="="?Te-=2:ue.charAt(Te-3)=="="&&(Te-=3),ue=K.slice(ce,ce+Te),ce+=Te,ce<K.length&&(ue+="="),V.push(ue)}}return V.join(`\r
`)}function Rl(D){for(var G=[],V=0;V<D.length;++V){for(var B=D[V];V<=D.length&&B.charAt(B.length-1)=="=";)B=B.slice(0,B.length-1)+D[++V];G.push(B)}for(var H=0;H<G.length;++H)G[H]=G[H].replace(/[=][0-9A-Fa-f]{2}/g,function(K){return String.fromCharCode(parseInt(K.slice(1),16))});return Va(G.join(`\r
`))}function sa(D,G,V){for(var B="",H="",K="",ce,Te=0;Te<10;++Te){var ue=G[Te];if(!ue||ue.match(/^\s*$/))break;var me=ue.match(/^(.*?):\s*([^\s].*)$/);if(me)switch(me[1].toLowerCase()){case"content-location":B=me[2].trim();break;case"content-type":K=me[2].trim();break;case"content-transfer-encoding":H=me[2].trim();break}}switch(++Te,H.toLowerCase()){case"base64":ce=Va(os(G.slice(Te).join("")));break;case"quoted-printable":ce=Rl(G.slice(Te));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+H)}var fe=Si(D,B.slice(V.length),ce,{unsafe:!0});K&&(fe.ctype=K)}function wi(D,G){if(Ve(D.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var V=G&&G.root||"",B=(bt&&Buffer.isBuffer(D)?D.toString("binary"):Ve(D)).split(`\r
`),H=0,K="";for(H=0;H<B.length;++H)if(K=B[H],!!/^Content-Location:/i.test(K)&&(K=K.slice(K.indexOf("file")),V||(V=K.slice(0,K.lastIndexOf("/")+1)),K.slice(0,V.length)!=V))for(;V.length>0&&(V=V.slice(0,V.length-1),V=V.slice(0,V.lastIndexOf("/")+1),K.slice(0,V.length)!=V););var ce=(B[1]||"").match(/boundary="(.*?)"/);if(!ce)throw new Error("MAD cannot find boundary");var Te="--"+(ce[1]||""),ue=[],me=[],fe={FileIndex:ue,FullPaths:me};R(fe);var De,ke=0;for(H=0;H<B.length;++H){var Ue=B[H];Ue!==Te&&Ue!==Te+"--"||(ke++&&sa(fe,B.slice(De,H),V),De=H)}return fe}function du(D,G){var V=G||{},B=V.boundary||"SheetJS";B="------="+B;for(var H=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+B.slice(2)+'"',"","",""],K=D.FullPaths[0],ce=K,Te=D.FileIndex[0],ue=1;ue<D.FullPaths.length;++ue)if(ce=D.FullPaths[ue].slice(K.length),Te=D.FileIndex[ue],!(!Te.size||!Te.content||ce=="Sh33tJ5")){ce=ce.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(Ke){return"_x"+Ke.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(Ke){return"_u"+Ke.charCodeAt(0).toString(16)+"_"});for(var me=Te.content,fe=bt&&Buffer.isBuffer(me)?me.toString("binary"):Ve(me),De=0,ke=Math.min(1024,fe.length),Ue=0,Ie=0;Ie<=ke;++Ie)(Ue=fe.charCodeAt(Ie))>=32&&Ue<128&&++De;var Le=De>=ke*4/5;H.push(B),H.push("Content-Location: "+(V.root||"file:///C:/SheetJS/")+ce),H.push("Content-Transfer-Encoding: "+(Le?"quoted-printable":"base64")),H.push("Content-Type: "+ia(Te,ce)),H.push(""),H.push(Le?fu(fe):Br(fe))}return H.push(B+`--\r
`),H.join(`\r
`)}function Ai(D){var G={};return R(G,D),G}function Si(D,G,V,B){var H=B&&B.unsafe;H||R(D);var K=!H&&Ht.find(D,G);if(!K){var ce=D.FullPaths[0];G.slice(0,ce.length)==ce?ce=G:(ce.slice(-1)!="/"&&(ce+="/"),ce=(ce+G).replace("//","/")),K={name:i(G),type:2},D.FileIndex.push(K),D.FullPaths.push(ce),H||Ht.utils.cfb_gc(D)}return K.content=V,K.size=V?V.length:0,B&&(B.CLSID&&(K.clsid=B.CLSID),B.mt&&(K.mt=B.mt),B.ct&&(K.ct=B.ct)),K}function Ro(D,G){R(D);var V=Ht.find(D,G);if(V){for(var B=0;B<D.FileIndex.length;++B)if(D.FileIndex[B]==V)return D.FileIndex.splice(B,1),D.FullPaths.splice(B,1),!0}return!1}function Ci(D,G,V){R(D);var B=Ht.find(D,G);if(B){for(var H=0;H<D.FileIndex.length;++H)if(D.FileIndex[H]==B)return D.FileIndex[H].name=i(V),D.FullPaths[H]=V,!0}return!1}function Ca(D){C(D,!0)}return e.find=j,e.read=_e,e.parse=v,e.write=et,e.writeFile=oe,e.utils={cfb_new:Ai,cfb_add:Si,cfb_del:Ro,cfb_mov:Ci,cfb_gc:Ca,ReadShift:Ih,CheckField:UC,prep_blob:Jr,bconcat:Jn,use_zlib:L,_deflateRaw:So,_inflateRaw:Ei,consts:ye},e})();function SP(n){return typeof n=="string"?Cm(n):Array.isArray(n)?Q8(n):n}function mf(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=Cm(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?Wh(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var i=new Blob([SP(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,n);if(typeof saveAs<"u")return saveAs(i,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:n,saveAs:!0});var c=document.createElement("a");if(c.download!=null)return c.download=n,c.href=o,document.body.appendChild(c),c.click(),document.body.removeChild(c),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var h=File(n);return h.open("w"),h.encoding="binary",Array.isArray(e)&&(e=df(e)),h.write(e),h.close(),e}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+n)}function nr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function PT(n,e){for(var t=[],r=nr(n),i=0;i!==r.length;++i)t[n[r[i]][e]]==null&&(t[n[r[i]][e]]=r[i]);return t}function Gv(n){for(var e=[],t=nr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function Rm(n){for(var e=[],t=nr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function CP(n){for(var e=[],t=nr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var q0=new Date(1899,11,30,0,0,0);function Lr(n,e){var t=n.getTime(),r=q0.getTime()+(n.getTimezoneOffset()-q0.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var wC=new Date,bP=q0.getTime()+(wC.getTimezoneOffset()-q0.getTimezoneOffset())*6e4,jT=wC.getTimezoneOffset();function AC(n){var e=new Date;return e.setTime(n*24*60*60*1e3+bP),e.getTimezoneOffset()!==jT&&e.setTime(e.getTime()+(e.getTimezoneOffset()-jT)*6e4),e}var FT=new Date("2017-02-19T19:06:09.000Z"),SC=isNaN(FT.getFullYear())?new Date("2/19/17"):FT,NP=SC.getFullYear()==2017;function Ar(n,e){var t=new Date(n);if(NP)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(SC.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var i=n.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return n.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function Im(n,e){if(bt&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(o){return t[o]||o})}catch{}for(var r=[],i=0;i!=n.length;++i)r.push(String.fromCharCode(n[i]));return r.join("")}function Vr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Vr(n[t]));return e}function un(n,e){for(var t="";t.length<e;)t+=n;return t}function Ji(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(i,o){return t=-t,o}),!isNaN(e=Number(r)))?e/t:e}var RP=["january","february","march","april","may","june","july","august","september","october","november","december"];function $h(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),i=e.getMonth(),o=e.getDate();if(isNaN(o))return t;var c=n.toLowerCase();if(c.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(c=c.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),c.length>3&&RP.indexOf(c)==-1)return t}else if(c.match(/[a-z]/))return t;return r<0||r>8099?t:(i>0||o>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function ft(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return bt?r=hs(t):r=J8(t),Ht.utils.cfb_add(n,e,r)}Ht.utils.cfb_add(n,e,t)}else n.file(e,t)}function Kv(){return Ht.utils.cfb_new()}var Rn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,IP={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},$v=Gv(IP),Wv=/[&<>'"]/g,DP=/[\u0000-\u0008\u000b-\u001f]/g;function Lt(n){var e=n+"";return e.replace(Wv,function(t){return $v[t]}).replace(DP,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function LT(n){return Lt(n).replace(/ /g,"_x0020_")}var CC=/[\u0000-\u001f]/g;function OP(n){var e=n+"";return e.replace(Wv,function(t){return $v[t]}).replace(/\n/g,"<br/>").replace(CC,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function kP(n){var e=n+"";return e.replace(Wv,function(t){return $v[t]}).replace(CC,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function MP(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function PP(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function Yg(n){for(var e="",t=0,r=0,i=0,o=0,c=0,h=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(i=n.charCodeAt(t++),r>191&&r<224){c=(r&31)<<6,c|=i&63,e+=String.fromCharCode(c);continue}if(o=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63);continue}c=n.charCodeAt(t++),h=((r&7)<<18|(i&63)<<12|(o&63)<<6|c&63)-65536,e+=String.fromCharCode(55296+(h>>>10&1023)),e+=String.fromCharCode(56320+(h&1023))}return e}function VT(n){var e=ml(2*n.length),t,r,i=1,o=0,c=0,h;for(r=0;r<n.length;r+=i)i=1,(h=n.charCodeAt(r))<128?t=h:h<224?(t=(h&31)*64+(n.charCodeAt(r+1)&63),i=2):h<240?(t=(h&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),i=3):(i=4,t=(h&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,c=55296+(t>>>10&1023),t=56320+(t&1023)),c!==0&&(e[o++]=c&255,e[o++]=c>>>8,c=0),e[o++]=t%256,e[o++]=t>>>8;return e.slice(0,o).toString("ucs2")}function UT(n){return hs(n,"binary").toString("utf8")}var Qd="foo bar baz",Rh=bt&&(UT(Qd)==Yg(Qd)&&UT||VT(Qd)==Yg(Qd)&&VT)||Yg,Wh=bt?function(n){return hs(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,i=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,i=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},jP=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<n.length;++i)r=r.replace(n[i][0],n[i][1]);return r}})(),bC=/(^\s|\s$|\n)/;function Zn(n,e){return"<"+n+(e.match(bC)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function Xh(n){return nr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Pe(n,e,t){return"<"+n+(t!=null?Xh(t):"")+(e!=null?(e.match(bC)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function L1(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function FP(n,e){switch(typeof n){case"string":var t=Pe("vt:lpwstr",Lt(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Pe((n|0)==n?"vt:i4":"vt:r8",Lt(String(n)));case"boolean":return Pe("vt:bool",n?"true":"false")}if(n instanceof Date)return Pe("vt:filetime",L1(n));throw new Error("Unable to serialize "+n)}var Vn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},ou=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Zr={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function LP(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),i=n[e+6]&15,o=5;o>=0;--o)i=i*256+n[e+o];return r==2047?i==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,i+=Math.pow(2,52)),t*Math.pow(2,r-52)*i)}function VP(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,i=0,o=0,c=r?-e:e;isFinite(c)?c==0?i=o=0:(i=Math.floor(Math.log(c)/Math.LN2),o=c*Math.pow(2,52-i),i<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?i=-1022:(o-=Math.pow(2,52),i+=1023)):(i=2047,o=isNaN(e)?26985:0);for(var h=0;h<=5;++h,o/=256)n[t+h]=o&255;n[t+6]=(i&15)<<4|o&15,n[t+7]=i>>4|r}var BT=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var i=0,o=n[0][r].length;i<o;i+=t)e.push.apply(e,n[0][r].slice(i,i+t));return e},zT=bt?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:hs(e)})):BT(n)}:BT,qT=function(n,e,t){for(var r=[],i=e;i<t;i+=2)r.push(String.fromCharCode(Eh(n,i)));return r.join("").replace(Nh,"")},Xv=bt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Nh,""):qT(n,e,t)}:qT,HT=function(n,e,t){for(var r=[],i=e;i<e+t;++i)r.push(("0"+n[i].toString(16)).slice(-2));return r.join("")},NC=bt?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):HT(n,e,t)}:HT,GT=function(n,e,t){for(var r=[],i=e;i<t;i++)r.push(String.fromCharCode(Ac(n,i)));return r.join("")},pf=bt?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):GT(e,t,r)}:GT,RC=function(n,e){var t=ea(n,e);return t>0?pf(n,e+4,e+4+t-1):""},IC=RC,DC=function(n,e){var t=ea(n,e);return t>0?pf(n,e+4,e+4+t-1):""},OC=DC,kC=function(n,e){var t=2*ea(n,e);return t>0?pf(n,e+4,e+4+t-1):""},MC=kC,PC=function(e,t){var r=ea(e,t);return r>0?Xv(e,t+4,t+4+r):""},jC=PC,FC=function(n,e){var t=ea(n,e);return t>0?pf(n,e+4,e+4+t):""},LC=FC,VC=function(n,e){return LP(n,e)},H0=VC,Yv=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};bt&&(IC=function(e,t){if(!Buffer.isBuffer(e))return RC(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},OC=function(e,t){if(!Buffer.isBuffer(e))return DC(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},MC=function(e,t){if(!Buffer.isBuffer(e))return kC(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},jC=function(e,t){if(!Buffer.isBuffer(e))return PC(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},LC=function(e,t){if(!Buffer.isBuffer(e))return FC(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},H0=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):VC(e,t)},Yv=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ac=function(n,e){return n[e]},Eh=function(n,e){return n[e+1]*256+n[e]},UP=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ea=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},rl=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},BP=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Ih(n,e){var t="",r,i,o=[],c,h,m,d;switch(e){case"dbcs":if(d=this.l,bt&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(m=0;m<n;++m)t+=String.fromCharCode(Eh(this,d)),d+=2;n*=2;break;case"utf8":t=pf(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Xv(this,this.l,this.l+n);break;case"wstr":return Ih.call(this,n,"dbcs");case"lpstr-ansi":t=IC(this,this.l),n=4+ea(this,this.l);break;case"lpstr-cp":t=OC(this,this.l),n=4+ea(this,this.l);break;case"lpwstr":t=MC(this,this.l),n=4+2*ea(this,this.l);break;case"lpp4":n=4+ea(this,this.l),t=jC(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ea(this,this.l),t=LC(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(c=Ac(this,this.l+n++))!==0;)o.push(Wd(c));t=o.join("");break;case"_wstr":for(n=0,t="";(c=Eh(this,this.l+n))!==0;)o.push(Wd(c)),n+=2;n+=2,t=o.join("");break;case"dbcs-cont":for(t="",d=this.l,m=0;m<n;++m){if(this.lens&&this.lens.indexOf(d)!==-1)return c=Ac(this,d),this.l=d+1,h=Ih.call(this,n-m,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(Wd(Eh(this,d))),d+=2}t=o.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",d=this.l,m=0;m!=n;++m){if(this.lens&&this.lens.indexOf(d)!==-1)return c=Ac(this,d),this.l=d+1,h=Ih.call(this,n-m,c?"dbcs-cont":"sbcs-cont"),o.join("")+h;o.push(Wd(Ac(this,d))),d+=1}t=o.join("");break;default:switch(n){case 1:return r=Ac(this,this.l),this.l++,r;case 2:return r=(e==="i"?UP:Eh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?rl:BP)(this,this.l),this.l+=4,r):(i=ea(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return n==8?i=H0(this,this.l):i=H0([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;n=8;case 16:t=NC(this,this.l,n);break}}return this.l+=n,t}var zP=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},qP=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},HP=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function GP(n,e,t){var r=0,i=0;if(t==="dbcs"){for(i=0;i!=e.length;++i)HP(this,e.charCodeAt(i),this.l+2*i);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;r=e.length}else if(t==="hex"){for(;i<n;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+n,this.length);for(i=0;i<Math.min(e.length,n);++i){var c=e.charCodeAt(i);this[this.l++]=c&255,this[this.l++]=c>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,zP(this,e,this.l);break;case 8:if(r=8,t==="f"){VP(this,e,this.l);break}case 16:break;case-4:r=4,qP(this,e,this.l);break}return this.l+=r,this}function UC(n,e){var t=NC(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function Jr(n,e){n.l=e,n.read_shift=Ih,n.chk=UC,n.write_shift=GP}function _i(n,e){n.l+=e}function Ee(n){var e=ml(n);return Jr(e,0),e}function Fr(){var n=[],e=bt?256:2048,t=function(d){var v=Ee(d);return Jr(v,0),v},r=t(e),i=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},o=function(d){return r&&d<r.length-r.l?r:(i(),r=t(Math.max(d+1,e)))},c=function(){return i(),Jn(n)},h=function(d){i(),r=d,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:h,end:c,_bufs:n}}function Re(n,e,t,r){var i=+e,o;if(!isNaN(i)){r||(r=LV[i].p||(t||[]).length||0),o=1+(i>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var c=n.next(o);i<=127?c.write_shift(1,i):(c.write_shift(1,(i&127)+128),c.write_shift(1,i>>7));for(var h=0;h!=4;++h)if(r>=128)c.write_shift(1,(r&127)+128),r>>=7;else{c.write_shift(1,r);break}r>0&&Yv(t)&&n.push(t)}}function Dh(n,e,t){var r=Vr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function KT(n,e,t){var r=Vr(n);return r.s=Dh(r.s,e.s,t),r.e=Dh(r.e,e.s,t),r}function Oh(n,e){if(n.cRel&&n.c<0)for(n=Vr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Vr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=Vt(n);return!n.cRel&&n.cRel!=null&&(t=WP(t)),!n.rRel&&n.rRel!=null&&(t=KP(t)),t}function Qg(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+ur(n.s.c)+":"+(n.e.cRel?"":"$")+ur(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+er(n.s.r)+":"+(n.e.rRel?"":"$")+er(n.e.r):Oh(n.s,e.biff)+":"+Oh(n.e,e.biff)}function Qv(n){return parseInt($P(n),10)-1}function er(n){return""+(n+1)}function KP(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function $P(n){return n.replace(/\$(\d+)$/,"$1")}function Jv(n){for(var e=XP(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function ur(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function WP(n){return n.replace(/^([A-Z])/,"$$$1")}function XP(n){return n.replace(/^\$([A-Z])/,"$1")}function YP(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Un(n){for(var e=0,t=0,r=0;r<n.length;++r){var i=n.charCodeAt(r);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(t=26*t+(i-64))}return{c:t-1,r:e-1}}function Vt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function ra(n){var e=n.indexOf(":");return e==-1?{s:Un(n),e:Un(n)}:{s:Un(n.slice(0,e)),e:Un(n.slice(e+1))}}function Nn(n,e){return typeof e>"u"||typeof e=="number"?Nn(n.s,n.e):(typeof n!="string"&&(n=Vt(n)),typeof e!="string"&&(e=Vt(e)),n==e?n:n+":"+e)}function Zt(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,i=0,o=n.length;for(t=0;r<o&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.s.c=--t,t=0;r<o&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;if(e.s.r=--t,r===o||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=o&&!((i=n.charCodeAt(r)-64)<1||i>26);++r)t=26*t+i;for(e.e.c=--t,t=0;r!=o&&!((i=n.charCodeAt(r)-48)<0||i>9);++r)t=10*t+i;return e.e.r=--t,e}function $T(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=po(n.z,t?Lr(e):e)}catch{}try{return n.w=po((n.XF||{}).numFmtId||(t?14:0),t?Lr(e):e)}catch{return""+e}}function ls(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?gf[n.v]||n.v:e==null?$T(n,n.v):$T(n,e))}function Tl(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function BC(n,e,t){var r=t||{},i=n?Array.isArray(n):r.dense,o=n||(i?[]:{}),c=0,h=0;if(o&&r.origin!=null){if(typeof r.origin=="number")c=r.origin;else{var m=typeof r.origin=="string"?Un(r.origin):r.origin;c=m.r,h=m.c}o["!ref"]||(o["!ref"]="A1:A1")}var d={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var v=Zt(o["!ref"]);d.s.c=v.s.c,d.s.r=v.s.r,d.e.c=Math.max(d.e.c,v.e.c),d.e.r=Math.max(d.e.r,v.e.r),c==-1&&(d.e.r=c=v.e.r+1)}for(var x=0;x!=e.length;++x)if(e[x]){if(!Array.isArray(e[x]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[x].length;++y)if(!(typeof e[x][y]>"u")){var T={v:e[x][y]},N=c+x,A=h+y;if(d.s.r>N&&(d.s.r=N),d.s.c>A&&(d.s.c=A),d.e.r<N&&(d.e.r=N),d.e.c<A&&(d.e.c=A),e[x][y]&&typeof e[x][y]=="object"&&!Array.isArray(e[x][y])&&!(e[x][y]instanceof Date))T=e[x][y];else if(Array.isArray(T.v)&&(T.f=e[x][y][1],T.v=T.v[0]),T.v===null)if(T.f)T.t="n";else if(r.nullError)T.t="e",T.v=0;else if(r.sheetStubs)T.t="z";else continue;else typeof T.v=="number"?T.t="n":typeof T.v=="boolean"?T.t="b":T.v instanceof Date?(T.z=r.dateNF||hn[14],r.cellDates?(T.t="d",T.w=po(T.z,Lr(T.v))):(T.t="n",T.v=Lr(T.v),T.w=po(T.z,T.v))):T.t="s";if(i)o[N]||(o[N]=[]),o[N][A]&&o[N][A].z&&(T.z=o[N][A].z),o[N][A]=T;else{var b=Vt({c:A,r:N});o[b]&&o[b].z&&(T.z=o[b].z),o[b]=T}}}return d.s.c<1e7&&(o["!ref"]=Nn(d)),o}function lu(n,e){return BC(null,n,e)}function QP(n){return n.read_shift(4,"i")}function za(n,e){return e||(e=Ee(4)),e.write_shift(4,n),e}function hr(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Bn(n,e){var t=!1;return e==null&&(t=!0,e=Ee(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function JP(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function ZP(n,e){return e||(e=Ee(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Zv(n,e){var t=n.l,r=n.read_shift(1),i=hr(n),o=[],c={t:i,h:i};if((r&1)!==0){for(var h=n.read_shift(4),m=0;m!=h;++m)o.push(JP(n));c.r=o}else c.r=[{ich:0,ifnt:0}];return n.l=t+e,c}function ej(n,e){var t=!1;return e==null&&(t=!0,e=Ee(15+4*n.t.length)),e.write_shift(1,0),Bn(n.t,e),t?e.slice(0,e.l):e}var tj=Zv;function nj(n,e){var t=!1;return e==null&&(t=!0,e=Ee(23+4*n.t.length)),e.write_shift(1,1),Bn(n.t,e),e.write_shift(4,1),ZP({},e),t?e.slice(0,e.l):e}function Sa(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function wl(n,e){return e==null&&(e=Ee(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function Al(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Sl(n,e){return e==null&&(e=Ee(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var rj=hr,zC=Bn;function e_(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function G0(n,e){var t=!1;return e==null&&(t=!0,e=Ee(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var aj=hr,V1=e_,t_=G0;function qC(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var i=r===0?H0([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):rl(e,0)>>2;return t?i/100:i}function HC(n,e){e==null&&(e=Ee(4));var t=0,r=0,i=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?i:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function GC(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function ij(n,e){return e||(e=Ee(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Cl=GC,cu=ij;function uu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function pl(n,e){return(e||Ee(8)).write_shift(8,n,"f")}function sj(n){var e={},t=n.read_shift(1),r=t>>>1,i=n.read_shift(1),o=n.read_shift(2,"i"),c=n.read_shift(1),h=n.read_shift(1),m=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=i;var d=pj[i];d&&(e.rgb=aw(d));break;case 2:e.rgb=aw([c,h,m]);break;case 3:e.theme=i;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function K0(n,e){if(e||(e=Ee(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function oj(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function lj(n,e){e||(e=Ee(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var KC=2,Qr=3,Jd=11,$0=19,Zd=64,cj=65,uj=71,hj=4108,fj=4126,Xn=80,WT={1:{n:"CodePage",t:KC},2:{n:"Category",t:Xn},3:{n:"PresentationFormat",t:Xn},4:{n:"ByteCount",t:Qr},5:{n:"LineCount",t:Qr},6:{n:"ParagraphCount",t:Qr},7:{n:"SlideCount",t:Qr},8:{n:"NoteCount",t:Qr},9:{n:"HiddenCount",t:Qr},10:{n:"MultimediaClipCount",t:Qr},11:{n:"ScaleCrop",t:Jd},12:{n:"HeadingPairs",t:hj},13:{n:"TitlesOfParts",t:fj},14:{n:"Manager",t:Xn},15:{n:"Company",t:Xn},16:{n:"LinksUpToDate",t:Jd},17:{n:"CharacterCount",t:Qr},19:{n:"SharedDoc",t:Jd},22:{n:"HyperlinksChanged",t:Jd},23:{n:"AppVersion",t:Qr,p:"version"},24:{n:"DigSig",t:cj},26:{n:"ContentType",t:Xn},27:{n:"ContentStatus",t:Xn},28:{n:"Language",t:Xn},29:{n:"Version",t:Xn},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}},XT={1:{n:"CodePage",t:KC},2:{n:"Title",t:Xn},3:{n:"Subject",t:Xn},4:{n:"Author",t:Xn},5:{n:"Keywords",t:Xn},6:{n:"Comments",t:Xn},7:{n:"Template",t:Xn},8:{n:"LastAuthor",t:Xn},9:{n:"RevNumber",t:Xn},10:{n:"EditTime",t:Zd},11:{n:"LastPrinted",t:Zd},12:{n:"CreatedDate",t:Zd},13:{n:"ModifiedDate",t:Zd},14:{n:"PageCount",t:Qr},15:{n:"WordCount",t:Qr},16:{n:"CharCount",t:Qr},17:{n:"Thumbnail",t:uj},18:{n:"Application",t:Xn},19:{n:"DocSecurity",t:Qr},255:{},2147483648:{n:"Locale",t:$0},2147483651:{n:"Behavior",t:$0},1919054434:{}};function dj(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var mj=dj([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),pj=Vr(mj),gf={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gj={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},e0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function $C(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WC(n,e){var t=CP(gj),r=[],i;r[r.length]=Rn,r[r.length]=Pe("Types",null,{xmlns:Vn.CT,"xmlns:xsd":Vn.xsd,"xmlns:xsi":Vn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return Pe("Default",null,{Extension:m[0],ContentType:m[1]})}));var o=function(m){n[m]&&n[m].length>0&&(i=n[m][0],r[r.length]=Pe("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:e0[m][e.bookType]||e0[m].xlsx}))},c=function(m){(n[m]||[]).forEach(function(d){r[r.length]=Pe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:e0[m][e.bookType]||e0[m].xlsx})})},h=function(m){(n[m]||[]).forEach(function(d){r[r.length]=Pe("Override",null,{PartName:(d[0]=="/"?"":"/")+d,ContentType:t[m][0]})})};return o("workbooks"),c("sheets"),c("charts"),h("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(h),h("vba"),h("comments"),h("threadedcomments"),h("drawings"),c("metadata"),h("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var At={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function XC(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function Pc(n){var e=[Rn,Pe("Relationships",null,{xmlns:Vn.RELS})];return nr(n["!id"]).forEach(function(t){e[e.length]=Pe("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Ft(n,e,t,r,i,o){if(i||(i={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,i.Id="rId"+e,i.Type=r,i.Target=t,[At.HLINK,At.XPATH,At.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),n["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][i.Id]=i,n[("/"+i.Target).replace("//","/")]=i,e}function vj(n){var e=[Rn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function YT(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function _j(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function xj(n){var e=[Rn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(YT(n[t][0],n[t][1])),e.push(_j("",n[t][0]));return e.push(YT("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function YC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+L0.version+"</meta:generator></office:meta></office:document-meta>"}var ol=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Jg(n,e,t,r,i){i[n]!=null||e==null||e===""||(i[n]=e,e=Lt(e),r[r.length]=t?Pe(n,e,t):Zn(n,e))}function QC(n,e){var t=e||{},r=[Rn,Pe("cp:coreProperties",null,{"xmlns:cp":Vn.CORE_PROPS,"xmlns:dc":Vn.dc,"xmlns:dcterms":Vn.dcterms,"xmlns:dcmitype":Vn.dcmitype,"xmlns:xsi":Vn.xsi})],i={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Jg("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:L1(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i),n.ModifiedDate!=null&&Jg("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:L1(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,i));for(var o=0;o!=ol.length;++o){var c=ol[o],h=t.Props&&t.Props[c[1]]!=null?t.Props[c[1]]:n?n[c[1]]:null;h===!0?h="1":h===!1?h="0":typeof h=="number"&&(h=String(h)),h!=null&&Jg(c[0],h,null,r,i)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var jc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],JC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function ZC(n){var e=[],t=Pe;return n||(n={}),n.Application="SheetJS",e[e.length]=Rn,e[e.length]=Pe("Properties",null,{xmlns:Vn.EXT_PROPS,"xmlns:vt":Vn.vt}),jc.forEach(function(r){if(n[r[1]]!==void 0){var i;switch(r[2]){case"string":i=Lt(String(n[r[1]]));break;case"bool":i=n[r[1]]?"true":"false";break}i!==void 0&&(e[e.length]=t(r[0],i))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Lt(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function e4(n){var e=[Rn,Pe("Properties",null,{xmlns:Vn.CUST_PROPS,"xmlns:vt":Vn.vt})];if(!n)return e.join("");var t=1;return nr(n).forEach(function(i){++t,e[e.length]=Pe("property",FP(n[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Lt(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var QT={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function yj(n,e){var t=[];return nr(QT).map(function(r){for(var i=0;i<ol.length;++i)if(ol[i][1]==r)return ol[i];for(i=0;i<jc.length;++i)if(jc[i][1]==r)return jc[i];throw r}).forEach(function(r){if(n[r[1]]!=null){var i=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),t.push(Zn(QT[r[1]]||r[1],i))}}),Pe("DocumentProperties",t.join(""),{xmlns:Zr.o})}function Ej(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",i=[];return n&&nr(n).forEach(function(o){if(Object.prototype.hasOwnProperty.call(n,o)){for(var c=0;c<ol.length;++c)if(o==ol[c][1])return;for(c=0;c<jc.length;++c)if(o==jc[c][1])return;for(c=0;c<t.length;++c)if(o==t[c])return;var h=n[o],m="string";typeof h=="number"?(m="float",h=String(h)):h===!0||h===!1?(m="boolean",h=h?"1":"0"):h=String(h),i.push(Pe(LT(o),h,{"dt:dt":m}))}}),e&&nr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(n&&Object.prototype.hasOwnProperty.call(n,o))){var c=e[o],h="string";typeof c=="number"?(h="float",c=String(c)):c===!0||c===!1?(h="boolean",c=c?"1":"0"):c instanceof Date?(h="dateTime.tz",c=c.toISOString()):c=String(c),i.push(Pe(LT(o),c,{"dt:dt":h}))}}),"<"+r+' xmlns="'+Zr.o+'">'+i.join("")+"</"+r+">"}function Tj(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),i=(t-r)/Math.pow(2,32);r*=1e7,i*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),i+=o);var c=Ee(8);return c.write_shift(4,r),c.write_shift(4,i),c}function JT(n,e){var t=Ee(4),r=Ee(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=Ee(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=Tj(e);break;case 31:case 80:for(r=Ee(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return Jn([t,r])}var t4=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function wj(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function ZT(n,e,t){var r=Ee(8),i=[],o=[],c=8,h=0,m=Ee(8),d=Ee(8);if(m.write_shift(4,2),m.write_shift(4,1200),d.write_shift(4,1),o.push(m),i.push(d),c+=8+m.length,!e){d=Ee(8),d.write_shift(4,0),i.unshift(d);var v=[Ee(4)];for(v[0].write_shift(4,n.length),h=0;h<n.length;++h){var x=n[h][0];for(m=Ee(8+2*(x.length+1)+(x.length%2?0:2)),m.write_shift(4,h+2),m.write_shift(4,x.length+1),m.write_shift(0,x,"dbcs");m.l!=m.length;)m.write_shift(1,0);v.push(m)}m=Jn(v),o.unshift(m),c+=8+m.length}for(h=0;h<n.length;++h)if(!(e&&!e[n[h][0]])&&!(t4.indexOf(n[h][0])>-1||JC.indexOf(n[h][0])>-1)&&n[h][1]!=null){var y=n[h][1],T=0;if(e){T=+e[n[h][0]];var N=t[T];if(N.p=="version"&&typeof y=="string"){var A=y.split(".");y=(+A[0]<<16)+(+A[1]||0)}m=JT(N.t,y)}else{var b=wj(y);b==-1&&(b=31,y=String(y)),m=JT(b,y)}o.push(m),d=Ee(8),d.write_shift(4,e?T:2+h),i.push(d),c+=8+m.length}var P=8*(o.length+1);for(h=0;h<o.length;++h)i[h].write_shift(4,P),P+=o[h].length;return r.write_shift(4,c),r.write_shift(4,o.length),Jn([r].concat(i).concat(o))}function ew(n,e,t,r,i,o){var c=Ee(i?68:48),h=[c];c.write_shift(2,65534),c.write_shift(2,0),c.write_shift(4,842412599),c.write_shift(16,Ht.utils.consts.HEADER_CLSID,"hex"),c.write_shift(4,i?2:1),c.write_shift(16,e,"hex"),c.write_shift(4,i?68:48);var m=ZT(n,t,r);if(h.push(m),i){var d=ZT(i,null,null);c.write_shift(16,o,"hex"),c.write_shift(4,68+m.length),h.push(d)}return Jn(h)}function Aj(n,e){e||(e=Ee(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function Sj(n,e){return n.read_shift(e)===1}function Er(n,e){return e||(e=Ee(2)),e.write_shift(2,+!!n),e}function n4(n){return n.read_shift(2,"u")}function xa(n,e){return e||(e=Ee(2)),e.write_shift(2,n),e}function r4(n,e,t){return t||(t=Ee(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function a4(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),i="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=n.read_shift(1);o&&(i="dbcs-cont")}else t.biff==12&&(i="wstr");t.biff>=2&&t.biff<=5&&(i="cpstr");var c=r?n.read_shift(r,i):"";return c}function Cj(n){var e=n.t||"",t=Ee(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=Ee(2*e.length);r.write_shift(2*e.length,e,"utf16le");var i=[t,r];return Jn(i)}function bj(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var i=n.read_shift(1);return i===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function Nj(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):bj(n,r,t)}function Rj(n,e,t){if(t.biff>5)return Nj(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function i4(n,e,t){return t||(t=Ee(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function tw(n,e){e||(e=Ee(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function Ij(n){var e=Ee(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var i=r.indexOf("#"),o=i>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var c=[8,6815827,6619237,4849780,83];for(t=0;t<c.length;++t)e.write_shift(4,c[t]);if(o==28)r=r.slice(1),tw(r,e);else if(o&2){for(c="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));var h=i>-1?r.slice(0,i):r;for(e.write_shift(4,2*(h.length+1)),t=0;t<h.length;++t)e.write_shift(2,h.charCodeAt(t));e.write_shift(2,0),o&8&&tw(i>-1?r.slice(i+1):"",e)}else{for(c="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<c.length;++t)e.write_shift(1,parseInt(c[t],16));for(var m=0;r.slice(m*3,m*3+3)=="../"||r.slice(m*3,m*3+3)=="..\\";)++m;for(e.write_shift(2,m),e.write_shift(4,r.length-3*m+1),t=0;t<r.length-3*m;++t)e.write_shift(1,r.charCodeAt(t+3*m)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function gl(n,e,t,r){return r||(r=Ee(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function Dj(n,e,t){var r=t.biff>8?4:2,i=n.read_shift(r),o=n.read_shift(r,"i"),c=n.read_shift(r,"i");return[i,o,c]}function Oj(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),i=n.read_shift(2);return{s:{c:r,r:e},e:{c:i,r:t}}}function s4(n,e){return e||(e=Ee(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function n_(n,e,t){var r=1536,i=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,i=8;break;case"biff4":r=4,i=6;break;case"biff3":r=3,i=6;break;case"biff2":r=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=Ee(i);return o.write_shift(2,r),o.write_shift(2,e),i>4&&o.write_shift(2,29282),i>6&&o.write_shift(2,1997),i>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function kj(n,e){var t=!e||e.biff==8,r=Ee(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function Mj(n,e){var t=!e||e.biff>=8?2:1,r=Ee(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var i=r.slice(0,r.l);return i.l=r.l,i}function Pj(n,e){var t=Ee(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],i=0;i<n.length;++i)r[i]=Cj(n[i]);var o=Jn([t].concat(r));return o.parts=[t.length].concat(r.map(function(c){return c.length})),o}function jj(){var n=Ee(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function Fj(n){var e=Ee(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Lj(n,e){var t=n.name||"Arial",r=e&&e.biff==5,i=r?15+t.length:16+2*t.length,o=Ee(i);return o.write_shift(2,n.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),o}function Vj(n,e,t,r){var i=Ee(10);return gl(n,e,r,i),i.write_shift(4,t),i}function Uj(n,e,t,r,i){var o=!i||i.biff==8,c=Ee(8+ +o+(1+o)*t.length);return gl(n,e,r,c),c.write_shift(2,t.length),o&&c.write_shift(1,1),c.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),c}function Bj(n,e,t,r){var i=t&&t.biff==5;r||(r=Ee(i?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(i?1:2,e.length),i||r.write_shift(1,1),r.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function zj(n,e){var t=e.biff==8||!e.biff?4:2,r=Ee(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function nw(n,e,t,r){var i=t&&t.biff==5;r||(r=Ee(i?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var o=0;return n.numFmtId>0&&i&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),i||r.write_shift(4,0),r.write_shift(2,0),r}function qj(n){var e=Ee(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function Hj(n,e,t,r,i,o){var c=Ee(8);return gl(n,e,r,c),r4(t,o,c),c}function Gj(n,e,t,r){var i=Ee(14);return gl(n,e,r,i),pl(t,i),i}function Kj(n,e,t){if(t.biff<8)return $j(n,e,t);for(var r=[],i=n.l+e,o=n.read_shift(t.biff>8?4:2);o--!==0;)r.push(Dj(n,t.biff>8?12:6,t));if(n.l!=i)throw new Error("Bad ExternSheet: "+n.l+" != "+i);return r}function $j(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=a4(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function Wj(n){var e=Ee(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)s4(n[t],e);return e}function Xj(n){var e=Ee(24),t=Un(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(r[i],16));return Jn([e,Ij(n[1])])}function Yj(n){var e=n[1].Tooltip,t=Ee(10+2*(e.length+1));t.write_shift(2,2048);var r=Un(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var i=0;i<e.length;++i)t.write_shift(2,e.charCodeAt(i));return t.write_shift(2,0),t}function Qj(n){return n||(n=Ee(4)),n.write_shift(2,1),n.write_shift(2,1),n}function Jj(n,e,t){if(!t.cellStyles)return _i(n,e);var r=t&&t.biff>=12?4:2,i=n.read_shift(r),o=n.read_shift(r),c=n.read_shift(r),h=n.read_shift(r),m=n.read_shift(2);r==2&&(n.l+=2);var d={s:i,e:o,w:c,ixfe:h,flags:m};return(t.biff>=5||!t.biff)&&(d.level=m>>8&7),d}function Zj(n,e){var t=Ee(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function eF(n){for(var e=Ee(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function tF(n,e,t){var r=Ee(15);return _f(r,n,e),r.write_shift(8,t,"f"),r}function nF(n,e,t){var r=Ee(9);return _f(r,n,e),r.write_shift(2,t),r}var rF=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Gv({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(h,m){var d=[],v=ml(1);switch(m.type){case"base64":v=Va(os(h));break;case"binary":v=Va(h);break;case"buffer":case"array":v=h;break}Jr(v,0);var x=v.read_shift(1),y=!!(x&136),T=!1,N=!1;switch(x){case 2:break;case 3:break;case 48:T=!0,y=!0;break;case 49:T=!0,y=!0;break;case 131:break;case 139:break;case 140:N=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+x.toString(16))}var A=0,b=521;x==2&&(A=v.read_shift(2)),v.l+=3,x!=2&&(A=v.read_shift(4)),A>1048576&&(A=1e6),x!=2&&(b=v.read_shift(2));var P=v.read_shift(2),z=m.codepage||1252;x!=2&&(v.l+=16,v.read_shift(1),v[v.l]!==0&&(z=n[v[v.l]]),v.l+=1,v.l+=2),N&&(v.l+=36);for(var q=[],ee={},de=Math.min(v.length,x==2?521:b-10-(T?264:0)),_e=N?32:11;v.l<de&&v[v.l]!=13;)switch(ee={},ee.name=V0.utils.decode(z,v.slice(v.l,v.l+_e)).replace(/[\u0000\r\n].*$/g,""),v.l+=_e,ee.type=String.fromCharCode(v.read_shift(1)),x!=2&&!N&&(ee.offset=v.read_shift(4)),ee.len=v.read_shift(1),x==2&&(ee.offset=v.read_shift(2)),ee.dec=v.read_shift(1),ee.name.length&&q.push(ee),x!=2&&(v.l+=N?13:14),ee.type){case"B":(!T||ee.len!=8)&&m.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+ee.name+":"+ee.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+ee.type)}if(v[v.l]!==13&&(v.l=b-1),v.read_shift(1)!==13)throw new Error("DBF Terminator not found "+v.l+" "+v[v.l]);v.l=b;var R=0,I=0;for(d[0]=[],I=0;I!=q.length;++I)d[0][I]=q[I].name;for(;A-- >0;){if(v[v.l]===42){v.l+=P;continue}for(++v.l,d[++R]=[],I=0,I=0;I!=q.length;++I){var C=v.slice(v.l,v.l+q[I].len);v.l+=q[I].len,Jr(C,0);var M=V0.utils.decode(z,C);switch(q[I].type){case"C":M.trim().length&&(d[R][I]=M.replace(/\s+$/,""));break;case"D":M.length===8?d[R][I]=new Date(+M.slice(0,4),+M.slice(4,6)-1,+M.slice(6,8)):d[R][I]=M;break;case"F":d[R][I]=parseFloat(M.trim());break;case"+":case"I":d[R][I]=N?C.read_shift(-4,"i")^2147483648:C.read_shift(4,"i");break;case"L":switch(M.trim().toUpperCase()){case"Y":case"T":d[R][I]=!0;break;case"N":case"F":d[R][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+M+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+x.toString(16));d[R][I]="##MEMO##"+(N?parseInt(M.trim(),10):C.read_shift(4));break;case"N":M=M.replace(/\u0000/g,"").trim(),M&&M!="."&&(d[R][I]=+M||0);break;case"@":d[R][I]=new Date(C.read_shift(-8,"f")-621356832e5);break;case"T":d[R][I]=new Date((C.read_shift(4)-2440588)*864e5+C.read_shift(4));break;case"Y":d[R][I]=C.read_shift(4,"i")/1e4+C.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":d[R][I]=-C.read_shift(-8,"f");break;case"B":if(T&&q[I].len==8){d[R][I]=C.read_shift(8,"f");break}case"G":case"P":C.l+=q[I].len;break;case"0":if(q[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+q[I].type)}}}if(x!=2&&v.l<v.length&&v[v.l++]!=26)throw new Error("DBF EOF Marker missing "+(v.l-1)+" of "+v.length+" "+v[v.l-1].toString(16));return m&&m.sheetRows&&(d=d.slice(0,m.sheetRows)),m.DBF=q,d}function r(h,m){var d=m||{};d.dateNF||(d.dateNF="yyyymmdd");var v=lu(t(h,d),d);return v["!cols"]=d.DBF.map(function(x){return{wch:x.len,DBF:x}}),delete d.DBF,v}function i(h,m){try{return Tl(r(h,m),m)}catch(d){if(m&&m.WTF)throw d}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function c(h,m){var d=m||{};if(+d.codepage>=0&&Gh(+d.codepage),d.type=="string")throw new Error("Cannot write DBF to JS string");var v=Fr(),x=J0(h,{header:1,raw:!0,cellDates:!0}),y=x[0],T=x.slice(1),N=h["!cols"]||[],A=0,b=0,P=0,z=1;for(A=0;A<y.length;++A){if(((N[A]||{}).DBF||{}).name){y[A]=N[A].DBF.name,++P;continue}if(y[A]!=null){if(++P,typeof y[A]=="number"&&(y[A]=y[A].toString(10)),typeof y[A]!="string")throw new Error("DBF Invalid column name "+y[A]+" |"+typeof y[A]+"|");if(y.indexOf(y[A])!==A){for(b=0;b<1024;++b)if(y.indexOf(y[A]+"_"+b)==-1){y[A]+="_"+b;break}}}}var q=Zt(h["!ref"]),ee=[],de=[],_e=[];for(A=0;A<=q.e.c-q.s.c;++A){var R="",I="",C=0,M=[];for(b=0;b<T.length;++b)T[b][A]!=null&&M.push(T[b][A]);if(M.length==0||y[A]==null){ee[A]="?";continue}for(b=0;b<M.length;++b){switch(typeof M[b]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=M[b]instanceof Date?"D":"C";break;default:I="C"}C=Math.max(C,String(M[b]).length),R=R&&R!=I?"C":I}C>250&&(C=250),I=((N[A]||{}).DBF||{}).type,I=="C"&&N[A].DBF.len>C&&(C=N[A].DBF.len),R=="B"&&I=="N"&&(R="N",_e[A]=N[A].DBF.dec,C=N[A].DBF.len),de[A]=R=="C"||I=="N"?C:o[R]||0,z+=de[A],ee[A]=R}var j=v.next(32);for(j.write_shift(4,318902576),j.write_shift(4,T.length),j.write_shift(2,296+32*P),j.write_shift(2,z),A=0;A<4;++A)j.write_shift(4,0);for(j.write_shift(4,0|(+e[lC]||3)<<8),A=0,b=0;A<y.length;++A)if(y[A]!=null){var O=v.next(32),F=(y[A].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);O.write_shift(1,F,"sbcs"),O.write_shift(1,ee[A]=="?"?"C":ee[A],"sbcs"),O.write_shift(4,b),O.write_shift(1,de[A]||o[ee[A]]||0),O.write_shift(1,_e[A]||0),O.write_shift(1,2),O.write_shift(4,0),O.write_shift(1,0),O.write_shift(4,0),O.write_shift(4,0),b+=de[A]||o[ee[A]]||0}var ae=v.next(264);for(ae.write_shift(4,13),A=0;A<65;++A)ae.write_shift(4,0);for(A=0;A<T.length;++A){var Ce=v.next(z);for(Ce.write_shift(1,0),b=0;b<y.length;++b)if(y[b]!=null)switch(ee[b]){case"L":Ce.write_shift(1,T[A][b]==null?63:T[A][b]?84:70);break;case"B":Ce.write_shift(8,T[A][b]||0,"f");break;case"N":var te="0";for(typeof T[A][b]=="number"&&(te=T[A][b].toFixed(_e[b]||0)),P=0;P<de[b]-te.length;++P)Ce.write_shift(1,32);Ce.write_shift(1,te,"sbcs");break;case"D":T[A][b]?(Ce.write_shift(4,("0000"+T[A][b].getFullYear()).slice(-4),"sbcs"),Ce.write_shift(2,("00"+(T[A][b].getMonth()+1)).slice(-2),"sbcs"),Ce.write_shift(2,("00"+T[A][b].getDate()).slice(-2),"sbcs")):Ce.write_shift(8,"00000000","sbcs");break;case"C":var ye=String(T[A][b]!=null?T[A][b]:"").slice(0,de[b]);for(Ce.write_shift(1,ye,"sbcs"),P=0;P<de[b]-ye.length;++P)Ce.write_shift(1,32);break}}return v.next(1).write_shift(1,26),v.end()}return{to_workbook:i,to_sheet:r,from_sheet:c}})(),aF=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+nr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,T){var N=n[T];return typeof N=="number"?CT(N):N},r=function(y,T,N){var A=T.charCodeAt(0)-32<<4|N.charCodeAt(0)-48;return A==59?y:CT(A)};n["|"]=254;function i(y,T){switch(T.type){case"base64":return o(os(y),T);case"binary":return o(y,T);case"buffer":return o(bt&&Buffer.isBuffer(y)?y.toString("binary"):df(y),T);case"array":return o(Im(y),T)}throw new Error("Unrecognized type "+T.type)}function o(y,T){var N=y.split(/[\n\r]+/),A=-1,b=-1,P=0,z=0,q=[],ee=[],de=null,_e={},R=[],I=[],C=[],M=0,j;for(+T.codepage>=0&&Gh(+T.codepage);P!==N.length;++P){M=0;var O=N[P].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),F=O.replace(/;;/g,"\0").split(";").map(function(Q){return Q.replace(/\u0000/g,";")}),ae=F[0],Ce;if(O.length>0)switch(ae){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":F[1].charAt(0)=="P"&&ee.push(O.slice(3).replace(/;;/g,";"));break;case"C":var te=!1,ye=!1,oe=!1,Ve=!1,et=-1,Z=-1;for(z=1;z<F.length;++z)switch(F[z].charAt(0)){case"A":break;case"X":b=parseInt(F[z].slice(1))-1,ye=!0;break;case"Y":for(A=parseInt(F[z].slice(1))-1,ye||(b=0),j=q.length;j<=A;++j)q[j]=[];break;case"K":Ce=F[z].slice(1),Ce.charAt(0)==='"'?Ce=Ce.slice(1,Ce.length-1):Ce==="TRUE"?Ce=!0:Ce==="FALSE"?Ce=!1:isNaN(Ji(Ce))?isNaN($h(Ce).getDate())||(Ce=Ar(Ce)):(Ce=Ji(Ce),de!==null&&yC(de)&&(Ce=AC(Ce))),te=!0;break;case"E":Ve=!0;var L=nL(F[z].slice(1),{r:A,c:b});q[A][b]=[q[A][b],L];break;case"S":oe=!0,q[A][b]=[q[A][b],"S5S"];break;case"G":break;case"R":et=parseInt(F[z].slice(1))-1;break;case"C":Z=parseInt(F[z].slice(1))-1;break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+O)}if(te&&(q[A][b]&&q[A][b].length==2?q[A][b][0]=Ce:q[A][b]=Ce,de=null),oe){if(Ve)throw new Error("SYLK shared formula cannot have own formula");var J=et>-1&&q[et][Z];if(!J||!J[1])throw new Error("SYLK shared formula cannot find base");q[A][b][1]=rL(J[1],{r:A-et,c:b-Z})}break;case"F":var X=0;for(z=1;z<F.length;++z)switch(F[z].charAt(0)){case"X":b=parseInt(F[z].slice(1))-1,++X;break;case"Y":for(A=parseInt(F[z].slice(1))-1,j=q.length;j<=A;++j)q[j]=[];break;case"M":M=parseInt(F[z].slice(1))/20;break;case"F":break;case"G":break;case"P":de=ee[parseInt(F[z].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(C=F[z].slice(1).split(" "),j=parseInt(C[0],10);j<=parseInt(C[1],10);++j)M=parseInt(C[2],10),I[j-1]=M===0?{hidden:!0}:{wch:M},r_(I[j-1]);break;case"C":b=parseInt(F[z].slice(1))-1,I[b]||(I[b]={});break;case"R":A=parseInt(F[z].slice(1))-1,R[A]||(R[A]={}),M>0?(R[A].hpt=M,R[A].hpx=h4(M)):M===0&&(R[A].hidden=!0);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+O)}X<1&&(de=null);break;default:if(T&&T.WTF)throw new Error("SYLK bad record "+O)}}return R.length>0&&(_e["!rows"]=R),I.length>0&&(_e["!cols"]=I),T&&T.sheetRows&&(q=q.slice(0,T.sheetRows)),[q,_e]}function c(y,T){var N=i(y,T),A=N[0],b=N[1],P=lu(A,T);return nr(b).forEach(function(z){P[z]=b[z]}),P}function h(y,T){return Tl(c(y,T),T)}function m(y,T,N,A){var b="C;Y"+(N+1)+";X"+(A+1)+";K";switch(y.t){case"n":b+=y.v||0,y.f&&!y.F&&(b+=";E"+i_(y.f,{r:N,c:A}));break;case"b":b+=y.v?"TRUE":"FALSE";break;case"e":b+=y.w||y.v;break;case"d":b+='"'+(y.w||y.v)+'"';break;case"s":b+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return b}function d(y,T){T.forEach(function(N,A){var b="F;W"+(A+1)+" "+(A+1)+" ";N.hidden?b+="0":(typeof N.width=="number"&&!N.wpx&&(N.wpx=W0(N.width)),typeof N.wpx=="number"&&!N.wch&&(N.wch=X0(N.wpx)),typeof N.wch=="number"&&(b+=Math.round(N.wch))),b.charAt(b.length-1)!=" "&&y.push(b)})}function v(y,T){T.forEach(function(N,A){var b="F;";N.hidden?b+="M0;":N.hpt?b+="M"+20*N.hpt+";":N.hpx&&(b+="M"+20*Y0(N.hpx)+";"),b.length>2&&y.push(b+"R"+(A+1))})}function x(y,T){var N=["ID;PWXL;N;E"],A=[],b=Zt(y["!ref"]),P,z=Array.isArray(y),q=`\r
`;N.push("P;PGeneral"),N.push("F;P0;DG0G8;M255"),y["!cols"]&&d(N,y["!cols"]),y["!rows"]&&v(N,y["!rows"]),N.push("B;Y"+(b.e.r-b.s.r+1)+";X"+(b.e.c-b.s.c+1)+";D"+[b.s.c,b.s.r,b.e.c,b.e.r].join(" "));for(var ee=b.s.r;ee<=b.e.r;++ee)for(var de=b.s.c;de<=b.e.c;++de){var _e=Vt({r:ee,c:de});P=z?(y[ee]||[])[de]:y[_e],!(!P||P.v==null&&(!P.f||P.F))&&A.push(m(P,y,ee,de))}return N.join(q)+q+A.join(q)+q+"E"+q}return{to_workbook:h,to_sheet:c,from_sheet:x}})(),iF=(function(){function n(o,c){switch(c.type){case"base64":return e(os(o),c);case"binary":return e(o,c);case"buffer":return e(bt&&Buffer.isBuffer(o)?o.toString("binary"):df(o),c);case"array":return e(Im(o),c)}throw new Error("Unrecognized type "+c.type)}function e(o,c){for(var h=o.split(`
`),m=-1,d=-1,v=0,x=[];v!==h.length;++v){if(h[v].trim()==="BOT"){x[++m]=[],d=0;continue}if(!(m<0)){var y=h[v].trim().split(","),T=y[0],N=y[1];++v;for(var A=h[v]||"";(A.match(/["]/g)||[]).length&1&&v<h.length-1;)A+=`
`+h[++v];switch(A=A.trim(),+T){case-1:if(A==="BOT"){x[++m]=[],d=0;continue}else if(A!=="EOD")throw new Error("Unrecognized DIF special command "+A);break;case 0:A==="TRUE"?x[m][d]=!0:A==="FALSE"?x[m][d]=!1:isNaN(Ji(N))?isNaN($h(N).getDate())?x[m][d]=N:x[m][d]=Ar(N):x[m][d]=Ji(N),++d;break;case 1:A=A.slice(1,A.length-1),A=A.replace(/""/g,'"'),A&&A.match(/^=".*"$/)&&(A=A.slice(2,-1)),x[m][d++]=A!==""?A:null;break}if(A==="EOD")break}}return c&&c.sheetRows&&(x=x.slice(0,c.sheetRows)),x}function t(o,c){return lu(n(o,c),c)}function r(o,c){return Tl(t(o,c),c)}var i=(function(){var o=function(m,d,v,x,y){m.push(d),m.push(v+","+x),m.push('"'+y.replace(/"/g,'""')+'"')},c=function(m,d,v,x){m.push(d+","+v),m.push(d==1?'"'+x.replace(/"/g,'""')+'"':x)};return function(m){var d=[],v=Zt(m["!ref"]),x,y=Array.isArray(m);o(d,"TABLE",0,1,"sheetjs"),o(d,"VECTORS",0,v.e.r-v.s.r+1,""),o(d,"TUPLES",0,v.e.c-v.s.c+1,""),o(d,"DATA",0,0,"");for(var T=v.s.r;T<=v.e.r;++T){c(d,-1,0,"BOT");for(var N=v.s.c;N<=v.e.c;++N){var A=Vt({r:T,c:N});if(x=y?(m[T]||[])[N]:m[A],!x){c(d,1,0,"");continue}switch(x.t){case"n":var b=x.w;!b&&x.v!=null&&(b=x.v),b==null?x.f&&!x.F?c(d,1,0,"="+x.f):c(d,1,0,""):c(d,0,b,"V");break;case"b":c(d,0,x.v?1:0,x.v?"TRUE":"FALSE");break;case"s":c(d,1,0,isNaN(x.v)?x.v:'="'+x.v+'"');break;case"d":x.w||(x.w=po(x.z||hn[14],Lr(Ar(x.v)))),c(d,0,x.w,"V");break;default:c(d,1,0,"")}}}c(d,-1,0,"EOD");var P=`\r
`,z=d.join(P);return z}})();return{to_workbook:r,to_sheet:t,from_sheet:i}})(),o4=(function(){function n(x){return x.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(x){return x.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(x,y){for(var T=x.split(`
`),N=-1,A=-1,b=0,P=[];b!==T.length;++b){var z=T[b].trim().split(":");if(z[0]==="cell"){var q=Un(z[1]);if(P.length<=q.r)for(N=P.length;N<=q.r;++N)P[N]||(P[N]=[]);switch(N=q.r,A=q.c,z[2]){case"t":P[N][A]=n(z[3]);break;case"v":P[N][A]=+z[3];break;case"vtf":var ee=z[z.length-1];case"vtc":switch(z[3]){case"nl":P[N][A]=!!+z[4];break;default:P[N][A]=+z[4];break}z[2]=="vtf"&&(P[N][A]=[P[N][A],ee])}}}return y&&y.sheetRows&&(P=P.slice(0,y.sheetRows)),P}function r(x,y){return lu(t(x,y),y)}function i(x,y){return Tl(r(x,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),c=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,h=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function d(x){if(!x||!x["!ref"])return"";for(var y=[],T=[],N,A="",b=ra(x["!ref"]),P=Array.isArray(x),z=b.s.r;z<=b.e.r;++z)for(var q=b.s.c;q<=b.e.c;++q)if(A=Vt({r:z,c:q}),N=P?(x[z]||[])[q]:x[A],!(!N||N.v==null||N.t==="z")){switch(T=["cell",A,"t"],N.t){case"s":case"str":T.push(e(N.v));break;case"n":N.f?(T[2]="vtf",T[3]="n",T[4]=N.v,T[5]=e(N.f)):(T[2]="v",T[3]=N.v);break;case"b":T[2]="vt"+(N.f?"f":"c"),T[3]="nl",T[4]=N.v?"1":"0",T[5]=e(N.f||(N.v?"TRUE":"FALSE"));break;case"d":var ee=Lr(Ar(N.v));T[2]="vtc",T[3]="nd",T[4]=""+ee,T[5]=N.w||po(N.z||hn[14],ee);break;case"e":continue}y.push(T.join(":"))}return y.push("sheet:c:"+(b.e.c-b.s.c+1)+":r:"+(b.e.r-b.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function v(x){return[o,c,h,c,d(x),m].join(`
`)}return{to_workbook:i,to_sheet:r,from_sheet:v}})(),sF=(function(){function n(v,x,y,T,N){N.raw?x[y][T]=v:v===""||(v==="TRUE"?x[y][T]=!0:v==="FALSE"?x[y][T]=!1:isNaN(Ji(v))?isNaN($h(v).getDate())?x[y][T]=v:x[y][T]=Ar(v):x[y][T]=Ji(v))}function e(v,x){var y=x||{},T=[];if(!v||v.length===0)return T;for(var N=v.split(/[\r\n]/),A=N.length-1;A>=0&&N[A].length===0;)--A;for(var b=10,P=0,z=0;z<=A;++z)P=N[z].indexOf(" "),P==-1?P=N[z].length:P++,b=Math.max(b,P);for(z=0;z<=A;++z){T[z]=[];var q=0;for(n(N[z].slice(0,b).trim(),T,z,q,y),q=1;q<=(N[z].length-b)/10+1;++q)n(N[z].slice(b+(q-1)*10,b+q*10).trim(),T,z,q,y)}return y.sheetRows&&(T=T.slice(0,y.sheetRows)),T}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function i(v){for(var x={},y=!1,T=0,N=0;T<v.length;++T)(N=v.charCodeAt(T))==34?y=!y:!y&&N in t&&(x[N]=(x[N]||0)+1);N=[];for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&N.push([x[T],T]);if(!N.length){x=r;for(T in x)Object.prototype.hasOwnProperty.call(x,T)&&N.push([x[T],T])}return N.sort(function(A,b){return A[0]-b[0]||r[A[1]]-r[b[1]]}),t[N.pop()[1]]||44}function o(v,x){var y=x||{},T="",N=y.dense?[]:{},A={s:{c:0,r:0},e:{c:0,r:0}};v.slice(0,4)=="sep="?v.charCodeAt(5)==13&&v.charCodeAt(6)==10?(T=v.charAt(4),v=v.slice(7)):v.charCodeAt(5)==13||v.charCodeAt(5)==10?(T=v.charAt(4),v=v.slice(6)):T=i(v.slice(0,1024)):y&&y.FS?T=y.FS:T=i(v.slice(0,1024));var b=0,P=0,z=0,q=0,ee=0,de=T.charCodeAt(0),_e=!1,R=0,I=v.charCodeAt(0);v=v.replace(/\r\n/mg,`
`);var C=y.dateNF!=null?TP(y.dateNF):null;function M(){var j=v.slice(q,ee),O={};if(j.charAt(0)=='"'&&j.charAt(j.length-1)=='"'&&(j=j.slice(1,-1).replace(/""/g,'"')),j.length===0)O.t="z";else if(y.raw)O.t="s",O.v=j;else if(j.trim().length===0)O.t="s",O.v=j;else if(j.charCodeAt(0)==61)j.charCodeAt(1)==34&&j.charCodeAt(j.length-1)==34?(O.t="s",O.v=j.slice(2,-1).replace(/""/g,'"')):aL(j)?(O.t="n",O.f=j.slice(1)):(O.t="s",O.v=j);else if(j=="TRUE")O.t="b",O.v=!0;else if(j=="FALSE")O.t="b",O.v=!1;else if(!isNaN(z=Ji(j)))O.t="n",y.cellText!==!1&&(O.w=j),O.v=z;else if(!isNaN($h(j).getDate())||C&&j.match(C)){O.z=y.dateNF||hn[14];var F=0;C&&j.match(C)&&(j=wP(j,y.dateNF,j.match(C)||[]),F=1),y.cellDates?(O.t="d",O.v=Ar(j,F)):(O.t="n",O.v=Lr(Ar(j,F))),y.cellText!==!1&&(O.w=po(O.z,O.v instanceof Date?Lr(O.v):O.v)),y.cellNF||delete O.z}else O.t="s",O.v=j;if(O.t=="z"||(y.dense?(N[b]||(N[b]=[]),N[b][P]=O):N[Vt({c:P,r:b})]=O),q=ee+1,I=v.charCodeAt(q),A.e.c<P&&(A.e.c=P),A.e.r<b&&(A.e.r=b),R==de)++P;else if(P=0,++b,y.sheetRows&&y.sheetRows<=b)return!0}e:for(;ee<v.length;++ee)switch(R=v.charCodeAt(ee)){case 34:I===34&&(_e=!_e);break;case de:case 10:case 13:if(!_e&&M())break e;break}return ee-q>0&&M(),N["!ref"]=Nn(A),N}function c(v,x){return!(x&&x.PRN)||x.FS||v.slice(0,4)=="sep="||v.indexOf("	")>=0||v.indexOf(",")>=0||v.indexOf(";")>=0?o(v,x):lu(e(v,x),x)}function h(v,x){var y="",T=x.type=="string"?[0,0,0,0]:_U(v,x);switch(x.type){case"base64":y=os(v);break;case"binary":y=v;break;case"buffer":x.codepage==65001?y=v.toString("utf8"):x.codepage&&typeof V0<"u"||(y=bt&&Buffer.isBuffer(v)?v.toString("binary"):df(v));break;case"array":y=Im(v);break;case"string":y=v;break;default:throw new Error("Unrecognized type "+x.type)}return T[0]==239&&T[1]==187&&T[2]==191?y=Rh(y.slice(3)):x.type!="string"&&x.type!="buffer"&&x.codepage==65001?y=Rh(y):x.type=="binary"&&typeof V0<"u",y.slice(0,19)=="socialcalc:version:"?o4.to_sheet(x.type=="string"?y:Rh(y),x):c(y,x)}function m(v,x){return Tl(h(v,x),x)}function d(v){for(var x=[],y=Zt(v["!ref"]),T,N=Array.isArray(v),A=y.s.r;A<=y.e.r;++A){for(var b=[],P=y.s.c;P<=y.e.c;++P){var z=Vt({r:A,c:P});if(T=N?(v[A]||[])[P]:v[z],!T||T.v==null){b.push("          ");continue}for(var q=(T.w||(ls(T),T.w)||"").slice(0,10);q.length<10;)q+=" ";b.push(q+(P===0?" ":""))}x.push(b.join(""))}return x.join(`
`)}return{to_workbook:m,to_sheet:h,from_sheet:d}})(),rw=(function(){function n(L,J,X){if(L){Jr(L,L.l||0);for(var Q=X.Enum||et;L.l<L.length;){var ge=L.read_shift(2),Oe=Q[ge]||Q[65535],Be=L.read_shift(2),Me=L.l+Be,re=Oe.f&&Oe.f(L,Be,X);if(L.l=Me,J(re,Oe,ge))return}}}function e(L,J){switch(J.type){case"base64":return t(Va(os(L)),J);case"binary":return t(Va(L),J);case"buffer":case"array":return t(L,J)}throw"Unsupported type "+J.type}function t(L,J){if(!L)return L;var X=J||{},Q=X.dense?[]:{},ge="Sheet1",Oe="",Be=0,Me={},re=[],$e=[],Je={s:{r:0,c:0},e:{r:0,c:0}},en=X.sheetRows||0;if(L[2]==0&&(L[3]==8||L[3]==9)&&L.length>=16&&L[14]==5&&L[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(L[2]==2)X.Enum=et,n(L,function(qe,Pn,Rt){switch(Rt){case 0:X.vers=qe,qe>=4096&&(X.qpro=!0);break;case 6:Je=qe;break;case 204:qe&&(Oe=qe);break;case 222:Oe=qe;break;case 15:case 51:X.qpro||(qe[1].v=qe[1].v.slice(1));case 13:case 14:case 16:Rt==14&&(qe[2]&112)==112&&(qe[2]&15)>1&&(qe[2]&15)<15&&(qe[1].z=X.dateNF||hn[14],X.cellDates&&(qe[1].t="d",qe[1].v=AC(qe[1].v))),X.qpro&&qe[3]>Be&&(Q["!ref"]=Nn(Je),Me[ge]=Q,re.push(ge),Q=X.dense?[]:{},Je={s:{r:0,c:0},e:{r:0,c:0}},Be=qe[3],ge=Oe||"Sheet"+(Be+1),Oe="");var Gt=X.dense?(Q[qe[0].r]||[])[qe[0].c]:Q[Vt(qe[0])];if(Gt){Gt.t=qe[1].t,Gt.v=qe[1].v,qe[1].z!=null&&(Gt.z=qe[1].z),qe[1].f!=null&&(Gt.f=qe[1].f);break}X.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Vt(qe[0])]=qe[1];break}},X);else if(L[2]==26||L[2]==14)X.Enum=Z,L[2]==14&&(X.qpro=!0,L.l=0),n(L,function(qe,Pn,Rt){switch(Rt){case 204:ge=qe;break;case 22:qe[1].v=qe[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(qe[3]>Be&&(Q["!ref"]=Nn(Je),Me[ge]=Q,re.push(ge),Q=X.dense?[]:{},Je={s:{r:0,c:0},e:{r:0,c:0}},Be=qe[3],ge="Sheet"+(Be+1)),en>0&&qe[0].r>=en)break;X.dense?(Q[qe[0].r]||(Q[qe[0].r]=[]),Q[qe[0].r][qe[0].c]=qe[1]):Q[Vt(qe[0])]=qe[1],Je.e.c<qe[0].c&&(Je.e.c=qe[0].c),Je.e.r<qe[0].r&&(Je.e.r=qe[0].r);break;case 27:qe[14e3]&&($e[qe[14e3][0]]=qe[14e3][1]);break;case 1537:$e[qe[0]]=qe[1],qe[0]==Be&&(ge=qe[1]);break}},X);else throw new Error("Unrecognized LOTUS BOF "+L[2]);if(Q["!ref"]=Nn(Je),Me[Oe||ge]=Q,re.push(Oe||ge),!$e.length)return{SheetNames:re,Sheets:Me};for(var ut={},dr=[],Nt=0;Nt<$e.length;++Nt)Me[re[Nt]]?(dr.push($e[Nt]||re[Nt]),ut[$e[Nt]]=Me[$e[Nt]]||Me[re[Nt]]):(dr.push($e[Nt]),ut[$e[Nt]]={"!ref":"A1"});return{SheetNames:dr,Sheets:ut}}function r(L,J){var X=J||{};if(+X.codepage>=0&&Gh(+X.codepage),X.type=="string")throw new Error("Cannot write WK1 to JS string");var Q=Fr(),ge=Zt(L["!ref"]),Oe=Array.isArray(L),Be=[];je(Q,0,o(1030)),je(Q,6,m(ge));for(var Me=Math.min(ge.e.r,8191),re=ge.s.r;re<=Me;++re)for(var $e=er(re),Je=ge.s.c;Je<=ge.e.c;++Je){re===ge.s.r&&(Be[Je]=ur(Je));var en=Be[Je]+$e,ut=Oe?(L[re]||[])[Je]:L[en];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?je(Q,13,T(re,Je,ut.v)):je(Q,14,A(re,Je,ut.v));else{var dr=ls(ut);je(Q,15,x(re,Je,dr.slice(0,239)))}}return je(Q,1),Q.end()}function i(L,J){var X=J||{};if(+X.codepage>=0&&Gh(+X.codepage),X.type=="string")throw new Error("Cannot write WK3 to JS string");var Q=Fr();je(Q,0,c(L));for(var ge=0,Oe=0;ge<L.SheetNames.length;++ge)(L.Sheets[L.SheetNames[ge]]||{})["!ref"]&&je(Q,27,Ve(L.SheetNames[ge],Oe++));var Be=0;for(ge=0;ge<L.SheetNames.length;++ge){var Me=L.Sheets[L.SheetNames[ge]];if(!(!Me||!Me["!ref"])){for(var re=Zt(Me["!ref"]),$e=Array.isArray(Me),Je=[],en=Math.min(re.e.r,8191),ut=re.s.r;ut<=en;++ut)for(var dr=er(ut),Nt=re.s.c;Nt<=re.e.c;++Nt){ut===re.s.r&&(Je[Nt]=ur(Nt));var qe=Je[Nt]+dr,Pn=$e?(Me[ut]||[])[Nt]:Me[qe];if(!(!Pn||Pn.t=="z"))if(Pn.t=="n")je(Q,23,M(ut,Nt,Be,Pn.v));else{var Rt=ls(Pn);je(Q,22,R(ut,Nt,Be,Rt.slice(0,239)))}}++Be}}return je(Q,1),Q.end()}function o(L){var J=Ee(2);return J.write_shift(2,L),J}function c(L){var J=Ee(26);J.write_shift(2,4096),J.write_shift(2,4),J.write_shift(4,0);for(var X=0,Q=0,ge=0,Oe=0;Oe<L.SheetNames.length;++Oe){var Be=L.SheetNames[Oe],Me=L.Sheets[Be];if(!(!Me||!Me["!ref"])){++ge;var re=ra(Me["!ref"]);X<re.e.r&&(X=re.e.r),Q<re.e.c&&(Q=re.e.c)}}return X>8191&&(X=8191),J.write_shift(2,X),J.write_shift(1,ge),J.write_shift(1,Q),J.write_shift(2,0),J.write_shift(2,0),J.write_shift(1,1),J.write_shift(1,2),J.write_shift(4,0),J.write_shift(4,0),J}function h(L,J,X){var Q={s:{c:0,r:0},e:{c:0,r:0}};return J==8&&X.qpro?(Q.s.c=L.read_shift(1),L.l++,Q.s.r=L.read_shift(2),Q.e.c=L.read_shift(1),L.l++,Q.e.r=L.read_shift(2),Q):(Q.s.c=L.read_shift(2),Q.s.r=L.read_shift(2),J==12&&X.qpro&&(L.l+=2),Q.e.c=L.read_shift(2),Q.e.r=L.read_shift(2),J==12&&X.qpro&&(L.l+=2),Q.s.c==65535&&(Q.s.c=Q.e.c=Q.s.r=Q.e.r=0),Q)}function m(L){var J=Ee(8);return J.write_shift(2,L.s.c),J.write_shift(2,L.s.r),J.write_shift(2,L.e.c),J.write_shift(2,L.e.r),J}function d(L,J,X){var Q=[{c:0,r:0},{t:"n",v:0},0,0];return X.qpro&&X.vers!=20768?(Q[0].c=L.read_shift(1),Q[3]=L.read_shift(1),Q[0].r=L.read_shift(2),L.l+=2):(Q[2]=L.read_shift(1),Q[0].c=L.read_shift(2),Q[0].r=L.read_shift(2)),Q}function v(L,J,X){var Q=L.l+J,ge=d(L,J,X);if(ge[1].t="s",X.vers==20768){L.l++;var Oe=L.read_shift(1);return ge[1].v=L.read_shift(Oe,"utf8"),ge}return X.qpro&&L.l++,ge[1].v=L.read_shift(Q-L.l,"cstr"),ge}function x(L,J,X){var Q=Ee(7+X.length);Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,L),Q.write_shift(1,39);for(var ge=0;ge<Q.length;++ge){var Oe=X.charCodeAt(ge);Q.write_shift(1,Oe>=128?95:Oe)}return Q.write_shift(1,0),Q}function y(L,J,X){var Q=d(L,J,X);return Q[1].v=L.read_shift(2,"i"),Q}function T(L,J,X){var Q=Ee(7);return Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,L),Q.write_shift(2,X,"i"),Q}function N(L,J,X){var Q=d(L,J,X);return Q[1].v=L.read_shift(8,"f"),Q}function A(L,J,X){var Q=Ee(13);return Q.write_shift(1,255),Q.write_shift(2,J),Q.write_shift(2,L),Q.write_shift(8,X,"f"),Q}function b(L,J,X){var Q=L.l+J,ge=d(L,J,X);if(ge[1].v=L.read_shift(8,"f"),X.qpro)L.l=Q;else{var Oe=L.read_shift(2);ee(L.slice(L.l,L.l+Oe),ge),L.l+=Oe}return ge}function P(L,J,X){var Q=J&32768;return J&=-32769,J=(Q?L:0)+(J>=8192?J-16384:J),(Q?"":"$")+(X?ur(J):er(J))}var z={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},q=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function ee(L,J){Jr(L,0);for(var X=[],Q=0,ge="",Oe="",Be="",Me="";L.l<L.length;){var re=L[L.l++];switch(re){case 0:X.push(L.read_shift(8,"f"));break;case 1:Oe=P(J[0].c,L.read_shift(2),!0),ge=P(J[0].r,L.read_shift(2),!1),X.push(Oe+ge);break;case 2:{var $e=P(J[0].c,L.read_shift(2),!0),Je=P(J[0].r,L.read_shift(2),!1);Oe=P(J[0].c,L.read_shift(2),!0),ge=P(J[0].r,L.read_shift(2),!1),X.push($e+Je+":"+Oe+ge)}break;case 3:if(L.l<L.length){console.error("WK1 premature formula end");return}break;case 4:X.push("("+X.pop()+")");break;case 5:X.push(L.read_shift(2));break;case 6:{for(var en="";re=L[L.l++];)en+=String.fromCharCode(re);X.push('"'+en.replace(/"/g,'""')+'"')}break;case 8:X.push("-"+X.pop());break;case 23:X.push("+"+X.pop());break;case 22:X.push("NOT("+X.pop()+")");break;case 20:case 21:Me=X.pop(),Be=X.pop(),X.push(["AND","OR"][re-20]+"("+Be+","+Me+")");break;default:if(re<32&&q[re])Me=X.pop(),Be=X.pop(),X.push(Be+q[re]+Me);else if(z[re]){if(Q=z[re][1],Q==69&&(Q=L[L.l++]),Q>X.length){console.error("WK1 bad formula parse 0x"+re.toString(16)+":|"+X.join("|")+"|");return}var ut=X.slice(-Q);X.length-=Q,X.push(z[re][0]+"("+ut.join(",")+")")}else return re<=7?console.error("WK1 invalid opcode "+re.toString(16)):re<=24?console.error("WK1 unsupported op "+re.toString(16)):re<=30?console.error("WK1 invalid opcode "+re.toString(16)):re<=115?console.error("WK1 unsupported function opcode "+re.toString(16)):console.error("WK1 unrecognized opcode "+re.toString(16))}}X.length==1?J[1].f=""+X[0]:console.error("WK1 bad formula parse |"+X.join("|")+"|")}function de(L){var J=[{c:0,r:0},{t:"n",v:0},0];return J[0].r=L.read_shift(2),J[3]=L[L.l++],J[0].c=L[L.l++],J}function _e(L,J){var X=de(L);return X[1].t="s",X[1].v=L.read_shift(J-4,"cstr"),X}function R(L,J,X,Q){var ge=Ee(6+Q.length);ge.write_shift(2,L),ge.write_shift(1,X),ge.write_shift(1,J),ge.write_shift(1,39);for(var Oe=0;Oe<Q.length;++Oe){var Be=Q.charCodeAt(Oe);ge.write_shift(1,Be>=128?95:Be)}return ge.write_shift(1,0),ge}function I(L,J){var X=de(L);X[1].v=L.read_shift(2);var Q=X[1].v>>1;if(X[1].v&1)switch(Q&7){case 0:Q=(Q>>3)*5e3;break;case 1:Q=(Q>>3)*500;break;case 2:Q=(Q>>3)/20;break;case 3:Q=(Q>>3)/200;break;case 4:Q=(Q>>3)/2e3;break;case 5:Q=(Q>>3)/2e4;break;case 6:Q=(Q>>3)/16;break;case 7:Q=(Q>>3)/64;break}return X[1].v=Q,X}function C(L,J){var X=de(L),Q=L.read_shift(4),ge=L.read_shift(4),Oe=L.read_shift(2);if(Oe==65535)return Q===0&&ge===3221225472?(X[1].t="e",X[1].v=15):Q===0&&ge===3489660928?(X[1].t="e",X[1].v=42):X[1].v=0,X;var Be=Oe&32768;return Oe=(Oe&32767)-16446,X[1].v=(1-Be*2)*(ge*Math.pow(2,Oe+32)+Q*Math.pow(2,Oe)),X}function M(L,J,X,Q){var ge=Ee(14);if(ge.write_shift(2,L),ge.write_shift(1,X),ge.write_shift(1,J),Q==0)return ge.write_shift(4,0),ge.write_shift(4,0),ge.write_shift(2,65535),ge;var Oe=0,Be=0,Me=0,re=0;return Q<0&&(Oe=1,Q=-Q),Be=Math.log2(Q)|0,Q/=Math.pow(2,Be-31),re=Q>>>0,(re&2147483648)==0&&(Q/=2,++Be,re=Q>>>0),Q-=re,re|=2147483648,re>>>=0,Q*=Math.pow(2,32),Me=Q>>>0,ge.write_shift(4,Me),ge.write_shift(4,re),Be+=16383+(Oe?32768:0),ge.write_shift(2,Be),ge}function j(L,J){var X=C(L);return L.l+=J-14,X}function O(L,J){var X=de(L),Q=L.read_shift(4);return X[1].v=Q>>6,X}function F(L,J){var X=de(L),Q=L.read_shift(8,"f");return X[1].v=Q,X}function ae(L,J){var X=F(L);return L.l+=J-10,X}function Ce(L,J){return L[L.l+J-1]==0?L.read_shift(J,"cstr"):""}function te(L,J){var X=L[L.l++];X>J-1&&(X=J-1);for(var Q="";Q.length<X;)Q+=String.fromCharCode(L[L.l++]);return Q}function ye(L,J,X){if(!(!X.qpro||J<21)){var Q=L.read_shift(1);L.l+=17,L.l+=1,L.l+=2;var ge=L.read_shift(J-21,"cstr");return[Q,ge]}}function oe(L,J){for(var X={},Q=L.l+J;L.l<Q;){var ge=L.read_shift(2);if(ge==14e3){for(X[ge]=[0,""],X[ge][0]=L.read_shift(2);L[L.l];)X[ge][1]+=String.fromCharCode(L[L.l]),L.l++;L.l++}}return X}function Ve(L,J){var X=Ee(5+L.length);X.write_shift(2,14e3),X.write_shift(2,J);for(var Q=0;Q<L.length;++Q){var ge=L.charCodeAt(Q);X[X.l++]=ge>127?95:ge}return X[X.l++]=0,X}var et={0:{n:"BOF",f:n4},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:h},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:N},15:{n:"LABEL",f:v},16:{n:"FORMULA",f:b},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:v},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ce},222:{n:"SHEETNAMELP",f:te},65535:{n:""}},Z={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:_e},23:{n:"NUMBER17",f:C},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:j},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:oe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:O},38:{n:"??"},39:{n:"NUMBER27",f:F},40:{n:"FORMULA28",f:ae},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ce},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:ye},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:i,to_workbook:e}})(),oF=/^\s|\s$|[\t\n\r]/;function l4(n,e){if(!e.bookSST)return"";var t=[Rn];t[t.length]=Pe("sst",null,{xmlns:ou[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var i=n[r],o="<si>";i.r?o+=i.r:(o+="<t",i.t||(i.t=""),i.t.match(oF)&&(o+=' xml:space="preserve"'),o+=">"+Lt(i.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function lF(n){return[n.read_shift(4),n.read_shift(4)]}function cF(n,e){return e||(e=Ee(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var uF=ej;function hF(n){var e=Fr();Re(e,159,cF(n));for(var t=0;t<n.length;++t)Re(e,19,uF(n[t]));return Re(e,160),e.end()}function fF(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function c4(n){var e=0,t,r=fF(n),i=r.length+1,o,c,h,m,d;for(t=ml(i),t[0]=r.length,o=1;o!=i;++o)t[o]=r[o-1];for(o=i-1;o>=0;--o)c=t[o],h=(e&16384)===0?0:1,m=e<<1&32767,d=h|m,e=d^c;return e^52811}var dF=(function(){function n(i,o){switch(o.type){case"base64":return e(os(i),o);case"binary":return e(i,o);case"buffer":return e(bt&&Buffer.isBuffer(i)?i.toString("binary"):df(i),o);case"array":return e(Im(i),o)}throw new Error("Unrecognized type "+o.type)}function e(i,o){var c=o||{},h=c.dense?[]:{},m=i.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var d={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(v,x){Array.isArray(h)&&(h[x]=[]);for(var y=/\\\w+\b/g,T=0,N,A=-1;N=y.exec(v);){switch(N[0]){case"\\cell":var b=v.slice(T,y.lastIndex-N[0].length);if(b[0]==" "&&(b=b.slice(1)),++A,b.length){var P={v:b,t:"s"};Array.isArray(h)?h[x][A]=P:h[Vt({r:x,c:A})]=P}break}T=y.lastIndex}A>d.e.c&&(d.e.c=A)}),h["!ref"]=Nn(d),h}function t(i,o){return Tl(n(i,o),o)}function r(i){for(var o=["{\\rtf1\\ansi"],c=Zt(i["!ref"]),h,m=Array.isArray(i),d=c.s.r;d<=c.e.r;++d){o.push("\\trowd\\trautofit1");for(var v=c.s.c;v<=c.e.c;++v)o.push("\\cellx"+(v+1));for(o.push("\\pard\\intbl"),v=c.s.c;v<=c.e.c;++v){var x=Vt({r:d,c:v});h=m?(i[d]||[])[v]:i[x],!(!h||h.v==null&&(!h.f||h.F))&&(o.push(" "+(h.w||(ls(h),h.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function aw(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var mF=6,Zi=mF;function W0(n){return Math.floor((n+Math.round(128/Zi)/256)*Zi)}function X0(n){return Math.floor((n-5)/Zi*100+.5)/100}function U1(n){return Math.round((n*Zi+5)/Zi*256)/256}function r_(n){n.width?(n.wpx=W0(n.width),n.wch=X0(n.wpx),n.MDW=Zi):n.wpx?(n.wch=X0(n.wpx),n.width=U1(n.wch),n.MDW=Zi):typeof n.wch=="number"&&(n.width=U1(n.wch),n.wpx=W0(n.width),n.MDW=Zi),n.customWidth&&delete n.customWidth}var pF=96,u4=pF;function Y0(n){return n*96/u4}function h4(n){return n*u4/96}function gF(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:r,formatCode:Lt(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function vF(n){var e=[];return e[e.length]=Pe("cellXfs",null),n.forEach(function(t){e[e.length]=Pe("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function f4(n,e){var t=[Rn,Pe("styleSheet",null,{xmlns:ou[0],"xmlns:vt":Vn.vt})],r;return n.SSF&&(r=gF(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=vF(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function _F(n,e){var t=n.read_shift(2),r=hr(n);return[t,r]}function xF(n,e,t){t||(t=Ee(6+4*e.length)),t.write_shift(2,n),Bn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function yF(n,e,t){var r={};r.sz=n.read_shift(2)/20;var i=oj(n);i.fItalic&&(r.italic=1),i.fCondense&&(r.condense=1),i.fExtend&&(r.extend=1),i.fShadow&&(r.shadow=1),i.fOutline&&(r.outline=1),i.fStrikeout&&(r.strike=1);var o=n.read_shift(2);switch(o===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var c=n.read_shift(1);c!=0&&(r.underline=c);var h=n.read_shift(1);h>0&&(r.family=h);var m=n.read_shift(1);switch(m>0&&(r.charset=m),n.l++,r.color=sj(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=hr(n),r}function EF(n,e){e||(e=Ee(153)),e.write_shift(2,n.sz*20),lj(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),K0(n.color,e);var r=0;return r=2,e.write_shift(1,r),Bn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var TF=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Zg,wF=_i;function iw(n,e){e||(e=Ee(84)),Zg||(Zg=Gv(TF));var t=Zg[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(K0({auto:1},e),K0({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function AF(n,e){var t=n.l+e,r=n.read_shift(2),i=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:i}}function d4(n,e,t){t||(t=Ee(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function dh(n,e){return e||(e=Ee(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var SF=_i;function CF(n,e){return e||(e=Ee(51)),e.write_shift(1,0),dh(null,e),dh(null,e),dh(null,e),dh(null,e),dh(null,e),e.length>e.l?e.slice(0,e.l):e}function bF(n,e){return e||(e=Ee(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),G0(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function NF(n,e,t){var r=Ee(2052);return r.write_shift(4,n),G0(e,r),G0(t,r),r.length>r.l?r.slice(0,r.l):r}function RF(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&++t}),t!=0&&(Re(n,615,za(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&Re(n,44,xF(i,e[i]))}),Re(n,616))}}function IF(n){var e=1;Re(n,611,za(e)),Re(n,43,EF({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(n,612)}function DF(n){var e=2;Re(n,603,za(e)),Re(n,45,iw({patternType:"none"})),Re(n,45,iw({patternType:"gray125"})),Re(n,604)}function OF(n){var e=1;Re(n,613,za(e)),Re(n,46,CF()),Re(n,614)}function kF(n){var e=1;Re(n,626,za(e)),Re(n,47,d4({numFmtId:0},65535)),Re(n,627)}function MF(n,e){Re(n,617,za(e.length)),e.forEach(function(t){Re(n,47,d4(t,0))}),Re(n,618)}function PF(n){var e=1;Re(n,619,za(e)),Re(n,48,bF({xfId:0,name:"Normal"})),Re(n,620)}function jF(n){var e=0;Re(n,505,za(e)),Re(n,506)}function FF(n){var e=0;Re(n,508,NF(e,"TableStyleMedium9","PivotStyleMedium4")),Re(n,509)}function LF(n,e){var t=Fr();return Re(t,278),RF(t,n.SSF),IF(t),DF(t),OF(t),kF(t),MF(t,e.cellXfs),PF(t),jF(t),FF(t),Re(t,279),t.end()}function m4(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Rn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function VF(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:hr(n)}}function UF(n){var e=Ee(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Bn(n.name,e),e.slice(0,e.l)}function BF(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function zF(n){var e=Ee(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function qF(n,e){var t=Ee(8+2*e.length);return t.write_shift(4,n),Bn(e,t),t.slice(0,t.l)}function HF(n){return n.l+=4,n.read_shift(4)!=0}function GF(n,e){var t=Ee(8);return t.write_shift(4,n),t.write_shift(4,1),t}function KF(){var n=Fr();return Re(n,332),Re(n,334,za(1)),Re(n,335,UF({name:"XLDAPR",version:12e4,flags:3496657072})),Re(n,336),Re(n,339,qF(1,"XLDAPR")),Re(n,52),Re(n,35,za(514)),Re(n,4096,za(0)),Re(n,4097,xa(1)),Re(n,36),Re(n,53),Re(n,340),Re(n,337,GF(1)),Re(n,51,zF([[1,0]])),Re(n,338),Re(n,333),n.end()}function p4(){var n=[Rn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function $F(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=Vt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var bc=1024;function g4(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),i=[Pe("xml",null,{"xmlns:v":Zr.v,"xmlns:o":Zr.o,"xmlns:x":Zr.x,"xmlns:mv":Zr.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];bc<n*1e3;)bc+=1e3;return e.forEach(function(o){var c=Un(o[0]),h={color2:"#BEFF82",type:"gradient"};h.type=="gradient"&&(h.angle="-180");var m=h.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,d=Pe("v:fill",m,h),v={on:"t",obscured:"t"};++bc,i=i.concat(["<v:shape"+Xh({id:"_x0000_s"+bc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",d,Pe("v:shadow",null,v),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Zn("x:Anchor",[c.c+1,0,c.r+1,0,c.c+3,20,c.r+5,20].join(",")),Zn("x:AutoFill","False"),Zn("x:Row",String(c.r)),Zn("x:Column",String(c.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function v4(n){var e=[Rn,Pe("comments",null,{xmlns:ou[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(i){var o=Lt(i.a);t.indexOf(o)==-1&&(t.push(o),e.push("<author>"+o+"</author>")),i.T&&i.ID&&t.indexOf("tc="+i.ID)==-1&&(t.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var i=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?i=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(m){m.a&&(i=t.indexOf(Lt(m.a))),o.push(m.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+i+'"><text>'),o.length<=1)e.push(Zn("t",Lt(o[0]||"")));else{for(var c=`Comment:
    `+o[0]+`
`,h=1;h<o.length;++h)c+=`Reply:
    `+o[h]+`
`;e.push(Zn("t",Lt(c)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function WF(n,e,t){var r=[Rn,Pe("ThreadedComments",null,{xmlns:Vn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(i){var o="";(i[1]||[]).forEach(function(c,h){if(!c.T){delete c.ID;return}c.a&&e.indexOf(c.a)==-1&&e.push(c.a);var m={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};h==0?o=m.id:m.parentId=o,c.ID=m.id,c.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(c.a)).slice(-12)+"}"),r.push(Pe("threadedComment",Zn("text",c.t||""),m))})}),r.push("</ThreadedComments>"),r.join("")}function XF(n){var e=[Rn,Pe("personList",null,{xmlns:Vn.TCMNT,"xmlns:x":ou[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Pe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function YF(n){var e={};e.iauthor=n.read_shift(4);var t=Cl(n);return e.rfx=t.s,e.ref=Vt(t.s),n.l+=16,e}function QF(n,e){return e==null&&(e=Ee(36)),e.write_shift(4,n[1].iauthor),cu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var JF=hr;function ZF(n){return Bn(n.slice(0,54))}function eL(n){var e=Fr(),t=[];return Re(e,628),Re(e,630),n.forEach(function(r){r[1].forEach(function(i){t.indexOf(i.a)>-1||(t.push(i.a.slice(0,54)),Re(e,632,ZF(i.a)))})}),Re(e,631),Re(e,633),n.forEach(function(r){r[1].forEach(function(i){i.iauthor=t.indexOf(i.a);var o={s:Un(r[0]),e:Un(r[0])};Re(e,635,QF([o,i])),i.t&&i.t.length>0&&Re(e,637,nj(i)),Re(e,636),delete i.iauthor})}),Re(e,634),Re(e,629),e.end()}function tL(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var i=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Ht.utils.cfb_add(n,i,e.FileIndex[r].content)}})}var _4=["xlsb","xlsm","xlam","biff8","xla"],nL=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,i,o,c){var h=!1,m=!1;o.length==0?m=!0:o.charAt(0)=="["&&(m=!0,o=o.slice(1,-1)),c.length==0?h=!0:c.charAt(0)=="["&&(h=!0,c=c.slice(1,-1));var d=o.length>0?parseInt(o,10)|0:0,v=c.length>0?parseInt(c,10)|0:0;return h?v+=e.c:--v,m?d+=e.r:--d,i+(h?"":"$")+ur(v)+(m?"":"$")+er(d)}return function(i,o){return e=o,i.replace(n,t)}})(),a_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,i_=(function(){return function(e,t){return e.replace(a_,function(r,i,o,c,h,m){var d=Jv(c)-(o?0:t.c),v=Qv(m)-(h?0:t.r),x=v==0?"":h?v+1:"["+v+"]",y=d==0?"":o?d+1:"["+d+"]";return i+"R"+x+"C"+y})}})();function rL(n,e){return n.replace(a_,function(t,r,i,o,c,h){return r+(i=="$"?i+o:ur(Jv(o)+e.c))+(c=="$"?c+h:er(Qv(h)+e.r))})}function aL(n){return n.length!=1}function wn(n){n.l+=1}function go(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function x4(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return y4(n);t.biff==12&&(r=4)}var i=n.read_shift(r),o=n.read_shift(r),c=go(n),h=go(n);return{s:{r:i,c:c[0],cRel:c[1],rRel:c[2]},e:{r:o,c:h[0],cRel:h[1],rRel:h[2]}}}function y4(n){var e=go(n),t=go(n),r=n.read_shift(1),i=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:i,cRel:t[1],rRel:t[2]}}}function iL(n,e,t){if(t.biff<8)return y4(n);var r=n.read_shift(t.biff==12?4:2),i=n.read_shift(t.biff==12?4:2),o=go(n),c=go(n);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:i,c:c[0],cRel:c[1],rRel:c[2]}}}function E4(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return sL(n);var r=n.read_shift(t&&t.biff==12?4:2),i=go(n);return{r,c:i[0],cRel:i[1],rRel:i[2]}}function sL(n){var e=go(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function oL(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function lL(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return cL(n);var i=n.read_shift(r>=12?4:2),o=n.read_shift(2),c=(o&16384)>>14,h=(o&32768)>>15;if(o&=16383,h==1)for(;i>524287;)i-=1048576;if(c==1)for(;o>8191;)o=o-16384;return{r:i,c:o,cRel:c,rRel:h}}function cL(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),i==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:i,rRel:r}}function uL(n,e,t){var r=(n[n.l++]&96)>>5,i=x4(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,i]}function hL(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}var c=x4(n,o,t);return[r,i,c]}function fL(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function dL(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),o=8;if(t)switch(t.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}return n.l+=o,[r,i]}function mL(n,e,t){var r=(n[n.l++]&96)>>5,i=iL(n,e-1,t);return[r,i]}function pL(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function sw(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function gL(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),i=[],o=0;o<=r;++o)i.push(n.read_shift(t&&t.biff==2?1:2));return i}function vL(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function _L(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function xL(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function yL(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function T4(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function EL(n){return n.read_shift(2),T4(n)}function TL(n){return n.read_shift(2),T4(n)}function wL(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=E4(n,0,t);return[r,i]}function AL(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=lL(n,0,t);return[r,i]}function SL(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var o=E4(n,0,t);return[r,i,o]}function CL(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var i=n.read_shift(t&&t.biff<=3?1:2);return[C9[i],S4[i],r]}function bL(n,e,t){var r=n[n.l++],i=n.read_shift(1),o=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:NL(n);return[i,(o[0]===0?S4:S9)[o[1]]]}function NL(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function RL(n,e,t){n.l+=t&&t.biff==2?3:4}function IL(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function DL(n){return n.l++,gf[n.read_shift(1)]}function OL(n){return n.l++,n.read_shift(2)}function kL(n){return n.l++,n.read_shift(1)!==0}function ML(n){return n.l++,uu(n)}function PL(n,e,t){return n.l++,a4(n,e-1,t)}function jL(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=Sj(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=gf[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=uu(n);break;case 2:t[1]=Rj(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function FL(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),i=[],o=0;o!=r;++o)i.push((t.biff==12?Cl:Oj)(n));return i}function LL(n,e,t){var r=0,i=0;t.biff==12?(r=n.read_shift(4),i=n.read_shift(4)):(i=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--i==0&&(i=256));for(var o=0,c=[];o!=r&&(c[o]=[]);++o)for(var h=0;h!=i;++h)c[o][h]=jL(n,t.biff);return c}function VL(n,e,t){var r=n.read_shift(1)>>>5&3,i=!t||t.biff>=8?4:2,o=n.read_shift(i);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,o]}function UL(n,e,t){if(t.biff==5)return BL(n);var r=n.read_shift(1)>>>5&3,i=n.read_shift(2),o=n.read_shift(4);return[r,i,o]}function BL(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function zL(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function qL(n,e,t){var r=n.read_shift(1)>>>5&3,i=n.read_shift(t&&t.biff==2?1:2);return[r,i]}function HL(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function GL(n,e,t){var r=(n[n.l++]&96)>>5,i=n.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return n.l+=o,[r,i]}var KL=_i,$L=_i,WL=_i;function vf(n,e,t){return n.l+=2,[oL(n)]}function s_(n){return n.l+=6,[]}var XL=vf,YL=s_,QL=s_,JL=vf;function w4(n){return n.l+=2,[n4(n),n.read_shift(2)&1]}var ZL=vf,e9=w4,t9=s_,n9=vf,r9=vf,a9=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function i9(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),i=n.read_shift(2),o=n.read_shift(2),c=a9[t>>2&31];return{ixti:e,coltype:t&3,rt:c,idx:r,c:i,C:o}}function s9(n){return n.l+=2,[n.read_shift(4)]}function o9(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function l9(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function c9(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function u9(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function h9(n){return n.l+=4,[0,0]}var ow={1:{n:"PtgExp",f:IL},2:{n:"PtgTbl",f:WL},3:{n:"PtgAdd",f:wn},4:{n:"PtgSub",f:wn},5:{n:"PtgMul",f:wn},6:{n:"PtgDiv",f:wn},7:{n:"PtgPower",f:wn},8:{n:"PtgConcat",f:wn},9:{n:"PtgLt",f:wn},10:{n:"PtgLe",f:wn},11:{n:"PtgEq",f:wn},12:{n:"PtgGe",f:wn},13:{n:"PtgGt",f:wn},14:{n:"PtgNe",f:wn},15:{n:"PtgIsect",f:wn},16:{n:"PtgUnion",f:wn},17:{n:"PtgRange",f:wn},18:{n:"PtgUplus",f:wn},19:{n:"PtgUminus",f:wn},20:{n:"PtgPercent",f:wn},21:{n:"PtgParen",f:wn},22:{n:"PtgMissArg",f:wn},23:{n:"PtgStr",f:PL},26:{n:"PtgSheet",f:o9},27:{n:"PtgEndSheet",f:l9},28:{n:"PtgErr",f:DL},29:{n:"PtgBool",f:kL},30:{n:"PtgInt",f:OL},31:{n:"PtgNum",f:ML},32:{n:"PtgArray",f:pL},33:{n:"PtgFunc",f:CL},34:{n:"PtgFuncVar",f:bL},35:{n:"PtgName",f:VL},36:{n:"PtgRef",f:wL},37:{n:"PtgArea",f:uL},38:{n:"PtgMemArea",f:zL},39:{n:"PtgMemErr",f:KL},40:{n:"PtgMemNoMem",f:$L},41:{n:"PtgMemFunc",f:qL},42:{n:"PtgRefErr",f:HL},43:{n:"PtgAreaErr",f:fL},44:{n:"PtgRefN",f:AL},45:{n:"PtgAreaN",f:mL},46:{n:"PtgMemAreaN",f:c9},47:{n:"PtgMemNoMemN",f:u9},57:{n:"PtgNameX",f:UL},58:{n:"PtgRef3d",f:SL},59:{n:"PtgArea3d",f:hL},60:{n:"PtgRefErr3d",f:GL},61:{n:"PtgAreaErr3d",f:dL},255:{}},f9={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},d9={1:{n:"PtgElfLel",f:w4},2:{n:"PtgElfRw",f:n9},3:{n:"PtgElfCol",f:XL},6:{n:"PtgElfRwV",f:r9},7:{n:"PtgElfColV",f:JL},10:{n:"PtgElfRadical",f:ZL},11:{n:"PtgElfRadicalS",f:t9},13:{n:"PtgElfColS",f:YL},15:{n:"PtgElfColSV",f:QL},16:{n:"PtgElfRadicalLel",f:e9},25:{n:"PtgList",f:i9},29:{n:"PtgSxName",f:s9},255:{}},m9={0:{n:"PtgAttrNoop",f:h9},1:{n:"PtgAttrSemi",f:yL},2:{n:"PtgAttrIf",f:_L},4:{n:"PtgAttrChoose",f:gL},8:{n:"PtgAttrGoto",f:vL},16:{n:"PtgAttrSum",f:RL},32:{n:"PtgAttrBaxcel",f:sw},33:{n:"PtgAttrBaxcel",f:sw},64:{n:"PtgAttrSpace",f:EL},65:{n:"PtgAttrSpaceSemi",f:TL},128:{n:"PtgAttrIfError",f:xL},255:{}};function p9(n,e,t,r){if(r.biff<8)return _i(n,e);for(var i=n.l+e,o=[],c=0;c!==t.length;++c)switch(t[c][0]){case"PtgArray":t[c][1]=LL(n,0,r),o.push(t[c][1]);break;case"PtgMemArea":t[c][2]=FL(n,t[c][1],r),o.push(t[c][2]);break;case"PtgExp":r&&r.biff==12&&(t[c][1][1]=n.read_shift(4),o.push(t[c][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[c][0]}return e=i-n.l,e!==0&&o.push(_i(n,e)),o}function g9(n,e,t){for(var r=n.l+e,i,o,c=[];r!=n.l;)e=r-n.l,o=n[n.l],i=ow[o]||ow[f9[o]],(o===24||o===25)&&(i=(o===24?d9:m9)[n[n.l+1]]),!i||!i.f?_i(n,e):c.push([i.n,i.f(n,e,t)]);return c}function v9(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],i=[],o=0;o<r.length;++o){var c=r[o];if(c)switch(c[0]){case 2:i.push('"'+c[1].replace(/"/g,'""')+'"');break;default:i.push(c[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var _9={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function x9(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function A4(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var i="";if(t.biff>8)switch(n[r[0]][0]){case 357:return i=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return i=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?i:i+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return n[r[0]][0][3]?(i=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?i:i+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function lw(n,e,t){var r=A4(n,e,t);return r=="#REF"?r:x9(r,t)}function Kc(n,e,t,r,i){var o=i&&i.biff||8,c={s:{c:0,r:0}},h=[],m,d,v,x=0,y=0,T,N="";if(!n[0]||!n[0][0])return"";for(var A=-1,b="",P=0,z=n[0].length;P<z;++P){var q=n[0][P];switch(q[0]){case"PtgUminus":h.push("-"+h.pop());break;case"PtgUplus":h.push("+"+h.pop());break;case"PtgPercent":h.push(h.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=h.pop(),d=h.pop(),A>=0){switch(n[0][A][1][0]){case 0:b=un(" ",n[0][A][1][1]);break;case 1:b=un("\r",n[0][A][1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][A][1][0])}d=d+b,A=-1}h.push(d+_9[q[0]]+m);break;case"PtgIsect":m=h.pop(),d=h.pop(),h.push(d+" "+m);break;case"PtgUnion":m=h.pop(),d=h.pop(),h.push(d+","+m);break;case"PtgRange":m=h.pop(),d=h.pop(),h.push(d+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":v=Dh(q[1][1],c,i),h.push(Oh(v,o));break;case"PtgRefN":v=t?Dh(q[1][1],t,i):q[1][1],h.push(Oh(v,o));break;case"PtgRef3d":x=q[1][1],v=Dh(q[1][2],c,i),N=lw(r,x,i),h.push(N+"!"+Oh(v,o));break;case"PtgFunc":case"PtgFuncVar":var ee=q[1][0],de=q[1][1];ee||(ee=0),ee&=127;var _e=ee==0?[]:h.slice(-ee);h.length-=ee,de==="User"&&(de=_e.shift()),h.push(de+"("+_e.join(",")+")");break;case"PtgBool":h.push(q[1]?"TRUE":"FALSE");break;case"PtgInt":h.push(q[1]);break;case"PtgNum":h.push(String(q[1]));break;case"PtgStr":h.push('"'+q[1].replace(/"/g,'""')+'"');break;case"PtgErr":h.push(q[1]);break;case"PtgAreaN":T=KT(q[1][1],t?{s:t}:c,i),h.push(Qg(T,i));break;case"PtgArea":T=KT(q[1][1],c,i),h.push(Qg(T,i));break;case"PtgArea3d":x=q[1][1],T=q[1][2],N=lw(r,x,i),h.push(N+"!"+Qg(T,i));break;case"PtgAttrSum":h.push("SUM("+h.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=q[1][2];var R=(r.names||[])[y-1]||(r[0]||[])[y],I=R?R.Name:"SH33TJSNAME"+String(y);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),h.push(I);break;case"PtgNameX":var C=q[1][1];y=q[1][2];var M;if(i.biff<=5)C<0&&(C=-C),r[C]&&(M=r[C][y]);else{var j="";if(((r[C]||[])[0]||[])[0]==14849||(((r[C]||[])[0]||[])[0]==1025?r[C][y]&&r[C][y].itab>0&&(j=r.SheetNames[r[C][y].itab-1]+"!"):j=r.SheetNames[y-1]+"!"),r[C]&&r[C][y])j+=r[C][y].Name;else if(r[0]&&r[0][y])j+=r[0][y].Name;else{var O=(A4(r,C,i)||"").split(";;");O[y-1]?j=O[y-1]:j+="SH33TJSERRX"}h.push(j);break}M||(M={Name:"SH33TJSERRY"}),h.push(M.Name);break;case"PtgParen":var F="(",ae=")";if(A>=0){switch(b="",n[0][A][1][0]){case 2:F=un(" ",n[0][A][1][1])+F;break;case 3:F=un("\r",n[0][A][1][1])+F;break;case 4:ae=un(" ",n[0][A][1][1])+ae;break;case 5:ae=un("\r",n[0][A][1][1])+ae;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][A][1][0])}A=-1}h.push(F+h.pop()+ae);break;case"PtgRefErr":h.push("#REF!");break;case"PtgRefErr3d":h.push("#REF!");break;case"PtgExp":v={c:q[1][1],r:q[1][0]};var Ce={c:t.c,r:t.r};if(r.sharedf[Vt(v)]){var te=r.sharedf[Vt(v)];h.push(Kc(te,c,Ce,r,i))}else{var ye=!1;for(m=0;m!=r.arrayf.length;++m)if(d=r.arrayf[m],!(v.c<d[0].s.c||v.c>d[0].e.c)&&!(v.r<d[0].s.r||v.r>d[0].e.r)){h.push(Kc(d[1],c,Ce,r,i)),ye=!0;break}ye||h.push(q[1])}break;case"PtgArray":h.push("{"+v9(q[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":A=P;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":h.push("");break;case"PtgAreaErr":h.push("#REF!");break;case"PtgAreaErr3d":h.push("#REF!");break;case"PtgList":h.push("Table"+q[1].idx+"[#"+q[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(q));default:throw new Error("Unrecognized Formula Token: "+String(q))}var oe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&A>=0&&oe.indexOf(n[0][P][0])==-1){q=n[0][A];var Ve=!0;switch(q[1][0]){case 4:Ve=!1;case 0:b=un(" ",q[1][1]);break;case 5:Ve=!1;case 1:b=un("\r",q[1][1]);break;default:if(b="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+q[1][0])}h.push((Ve?b:"")+h.pop()+(Ve?"":b)),A=-1}}if(h.length>1&&i.WTF)throw new Error("bad formula stack");return h[0]}function y9(n){if(n==null){var e=Ee(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return pl(n);return pl(0)}function E9(n,e,t,r,i){var o=gl(e,t,i),c=y9(n.v),h=Ee(6),m=33;h.write_shift(2,m),h.write_shift(4,0);for(var d=Ee(n.bf.length),v=0;v<n.bf.length;++v)d[v]=n.bf[v];var x=Jn([o,c,h,d]);return x}function Dm(n,e,t){var r=n.read_shift(4),i=g9(n,r,t),o=n.read_shift(4),c=o>0?p9(n,o,i,t):null;return[i,c]}var T9=Dm,Om=Dm,w9=Dm,A9=Dm,S9={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},S4={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},C9={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function b9(n){var e="of:="+n.replace(a_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function N9(n){return n.replace(/\./,"!")}var kh=typeof Map<"u";function o_(n,e,t){var r=0,i=n.length;if(t){if(kh?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var o=kh?t.get(e):t[e];r<o.length;++r)if(n[o[r]].t===e)return n.Count++,o[r]}}else for(;r<i;++r)if(n[r].t===e)return n.Count++,r;return n[i]={t:e},n.Count++,n.Unique++,t&&(kh?(t.has(e)||t.set(e,[]),t.get(e).push(i)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(i))),i}function km(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(Zi=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=X0(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=U1(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function C4(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function Ao(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],i=60,o=n.length;if(r==null&&t.ssf){for(;i<392;++i)if(t.ssf[i]==null){EC(e.z,i),t.ssf[i]=e.z,t.revssf[e.z]=r=i;break}}for(i=0;i!=o;++i)if(n[i].numFmtId===r)return i;return n[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function R9(n,e,t){if(n&&n["!ref"]){var r=Zt(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function I9(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Nn(n[t])+'"/>';return e+"</mergeCells>"}function D9(n,e,t,r,i){var o=!1,c={},h=null;if(r.bookType!=="xlsx"&&e.vbaraw){var m=e.SheetNames[t];try{e.Workbook&&(m=e.Workbook.Sheets[t].CodeName||m)}catch{}o=!0,c.codeName=Wh(Lt(m))}if(n&&n["!outline"]){var d={summaryBelow:1,summaryRight:1};n["!outline"].above&&(d.summaryBelow=0),n["!outline"].left&&(d.summaryRight=0),h=(h||"")+Pe("outlinePr",null,d)}!o&&!h||(i[i.length]=Pe("sheetPr",h,c))}var O9=["objects","scenarios","selectLockedCells","selectUnlockedCells"],k9=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function M9(n){var e={sheet:1};return O9.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),k9.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=c4(n.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function P9(n){return C4(n),Pe("pageMargins",null,n)}function j9(n,e){for(var t=["<cols>"],r,i=0;i!=e.length;++i)(r=e[i])&&(t[t.length]=Pe("col",null,km(i,r)));return t[t.length]="</cols>",t.join("")}function F9(n,e,t,r){var i=typeof n.ref=="string"?n.ref:Nn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,c=ra(i);c.s.r==c.e.r&&(c.e.r=ra(e["!ref"]).e.r,i=Nn(c));for(var h=0;h<o.length;++h){var m=o[h];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==r){m.Ref="'"+t.SheetNames[r]+"'!"+i;break}}return h==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+i}),Pe("autoFilter",null,{ref:i})}function L9(n,e,t,r){var i={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,i),{})}function V9(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var i="",o=n.t,c=n.v;if(n.t!=="z")switch(n.t){case"b":i=n.v?"1":"0";break;case"n":i=""+n.v;break;case"e":i=gf[n.v];break;case"d":r&&r.cellDates?i=Ar(n.v,-1).toISOString():(n=Vr(n),n.t="n",i=""+(n.v=Lr(Ar(n.v)))),typeof n.z>"u"&&(n.z=hn[14]);break;default:i=n.v;break}var h=Zn("v",Lt(i)),m={r:e},d=Ao(r.cellXfs,n,r);switch(d!==0&&(m.s=d),n.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){h=Zn("v",""+o_(r.Strings,n.v,r.revStrings)),m.t="s";break}m.t="str";break}if(n.t!=o&&(n.t=o,n.v=c),typeof n.f=="string"&&n.f){var v=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;h=Pe("f",Lt(n.f),v)+(n.v!=null?h:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(m.cm=1),Pe("c",h,m)}function U9(n,e,t,r){var i=[],o=[],c=Zt(n["!ref"]),h="",m,d="",v=[],x=0,y=0,T=n["!rows"],N=Array.isArray(n),A={r:d},b,P=-1;for(y=c.s.c;y<=c.e.c;++y)v[y]=ur(y);for(x=c.s.r;x<=c.e.r;++x){for(o=[],d=er(x),y=c.s.c;y<=c.e.c;++y){m=v[y]+d;var z=N?(n[x]||[])[y]:n[m];z!==void 0&&(h=V9(z,m,n,e))!=null&&o.push(h)}(o.length>0||T&&T[x])&&(A={r:d},T&&T[x]&&(b=T[x],b.hidden&&(A.hidden=1),P=-1,b.hpx?P=Y0(b.hpx):b.hpt&&(P=b.hpt),P>-1&&(A.ht=P,A.customHeight=1),b.level&&(A.outlineLevel=b.level)),i[i.length]=Pe("row",o.join(""),A))}if(T)for(;x<T.length;++x)T&&T[x]&&(A={r:x+1},b=T[x],b.hidden&&(A.hidden=1),P=-1,b.hpx?P=Y0(b.hpx):b.hpt&&(P=b.hpt),P>-1&&(A.ht=P,A.customHeight=1),b.level&&(A.outlineLevel=b.level),i[i.length]=Pe("row","",A));return i.join("")}function b4(n,e,t,r){var i=[Rn,Pe("worksheet",null,{xmlns:ou[0],"xmlns:r":Vn.r})],o=t.SheetNames[n],c=0,h="",m=t.Sheets[o];m==null&&(m={});var d=m["!ref"]||"A1",v=Zt(d);if(v.e.c>16383||v.e.r>1048575){if(e.WTF)throw new Error("Range "+d+" exceeds format limit A1:XFD1048576");v.e.c=Math.min(v.e.c,16383),v.e.r=Math.min(v.e.c,1048575),d=Nn(v)}r||(r={}),m["!comments"]=[];var x=[];D9(m,t,n,e,i),i[i.length]=Pe("dimension",null,{ref:d}),i[i.length]=L9(m,e,n,t),e.sheetFormat&&(i[i.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(i[i.length]=j9(m,m["!cols"])),i[c=i.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(h=U9(m,e),h.length>0&&(i[i.length]=h)),i.length>c+1&&(i[i.length]="</sheetData>",i[c]=i[c].replace("/>",">")),m["!protect"]&&(i[i.length]=M9(m["!protect"])),m["!autofilter"]!=null&&(i[i.length]=F9(m["!autofilter"],m,t,n)),m["!merges"]!=null&&m["!merges"].length>0&&(i[i.length]=I9(m["!merges"]));var y=-1,T,N=-1;return m["!links"].length>0&&(i[i.length]="<hyperlinks>",m["!links"].forEach(function(A){A[1].Target&&(T={ref:A[0]},A[1].Target.charAt(0)!="#"&&(N=Ft(r,-1,Lt(A[1].Target).replace(/#.*$/,""),At.HLINK),T["r:id"]="rId"+N),(y=A[1].Target.indexOf("#"))>-1&&(T.location=Lt(A[1].Target.slice(y+1))),A[1].Tooltip&&(T.tooltip=Lt(A[1].Tooltip)),i[i.length]=Pe("hyperlink",null,T))}),i[i.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(i[i.length]=P9(m["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Zn("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:d}))),x.length>0&&(N=Ft(r,-1,"../drawings/drawing"+(n+1)+".xml",At.DRAW),i[i.length]=Pe("drawing",null,{"r:id":"rId"+N}),m["!drawing"]=x),m["!comments"].length>0&&(N=Ft(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",At.VML),i[i.length]=Pe("legacyDrawing",null,{"r:id":"rId"+N}),m["!legacy"]=N),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function B9(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var i=n.read_shift(2);n.l+=1;var o=n.read_shift(1);return n.l=r,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=i/20),t}function z9(n,e,t){var r=Ee(145),i=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var o=320;i.hpx?o=Y0(i.hpx)*20:i.hpt&&(o=i.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var c=0;i.level&&(c|=i.level),i.hidden&&(c|=16),(i.hpx||i.hpt)&&(c|=32),r.write_shift(1,c),r.write_shift(1,0);var h=0,m=r.l;r.l+=4;for(var d={r:n,c:0},v=0;v<16;++v)if(!(e.s.c>v+1<<10||e.e.c<v<<10)){for(var x=-1,y=-1,T=v<<10;T<v+1<<10;++T){d.c=T;var N=Array.isArray(t)?(t[d.r]||[])[d.c]:t[Vt(d)];N&&(x<0&&(x=T),y=T)}x<0||(++h,r.write_shift(4,x),r.write_shift(4,y))}var A=r.l;return r.l=m,r.write_shift(4,h),r.l=A,r.length>r.l?r.slice(0,r.l):r}function q9(n,e,t,r){var i=z9(r,t,e);(i.length>17||(e["!rows"]||[])[r])&&Re(n,0,i)}var H9=Cl,G9=cu;function K9(){}function $9(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=rj(n),t}function W9(n,e,t){t==null&&(t=Ee(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var i=1;i<3;++i)t.write_shift(1,0);return K0({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),zC(n,t),t.slice(0,t.l)}function X9(n){var e=Sa(n);return[e]}function Y9(n,e,t){return t==null&&(t=Ee(8)),wl(e,t)}function Q9(n){var e=Al(n);return[e]}function J9(n,e,t){return t==null&&(t=Ee(4)),Sl(e,t)}function Z9(n){var e=Sa(n),t=n.read_shift(1);return[e,t,"b"]}function e7(n,e,t){return t==null&&(t=Ee(9)),wl(e,t),t.write_shift(1,n.v?1:0),t}function t7(n){var e=Al(n),t=n.read_shift(1);return[e,t,"b"]}function n7(n,e,t){return t==null&&(t=Ee(5)),Sl(e,t),t.write_shift(1,n.v?1:0),t}function r7(n){var e=Sa(n),t=n.read_shift(1);return[e,t,"e"]}function a7(n,e,t){return t==null&&(t=Ee(9)),wl(e,t),t.write_shift(1,n.v),t}function i7(n){var e=Al(n),t=n.read_shift(1);return[e,t,"e"]}function s7(n,e,t){return t==null&&(t=Ee(8)),Sl(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function o7(n){var e=Sa(n),t=n.read_shift(4);return[e,t,"s"]}function l7(n,e,t){return t==null&&(t=Ee(12)),wl(e,t),t.write_shift(4,e.v),t}function c7(n){var e=Al(n),t=n.read_shift(4);return[e,t,"s"]}function u7(n,e,t){return t==null&&(t=Ee(8)),Sl(e,t),t.write_shift(4,e.v),t}function h7(n){var e=Sa(n),t=uu(n);return[e,t,"n"]}function f7(n,e,t){return t==null&&(t=Ee(16)),wl(e,t),pl(n.v,t),t}function d7(n){var e=Al(n),t=uu(n);return[e,t,"n"]}function m7(n,e,t){return t==null&&(t=Ee(12)),Sl(e,t),pl(n.v,t),t}function p7(n){var e=Sa(n),t=qC(n);return[e,t,"n"]}function g7(n,e,t){return t==null&&(t=Ee(12)),wl(e,t),HC(n.v,t),t}function v7(n){var e=Al(n),t=qC(n);return[e,t,"n"]}function _7(n,e,t){return t==null&&(t=Ee(8)),Sl(e,t),HC(n.v,t),t}function x7(n){var e=Sa(n),t=Zv(n);return[e,t,"is"]}function y7(n){var e=Sa(n),t=hr(n);return[e,t,"str"]}function E7(n,e,t){return t==null&&(t=Ee(12+4*n.v.length)),wl(e,t),Bn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function T7(n){var e=Al(n),t=hr(n);return[e,t,"str"]}function w7(n,e,t){return t==null&&(t=Ee(8+4*n.v.length)),Sl(e,t),Bn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function A7(n,e,t){var r=n.l+e,i=Sa(n);i.r=t["!row"];var o=n.read_shift(1),c=[i,o,"b"];if(t.cellFormula){n.l+=2;var h=Om(n,r-n.l,t);c[3]=Kc(h,null,i,t.supbooks,t)}else n.l=r;return c}function S7(n,e,t){var r=n.l+e,i=Sa(n);i.r=t["!row"];var o=n.read_shift(1),c=[i,o,"e"];if(t.cellFormula){n.l+=2;var h=Om(n,r-n.l,t);c[3]=Kc(h,null,i,t.supbooks,t)}else n.l=r;return c}function C7(n,e,t){var r=n.l+e,i=Sa(n);i.r=t["!row"];var o=uu(n),c=[i,o,"n"];if(t.cellFormula){n.l+=2;var h=Om(n,r-n.l,t);c[3]=Kc(h,null,i,t.supbooks,t)}else n.l=r;return c}function b7(n,e,t){var r=n.l+e,i=Sa(n);i.r=t["!row"];var o=hr(n),c=[i,o,"str"];if(t.cellFormula){n.l+=2;var h=Om(n,r-n.l,t);c[3]=Kc(h,null,i,t.supbooks,t)}else n.l=r;return c}var N7=Cl,R7=cu;function I7(n,e){return e==null&&(e=Ee(4)),e.write_shift(4,n),e}function D7(n,e){var t=n.l+e,r=Cl(n),i=e_(n),o=hr(n),c=hr(n),h=hr(n);n.l=t;var m={rfx:r,relId:i,loc:o,display:h};return c&&(m.Tooltip=c),m}function O7(n,e){var t=Ee(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));cu({s:Un(n[0]),e:Un(n[0])},t),t_("rId"+e,t);var r=n[1].Target.indexOf("#"),i=r==-1?"":n[1].Target.slice(r+1);return Bn(i||"",t),Bn(n[1].Tooltip||"",t),Bn("",t),t.slice(0,t.l)}function k7(){}function M7(n,e,t){var r=n.l+e,i=GC(n),o=n.read_shift(1),c=[i];if(c[2]=o,t.cellFormula){var h=T9(n,r-n.l,t);c[1]=h}else n.l=r;return c}function P7(n,e,t){var r=n.l+e,i=Cl(n),o=[i];if(t.cellFormula){var c=A9(n,r-n.l,t);o[1]=c,n.l=r}else n.l=r;return o}function j7(n,e,t){t==null&&(t=Ee(18));var r=km(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof r.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),t.write_shift(2,i),t}var N4=["left","right","top","bottom","header","footer"];function F7(n){var e={};return N4.forEach(function(t){e[t]=uu(n)}),e}function L7(n,e){return e==null&&(e=Ee(48)),C4(n),N4.forEach(function(t){pl(n[t],e)}),e}function V7(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function U7(n,e,t){t==null&&(t=Ee(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function B7(n){var e=Ee(24);return e.write_shift(4,4),e.write_shift(4,1),cu(n,e),e}function z7(n,e){return e==null&&(e=Ee(66)),e.write_shift(2,n.password?c4(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function q7(){}function H7(){}function G7(n,e,t,r,i,o,c){if(e.v===void 0)return!1;var h="";switch(e.t){case"b":h=e.v?"1":"0";break;case"d":e=Vr(e),e.z=e.z||hn[14],e.v=Lr(Ar(e.v)),e.t="n";break;case"n":case"e":h=""+e.v;break;default:h=e.v;break}var m={r:t,c:r};switch(m.s=Ao(i.cellXfs,e,i),e.l&&o["!links"].push([Vt(m),e.l]),e.c&&o["!comments"].push([Vt(m),e.c]),e.t){case"s":case"str":return i.bookSST?(h=o_(i.Strings,e.v,i.revStrings),m.t="s",m.v=h,c?Re(n,18,u7(e,m)):Re(n,7,l7(e,m))):(m.t="str",c?Re(n,17,w7(e,m)):Re(n,6,E7(e,m))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?c?Re(n,13,_7(e,m)):Re(n,2,g7(e,m)):c?Re(n,16,m7(e,m)):Re(n,5,f7(e,m)),!0;case"b":return m.t="b",c?Re(n,15,n7(e,m)):Re(n,4,e7(e,m)),!0;case"e":return m.t="e",c?Re(n,14,s7(e,m)):Re(n,3,a7(e,m)),!0}return c?Re(n,12,J9(e,m)):Re(n,1,Y9(e,m)),!0}function K7(n,e,t,r){var i=Zt(e["!ref"]||"A1"),o,c="",h=[];Re(n,145);var m=Array.isArray(e),d=i.e.r;e["!rows"]&&(d=Math.max(i.e.r,e["!rows"].length-1));for(var v=i.s.r;v<=d;++v){c=er(v),q9(n,e,i,v);var x=!1;if(v<=i.e.r)for(var y=i.s.c;y<=i.e.c;++y){v===i.s.r&&(h[y]=ur(y)),o=h[y]+c;var T=m?(e[v]||[])[y]:e[o];if(!T){x=!1;continue}x=G7(n,T,v,y,r,e,x)}}Re(n,146)}function $7(n,e){!e||!e["!merges"]||(Re(n,177,I7(e["!merges"].length)),e["!merges"].forEach(function(t){Re(n,176,R7(t))}),Re(n,178))}function W7(n,e){!e||!e["!cols"]||(Re(n,390),e["!cols"].forEach(function(t,r){t&&Re(n,60,j7(r,t))}),Re(n,391))}function X7(n,e){!e||!e["!ref"]||(Re(n,648),Re(n,649,B7(Zt(e["!ref"]))),Re(n,650))}function Y7(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var i=Ft(t,-1,r[1].Target.replace(/#.*$/,""),At.HLINK);Re(n,494,O7(r,i))}}),delete e["!links"]}function Q7(n,e,t,r){if(e["!comments"].length>0){var i=Ft(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",At.VML);Re(n,551,t_("rId"+i)),e["!legacy"]=i}}function J7(n,e,t,r){if(e["!autofilter"]){var i=e["!autofilter"],o=typeof i.ref=="string"?i.ref:Nn(i.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var c=t.Workbook.Names,h=ra(o);h.s.r==h.e.r&&(h.e.r=ra(e["!ref"]).e.r,o=Nn(h));for(var m=0;m<c.length;++m){var d=c[m];if(d.Name=="_xlnm._FilterDatabase"&&d.Sheet==r){d.Ref="'"+t.SheetNames[r]+"'!"+o;break}}m==c.length&&c.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+o}),Re(n,161,cu(Zt(o))),Re(n,162)}}function Z7(n,e,t){Re(n,133),Re(n,137,U7(e,t)),Re(n,138),Re(n,134)}function eV(n,e){e["!protect"]&&Re(n,535,z7(e["!protect"]))}function tV(n,e,t,r){var i=Fr(),o=t.SheetNames[n],c=t.Sheets[o]||{},h=o;try{t&&t.Workbook&&(h=t.Workbook.Sheets[n].CodeName||h)}catch{}var m=Zt(c["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+(c["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return c["!links"]=[],c["!comments"]=[],Re(i,129),(t.vbaraw||c["!outline"])&&Re(i,147,W9(h,c["!outline"])),Re(i,148,G9(m)),Z7(i,c,t.Workbook),W7(i,c),K7(i,c,n,e),eV(i,c),J7(i,c,t,n),$7(i,c),Y7(i,c,r),c["!margins"]&&Re(i,476,L7(c["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&X7(i,c),Q7(i,c,n,r),Re(i,130),i.end()}function nV(n,e){n.l+=10;var t=hr(n);return{name:t}}var rV=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function aV(n){return!n.Workbook||!n.Workbook.WBProps?"false":PP(n.Workbook.WBProps.date1904)?"true":"false"}var iV="][*?/\\".split("");function R4(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return iV.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function sV(n,e,t){n.forEach(function(r,i){R4(r);for(var o=0;o<i;++o)if(r==n[o])throw new Error("Duplicate Sheet Name: "+r);if(t){var c=e&&e[i]&&e[i].CodeName||r;if(c.charCodeAt(0)==95&&c.length>22)throw new Error("Bad Code Name: Worksheet"+c)}})}function oV(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];sV(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)R9(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function I4(n){var e=[Rn];e[e.length]=Pe("workbook",null,{xmlns:ou[0],"xmlns:r":Vn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(rV.forEach(function(h){n.Workbook.WBProps[h[0]]!=null&&n.Workbook.WBProps[h[0]]!=h[1]&&(r[h[0]]=n.Workbook.WBProps[h[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Pe("workbookPr",null,r);var i=n.Workbook&&n.Workbook.Sheets||[],o=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=n.SheetNames.length&&!(!i[o]||!i[o].Hidden);++o);o==n.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=n.SheetNames.length;++o){var c={name:Lt(n.SheetNames[o].slice(0,31))};if(c.sheetId=""+(o+1),c["r:id"]="rId"+(o+1),i[o])switch(i[o].Hidden){case 1:c.state="hidden";break;case 2:c.state="veryHidden";break}e[e.length]=Pe("sheet",null,c)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(h){var m={name:h.Name};h.Comment&&(m.comment=h.Comment),h.Sheet!=null&&(m.localSheetId=""+h.Sheet),h.Hidden&&(m.hidden="1"),h.Ref&&(e[e.length]=Pe("definedName",Lt(h.Ref),m))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function lV(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=V1(n),t.name=hr(n),t}function cV(n,e){return e||(e=Ee(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),t_(n.strRelID,e),Bn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function uV(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var i=e>8?hr(n):"";return i.length>0&&(t.CodeName=i),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function hV(n,e){e||(e=Ee(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),zC(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function fV(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var i=n.read_shift(4),o=aj(n),c=w9(n,0,t),h=e_(n);n.l=r;var m={Name:o,Ptg:c};return i<268435455&&(m.Sheet=i),h&&(m.Comment=h),m}function dV(n,e){Re(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,i={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Re(n,156,cV(i))}Re(n,144)}function mV(n,e){e||(e=Ee(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Bn("SheetJS",e),Bn(L0.version,e),Bn(L0.version,e),Bn("7262",e),e.length>e.l?e.slice(0,e.l):e}function pV(n,e){e||(e=Ee(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function gV(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,i=-1,o=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&i==-1?i=r:t[r].Hidden==1&&o==-1&&(o=r);o>i||(Re(n,135),Re(n,158,pV(i)),Re(n,136))}}function vV(n,e){var t=Fr();return Re(t,131),Re(t,128,mV()),Re(t,153,hV(n.Workbook&&n.Workbook.WBProps||null)),gV(t,n),dV(t,n),Re(t,132),t.end()}function _V(n,e,t){return(e.slice(-4)===".bin"?vV:I4)(n)}function xV(n,e,t,r,i){return(e.slice(-4)===".bin"?tV:b4)(n,t,r,i)}function yV(n,e,t){return(e.slice(-4)===".bin"?LF:f4)(n,t)}function EV(n,e,t){return(e.slice(-4)===".bin"?hF:l4)(n,t)}function TV(n,e,t){return(e.slice(-4)===".bin"?eL:v4)(n)}function wV(n){return(n.slice(-4)===".bin"?KF:p4)()}function AV(n,e){var t=[];return n.Props&&t.push(yj(n.Props,e)),n.Custprops&&t.push(Ej(n.Props,n.Custprops)),t.join("")}function SV(){return""}function CV(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,i){var o=[];o.push(Pe("NumberFormat",null,{"ss:Format":Lt(hn[r.numFmtId])}));var c={"ss:ID":"s"+(21+i)};t.push(Pe("Style",o.join(""),c))}),Pe("Styles",t.join(""))}function D4(n){return Pe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+i_(n.Ref,{r:0,c:0})})}function bV(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var i=e[r];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||t.push(D4(i)))}return Pe("Names",t.join(""))}function NV(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var i=r.Workbook.Names,o=[],c=0;c<i.length;++c){var h=i[c];h.Sheet==t&&(h.Name.match(/^_xlfn\./)||o.push(D4(h)))}return o.join("")}function RV(n,e,t,r){if(!n)return"";var i=[];if(n["!margins"]&&(i.push("<PageSetup>"),n["!margins"].header&&i.push(Pe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&i.push(Pe("Footer",null,{"x:Margin":n["!margins"].footer})),i.push(Pe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),i.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)i.push(Pe("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==t&&i.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),n["!protect"]&&(i.push(Zn("ProtectContents","True")),n["!protect"].objects&&i.push(Zn("ProtectObjects","True")),n["!protect"].scenarios&&i.push(Zn("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?i.push(Zn("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&i.push(Zn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(c){n["!protect"][c[0]]&&i.push("<"+c[1]+"/>")})),i.length==0?"":Pe("WorksheetOptions",i.join(""),{xmlns:Zr.x})}function IV(n){return n.map(function(e){var t=MP(e.t||""),r=Pe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",r,{"ss:Author":e.a})}).join("")}function DV(n,e,t,r,i,o,c){if(!n||n.v==null&&n.f==null)return"";var h={};if(n.f&&(h["ss:Formula"]="="+Lt(i_(n.f,c))),n.F&&n.F.slice(0,e.length)==e){var m=Un(n.F.slice(e.length+1));h["ss:ArrayRange"]="RC:R"+(m.r==c.r?"":"["+(m.r-c.r)+"]")+"C"+(m.c==c.c?"":"["+(m.c-c.c)+"]")}if(n.l&&n.l.Target&&(h["ss:HRef"]=Lt(n.l.Target),n.l.Tooltip&&(h["x:HRefScreenTip"]=Lt(n.l.Tooltip))),t["!merges"])for(var d=t["!merges"],v=0;v!=d.length;++v)d[v].s.c!=c.c||d[v].s.r!=c.r||(d[v].e.c>d[v].s.c&&(h["ss:MergeAcross"]=d[v].e.c-d[v].s.c),d[v].e.r>d[v].s.r&&(h["ss:MergeDown"]=d[v].e.r-d[v].s.r));var x="",y="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":x="Number",y=String(n.v);break;case"b":x="Boolean",y=n.v?"1":"0";break;case"e":x="Error",y=gf[n.v];break;case"d":x="DateTime",y=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||hn[14]);break;case"s":x="String",y=kP(n.v||"");break}var T=Ao(r.cellXfs,n,r);h["ss:StyleID"]="s"+(21+T),h["ss:Index"]=c.c+1;var N=n.v!=null?y:"",A=n.t=="z"?"":'<Data ss:Type="'+x+'">'+N+"</Data>";return(n.c||[]).length>0&&(A+=IV(n.c)),Pe("Cell",A,h)}function OV(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=h4(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function kV(n,e,t,r){if(!n["!ref"])return"";var i=Zt(n["!ref"]),o=n["!merges"]||[],c=0,h=[];n["!cols"]&&n["!cols"].forEach(function(b,P){r_(b);var z=!!b.width,q=km(P,b),ee={"ss:Index":P+1};z&&(ee["ss:Width"]=W0(q.width)),b.hidden&&(ee["ss:Hidden"]="1"),h.push(Pe("Column",null,ee))});for(var m=Array.isArray(n),d=i.s.r;d<=i.e.r;++d){for(var v=[OV(d,(n["!rows"]||[])[d])],x=i.s.c;x<=i.e.c;++x){var y=!1;for(c=0;c!=o.length;++c)if(!(o[c].s.c>x)&&!(o[c].s.r>d)&&!(o[c].e.c<x)&&!(o[c].e.r<d)){(o[c].s.c!=x||o[c].s.r!=d)&&(y=!0);break}if(!y){var T={r:d,c:x},N=Vt(T),A=m?(n[d]||[])[x]:n[N];v.push(DV(A,N,n,e,t,r,T))}}v.push("</Row>"),v.length>2&&h.push(v.join(""))}return h.join("")}function MV(n,e,t){var r=[],i=t.SheetNames[n],o=t.Sheets[i],c=o?NV(o,e,n,t):"";return c.length>0&&r.push("<Names>"+c+"</Names>"),c=o?kV(o,e,n,t):"",c.length>0&&r.push("<Table>"+c+"</Table>"),r.push(RV(o,e,n,t)),r.join("")}function PV(n,e){e||(e={}),n.SSF||(n.SSF=Vr(hn)),n.SSF&&(Nm(),bm(n.SSF),e.revssf=Rm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],Ao(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(AV(n,e)),t.push(SV()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Pe("Worksheet",MV(r,e,n),{"ss:Name":Lt(n.SheetNames[r])}));return t[2]=CV(n,e),t[3]=bV(n),Rn+Pe("Workbook",t.join(""),{xmlns:Zr.ss,"xmlns:o":Zr.o,"xmlns:x":Zr.x,"xmlns:ss":Zr.ss,"xmlns:dt":Zr.dt,"xmlns:html":Zr.html})}var e1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function jV(n,e){var t=[],r=[],i=[],o=0,c,h=PT(WT,"n"),m=PT(XT,"n");if(n.Props)for(c=nr(n.Props),o=0;o<c.length;++o)(Object.prototype.hasOwnProperty.call(h,c[o])?t:Object.prototype.hasOwnProperty.call(m,c[o])?r:i).push([c[o],n.Props[c[o]]]);if(n.Custprops)for(c=nr(n.Custprops),o=0;o<c.length;++o)Object.prototype.hasOwnProperty.call(n.Props||{},c[o])||(Object.prototype.hasOwnProperty.call(h,c[o])?t:Object.prototype.hasOwnProperty.call(m,c[o])?r:i).push([c[o],n.Custprops[c[o]]]);var d=[];for(o=0;o<i.length;++o)t4.indexOf(i[o][0])>-1||JC.indexOf(i[o][0])>-1||i[o][1]!=null&&d.push(i[o]);r.length&&Ht.utils.cfb_add(e,"/SummaryInformation",ew(r,e1.SI,m,XT)),(t.length||d.length)&&Ht.utils.cfb_add(e,"/DocumentSummaryInformation",ew(t,e1.DSI,h,WT,d.length?d:null,e1.UDI))}function FV(n,e){var t=e||{},r=Ht.utils.cfb_new({root:"R"}),i="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":i="/Workbook",t.biff=8;break;case"biff5":i="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Ht.utils.cfb_add(r,i,O4(n,t)),t.biff==8&&(n.Props||n.Custprops)&&jV(n,r),t.biff==8&&n.vbaraw&&tL(r,Ht.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var LV={0:{f:B9},1:{f:X9},2:{f:p7},3:{f:r7},4:{f:Z9},5:{f:h7},6:{f:y7},7:{f:o7},8:{f:b7},9:{f:C7},10:{f:A7},11:{f:S7},12:{f:Q9},13:{f:v7},14:{f:i7},15:{f:t7},16:{f:d7},17:{f:T7},18:{f:c7},19:{f:Zv},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:fV},40:{},42:{},43:{f:yF},44:{f:_F},45:{f:wF},46:{f:SF},47:{f:AF},48:{},49:{f:QP},50:{},51:{f:BF},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Jj},62:{f:x7},63:{f:$F},64:{f:q7},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:_i,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:V7},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:$9},148:{f:H9,p:16},151:{f:k7},152:{},153:{f:uV},154:{},155:{},156:{f:lV},157:{},158:{},159:{T:1,f:lF},160:{T:-1},161:{T:1,f:Cl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:N7},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:VF},336:{T:-1},337:{f:HF,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:V1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Kj},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:M7},427:{f:P7},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:F7},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:K9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:D7},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:V1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:JF},633:{T:1},634:{T:-1},635:{T:1,f:YF},636:{T:-1},637:{f:tj},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nV},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:H7},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function je(n,e,t,r){var i=e;if(!isNaN(i)){var o=r||(t||[]).length||0,c=n.next(4);c.write_shift(2,i),c.write_shift(2,o),o>0&&Yv(t)&&n.push(t)}}function VV(n,e,t,r){var i=(t||[]).length||0;if(i<=8224)return je(n,e,t,i);var o=e;if(!isNaN(o)){for(var c=t.parts||[],h=0,m=0,d=0;d+(c[h]||8224)<=8224;)d+=c[h]||8224,h++;var v=n.next(4);for(v.write_shift(2,o),v.write_shift(2,d),n.push(t.slice(m,m+d)),m+=d;m<i;){for(v=n.next(4),v.write_shift(2,60),d=0;d+(c[h]||8224)<=8224;)d+=c[h]||8224,h++;v.write_shift(2,d),n.push(t.slice(m,m+d)),m+=d}}}function _f(n,e,t){return n||(n=Ee(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function UV(n,e,t,r){var i=Ee(9);return _f(i,n,e),r4(t,r||"b",i),i}function BV(n,e,t){var r=Ee(8+2*t.length);return _f(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function zV(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Lr(Ar(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?je(n,2,nF(t,r,i)):je(n,3,tF(t,r,i));return;case"b":case"e":je(n,5,UV(t,r,e.v,e.t));return;case"s":case"str":je(n,4,BV(t,r,(e.v||"").slice(0,255)));return}je(n,1,_f(null,t,r))}function qV(n,e,t,r){var i=Array.isArray(e),o=Zt(e["!ref"]||"A1"),c,h="",m=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),c=Nn(o)}for(var d=o.s.r;d<=o.e.r;++d){h=er(d);for(var v=o.s.c;v<=o.e.c;++v){d===o.s.r&&(m[v]=ur(v)),c=m[v]+h;var x=i?(e[d]||[])[v]:e[c];x&&zV(n,x,d,v)}}}function HV(n,e){for(var t=e||{},r=Fr(),i=0,o=0;o<n.SheetNames.length;++o)n.SheetNames[o]==t.sheet&&(i=o);if(i==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return je(r,t.biff==4?1033:t.biff==3?521:9,n_(n,16,t)),qV(r,n.Sheets[n.SheetNames[i]],i,t),je(r,10),r.end()}function GV(n,e,t){je(n,49,Lj({sz:12,name:"Arial"},t))}function KV(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var i=r[0];i<=r[1];++i)e[i]!=null&&je(n,1054,Bj(i,e[i],t))})}function $V(n,e){var t=Ee(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),je(n,2151,t),t=Ee(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),s4(Zt(e["!ref"]||"A1"),t),t.write_shift(4,4),je(n,2152,t)}function WV(n,e){for(var t=0;t<16;++t)je(n,224,nw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){je(n,224,nw(r,0,e))})}function XV(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];je(n,440,Xj(r)),r[1].Tooltip&&je(n,2048,Yj(r))}delete e["!links"]}function YV(n,e){if(e){var t=0;e.forEach(function(r,i){++t<=256&&r&&je(n,125,Zj(km(i,r),i))})}}function QV(n,e,t,r,i){var o=16+Ao(i.cellXfs,e,i);if(e.v==null&&!e.bf){je(n,513,gl(t,r,o));return}if(e.bf)je(n,6,E9(e,t,r,i,o));else switch(e.t){case"d":case"n":var c=e.t=="d"?Lr(Ar(e.v)):e.v;je(n,515,Gj(t,r,c,o));break;case"b":case"e":je(n,517,Hj(t,r,e.v,o,i,e.t));break;case"s":case"str":if(i.bookSST){var h=o_(i.Strings,e.v,i.revStrings);je(n,253,Vj(t,r,h,o))}else je(n,516,Uj(t,r,(e.v||"").slice(0,255),o,i));break;default:je(n,513,gl(t,r,o))}}function JV(n,e,t){var r=Fr(),i=t.SheetNames[n],o=t.Sheets[i]||{},c=(t||{}).Workbook||{},h=(c.Sheets||[])[n]||{},m=Array.isArray(o),d=e.biff==8,v,x="",y=[],T=Zt(o["!ref"]||"A1"),N=d?65536:16384;if(T.e.c>255||T.e.r>=N){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");T.e.c=Math.min(T.e.c,255),T.e.r=Math.min(T.e.c,N-1)}je(r,2057,n_(t,16,e)),je(r,13,xa(1)),je(r,12,xa(100)),je(r,15,Er(!0)),je(r,17,Er(!1)),je(r,16,pl(.001)),je(r,95,Er(!0)),je(r,42,Er(!1)),je(r,43,Er(!1)),je(r,130,xa(1)),je(r,128,qj()),je(r,131,Er(!1)),je(r,132,Er(!1)),d&&YV(r,o["!cols"]),je(r,512,zj(T,e)),d&&(o["!links"]=[]);for(var A=T.s.r;A<=T.e.r;++A){x=er(A);for(var b=T.s.c;b<=T.e.c;++b){A===T.s.r&&(y[b]=ur(b)),v=y[b]+x;var P=m?(o[A]||[])[b]:o[v];P&&(QV(r,P,A,b,e),d&&P.l&&o["!links"].push([v,P.l]))}}var z=h.CodeName||h.name||i;return d&&je(r,574,Fj((c.Views||[])[0])),d&&(o["!merges"]||[]).length&&je(r,229,Wj(o["!merges"])),d&&XV(r,o),je(r,442,i4(z)),d&&$V(r,o),je(r,10),r.end()}function ZV(n,e,t){var r=Fr(),i=(n||{}).Workbook||{},o=i.Sheets||[],c=i.WBProps||{},h=t.biff==8,m=t.biff==5;if(je(r,2057,n_(n,5,t)),t.bookType=="xla"&&je(r,135),je(r,225,h?xa(1200):null),je(r,193,Aj(2)),m&&je(r,191),m&&je(r,192),je(r,226),je(r,92,kj("SheetJS",t)),je(r,66,xa(h?1200:1252)),h&&je(r,353,xa(0)),h&&je(r,448),je(r,317,eF(n.SheetNames.length)),h&&n.vbaraw&&je(r,211),h&&n.vbaraw){var d=c.CodeName||"ThisWorkbook";je(r,442,i4(d))}je(r,156,xa(17)),je(r,25,Er(!1)),je(r,18,Er(!1)),je(r,19,xa(0)),h&&je(r,431,Er(!1)),h&&je(r,444,xa(0)),je(r,61,jj()),je(r,64,Er(!1)),je(r,141,xa(0)),je(r,34,Er(aV(n)=="true")),je(r,14,Er(!0)),h&&je(r,439,Er(!1)),je(r,218,xa(0)),GV(r,n,t),KV(r,n.SSF,t),WV(r,t),h&&je(r,352,Er(!1));var v=r.end(),x=Fr();h&&je(x,140,Qj()),h&&t.Strings&&VV(x,252,Pj(t.Strings)),je(x,10);var y=x.end(),T=Fr(),N=0,A=0;for(A=0;A<n.SheetNames.length;++A)N+=(h?12:11)+(h?2:1)*n.SheetNames[A].length;var b=v.length+N+y.length;for(A=0;A<n.SheetNames.length;++A){var P=o[A]||{};je(T,133,Mj({pos:b,hs:P.Hidden||0,dt:0,name:n.SheetNames[A]},t)),b+=e[A].length}var z=T.end();if(N!=z.length)throw new Error("BS8 "+N+" != "+z.length);var q=[];return v.length&&q.push(v),z.length&&q.push(z),y.length&&q.push(y),Jn(q)}function eU(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Vr(hn)),n&&n.SSF&&(Nm(),bm(n.SSF),t.revssf=Rm(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,l_(t),t.cellXfs=[],Ao(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var i=0;i<n.SheetNames.length;++i)r[r.length]=JV(i,t,n);return r.unshift(ZV(n,r,t)),Jn(r)}function O4(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var i=ra(r["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return eU(n,e);case 4:case 3:case 2:return HV(n,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function tU(n,e,t,r){for(var i=n["!merges"]||[],o=[],c=e.s.c;c<=e.e.c;++c){for(var h=0,m=0,d=0;d<i.length;++d)if(!(i[d].s.r>t||i[d].s.c>c)&&!(i[d].e.r<t||i[d].e.c<c)){if(i[d].s.r<t||i[d].s.c<c){h=-1;break}h=i[d].e.r-i[d].s.r+1,m=i[d].e.c-i[d].s.c+1;break}if(!(h<0)){var v=Vt({r:t,c}),x=r.dense?(n[t]||[])[c]:n[v],y=x&&x.v!=null&&(x.h||OP(x.w||(ls(x),x.w)||""))||"",T={};h>1&&(T.rowspan=h),m>1&&(T.colspan=m),r.editable?y='<span contenteditable="true">'+y+"</span>":x&&(T["data-t"]=x&&x.t||"z",x.v!=null&&(T["data-v"]=x.v),x.z!=null&&(T["data-z"]=x.z),x.l&&(x.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+x.l.Target+'">'+y+"</a>")),T.id=(r.id||"sjs")+"-"+v,o.push(Pe("td",y,T))}}var N="<tr>";return N+o.join("")+"</tr>"}var nU='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',rU="</body></html>";function aU(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function k4(n,e){var t=e||{},r=t.header!=null?t.header:nU,i=t.footer!=null?t.footer:rU,o=[r],c=ra(n["!ref"]);t.dense=Array.isArray(n),o.push(aU(n,c,t));for(var h=c.s.r;h<=c.e.r;++h)o.push(tU(n,c,h,t));return o.push("</table>"+i),o.join("")}function M4(n,e,t){var r=t||{},i=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")i=r.origin;else{var c=typeof r.origin=="string"?Un(r.origin):r.origin;i=c.r,o=c.c}var h=e.getElementsByTagName("tr"),m=Math.min(r.sheetRows||1e7,h.length),d={s:{r:0,c:0},e:{r:i,c:o}};if(n["!ref"]){var v=ra(n["!ref"]);d.s.r=Math.min(d.s.r,v.s.r),d.s.c=Math.min(d.s.c,v.s.c),d.e.r=Math.max(d.e.r,v.e.r),d.e.c=Math.max(d.e.c,v.e.c),i==-1&&(d.e.r=i=v.e.r+1)}var x=[],y=0,T=n["!rows"]||(n["!rows"]=[]),N=0,A=0,b=0,P=0,z=0,q=0;for(n["!cols"]||(n["!cols"]=[]);N<h.length&&A<m;++N){var ee=h[N];if(cw(ee)){if(r.display)continue;T[A]={hidden:!0}}var de=ee.children;for(b=P=0;b<de.length;++b){var _e=de[b];if(!(r.display&&cw(_e))){var R=_e.hasAttribute("data-v")?_e.getAttribute("data-v"):_e.hasAttribute("v")?_e.getAttribute("v"):jP(_e.innerHTML),I=_e.getAttribute("data-z")||_e.getAttribute("z");for(y=0;y<x.length;++y){var C=x[y];C.s.c==P+o&&C.s.r<A+i&&A+i<=C.e.r&&(P=C.e.c+1-o,y=-1)}q=+_e.getAttribute("colspan")||1,((z=+_e.getAttribute("rowspan")||1)>1||q>1)&&x.push({s:{r:A+i,c:P+o},e:{r:A+i+(z||1)-1,c:P+o+(q||1)-1}});var M={t:"s",v:R},j=_e.getAttribute("data-t")||_e.getAttribute("t")||"";R!=null&&(R.length==0?M.t=j||"z":r.raw||R.trim().length==0||j=="s"||(R==="TRUE"?M={t:"b",v:!0}:R==="FALSE"?M={t:"b",v:!1}:isNaN(Ji(R))?isNaN($h(R).getDate())||(M={t:"d",v:Ar(R)},r.cellDates||(M={t:"n",v:Lr(M.v)}),M.z=r.dateNF||hn[14]):M={t:"n",v:Ji(R)})),M.z===void 0&&I!=null&&(M.z=I);var O="",F=_e.getElementsByTagName("A");if(F&&F.length)for(var ae=0;ae<F.length&&!(F[ae].hasAttribute("href")&&(O=F[ae].getAttribute("href"),O.charAt(0)!="#"));++ae);O&&O.charAt(0)!="#"&&(M.l={Target:O}),r.dense?(n[A+i]||(n[A+i]=[]),n[A+i][P+o]=M):n[Vt({c:P+o,r:A+i})]=M,d.e.c<P+o&&(d.e.c=P+o),P+=q}}++A}return x.length&&(n["!merges"]=(n["!merges"]||[]).concat(x)),d.e.r=Math.max(d.e.r,A-1+i),n["!ref"]=Nn(d),A>=m&&(n["!fullref"]=Nn((d.e.r=h.length-N+A-1+i,d))),n}function P4(n,e){var t=e||{},r=t.dense?[]:{};return M4(r,n,e)}function iU(n,e){return Tl(P4(n,e),e)}function cw(n){var e="",t=sU(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function sU(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var oU=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Xh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Rn+e}})(),uw=(function(){var n=function(o){return Lt(o).replace(/  +/g,function(c){return'<text:s text:c="'+c.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(o,c,h){var m=[];m.push('      <table:table table:name="'+Lt(c.SheetNames[h])+`" table:style-name="ta1">
`);var d=0,v=0,x=ra(o["!ref"]||"A1"),y=o["!merges"]||[],T=0,N=Array.isArray(o);if(o["!cols"])for(v=0;v<=x.e.c;++v)m.push("        <table:table-column"+(o["!cols"][v]?' table:style-name="co'+o["!cols"][v].ods+'"':"")+`></table:table-column>
`);var A="",b=o["!rows"]||[];for(d=0;d<x.s.r;++d)A=b[d]?' table:style-name="ro'+b[d].ods+'"':"",m.push("        <table:table-row"+A+`></table:table-row>
`);for(;d<=x.e.r;++d){for(A=b[d]?' table:style-name="ro'+b[d].ods+'"':"",m.push("        <table:table-row"+A+`>
`),v=0;v<x.s.c;++v)m.push(e);for(;v<=x.e.c;++v){var P=!1,z={},q="";for(T=0;T!=y.length;++T)if(!(y[T].s.c>v)&&!(y[T].s.r>d)&&!(y[T].e.c<v)&&!(y[T].e.r<d)){(y[T].s.c!=v||y[T].s.r!=d)&&(P=!0),z["table:number-columns-spanned"]=y[T].e.c-y[T].s.c+1,z["table:number-rows-spanned"]=y[T].e.r-y[T].s.r+1;break}if(P){m.push(t);continue}var ee=Vt({r:d,c:v}),de=N?(o[d]||[])[v]:o[ee];if(de&&de.f&&(z["table:formula"]=Lt(b9(de.f)),de.F&&de.F.slice(0,ee.length)==ee)){var _e=ra(de.F);z["table:number-matrix-columns-spanned"]=_e.e.c-_e.s.c+1,z["table:number-matrix-rows-spanned"]=_e.e.r-_e.s.r+1}if(!de){m.push(e);continue}switch(de.t){case"b":q=de.v?"TRUE":"FALSE",z["office:value-type"]="boolean",z["office:boolean-value"]=de.v?"true":"false";break;case"n":q=de.w||String(de.v||0),z["office:value-type"]="float",z["office:value"]=de.v||0;break;case"s":case"str":q=de.v==null?"":de.v,z["office:value-type"]="string";break;case"d":q=de.w||Ar(de.v).toISOString(),z["office:value-type"]="date",z["office:date-value"]=Ar(de.v).toISOString(),z["table:style-name"]="ce1";break;default:m.push(e);continue}var R=n(q);if(de.l&&de.l.Target){var I=de.l.Target;I=I.charAt(0)=="#"?"#"+N9(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),R=Pe("text:a",R,{"xlink:href":I.replace(/&/g,"&amp;")})}m.push("          "+Pe("table:table-cell",Pe("text:p",R,{}),z)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},i=function(o,c){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var h=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!cols"]){for(var v=0;v<d["!cols"].length;++v)if(d["!cols"][v]){var x=d["!cols"][v];if(x.width==null&&x.wpx==null&&x.wch==null)continue;r_(x),x.ods=h;var y=d["!cols"][v].wpx+"px";o.push('  <style:style style:name="co'+h+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++h}}});var m=0;c.SheetNames.map(function(d){return c.Sheets[d]}).forEach(function(d){if(d&&d["!rows"]){for(var v=0;v<d["!rows"].length;++v)if(d["!rows"][v]){d["!rows"][v].ods=m;var x=d["!rows"][v].hpx+"px";o.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+x+`"/>
`),o.push(`  </style:style>
`),++m}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(c,h){var m=[Rn],d=Xh({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),v=Xh({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});h.bookType=="fods"?(m.push("<office:document"+d+v+`>
`),m.push(YC().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+d+`>
`),i(m,c),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var x=0;x!=c.SheetNames.length;++x)m.push(r(c.Sheets[c.SheetNames[x]],c,x));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),h.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}})();function j4(n,e){if(e.bookType=="fods")return uw(n,e);var t=Kv(),r="",i=[],o=[];return r="mimetype",ft(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",ft(t,r,uw(n,e)),i.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",ft(t,r,oU(n,e)),i.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",ft(t,r,Rn+YC()),i.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",ft(t,r,xj(o)),i.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",ft(t,r,vj(i)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Q0(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function lU(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):Va(Wh(n))}function cU(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function vo(n){var e=n.reduce(function(i,o){return i+o.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(i){t.set(i,r),r+=i.length}),t}function uU(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,i=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var o=0;i>=1;++o,i/=256)n[e+o]=i&255;n[e+15]|=t>=0?0:128}function Yh(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function jt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function Fc(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function On(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],i=Yh(n,t),o=i&7;i=Math.floor(i/8);var c=0,h;if(i==0)break;switch(o){case 0:{for(var m=t[0];n[t[0]++]>=128;);h=n.slice(m,t[0])}break;case 5:c=4,h=n.slice(t[0],t[0]+c),t[0]+=c;break;case 1:c=8,h=n.slice(t[0],t[0]+c),t[0]+=c;break;case 2:c=Yh(n,t),h=n.slice(t[0],t[0]+c),t[0]+=c;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(i," at offset ").concat(r))}var d={data:h,type:o};e[i]==null?e[i]=[d]:e[i].push(d)}return e}function Wn(n){var e=[];return n.forEach(function(t,r){t.forEach(function(i){i.data&&(e.push(jt(r*8+i.type)),i.type==2&&e.push(jt(i.data.length)),e.push(i.data))})}),vo(e)}function Fa(n){for(var e,t=[],r=[0];r[0]<n.length;){var i=Yh(n,r),o=On(n.slice(r[0],r[0]+i));r[0]+=i;var c={id:Fc(o[1][0].data),messages:[]};o[2].forEach(function(h){var m=On(h.data),d=Fc(m[3][0].data);c.messages.push({meta:m,data:n.slice(r[0],r[0]+d)}),r[0]+=d}),(e=o[3])!=null&&e[0]&&(c.merge=Fc(o[3][0].data)>>>0>0),t.push(c)}return t}function _c(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:jt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:jt(+!!t.merge),type:0}]);var i=[];t.messages.forEach(function(c){i.push(c.data),c.meta[3]=[{type:0,data:jt(c.data.length)}],r[2].push({data:Wn(c.meta),type:2})});var o=Wn(r);e.push(jt(o.length)),e.push(o),i.forEach(function(c){return e.push(c)})}),vo(e)}function hU(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=Yh(e,t),i=[];t[0]<e.length;){var o=e[t[0]]&3;if(o==0){var c=e[t[0]++]>>2;if(c<60)++c;else{var h=c-59;c=e[t[0]],h>1&&(c|=e[t[0]+1]<<8),h>2&&(c|=e[t[0]+2]<<16),h>3&&(c|=e[t[0]+3]<<24),c>>>=0,c++,t[0]+=h}i.push(e.slice(t[0],t[0]+c)),t[0]+=c;continue}else{var m=0,d=0;if(o==1?(d=(e[t[0]]>>2&7)+4,m=(e[t[0]++]&224)<<3,m|=e[t[0]++]):(d=(e[t[0]++]>>2)+1,o==2?(m=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(m=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),i=[vo(i)],m==0)throw new Error("Invalid offset 0");if(m>i[0].length)throw new Error("Invalid offset beyond length");if(d>=m)for(i.push(i[0].slice(-m)),d-=m;d>=i[i.length-1].length;)i.push(i[i.length-1]),d-=i[i.length-1].length;i.push(i[0].slice(-m,-m+d))}}var v=vo(i);if(v.length!=r)throw new Error("Unexpected length: ".concat(v.length," != ").concat(r));return v}function La(n){for(var e=[],t=0;t<n.length;){var r=n[t++],i=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(hU(r,n.slice(t,t+i))),t+=i}if(t!==n.length)throw new Error("data is not a valid framed stream!");return vo(e)}function xc(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),i=new Uint8Array(4);e.push(i);var o=jt(r),c=o.length;e.push(o),r<=60?(c++,e.push(new Uint8Array([r-1<<2]))):r<=256?(c+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(c+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(c+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(c+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),c+=r,i[0]=0,i[1]=c&255,i[2]=c>>8&255,i[3]=c>>16&255,t+=r}return vo(e)}function t1(n,e){var t=new Uint8Array(32),r=Q0(t),i=12,o=0;switch(t[0]=5,n.t){case"n":t[1]=2,uU(t,i,n.v),o|=1,i+=16;break;case"b":t[1]=6,r.setFloat64(i,n.v?1:0,!0),o|=2,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(i,e.indexOf(n.v),!0),o|=8,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,o,!0),t.slice(0,i)}function n1(n,e){var t=new Uint8Array(32),r=Q0(t),i=12,o=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(i,n.v,!0),o|=32,i+=8;break;case"b":t[2]=6,r.setFloat64(i,n.v?1:0,!0),o|=32,i+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(i,e.indexOf(n.v),!0),o|=16,i+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,o,!0),t.slice(0,i)}function Ks(n){var e=On(n);return Yh(e[1][0].data)}function fU(n,e,t){var r,i,o,c;if(!((r=n[6])!=null&&r[0])||!((i=n[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var h=((c=(o=n[8])==null?void 0:o[0])==null?void 0:c.data)&&Fc(n[8][0].data)>0||!1;if(h)throw"Math only works with normal offsets";for(var m=0,d=Q0(n[7][0].data),v=0,x=[],y=Q0(n[4][0].data),T=0,N=[],A=0;A<e.length;++A){if(e[A]==null){d.setUint16(A*2,65535,!0),y.setUint16(A*2,65535);continue}d.setUint16(A*2,v,!0),y.setUint16(A*2,T,!0);var b,P;switch(typeof e[A]){case"string":b=t1({t:"s",v:e[A]},t),P=n1({t:"s",v:e[A]},t);break;case"number":b=t1({t:"n",v:e[A]},t),P=n1({t:"n",v:e[A]},t);break;case"boolean":b=t1({t:"b",v:e[A]},t),P=n1({t:"b",v:e[A]},t);break;default:throw new Error("Unsupported value "+e[A])}x.push(b),v+=b.length,N.push(P),T+=P.length,++m}for(n[2][0].data=jt(m);A<n[7][0].data.length/2;++A)d.setUint16(A*2,65535,!0),y.setUint16(A*2,65535,!0);return n[6][0].data=vo(x),n[3][0].data=vo(N),m}function dU(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=ra(t["!ref"]);r.s.r=r.s.c=0;var i=!1;r.e.c>9&&(i=!0,r.e.c=9),r.e.r>49&&(i=!0,r.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(Nn(r)));var o=J0(t,{range:r,header:1}),c=["~Sh33tJ5~"];o.forEach(function(J){return J.forEach(function(X){typeof X=="string"&&c.push(X)})});var h={},m=[],d=Ht.read(e.numbers,{type:"base64"});d.FileIndex.map(function(J,X){return[J,d.FullPaths[X]]}).forEach(function(J){var X=J[0],Q=J[1];if(X.type==2&&X.name.match(/\.iwa/)){var ge=X.content,Oe=La(ge),Be=Fa(Oe);Be.forEach(function(Me){m.push(Me.id),h[Me.id]={deps:[],location:Q,type:Fc(Me.messages[0].meta[1][0].data)}})}}),m.sort(function(J,X){return J-X});var v=m.filter(function(J){return J>1}).map(function(J){return[J,jt(J)]});d.FileIndex.map(function(J,X){return[J,d.FullPaths[X]]}).forEach(function(J){var X=J[0];if(J[1],!!X.name.match(/\.iwa/)){var Q=Fa(La(X.content));Q.forEach(function(ge){ge.messages.forEach(function(Oe){v.forEach(function(Be){ge.messages.some(function(Me){return Fc(Me.meta[1][0].data)!=11006&&cU(Me.data,Be[1])})&&h[Be[0]].deps.push(ge.id)})})})}});for(var x=Ht.find(d,h[1].location),y=Fa(La(x.content)),T,N=0;N<y.length;++N){var A=y[N];A.id==1&&(T=A)}var b=Ks(On(T.messages[0].data)[1][0].data);for(x=Ht.find(d,h[b].location),y=Fa(La(x.content)),N=0;N<y.length;++N)A=y[N],A.id==b&&(T=A);for(b=Ks(On(T.messages[0].data)[2][0].data),x=Ht.find(d,h[b].location),y=Fa(La(x.content)),N=0;N<y.length;++N)A=y[N],A.id==b&&(T=A);for(b=Ks(On(T.messages[0].data)[2][0].data),x=Ht.find(d,h[b].location),y=Fa(La(x.content)),N=0;N<y.length;++N)A=y[N],A.id==b&&(T=A);var P=On(T.messages[0].data);{P[6][0].data=jt(r.e.r+1),P[7][0].data=jt(r.e.c+1);var z=Ks(P[46][0].data),q=Ht.find(d,h[z].location),ee=Fa(La(q.content));{for(var de=0;de<ee.length&&ee[de].id!=z;++de);if(ee[de].id!=z)throw"Bad ColumnRowUIDMapArchive";var _e=On(ee[de].messages[0].data);_e[1]=[],_e[2]=[],_e[3]=[];for(var R=0;R<=r.e.c;++R){var I=[];I[1]=I[2]=[{type:0,data:jt(R+420690)}],_e[1].push({type:2,data:Wn(I)}),_e[2].push({type:0,data:jt(R)}),_e[3].push({type:0,data:jt(R)})}_e[4]=[],_e[5]=[],_e[6]=[];for(var C=0;C<=r.e.r;++C)I=[],I[1]=I[2]=[{type:0,data:jt(C+726270)}],_e[4].push({type:2,data:Wn(I)}),_e[5].push({type:0,data:jt(C)}),_e[6].push({type:0,data:jt(C)});ee[de].messages[0].data=Wn(_e)}q.content=xc(_c(ee)),q.size=q.content.length,delete P[46];var M=On(P[4][0].data);{M[7][0].data=jt(r.e.r+1);var j=On(M[1][0].data),O=Ks(j[2][0].data);q=Ht.find(d,h[O].location),ee=Fa(La(q.content));{if(ee[0].id!=O)throw"Bad HeaderStorageBucket";var F=On(ee[0].messages[0].data);for(C=0;C<o.length;++C){var ae=On(F[2][0].data);ae[1][0].data=jt(C),ae[4][0].data=jt(o[C].length),F[2][C]={type:F[2][0].type,data:Wn(ae)}}ee[0].messages[0].data=Wn(F)}q.content=xc(_c(ee)),q.size=q.content.length;var Ce=Ks(M[2][0].data);q=Ht.find(d,h[Ce].location),ee=Fa(La(q.content));{if(ee[0].id!=Ce)throw"Bad HeaderStorageBucket";for(F=On(ee[0].messages[0].data),R=0;R<=r.e.c;++R)ae=On(F[2][0].data),ae[1][0].data=jt(R),ae[4][0].data=jt(r.e.r+1),F[2][R]={type:F[2][0].type,data:Wn(ae)};ee[0].messages[0].data=Wn(F)}q.content=xc(_c(ee)),q.size=q.content.length;var te=Ks(M[4][0].data);(function(){for(var J=Ht.find(d,h[te].location),X=Fa(La(J.content)),Q,ge=0;ge<X.length;++ge){var Oe=X[ge];Oe.id==te&&(Q=Oe)}var Be=On(Q.messages[0].data);{Be[3]=[];var Me=[];c.forEach(function(Je,en){Me[1]=[{type:0,data:jt(en)}],Me[2]=[{type:0,data:jt(1)}],Me[3]=[{type:2,data:lU(Je)}],Be[3].push({type:2,data:Wn(Me)})})}Q.messages[0].data=Wn(Be);var re=_c(X),$e=xc(re);J.content=$e,J.size=J.content.length})();var ye=On(M[3][0].data);{var oe=ye[1][0];delete ye[2];var Ve=On(oe.data);{var et=Ks(Ve[2][0].data);(function(){for(var J=Ht.find(d,h[et].location),X=Fa(La(J.content)),Q,ge=0;ge<X.length;++ge){var Oe=X[ge];Oe.id==et&&(Q=Oe)}var Be=On(Q.messages[0].data);{delete Be[6],delete ye[7];var Me=new Uint8Array(Be[5][0].data);Be[5]=[];for(var re=0,$e=0;$e<=r.e.r;++$e){var Je=On(Me);re+=fU(Je,o[$e],c),Je[1][0].data=jt($e),Be[5].push({data:Wn(Je),type:2})}Be[1]=[{type:0,data:jt(r.e.c+1)}],Be[2]=[{type:0,data:jt(r.e.r+1)}],Be[3]=[{type:0,data:jt(re)}],Be[4]=[{type:0,data:jt(r.e.r+1)}]}Q.messages[0].data=Wn(Be);var en=_c(X),ut=xc(en);J.content=ut,J.size=J.content.length})()}oe.data=Wn(Ve)}M[3][0].data=Wn(ye)}P[4][0].data=Wn(M)}T.messages[0].data=Wn(P);var Z=_c(y),L=xc(Z);return x.content=L,x.size=x.content.length,d}function mU(n){return function(t){for(var r=0;r!=n.length;++r){var i=n[r];t[i[0]]===void 0&&(t[i[0]]=i[1]),i[2]==="n"&&(t[i[0]]=Number(t[i[0]]))}}}function l_(n){mU([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function pU(n,e){return e.bookType=="ods"?j4(n,e):e.bookType=="numbers"?dU(n,e):e.bookType=="xlsb"?gU(n,e):vU(n,e)}function gU(n,e){bc=1024,n&&!n.SSF&&(n.SSF=Vr(hn)),n&&n.SSF&&(Nm(),bm(n.SSF),e.revssf=Rm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,kh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=_4.indexOf(e.bookType)>-1,i=$C();l_(e=e||{});var o=Kv(),c="",h=0;if(e.cellXfs=[],Ao(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",ft(o,c,QC(n.Props,e)),i.coreprops.push(c),Ft(e.rels,2,c,At.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var m=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&m.push(n.SheetNames[d]);n.Props.SheetNames=m}for(n.Props.Worksheets=n.Props.SheetNames.length,ft(o,c,ZC(n.Props)),i.extprops.push(c),Ft(e.rels,3,c,At.EXT_PROPS),n.Custprops!==n.Props&&nr(n.Custprops||{}).length>0&&(c="docProps/custom.xml",ft(o,c,e4(n.Custprops)),i.custprops.push(c),Ft(e.rels,4,c,At.CUST_PROPS)),h=1;h<=n.SheetNames.length;++h){var v={"!id":{}},x=n.Sheets[n.SheetNames[h-1]],y=(x||{})["!type"]||"sheet";switch(y){case"chart":default:c="xl/worksheets/sheet"+h+"."+t,ft(o,c,xV(h-1,c,e,n,v)),i.sheets.push(c),Ft(e.wbrels,-1,"worksheets/sheet"+h+"."+t,At.WS[0])}if(x){var T=x["!comments"],N=!1,A="";T&&T.length>0&&(A="xl/comments"+h+"."+t,ft(o,A,TV(T,A)),i.comments.push(A),Ft(v,-1,"../comments"+h+"."+t,At.CMNT),N=!0),x["!legacy"]&&N&&ft(o,"xl/drawings/vmlDrawing"+h+".vml",g4(h,x["!comments"])),delete x["!comments"],delete x["!legacy"]}v["!id"].rId1&&ft(o,XC(c),Pc(v))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,ft(o,c,EV(e.Strings,c,e)),i.strs.push(c),Ft(e.wbrels,-1,"sharedStrings."+t,At.SST)),c="xl/workbook."+t,ft(o,c,_V(n,c)),i.workbooks.push(c),Ft(e.rels,1,c,At.WB),c="xl/theme/theme1.xml",ft(o,c,m4(n.Themes,e)),i.themes.push(c),Ft(e.wbrels,-1,"theme/theme1.xml",At.THEME),c="xl/styles."+t,ft(o,c,yV(n,c,e)),i.styles.push(c),Ft(e.wbrels,-1,"styles."+t,At.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",ft(o,c,n.vbaraw),i.vba.push(c),Ft(e.wbrels,-1,"vbaProject.bin",At.VBA)),c="xl/metadata."+t,ft(o,c,wV(c)),i.metadata.push(c),Ft(e.wbrels,-1,"metadata."+t,At.XLMETA),ft(o,"[Content_Types].xml",WC(i,e)),ft(o,"_rels/.rels",Pc(e.rels)),ft(o,"xl/_rels/workbook."+t+".rels",Pc(e.wbrels)),delete e.revssf,delete e.ssf,o}function vU(n,e){bc=1024,n&&!n.SSF&&(n.SSF=Vr(hn)),n&&n.SSF&&(Nm(),bm(n.SSF),e.revssf=Rm(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,kh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=_4.indexOf(e.bookType)>-1,i=$C();l_(e=e||{});var o=Kv(),c="",h=0;if(e.cellXfs=[],Ao(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),c="docProps/core.xml",ft(o,c,QC(n.Props,e)),i.coreprops.push(c),Ft(e.rels,2,c,At.CORE_PROPS),c="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var m=[],d=0;d<n.SheetNames.length;++d)(n.Workbook.Sheets[d]||{}).Hidden!=2&&m.push(n.SheetNames[d]);n.Props.SheetNames=m}n.Props.Worksheets=n.Props.SheetNames.length,ft(o,c,ZC(n.Props)),i.extprops.push(c),Ft(e.rels,3,c,At.EXT_PROPS),n.Custprops!==n.Props&&nr(n.Custprops||{}).length>0&&(c="docProps/custom.xml",ft(o,c,e4(n.Custprops)),i.custprops.push(c),Ft(e.rels,4,c,At.CUST_PROPS));var v=["SheetJ5"];for(e.tcid=0,h=1;h<=n.SheetNames.length;++h){var x={"!id":{}},y=n.Sheets[n.SheetNames[h-1]],T=(y||{})["!type"]||"sheet";switch(T){case"chart":default:c="xl/worksheets/sheet"+h+"."+t,ft(o,c,b4(h-1,e,n,x)),i.sheets.push(c),Ft(e.wbrels,-1,"worksheets/sheet"+h+"."+t,At.WS[0])}if(y){var N=y["!comments"],A=!1,b="";if(N&&N.length>0){var P=!1;N.forEach(function(z){z[1].forEach(function(q){q.T==!0&&(P=!0)})}),P&&(b="xl/threadedComments/threadedComment"+h+"."+t,ft(o,b,WF(N,v,e)),i.threadedcomments.push(b),Ft(x,-1,"../threadedComments/threadedComment"+h+"."+t,At.TCMNT)),b="xl/comments"+h+"."+t,ft(o,b,v4(N)),i.comments.push(b),Ft(x,-1,"../comments"+h+"."+t,At.CMNT),A=!0}y["!legacy"]&&A&&ft(o,"xl/drawings/vmlDrawing"+h+".vml",g4(h,y["!comments"])),delete y["!comments"],delete y["!legacy"]}x["!id"].rId1&&ft(o,XC(c),Pc(x))}return e.Strings!=null&&e.Strings.length>0&&(c="xl/sharedStrings."+t,ft(o,c,l4(e.Strings,e)),i.strs.push(c),Ft(e.wbrels,-1,"sharedStrings."+t,At.SST)),c="xl/workbook."+t,ft(o,c,I4(n)),i.workbooks.push(c),Ft(e.rels,1,c,At.WB),c="xl/theme/theme1.xml",ft(o,c,m4(n.Themes,e)),i.themes.push(c),Ft(e.wbrels,-1,"theme/theme1.xml",At.THEME),c="xl/styles."+t,ft(o,c,f4(n,e)),i.styles.push(c),Ft(e.wbrels,-1,"styles."+t,At.STY),n.vbaraw&&r&&(c="xl/vbaProject.bin",ft(o,c,n.vbaraw),i.vba.push(c),Ft(e.wbrels,-1,"vbaProject.bin",At.VBA)),c="xl/metadata."+t,ft(o,c,p4()),i.metadata.push(c),Ft(e.wbrels,-1,"metadata."+t,At.XLMETA),v.length>1&&(c="xl/persons/person.xml",ft(o,c,XF(v)),i.people.push(c),Ft(e.wbrels,-1,"persons/person.xml",At.PEOPLE)),ft(o,"[Content_Types].xml",WC(i,e)),ft(o,"_rels/.rels",Pc(e.rels)),ft(o,"xl/_rels/workbook."+t+".rels",Pc(e.wbrels)),delete e.revssf,delete e.ssf,o}function _U(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=os(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function F4(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return mf(e.file,Ht.write(n,{type:bt?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Ht.write(n,e)}function xU(n,e){var t=Vr(e||{}),r=pU(n,t);return yU(r,t)}function yU(n,e){var t={},r=bt?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var i=n.FullPaths?Ht.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(Cm(i))}return e.password&&typeof encrypt_agile<"u"?F4(encrypt_agile(i,e.password),e):e.type==="file"?mf(e.file,i):e.type=="string"?Rh(i):i}function EU(n,e){var t=e||{},r=FV(n,t);return F4(r,t)}function li(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return Kh(Wh(r));case"binary":return Wh(r);case"string":return n;case"file":return mf(e.file,r,"utf8");case"buffer":return bt?hs(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):li(r,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function TU(n,e){switch(e.type){case"base64":return Kh(n);case"binary":return n;case"string":return n;case"file":return mf(e.file,n,"binary");case"buffer":return bt?hs(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function t0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?Kh(t):e.type=="string"?Rh(t):t;case"file":return mf(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function L4(n,e){Y8(),oV(n);var t=Vr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=L4(n,t);return t.type="array",Cm(r)}var i=0;if(t.sheet&&(typeof t.sheet=="number"?i=t.sheet:i=n.SheetNames.indexOf(t.sheet),!n.SheetNames[i]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return li(PV(n,t),t);case"slk":case"sylk":return li(aF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"htm":case"html":return li(k4(n.Sheets[n.SheetNames[i]],t),t);case"txt":return TU(U4(n.Sheets[n.SheetNames[i]],t),t);case"csv":return li(c_(n.Sheets[n.SheetNames[i]],t),t,"\uFEFF");case"dif":return li(iF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"dbf":return t0(rF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"prn":return li(sF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"rtf":return li(dF.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"eth":return li(o4.from_sheet(n.Sheets[n.SheetNames[i]],t),t);case"fods":return li(j4(n,t),t);case"wk1":return t0(rw.sheet_to_wk1(n.Sheets[n.SheetNames[i]],t),t);case"wk3":return t0(rw.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),t0(O4(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),EU(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return xU(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function wU(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function V4(n,e,t){var r={};return r.type="file",r.file=e,wU(r),L4(n,r)}function AU(n,e,t,r,i,o,c,h){var m=er(t),d=h.defval,v=h.raw||!Object.prototype.hasOwnProperty.call(h,"raw"),x=!0,y=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!c||n[t])for(var T=e.s.c;T<=e.e.c;++T){var N=c?n[t][T]:n[r[T]+m];if(N===void 0||N.t===void 0){if(d===void 0)continue;o[T]!=null&&(y[o[T]]=d);continue}var A=N.v;switch(N.t){case"z":if(A==null)break;continue;case"e":A=A==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+N.t)}if(o[T]!=null){if(A==null)if(N.t=="e"&&A===null)y[o[T]]=null;else if(d!==void 0)y[o[T]]=d;else if(v&&A===null)y[o[T]]=null;else continue;else y[o[T]]=v&&(N.t!=="n"||N.t==="n"&&h.rawNumbers!==!1)?A:ls(N,A,h);A!=null&&(x=!1)}}return{row:y,isempty:x}}function J0(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,i=1,o=[],c=0,h="",m={s:{r:0,c:0},e:{r:0,c:0}},d=e||{},v=d.range!=null?d.range:n["!ref"];switch(d.header===1?r=1:d.header==="A"?r=2:Array.isArray(d.header)?r=3:d.header==null&&(r=0),typeof v){case"string":m=Zt(v);break;case"number":m=Zt(n["!ref"]),m.s.r=v;break;default:m=v}r>0&&(i=0);var x=er(m.s.r),y=[],T=[],N=0,A=0,b=Array.isArray(n),P=m.s.r,z=0,q={};b&&!n[P]&&(n[P]=[]);var ee=d.skipHidden&&n["!cols"]||[],de=d.skipHidden&&n["!rows"]||[];for(z=m.s.c;z<=m.e.c;++z)if(!(ee[z]||{}).hidden)switch(y[z]=ur(z),t=b?n[P][z]:n[y[z]+x],r){case 1:o[z]=z-m.s.c;break;case 2:o[z]=y[z];break;case 3:o[z]=d.header[z-m.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),h=c=ls(t,null,d),A=q[c]||0,!A)q[c]=1;else{do h=c+"_"+A++;while(q[h]);q[c]=A,q[h]=1}o[z]=h}for(P=m.s.r+i;P<=m.e.r;++P)if(!(de[P]||{}).hidden){var _e=AU(n,m,P,y,r,o,b,d);(_e.isempty===!1||(r===1?d.blankrows!==!1:d.blankrows))&&(T[N++]=_e.row)}return T.length=N,T}var hw=/"/g;function SU(n,e,t,r,i,o,c,h){for(var m=!0,d=[],v="",x=er(t),y=e.s.c;y<=e.e.c;++y)if(r[y]){var T=h.dense?(n[t]||[])[y]:n[r[y]+x];if(T==null)v="";else if(T.v!=null){m=!1,v=""+(h.rawNumbers&&T.t=="n"?T.v:ls(T,null,h));for(var N=0,A=0;N!==v.length;++N)if((A=v.charCodeAt(N))===i||A===o||A===34||h.forceQuotes){v='"'+v.replace(hw,'""')+'"';break}v=="ID"&&(v='"ID"')}else T.f!=null&&!T.F?(m=!1,v="="+T.f,v.indexOf(",")>=0&&(v='"'+v.replace(hw,'""')+'"')):v="";d.push(v)}return h.blankrows===!1&&m?null:d.join(c)}function c_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var i=Zt(n["!ref"]),o=r.FS!==void 0?r.FS:",",c=o.charCodeAt(0),h=r.RS!==void 0?r.RS:`
`,m=h.charCodeAt(0),d=new RegExp((o=="|"?"\\|":o)+"+$"),v="",x=[];r.dense=Array.isArray(n);for(var y=r.skipHidden&&n["!cols"]||[],T=r.skipHidden&&n["!rows"]||[],N=i.s.c;N<=i.e.c;++N)(y[N]||{}).hidden||(x[N]=ur(N));for(var A=0,b=i.s.r;b<=i.e.r;++b)(T[b]||{}).hidden||(v=SU(n,i,b,x,c,m,o,r),v!=null&&(r.strip&&(v=v.replace(d,"")),(v||r.blankrows!==!1)&&t.push((A++?h:"")+v)));return delete r.dense,t.join("")}function U4(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=c_(n,e);return t}function CU(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var i=Zt(n["!ref"]),o="",c=[],h,m=[],d=Array.isArray(n);for(h=i.s.c;h<=i.e.c;++h)c[h]=ur(h);for(var v=i.s.r;v<=i.e.r;++v)for(o=er(v),h=i.s.c;h<=i.e.c;++h)if(e=c[h]+o,t=d?(n[v]||[])[h]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}m[m.length]=e+"="+r}return m}function B4(n,e,t){var r=t||{},i=+!r.skipHeader,o=n||{},c=0,h=0;if(o&&r.origin!=null)if(typeof r.origin=="number")c=r.origin;else{var m=typeof r.origin=="string"?Un(r.origin):r.origin;c=m.r,h=m.c}var d,v={s:{c:0,r:0},e:{c:h,r:c+e.length-1+i}};if(o["!ref"]){var x=Zt(o["!ref"]);v.e.c=Math.max(v.e.c,x.e.c),v.e.r=Math.max(v.e.r,x.e.r),c==-1&&(c=x.e.r+1,v.e.r=c+e.length-1+i)}else c==-1&&(c=0,v.e.r=e.length-1+i);var y=r.header||[],T=0;e.forEach(function(A,b){nr(A).forEach(function(P){(T=y.indexOf(P))==-1&&(y[T=y.length]=P);var z=A[P],q="z",ee="",de=Vt({c:h+T,r:c+b+i});d=Qh(o,de),z&&typeof z=="object"&&!(z instanceof Date)?o[de]=z:(typeof z=="number"?q="n":typeof z=="boolean"?q="b":typeof z=="string"?q="s":z instanceof Date?(q="d",r.cellDates||(q="n",z=Lr(z)),ee=r.dateNF||hn[14]):z===null&&r.nullError&&(q="e",z=0),d?(d.t=q,d.v=z,delete d.w,delete d.R,ee&&(d.z=ee)):o[de]=d={t:q,v:z},ee&&(d.z=ee))})}),v.e.c=Math.max(v.e.c,h+y.length-1);var N=er(c);if(i)for(T=0;T<y.length;++T)o[ur(T+h)+N]={t:"s",v:y[T]};return o["!ref"]=Nn(v),o}function bU(n,e){return B4(null,n,e)}function Qh(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Un(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Qh(n,Vt(e)):Qh(n,Vt({r:e,c:t||0}))}function NU(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function RU(){return{SheetNames:[],Sheets:{}}}function IU(n,e,t,r){var i=1;if(!t)for(;i<=65535&&n.SheetNames.indexOf(t="Sheet"+i)!=-1;++i,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);i=o&&+o[2]||0;var c=o&&o[1]||t;for(++i;i<=65535&&n.SheetNames.indexOf(t=c+i)!=-1;++i);}if(R4(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function DU(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=NU(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function OU(n,e){return n.z=e,n}function z4(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function kU(n,e,t){return z4(n,"#"+e,t)}function MU(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function PU(n,e,t,r){for(var i=typeof e!="string"?e:Zt(e),o=typeof e=="string"?e:Nn(e),c=i.s.r;c<=i.e.r;++c)for(var h=i.s.c;h<=i.e.c;++h){var m=Qh(n,c,h);m.t="n",m.F=o,delete m.v,c==i.s.r&&h==i.s.c&&(m.f=t,r&&(m.D=!0))}return n}var Lc={encode_col:ur,encode_row:er,encode_cell:Vt,encode_range:Nn,decode_col:Jv,decode_row:Qv,split_cell:YP,decode_cell:Un,decode_range:ra,format_cell:ls,sheet_add_aoa:BC,sheet_add_json:B4,sheet_add_dom:M4,aoa_to_sheet:lu,json_to_sheet:bU,table_to_sheet:P4,table_to_book:iU,sheet_to_csv:c_,sheet_to_txt:U4,sheet_to_json:J0,sheet_to_html:k4,sheet_to_formulae:CU,sheet_to_row_object_array:J0,sheet_get_cell:Qh,book_new:RU,book_append_sheet:IU,book_set_sheet_visibility:DU,cell_set_number_format:OU,cell_set_hyperlink:z4,cell_set_internal_link:kU,cell_add_comment:MU,sheet_set_array_formula:PU,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const jU=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState([]),[o,c]=W.useState([]),[h,m]=W.useState(new Map),[d,v]=W.useState(!0),[x,y]=W.useState(""),[T,N]=W.useState(!1),[A,b]=W.useState(!1),[P,z]=W.useState(null),[q,ee]=W.useState({nome:"",unidade:"",quantidadeDisponivel:0}),[de,_e]=W.useState(null),R=W.useCallback(async()=>{if(n){v(!0),y("");try{const[ae,Ce,te]=await Promise.all([nl.getEstoquesByObra(n),sl.getKitsByObra(n),j1.getProducoesFaltantesByObra(n)]);t(ae),i(Ce);const ye=new Map;Ce.forEach(oe=>{ye.set(oe.id,te.get(oe.id)||0)}),m(ye)}catch(ae){y(ae instanceof Error?ae.message:"Erro ao carregar dados")}finally{v(!1)}}},[n]),I=W.useCallback(()=>{if(r.length===0||e.length===0)return;const ae=nl.analisarKits(r,e,h);c(ae)},[r,e,h]);W.useEffect(()=>{n&&R()},[n,R]),W.useEffect(()=>{I()},[I]),W.useEffect(()=>(T||A?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[T,A]);const C=ae=>{ae?(z(ae),ee({nome:ae.nome,unidade:ae.unidade,quantidadeDisponivel:ae.quantidadeDisponivel})):(z(null),ee({nome:"",unidade:"",quantidadeDisponivel:0})),N(!0),_e(null)},M=async ae=>{if(ae.preventDefault(),!!n){y("");try{P?await nl.updateEstoque(P.id,q):await nl.createEstoque(n,q),await R(),N(!1),ee({nome:"",unidade:"",quantidadeDisponivel:0})}catch(Ce){y(Ce instanceof Error?Ce.message:"Erro ao salvar estoque")}}},j=async ae=>{if(window.confirm("Tem certeza que deseja excluir este estoque?"))try{await nl.deleteEstoque(ae),await R(),_e(null)}catch(Ce){y(Ce instanceof Error?Ce.message:"Erro ao excluir estoque")}},O=(ae,Ce)=>{const te=new Map(h);te.set(ae,Ce),m(te)},F=()=>{const ae=[];o.forEach(ye=>{ye.insumos.forEach(oe=>{ae.push({Kit:ye.kitNome,Vago:`Vago ${ye.vagaoNumero}`,"Produo Faltante":ye.producaoFaltante,Insumo:oe.nome,Unidade:oe.unidade,"Qtd por Unidade":oe.quantidadePorUnidade,"Qtd Total Necessria":oe.quantidadeTotal,"Qtd Alocada":oe.quantidadeAlocada,Dficit:oe.deficit,Status:oe.temAlerta?"ALERTA":"OK"})})});const Ce=Lc.json_to_sheet(ae),te=Lc.book_new();Lc.book_append_sheet(te,Ce,"Anlise de Estoque"),V4(te,`analise-estoque-${new Date().getTime()}.xlsx`)};return d?f.jsx("div",{className:"estoque-insumos-container",children:f.jsx("div",{className:"estoque-loading",children:"Carregando dados..."})}):f.jsxs("div",{className:"estoque-insumos-container",children:[f.jsxs("div",{className:"estoque-header",children:[f.jsxs("div",{className:"estoque-header-left",children:[f.jsx(P1,{size:32}),f.jsx("h1",{children:"Analise de Estoque de Insumos"})]}),f.jsxs("div",{className:"estoque-header-actions",children:[f.jsxs("button",{className:"btn-secondary-estoque",onClick:()=>b(!0),children:[f.jsx(AT,{size:18}),"Editar Produo Faltante"]}),f.jsxs("button",{className:"btn-add-estoque",onClick:()=>C(),children:[f.jsx(Sr,{size:20}),"Adicionar Insumo ao Estoque"]}),f.jsxs("button",{className:"btn-export-estoque",onClick:F,children:[f.jsx(iC,{size:20}),"Exportar Excel"]})]})]}),x&&f.jsxs("div",{className:"estoque-error-banner",children:[f.jsx(wr,{size:20}),f.jsx("span",{children:x}),f.jsx("button",{onClick:()=>{y(""),R()},children:f.jsx(Mn,{size:16})})]}),f.jsxs("div",{className:"estoque-summary",children:[f.jsx("h2",{children:"Estoque Disponvel"}),f.jsx("div",{className:"estoque-grid",children:e.length===0?f.jsxs("div",{className:"estoque-empty-card",children:[f.jsx(P1,{size:40}),f.jsx("p",{children:"Nenhum insumo cadastrado no estoque"})]}):e.map(ae=>f.jsxs("div",{className:"estoque-card",children:[f.jsxs("div",{className:"estoque-card-header",children:[f.jsx("h3",{children:ae.nome}),f.jsxs("div",{className:"estoque-card-menu",children:[f.jsx("button",{onClick:()=>_e(de===ae.id?null:ae.id),children:f.jsx(su,{size:20})}),de===ae.id&&f.jsxs("div",{className:"estoque-dropdown-menu",children:[f.jsxs("button",{onClick:()=>C(ae),children:[f.jsx(AT,{size:18}),"Editar"]}),f.jsxs("button",{onClick:()=>j(ae.id),children:[f.jsx(vi,{size:18}),"Excluir"]})]})]})]}),f.jsxs("div",{className:"estoque-card-body",children:[f.jsx("span",{className:"estoque-quantidade",children:ae.quantidadeDisponivel.toLocaleString("pt-BR")}),f.jsx("span",{className:"estoque-unidade",children:ae.unidade})]})]},ae.id))})]}),f.jsxs("div",{className:"analise-section",children:[f.jsx("h2",{children:"Anlise de Necessidade por Kit"}),o.length===0?f.jsxs("div",{className:"analise-empty",children:[f.jsx(wr,{size:48}),f.jsx("p",{children:"Nenhum kit para analisar"})]}):f.jsx("div",{className:"analise-list",children:o.map(ae=>f.jsxs("div",{className:`analise-card ${ae.temAlerta?"alerta":"ok"}`,children:[f.jsxs("div",{className:"analise-card-header",children:[f.jsxs("div",{className:"analise-info",children:[ae.temAlerta?f.jsx(Cc,{size:24,className:"icon-alerta"}):f.jsx(Bv,{size:24,className:"icon-ok"}),f.jsxs("div",{children:[f.jsx("h3",{children:ae.kitNome}),f.jsxs("span",{className:"analise-vagao",children:["Vago ",ae.vagaoNumero]}),f.jsxs("span",{className:"analise-producao",children:["Produo faltante: ",ae.producaoFaltante," ","apartamentos"]})]})]}),f.jsx("div",{className:"analise-status",children:ae.temAlerta?f.jsx("span",{className:"status-badge alerta",children:"ALERTA"}):f.jsx("span",{className:"status-badge ok",children:"OK"})})]}),f.jsx("div",{className:"analise-insumos",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Insumo"}),f.jsx("th",{children:"Unidade"}),f.jsx("th",{children:"Qtd/Un"}),f.jsx("th",{children:"Necessrio"}),f.jsx("th",{children:"Alocado"}),f.jsx("th",{children:"Dficit"})]})}),f.jsx("tbody",{children:ae.insumos.map((Ce,te)=>f.jsxs("tr",{className:Ce.temAlerta?"row-alerta":"",children:[f.jsx("td",{children:Ce.nome}),f.jsx("td",{children:Ce.unidade}),f.jsx("td",{children:Ce.quantidadePorUnidade}),f.jsx("td",{children:Ce.quantidadeTotal.toLocaleString("pt-BR")}),f.jsx("td",{children:Ce.quantidadeAlocada.toLocaleString("pt-BR")}),f.jsx("td",{children:Ce.deficit>0?f.jsx("span",{className:"deficit-valor",children:Ce.deficit.toLocaleString("pt-BR")}):"-"})]},te))})]})})]},ae.kitId))})]}),T&&M0.createPortal(f.jsx("div",{className:"estoque-modal-overlay",onClick:()=>N(!1),children:f.jsxs("div",{className:"estoque-modal-content",onClick:ae=>ae.stopPropagation(),children:[f.jsxs("div",{className:"estoque-modal-header",children:[f.jsxs("h2",{children:[P?"Editar":"Adicionar"," Insumo ao Estoque"]}),f.jsx("button",{className:"estoque-modal-close",onClick:()=>N(!1),children:f.jsx(Mn,{size:24})})]}),f.jsxs("form",{className:"estoque-modal-form",onSubmit:M,children:[f.jsxs("div",{className:"estoque-form-row",children:[f.jsxs("div",{className:"estoque-form-group",children:[f.jsx("label",{children:"Nome do insumo *"}),f.jsx("input",{type:"text",value:q.nome,onChange:ae=>ee({...q,nome:ae.target.value}),required:!0})]}),f.jsxs("div",{className:"estoque-form-group",children:[f.jsx("label",{children:"Unidade *"}),f.jsx("input",{type:"text",value:q.unidade,onChange:ae=>ee({...q,unidade:ae.target.value}),required:!0,placeholder:"m, kg, pea..."})]})]}),f.jsxs("div",{className:"estoque-form-group",children:[f.jsx("label",{children:"Quantidade disponvel *"}),f.jsx("input",{type:"number",min:0,step:"0.01",value:q.quantidadeDisponivel,onChange:ae=>ee({...q,quantidadeDisponivel:parseFloat(ae.target.value)||0}),required:!0})]}),f.jsxs("div",{className:"estoque-modal-actions",children:[f.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>N(!1),children:"Cancelar"}),f.jsx("button",{type:"submit",className:"btn-primary-modal",children:P?"Atualizar":"Adicionar"})]})]})]})}),document.body),A&&M0.createPortal(f.jsx("div",{className:"estoque-modal-overlay",onClick:()=>b(!1),children:f.jsxs("div",{className:"estoque-modal-content",onClick:ae=>ae.stopPropagation(),children:[f.jsxs("div",{className:"estoque-modal-header",children:[f.jsx("h2",{children:"Editar Produo Faltante por Kit"}),f.jsx("button",{className:"estoque-modal-close",onClick:()=>b(!1),children:f.jsx(Mn,{size:24})})]}),f.jsx("div",{className:"producao-modal-content",children:r.map(ae=>f.jsxs("div",{className:"producao-item",children:[f.jsxs("div",{className:"producao-item-info",children:[f.jsx("strong",{children:ae.nome}),f.jsxs("span",{children:["Vago ",ae.vagaoNumero]})]}),f.jsx("input",{type:"number",min:0,value:h.get(ae.id)||0,onChange:Ce=>O(ae.id,parseInt(Ce.target.value)||0),placeholder:"Apartamentos faltantes"})]},ae.id))}),f.jsxs("div",{className:"estoque-modal-actions",children:[f.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>b(!1),children:"Cancelar"}),f.jsx("button",{type:"button",className:"btn-primary-modal",onClick:async()=>{if(n)try{y(""),await j1.saveProducoesFaltantes(n,h),b(!1)}catch(ae){y(ae instanceof Error?ae.message:"Erro ao salvar produo faltante")}},children:"Salvar e Confirmar"})]})]})}),document.body)]})},FU=()=>{const{obraId:n}=us(),[e,t]=W.useState([]),[r,i]=W.useState([]),[o,c]=W.useState([]),[h,m]=W.useState(new Map),[d,v]=W.useState(!0),[x,y]=W.useState(""),T=W.useCallback(async()=>{if(n){v(!0),y("");try{const[b,P,z]=await Promise.all([nl.getEstoquesByObra(n),sl.getKitsByObra(n),j1.getProducoesFaltantesByObra(n)]);t(b),i(P);const q=new Map;P.forEach(ee=>{q.set(ee.id,z.get(ee.id)||0)}),m(q)}catch(b){y(b instanceof Error?b.message:"Erro ao carregar dados")}finally{v(!1)}}},[n]),N=W.useCallback(()=>{if(r.length===0||e.length===0){c([]);return}const P=nl.analisarKits(r,e,h).filter(z=>z.temAlerta);c(P)},[r,e,h]);W.useEffect(()=>{n&&T()},[n,T]),W.useEffect(()=>{N()},[N]);const A=()=>{const b=[];o.forEach(ee=>{ee.insumos.filter(_e=>_e.temAlerta).forEach(_e=>{b.push({Kit:ee.kitNome,Vago:`Vago ${ee.vagaoNumero}`,"Produo Faltante":ee.producaoFaltante,Insumo:_e.nome,Unidade:_e.unidade,"Qtd por Unidade":_e.quantidadePorUnidade,"Qtd Total Necessria":_e.quantidadeTotal,"Qtd Alocada":_e.quantidadeAlocada,Dficit:_e.deficit})})});const P=Lc.json_to_sheet(b),z=Lc.book_new();Lc.book_append_sheet(z,P,"Material Faltante");const q=[{wch:25},{wch:12},{wch:18},{wch:25},{wch:10},{wch:18},{wch:20},{wch:15},{wch:12}];P["!cols"]=q,V4(z,`material-faltante-${new Date().getTime()}.xlsx`)};return d?f.jsx("div",{className:"material-faltante-container",children:f.jsxs("div",{className:"material-faltante-loading",children:[f.jsx(na,{size:48}),f.jsx("p",{children:"Carregando anlise de materiais faltantes..."})]})}):f.jsxs("div",{className:"material-faltante-container",children:[f.jsxs("div",{className:"material-faltante-header",children:[f.jsxs("div",{className:"material-faltante-header-left",children:[f.jsx(Cc,{size:32}),f.jsxs("div",{children:[f.jsx("h1",{children:"Material Faltante"}),f.jsx("p",{children:"Kits com dficit de insumos identificados"})]})]}),f.jsx("div",{className:"material-faltante-header-actions",children:f.jsxs("button",{className:"btn-export-material",onClick:A,disabled:o.length===0,children:[f.jsx(iC,{size:20}),"Exportar Excel"]})})]}),x&&f.jsxs("div",{className:"material-faltante-error",children:[f.jsx(Cc,{size:20}),f.jsx("span",{children:x}),f.jsx("button",{onClick:()=>{y(""),T()},children:f.jsx(Mn,{size:16})})]}),o.length===0?f.jsxs("div",{className:"material-faltante-empty",children:[f.jsx(Bv,{size:64}),f.jsx("h2",{children:"Nenhum Material Faltante!"}),f.jsx("p",{children:"Todos os kits tm insumos suficientes no estoque. No h dficit identificado no momento."})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"material-faltante-summary",children:[f.jsx(Cc,{size:40}),f.jsxs("div",{className:"material-faltante-summary-content",children:[f.jsx("h2",{children:"Ateno Necessria"}),f.jsxs("p",{children:[f.jsx("strong",{children:o.length})," ",o.length===1?"kit possui":"kits possuem"," ","falta de materiais. Revise e providencie os insumos necessrios."]})]})]}),f.jsx("div",{className:"material-faltante-list",children:o.map(b=>{const P=b.insumos.filter(z=>z.temAlerta);return f.jsxs("div",{className:"material-faltante-card",children:[f.jsxs("div",{className:"material-faltante-card-header",children:[f.jsxs("div",{className:"material-faltante-info",children:[f.jsx(Cc,{size:24}),f.jsxs("div",{children:[f.jsx("h3",{children:b.kitNome}),f.jsxs("span",{className:"material-faltante-vagao",children:["Vago ",b.vagaoNumero]}),f.jsxs("span",{className:"material-faltante-producao",children:["Produo faltante: ",b.producaoFaltante," ","apartamentos"]})]})]}),f.jsx("div",{className:"material-faltante-badge",children:"ALERTA"})]}),f.jsx("div",{className:"material-faltante-insumos",children:f.jsxs("table",{children:[f.jsx("thead",{children:f.jsxs("tr",{children:[f.jsx("th",{children:"Insumo Faltante"}),f.jsx("th",{children:"Unidade"}),f.jsx("th",{children:"Qtd/Un"}),f.jsx("th",{children:"Necessrio"}),f.jsx("th",{children:"Alocado"}),f.jsx("th",{children:"Dficit"})]})}),f.jsx("tbody",{children:P.map((z,q)=>f.jsxs("tr",{children:[f.jsx("td",{children:f.jsx("strong",{children:z.nome})}),f.jsx("td",{children:z.unidade}),f.jsx("td",{children:z.quantidadePorUnidade}),f.jsx("td",{children:z.quantidadeTotal.toLocaleString("pt-BR")}),f.jsx("td",{children:z.quantidadeAlocada.toLocaleString("pt-BR")}),f.jsx("td",{children:f.jsx("span",{className:"deficit-valor-material",children:z.deficit.toLocaleString("pt-BR")})})]},q))})]})})]},b.kitId)})})]})]})},LU=()=>f.jsxs("div",{className:"page-container",children:[f.jsxs("div",{className:"page-header",children:[f.jsx("h1",{children:"Mapa de Restries"}),f.jsx("p",{children:"Visualizao de restries e dependncias"})]}),f.jsx("div",{className:"page-content",children:f.jsx("p",{children:"Contedo do mdulo de Mapa de Restries ser implementado aqui."})})]});function VU(){return f.jsx(JM,{children:f.jsxs(RM,{children:[f.jsx(Dn,{path:$i.home,element:f.jsx(ST,{})}),f.jsx(Dn,{path:$i.login,element:f.jsx(ST,{})}),f.jsx(Dn,{path:$i.register,element:f.jsx(R8,{})}),f.jsx(Dn,{path:$i.dashboard,element:f.jsx(xr,{children:f.jsx(I8,{})})}),f.jsx(Dn,{path:"/obras/:obraId",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(Lv,{to:"vagoes",replace:!0})})})}),f.jsx(Dn,{path:"/obras/:obraId/vagoes",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(k8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/custo-vagoes",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(M8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/estoque-insumos",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(P8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/itens",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(j8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/contrato",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(L8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/kits",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx($8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/checklist-mensal",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(V8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/medicao",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(U8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/producao",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(B8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/producao-faltante",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(z8,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/estoque-kits",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(jU,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/material-faltante",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(FU,{})})})}),f.jsx(Dn,{path:"/obras/:obraId/mapa-restricoes",element:f.jsx(xr,{children:f.jsx(Mr,{children:f.jsx(LU,{})})})})]})})}function UU(){return f.jsx(Vk,{children:f.jsx(VU,{})})}bN.createRoot(document.getElementById("root")).render(f.jsx(W.StrictMode,{children:f.jsx(UU,{})}));
