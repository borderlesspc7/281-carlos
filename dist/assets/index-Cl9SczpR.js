(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=t(s);fetch(s.href,o)}})();var nv={exports:{}},wh={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function OI(){if(b2)return wh;b2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:n,type:r,key:u,ref:s!==void 0?s:null,props:o}}return wh.Fragment=e,wh.jsx=t,wh.jsxs=t,wh}var N2;function MI(){return N2||(N2=1,nv.exports=OI()),nv.exports}var l=MI(),rv={exports:{}},it={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C2;function PI(){if(C2)return it;C2=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.for("react.activity"),y=Symbol.iterator;function E(W){return W===null||typeof W!="object"?null:(W=y&&W[y]||W["@@iterator"],typeof W=="function"?W:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,S={};function k(W,V,Z){this.props=W,this.context=V,this.refs=S,this.updater=Z||b}k.prototype.isReactComponent={},k.prototype.setState=function(W,V){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,V,"setState")},k.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function D(){}D.prototype=k.prototype;function j(W,V,Z){this.props=W,this.context=V,this.refs=S,this.updater=Z||b}var X=j.prototype=new D;X.constructor=j,w(X,k.prototype),X.isPureReactComponent=!0;var te=Array.isArray;function ie(){}var I={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function N(W,V,Z){var Q=Z.ref;return{$$typeof:n,type:W,key:V,ref:Q!==void 0?Q:null,props:Z}}function F(W,V){return N(W.type,V,W.props)}function U(W){return typeof W=="object"&&W!==null&&W.$$typeof===n}function M(W){var V={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(Z){return V[Z]})}var B=/\/+/g;function J(W,V){return typeof W=="object"&&W!==null&&W.key!=null?M(""+W.key):V.toString(36)}function Ee(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(ie,ie):(W.status="pending",W.then(function(V){W.status==="pending"&&(W.status="fulfilled",W.value=V)},function(V){W.status==="pending"&&(W.status="rejected",W.reason=V)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function re(W,V,Z,Q,ee){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var De=!1;if(W===null)De=!0;else switch(pe){case"bigint":case"string":case"number":De=!0;break;case"object":switch(W.$$typeof){case n:case e:De=!0;break;case v:return De=W._init,re(De(W._payload),V,Z,Q,ee)}}if(De)return ee=ee(W),De=Q===""?"."+J(W,0):Q,te(ee)?(Z="",De!=null&&(Z=De.replace(B,"$&/")+"/"),re(ee,V,Z,"",function(se){return se})):ee!=null&&(U(ee)&&(ee=F(ee,Z+(ee.key==null||W&&W.key===ee.key?"":(""+ee.key).replace(B,"$&/")+"/")+De)),V.push(ee)),1;De=0;var Be=Q===""?".":Q+":";if(te(W))for(var Me=0;Me<W.length;Me++)Q=W[Me],pe=Be+J(Q,Me),De+=re(Q,V,Z,pe,ee);else if(Me=E(W),typeof Me=="function")for(W=Me.call(W),Me=0;!(Q=W.next()).done;)Q=Q.value,pe=Be+J(Q,Me++),De+=re(Q,V,Z,pe,ee);else if(pe==="object"){if(typeof W.then=="function")return re(Ee(W),V,Z,Q,ee);throw V=String(W),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return De}function xe(W,V,Z){if(W==null)return W;var Q=[],ee=0;return re(W,Q,"","",function(pe){return V.call(Z,pe,ee++)}),Q}function le(W){if(W._status===-1){var V=W._result;V=V(),V.then(function(Z){(W._status===0||W._status===-1)&&(W._status=1,W._result=Z)},function(Z){(W._status===0||W._status===-1)&&(W._status=2,W._result=Z)}),W._status===-1&&(W._status=0,W._result=V)}if(W._status===1)return W._result.default;throw W._result}var Le=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},Te={map:xe,forEach:function(W,V,Z){xe(W,function(){V.apply(this,arguments)},Z)},count:function(W){var V=0;return xe(W,function(){V++}),V},toArray:function(W){return xe(W,function(V){return V})||[]},only:function(W){if(!U(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return it.Activity=_,it.Children=Te,it.Component=k,it.Fragment=t,it.Profiler=s,it.PureComponent=j,it.StrictMode=r,it.Suspense=m,it.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,it.__COMPILER_RUNTIME={__proto__:null,c:function(W){return I.H.useMemoCache(W)}},it.cache=function(W){return function(){return W.apply(null,arguments)}},it.cacheSignal=function(){return null},it.cloneElement=function(W,V,Z){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var Q=w({},W.props),ee=W.key;if(V!=null)for(pe in V.key!==void 0&&(ee=""+V.key),V)!R.call(V,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&V.ref===void 0||(Q[pe]=V[pe]);var pe=arguments.length-2;if(pe===1)Q.children=Z;else if(1<pe){for(var De=Array(pe),Be=0;Be<pe;Be++)De[Be]=arguments[Be+2];Q.children=De}return N(W.type,ee,Q)},it.createContext=function(W){return W={$$typeof:u,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:o,_context:W},W},it.createElement=function(W,V,Z){var Q,ee={},pe=null;if(V!=null)for(Q in V.key!==void 0&&(pe=""+V.key),V)R.call(V,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(ee[Q]=V[Q]);var De=arguments.length-2;if(De===1)ee.children=Z;else if(1<De){for(var Be=Array(De),Me=0;Me<De;Me++)Be[Me]=arguments[Me+2];ee.children=Be}if(W&&W.defaultProps)for(Q in De=W.defaultProps,De)ee[Q]===void 0&&(ee[Q]=De[Q]);return N(W,pe,ee)},it.createRef=function(){return{current:null}},it.forwardRef=function(W){return{$$typeof:d,render:W}},it.isValidElement=U,it.lazy=function(W){return{$$typeof:v,_payload:{_status:-1,_result:W},_init:le}},it.memo=function(W,V){return{$$typeof:f,type:W,compare:V===void 0?null:V}},it.startTransition=function(W){var V=I.T,Z={};I.T=Z;try{var Q=W(),ee=I.S;ee!==null&&ee(Z,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(ie,Le)}catch(pe){Le(pe)}finally{V!==null&&Z.types!==null&&(V.types=Z.types),I.T=V}},it.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},it.use=function(W){return I.H.use(W)},it.useActionState=function(W,V,Z){return I.H.useActionState(W,V,Z)},it.useCallback=function(W,V){return I.H.useCallback(W,V)},it.useContext=function(W){return I.H.useContext(W)},it.useDebugValue=function(){},it.useDeferredValue=function(W,V){return I.H.useDeferredValue(W,V)},it.useEffect=function(W,V){return I.H.useEffect(W,V)},it.useEffectEvent=function(W){return I.H.useEffectEvent(W)},it.useId=function(){return I.H.useId()},it.useImperativeHandle=function(W,V,Z){return I.H.useImperativeHandle(W,V,Z)},it.useInsertionEffect=function(W,V){return I.H.useInsertionEffect(W,V)},it.useLayoutEffect=function(W,V){return I.H.useLayoutEffect(W,V)},it.useMemo=function(W,V){return I.H.useMemo(W,V)},it.useOptimistic=function(W,V){return I.H.useOptimistic(W,V)},it.useReducer=function(W,V,Z){return I.H.useReducer(W,V,Z)},it.useRef=function(W){return I.H.useRef(W)},it.useState=function(W){return I.H.useState(W)},it.useSyncExternalStore=function(W,V,Z){return I.H.useSyncExternalStore(W,V,Z)},it.useTransition=function(){return I.H.useTransition()},it.version="19.2.0",it}var I2;function S1(){return I2||(I2=1,rv.exports=PI()),rv.exports}var P=S1(),av={exports:{}},Ah={},sv={exports:{}},iv={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var R2;function FI(){return R2||(R2=1,(function(n){function e(re,xe){var le=re.length;re.push(xe);e:for(;0<le;){var Le=le-1>>>1,Te=re[Le];if(0<s(Te,xe))re[Le]=xe,re[le]=Te,le=Le;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var xe=re[0],le=re.pop();if(le!==xe){re[0]=le;e:for(var Le=0,Te=re.length,W=Te>>>1;Le<W;){var V=2*(Le+1)-1,Z=re[V],Q=V+1,ee=re[Q];if(0>s(Z,le))Q<Te&&0>s(ee,Z)?(re[Le]=ee,re[Q]=le,Le=Q):(re[Le]=Z,re[V]=le,Le=V);else if(Q<Te&&0>s(ee,le))re[Le]=ee,re[Q]=le,Le=Q;else break e}}return xe}function s(re,xe){var le=re.sortIndex-xe.sortIndex;return le!==0?le:re.id-xe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var m=[],f=[],v=1,_=null,y=3,E=!1,b=!1,w=!1,S=!1,k=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;function X(re){for(var xe=t(f);xe!==null;){if(xe.callback===null)r(f);else if(xe.startTime<=re)r(f),xe.sortIndex=xe.expirationTime,e(m,xe);else break;xe=t(f)}}function te(re){if(w=!1,X(re),!b)if(t(m)!==null)b=!0,ie||(ie=!0,M());else{var xe=t(f);xe!==null&&Ee(te,xe.startTime-re)}}var ie=!1,I=-1,R=5,N=-1;function F(){return S?!0:!(n.unstable_now()-N<R)}function U(){if(S=!1,ie){var re=n.unstable_now();N=re;var xe=!0;try{e:{b=!1,w&&(w=!1,D(I),I=-1),E=!0;var le=y;try{t:{for(X(re),_=t(m);_!==null&&!(_.expirationTime>re&&F());){var Le=_.callback;if(typeof Le=="function"){_.callback=null,y=_.priorityLevel;var Te=Le(_.expirationTime<=re);if(re=n.unstable_now(),typeof Te=="function"){_.callback=Te,X(re),xe=!0;break t}_===t(m)&&r(m),X(re)}else r(m);_=t(m)}if(_!==null)xe=!0;else{var W=t(f);W!==null&&Ee(te,W.startTime-re),xe=!1}}break e}finally{_=null,y=le,E=!1}xe=void 0}}finally{xe?M():ie=!1}}}var M;if(typeof j=="function")M=function(){j(U)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,J=B.port2;B.port1.onmessage=U,M=function(){J.postMessage(null)}}else M=function(){k(U,0)};function Ee(re,xe){I=k(function(){re(n.unstable_now())},xe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return y},n.unstable_next=function(re){switch(y){case 1:case 2:case 3:var xe=3;break;default:xe=y}var le=y;y=xe;try{return re()}finally{y=le}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(re,xe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var le=y;y=re;try{return xe()}finally{y=le}},n.unstable_scheduleCallback=function(re,xe,le){var Le=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?Le+le:Le):le=Le,re){case 1:var Te=-1;break;case 2:Te=250;break;case 5:Te=1073741823;break;case 4:Te=1e4;break;default:Te=5e3}return Te=le+Te,re={id:v++,callback:xe,priorityLevel:re,startTime:le,expirationTime:Te,sortIndex:-1},le>Le?(re.sortIndex=le,e(f,re),t(m)===null&&re===t(f)&&(w?(D(I),I=-1):w=!0,Ee(te,le-Le))):(re.sortIndex=Te,e(m,re),b||E||(b=!0,ie||(ie=!0,M()))),re},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(re){var xe=y;return function(){var le=y;y=xe;try{return re.apply(this,arguments)}finally{y=le}}}})(iv)),iv}var D2;function LI(){return D2||(D2=1,sv.exports=FI()),sv.exports}var ov={exports:{}},mr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j2;function VI(){if(j2)return mr;j2=1;var n=S1();function e(m){var f="https://react.dev/errors/"+m;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)f+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+m+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(m,f,v){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:_==null?null:""+_,children:m,containerInfo:f,implementation:v}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(m,f){if(m==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return mr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,mr.createPortal=function(m,f){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(e(299));return o(m,f,null,v)},mr.flushSync=function(m){var f=u.T,v=r.p;try{if(u.T=null,r.p=2,m)return m()}finally{u.T=f,r.p=v,r.d.f()}},mr.preconnect=function(m,f){typeof m=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,r.d.C(m,f))},mr.prefetchDNS=function(m){typeof m=="string"&&r.d.D(m)},mr.preinit=function(m,f){if(typeof m=="string"&&f&&typeof f.as=="string"){var v=f.as,_=d(v,f.crossOrigin),y=typeof f.integrity=="string"?f.integrity:void 0,E=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;v==="style"?r.d.S(m,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:_,integrity:y,fetchPriority:E}):v==="script"&&r.d.X(m,{crossOrigin:_,integrity:y,fetchPriority:E,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},mr.preinitModule=function(m,f){if(typeof m=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var v=d(f.as,f.crossOrigin);r.d.M(m,{crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&r.d.M(m)},mr.preload=function(m,f){if(typeof m=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var v=f.as,_=d(v,f.crossOrigin);r.d.L(m,v,{crossOrigin:_,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},mr.preloadModule=function(m,f){if(typeof m=="string")if(f){var v=d(f.as,f.crossOrigin);r.d.m(m,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:v,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else r.d.m(m)},mr.requestFormReset=function(m){r.d.r(m)},mr.unstable_batchedUpdates=function(m,f){return m(f)},mr.useFormState=function(m,f,v){return u.H.useFormState(m,f,v)},mr.useFormStatus=function(){return u.H.useHostTransitionStatus()},mr.version="19.2.0",mr}var k2;function mA(){if(k2)return ov.exports;k2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ov.exports=VI(),ov.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O2;function UI(){if(O2)return Ah;O2=1;var n=LI(),e=S1(),t=mA();function r(a){var i="https://react.dev/errors/"+a;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)i+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var i=a,c=a;if(a.alternate)for(;i.return;)i=i.return;else{a=i;do i=a,(i.flags&4098)!==0&&(c=i.return),a=i.return;while(a)}return i.tag===3?c:null}function u(a){if(a.tag===13){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function d(a){if(a.tag===31){var i=a.memoizedState;if(i===null&&(a=a.alternate,a!==null&&(i=a.memoizedState)),i!==null)return i.dehydrated}return null}function m(a){if(o(a)!==a)throw Error(r(188))}function f(a){var i=a.alternate;if(!i){if(i=o(a),i===null)throw Error(r(188));return i!==a?null:a}for(var c=a,h=i;;){var g=c.return;if(g===null)break;var x=g.alternate;if(x===null){if(h=g.return,h!==null){c=h;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===c)return m(g),a;if(x===h)return m(g),i;x=x.sibling}throw Error(r(188))}if(c.return!==h.return)c=g,h=x;else{for(var A=!1,L=g.child;L;){if(L===c){A=!0,c=g,h=x;break}if(L===h){A=!0,h=g,c=x;break}L=L.sibling}if(!A){for(L=x.child;L;){if(L===c){A=!0,c=x,h=g;break}if(L===h){A=!0,h=x,c=g;break}L=L.sibling}if(!A)throw Error(r(189))}}if(c.alternate!==h)throw Error(r(190))}if(c.tag!==3)throw Error(r(188));return c.stateNode.current===c?a:i}function v(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a;for(a=a.child;a!==null;){if(i=v(a),i!==null)return i;a=a.sibling}return null}var _=Object.assign,y=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),j=Symbol.for("react.context"),X=Symbol.for("react.forward_ref"),te=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function M(a){return a===null||typeof a!="object"?null:(a=U&&a[U]||a["@@iterator"],typeof a=="function"?a:null)}var B=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===B?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case w:return"Fragment";case k:return"Profiler";case S:return"StrictMode";case te:return"Suspense";case ie:return"SuspenseList";case N:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case j:return a.displayName||"Context";case D:return(a._context.displayName||"Context")+".Consumer";case X:var i=a.render;return a=a.displayName,a||(a=i.displayName||i.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case I:return i=a.displayName||null,i!==null?i:J(a.type)||"Memo";case R:i=a._payload,a=a._init;try{return J(a(i))}catch{}}return null}var Ee=Array.isArray,re=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},Le=[],Te=-1;function W(a){return{current:a}}function V(a){0>Te||(a.current=Le[Te],Le[Te]=null,Te--)}function Z(a,i){Te++,Le[Te]=a.current,a.current=i}var Q=W(null),ee=W(null),pe=W(null),De=W(null);function Be(a,i){switch(Z(pe,i),Z(ee,a),Z(Q,null),i.nodeType){case 9:case 11:a=(a=i.documentElement)&&(a=a.namespaceURI)?XE(a):0;break;default:if(a=i.tagName,i=i.namespaceURI)i=XE(i),a=YE(i,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}V(Q),Z(Q,a)}function Me(){V(Q),V(ee),V(pe)}function se(a){a.memoizedState!==null&&Z(De,a);var i=Q.current,c=YE(i,a.type);i!==c&&(Z(ee,a),Z(Q,c))}function Xe(a){ee.current===a&&(V(Q),V(ee)),De.current===a&&(V(De),_h._currentValue=le)}var tt,an;function ut(a){if(tt===void 0)try{throw Error()}catch(c){var i=c.stack.trim().match(/\n( *(at )?)/);tt=i&&i[1]||"",an=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tt+a+an}var wr=!1;function Rt(a,i){if(!a||wr)return"";wr=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(i){var Ce=function(){throw Error()};if(Object.defineProperty(Ce.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ce,[])}catch(ye){var ve=ye}Reflect.construct(a,[],Ce)}else{try{Ce.call()}catch(ye){ve=ye}a.call(Ce.prototype)}}else{try{throw Error()}catch(ye){ve=ye}(Ce=a())&&typeof Ce.catch=="function"&&Ce.catch(function(){})}}catch(ye){if(ye&&ve&&typeof ye.stack=="string")return[ye.stack,ve.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var x=h.DetermineComponentFrameRoot(),A=x[0],L=x[1];if(A&&L){var ne=A.split(`
`),fe=L.split(`
`);for(g=h=0;h<ne.length&&!ne[h].includes("DetermineComponentFrameRoot");)h++;for(;g<fe.length&&!fe[g].includes("DetermineComponentFrameRoot");)g++;if(h===ne.length||g===fe.length)for(h=ne.length-1,g=fe.length-1;1<=h&&0<=g&&ne[h]!==fe[g];)g--;for(;1<=h&&0<=g;h--,g--)if(ne[h]!==fe[g]){if(h!==1||g!==1)do if(h--,g--,0>g||ne[h]!==fe[g]){var Se=`
`+ne[h].replace(" at new "," at ");return a.displayName&&Se.includes("<anonymous>")&&(Se=Se.replace("<anonymous>",a.displayName)),Se}while(1<=h&&0<=g);break}}}finally{wr=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ut(c):""}function He(a,i){switch(a.tag){case 26:case 27:case 5:return ut(a.type);case 16:return ut("Lazy");case 13:return a.child!==i&&i!==null?ut("Suspense Fallback"):ut("Suspense");case 19:return ut("SuspenseList");case 0:case 15:return Rt(a.type,!1);case 11:return Rt(a.type.render,!1);case 1:return Rt(a.type,!0);case 31:return ut("Activity");default:return""}}function zn(a){try{var i="",c=null;do i+=He(a,c),c=a,a=a.return;while(a);return i}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var Dt=Object.prototype.hasOwnProperty,Wt=n.unstable_scheduleCallback,Ar=n.unstable_cancelCallback,Xl=n.unstable_shouldYield,ji=n.unstable_requestPaint,Qt=n.unstable_now,xa=n.unstable_getCurrentPriorityLevel,Vs=n.unstable_ImmediatePriority,Us=n.unstable_UserBlockingPriority,hr=n.unstable_NormalPriority,Cu=n.unstable_LowPriority,Ho=n.unstable_IdlePriority,Go=n.log,$o=n.unstable_setDisableYieldValue,Mr=null,bn=null;function Sr(a){if(typeof Go=="function"&&$o(a),bn&&typeof bn.setStrictMode=="function")try{bn.setStrictMode(Mr,a)}catch{}}var un=Math.clz32?Math.clz32:Ko,Yl=Math.log,Bs=Math.LN2;function Ko(a){return a>>>=0,a===0?32:31-(Yl(a)/Bs|0)|0}var Yr=256,zs=262144,mn=4194304;function br(a){var i=a&42;if(i!==0)return i;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return a&261888;case 262144:case 524288:case 1048576:case 2097152:return a&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function _a(a,i,c){var h=a.pendingLanes;if(h===0)return 0;var g=0,x=a.suspendedLanes,A=a.pingedLanes;a=a.warmLanes;var L=h&134217727;return L!==0?(h=L&~x,h!==0?g=br(h):(A&=L,A!==0?g=br(A):c||(c=L&~a,c!==0&&(g=br(c))))):(L=h&~x,L!==0?g=br(L):A!==0?g=br(A):c||(c=h&~a,c!==0&&(g=br(c)))),g===0?0:i!==0&&i!==g&&(i&x)===0&&(x=g&-g,c=i&-i,x>=c||x===32&&(c&4194048)!==0)?i:g}function Qr(a,i){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&i)===0}function Iu(a,i){switch(a){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ql(){var a=mn;return mn<<=1,(mn&62914560)===0&&(mn=4194304),a}function ya(a){for(var i=[],c=0;31>c;c++)i.push(a);return i}function qs(a,i){a.pendingLanes|=i,i!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Ru(a,i,c,h,g,x){var A=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var L=a.entanglements,ne=a.expirationTimes,fe=a.hiddenUpdates;for(c=A&~c;0<c;){var Se=31-un(c),Ce=1<<Se;L[Se]=0,ne[Se]=-1;var ve=fe[Se];if(ve!==null)for(fe[Se]=null,Se=0;Se<ve.length;Se++){var ye=ve[Se];ye!==null&&(ye.lane&=-536870913)}c&=~Ce}h!==0&&Hs(a,h,0),x!==0&&g===0&&a.tag!==0&&(a.suspendedLanes|=x&~(A&~i))}function Hs(a,i,c){a.pendingLanes|=i,a.suspendedLanes&=~i;var h=31-un(i);a.entangledLanes|=i,a.entanglements[h]=a.entanglements[h]|1073741824|c&261930}function Gs(a,i){var c=a.entangledLanes|=i;for(a=a.entanglements;c;){var h=31-un(c),g=1<<h;g&i|a[h]&i&&(a[h]|=i),c&=~g}}function Wo(a,i){var c=i&-i;return c=(c&42)!==0?1:$s(c),(c&(a.suspendedLanes|i))!==0?0:c}function $s(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Ua(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function O(){var a=xe.p;return a!==0?a:(a=window.event,a===void 0?32:_2(a.type))}function K(a,i){var c=xe.p;try{return xe.p=a,i()}finally{xe.p=c}}var z=Math.random().toString(36).slice(2),H="__reactFiber$"+z,G="__reactProps$"+z,Y="__reactContainer$"+z,he="__reactEvents$"+z,Ae="__reactListeners$"+z,de="__reactHandles$"+z,ge="__reactResources$"+z,me="__reactMarker$"+z;function ke(a){delete a[H],delete a[G],delete a[he],delete a[Ae],delete a[de]}function Oe(a){var i=a[H];if(i)return i;for(var c=a.parentNode;c;){if(i=c[Y]||c[H]){if(c=i.alternate,i.child!==null||c!==null&&c.child!==null)for(a=r2(a);a!==null;){if(c=a[H])return c;a=r2(a)}return i}a=c,c=a.parentNode}return null}function ze(a){if(a=a[H]||a[Y]){var i=a.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return a}return null}function je(a){var i=a.tag;if(i===5||i===26||i===27||i===6)return a.stateNode;throw Error(r(33))}function Ue(a){var i=a[ge];return i||(i=a[ge]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function We(a){a[me]=!0}var kt=new Set,Ot={};function Xt(a,i){dr(a,i),dr(a+"Capture",i)}function dr(a,i){for(Ot[a]=i,a=0;a<i.length;a++)kt.add(i[a])}var Ba=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),za={},Jr={};function ki(a){return Dt.call(Jr,a)?!0:Dt.call(za,a)?!1:Ba.test(a)?Jr[a]=!0:(za[a]=!0,!1)}function fr(a,i,c){if(ki(i))if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(i);return;case"boolean":var h=i.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){a.removeAttribute(i);return}}a.setAttribute(i,""+c)}}function Zr(a,i,c){if(c===null)a.removeAttribute(i);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(i);return}a.setAttribute(i,""+c)}}function Nn(a,i,c,h){if(h===null)a.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(i,c,""+h)}}function qn(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function Oi(a){var i=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Du(a,i,c){var h=Object.getOwnPropertyDescriptor(a.constructor.prototype,i);if(!a.hasOwnProperty(i)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var g=h.get,x=h.set;return Object.defineProperty(a,i,{configurable:!0,get:function(){return g.call(this)},set:function(A){c=""+A,x.call(this,A)}}),Object.defineProperty(a,i,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(A){c=""+A},stopTracking:function(){a._valueTracker=null,delete a[i]}}}}function Mt(a){if(!a._valueTracker){var i=Oi(a)?"checked":"value";a._valueTracker=Du(a,i,""+a[i])}}function Xo(a){if(!a)return!1;var i=a._valueTracker;if(!i)return!0;var c=i.getValue(),h="";return a&&(h=Oi(a)?a.checked?"true":"false":a.value),a=h,a!==c?(i.setValue(a),!0):!1}function hs(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var Yo=/[\n"\\]/g;function Pr(a){return a.replace(Yo,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function Jl(a,i,c,h,g,x,A,L){a.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?a.type=A:a.removeAttribute("type"),i!=null?A==="number"?(i===0&&a.value===""||a.value!=i)&&(a.value=""+qn(i)):a.value!==""+qn(i)&&(a.value=""+qn(i)):A!=="submit"&&A!=="reset"||a.removeAttribute("value"),i!=null?ju(a,A,qn(i)):c!=null?ju(a,A,qn(c)):h!=null&&a.removeAttribute("value"),g==null&&x!=null&&(a.defaultChecked=!!x),g!=null&&(a.checked=g&&typeof g!="function"&&typeof g!="symbol"),L!=null&&typeof L!="function"&&typeof L!="symbol"&&typeof L!="boolean"?a.name=""+qn(L):a.removeAttribute("name")}function zd(a,i,c,h,g,x,A,L){if(x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(a.type=x),i!=null||c!=null){if(!(x!=="submit"&&x!=="reset"||i!=null)){Mt(a);return}c=c!=null?""+qn(c):"",i=i!=null?""+qn(i):c,L||i===a.value||(a.value=i),a.defaultValue=i}h=h??g,h=typeof h!="function"&&typeof h!="symbol"&&!!h,a.checked=L?a.checked:!!h,a.defaultChecked=!!h,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(a.name=A),Mt(a)}function ju(a,i,c){i==="number"&&hs(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function Mi(a,i,c,h){if(a=a.options,i){i={};for(var g=0;g<c.length;g++)i["$"+c[g]]=!0;for(c=0;c<a.length;c++)g=i.hasOwnProperty("$"+a[c].value),a[c].selected!==g&&(a[c].selected=g),g&&h&&(a[c].defaultSelected=!0)}else{for(c=""+qn(c),i=null,g=0;g<a.length;g++){if(a[g].value===c){a[g].selected=!0,h&&(a[g].defaultSelected=!0);return}i!==null||a[g].disabled||(i=a[g])}i!==null&&(i.selected=!0)}}function qd(a,i,c){if(i!=null&&(i=""+qn(i),i!==a.value&&(a.value=i),c==null)){a.defaultValue!==i&&(a.defaultValue=i);return}a.defaultValue=c!=null?""+qn(c):""}function Pi(a,i,c,h){if(i==null){if(h!=null){if(c!=null)throw Error(r(92));if(Ee(h)){if(1<h.length)throw Error(r(93));h=h[0]}c=h}c==null&&(c=""),i=c}c=qn(i),a.defaultValue=c,h=a.textContent,h===c&&h!==""&&h!==null&&(a.value=h),Mt(a)}function Fr(a,i){if(i){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=i;return}}a.textContent=i}var Hd=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ku(a,i,c){var h=i.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?a.setProperty(i,""):i==="float"?a.cssFloat="":a[i]="":h?a.setProperty(i,c):typeof c!="number"||c===0||Hd.has(i)?i==="float"?a.cssFloat=c:a[i]=(""+c).trim():a[i]=c+"px"}function Ou(a,i,c){if(i!=null&&typeof i!="object")throw Error(r(62));if(a=a.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||i!=null&&i.hasOwnProperty(h)||(h.indexOf("--")===0?a.setProperty(h,""):h==="float"?a.cssFloat="":a[h]="");for(var g in i)h=i[g],i.hasOwnProperty(g)&&c[g]!==h&&ku(a,g,h)}else for(var x in i)i.hasOwnProperty(x)&&ku(a,x,i[x])}function Zl(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gd=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fi=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ec(a){return Fi.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}function qa(){}var Mu=null;function Ea(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Li=null,ds=null;function Qo(a){var i=ze(a);if(i&&(a=i.stateNode)){var c=a[G]||null;e:switch(a=i.stateNode,i.type){case"input":if(Jl(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),i=c.name,c.type==="radio"&&i!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Pr(""+i)+'"][type="radio"]'),i=0;i<c.length;i++){var h=c[i];if(h!==a&&h.form===a.form){var g=h[G]||null;if(!g)throw Error(r(90));Jl(h,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(i=0;i<c.length;i++)h=c[i],h.form===a.form&&Xo(h)}break e;case"textarea":qd(a,c.value,c.defaultValue);break e;case"select":i=c.value,i!=null&&Mi(a,!!c.multiple,i,!1)}}}var tc=!1;function Vi(a,i,c){if(tc)return a(i,c);tc=!0;try{var h=a(i);return h}finally{if(tc=!1,(Li!==null||ds!==null)&&(Vf(),Li&&(i=Li,a=ds,ds=Li=null,Qo(i),a)))for(i=0;i<a.length;i++)Qo(a[i])}}function Ha(a,i){var c=a.stateNode;if(c===null)return null;var h=c[G]||null;if(h===null)return null;c=h[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(a=a.type,h=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!h;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(r(231,i,typeof c));return c}var Ta=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jo=!1;if(Ta)try{var qt={};Object.defineProperty(qt,"passive",{get:function(){Jo=!0}}),window.addEventListener("test",qt,qt),window.removeEventListener("test",qt,qt)}catch{Jo=!1}var fs=null,Pu=null,Zo=null;function Fu(){if(Zo)return Zo;var a,i=Pu,c=i.length,h,g="value"in fs?fs.value:fs.textContent,x=g.length;for(a=0;a<c&&i[a]===g[a];a++);var A=c-a;for(h=1;h<=A&&i[c-h]===g[x-h];h++);return Zo=g.slice(a,1<h?1-h:void 0)}function el(a){var i=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&i===13&&(a=13)):a=i,a===10&&(a=13),32<=a||a===13?a:0}function Ks(){return!0}function Ga(){return!1}function Yn(a){function i(c,h,g,x,A){this._reactName=c,this._targetInst=g,this.type=h,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var L in a)a.hasOwnProperty(L)&&(c=a[L],this[L]=c?c(x):x[L]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Ks:Ga,this.isPropagationStopped=Ga,this}return _(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ks)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ks)},persist:function(){},isPersistent:Ks}),i}var Ws={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ms=Yn(Ws),Ui=_({},Ws,{view:0,detail:0}),Lu=Yn(Ui),Bi,nc,ps,rc=_({},Ui,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zi,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==ps&&(ps&&a.type==="mousemove"?(Bi=a.screenX-ps.screenX,nc=a.screenY-ps.screenY):nc=Bi=0,ps=a),Bi)},movementY:function(a){return"movementY"in a?a.movementY:nc}}),Vu=Yn(rc),tl=_({},rc,{dataTransfer:0}),$d=Yn(tl),Kd=_({},Ui,{relatedTarget:0}),nl=Yn(Kd),Uu=_({},Ws,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=Yn(Uu),ac=_({},Ws,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),Xd=Yn(ac),Yd=_({},Ws,{data:0}),gs=Yn(Yd),Qd={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zd={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ef(a){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(a):(a=Zd[a])?!!i[a]:!1}function zi(){return ef}var Nr=_({},Ui,{key:function(a){if(a.key){var i=Qd[a.key]||a.key;if(i!=="Unidentified")return i}return a.type==="keypress"?(a=el(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?Jd[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zi,charCode:function(a){return a.type==="keypress"?el(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?el(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),tf=Yn(Nr),nf=_({},rc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Xs=Yn(nf),p=_({},Ui,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zi}),T=Yn(p),C=_({},Ws,{propertyName:0,elapsedTime:0,pseudoElement:0}),q=Yn(C),ce=_({},rc,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),_e=Yn(ce),Ve=_({},Ws,{newState:0,oldState:0}),lt=Yn(Ve),Tn=[9,13,27,32],bt=Ta&&"CompositionEvent"in window,sn=null;Ta&&"documentMode"in document&&(sn=document.documentMode);var wa=Ta&&"TextEvent"in window&&!sn,vs=Ta&&(!bt||sn&&8<sn&&11>=sn),$a=" ",Ka=!1;function rl(a,i){switch(a){case"keyup":return Tn.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sc(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var ic=!1;function a4(a,i){switch(a){case"compositionend":return sc(i);case"keypress":return i.which!==32?null:(Ka=!0,$a);case"textInput":return a=i.data,a===$a&&Ka?null:a;default:return null}}function s4(a,i){if(ic)return a==="compositionend"||!bt&&rl(a,i)?(a=Fu(),Zo=Pu=fs=null,ic=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return vs&&i.locale!=="ko"?null:i.data;default:return null}}var i4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function i_(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i==="input"?!!i4[a.type]:i==="textarea"}function o_(a,i,c,h){Li?ds?ds.push(h):ds=[h]:Li=h,i=$f(i,"onChange"),0<i.length&&(c=new ms("onChange","change",null,c,h),a.push({event:c,listeners:i}))}var Bu=null,zu=null;function o4(a){qE(a,0)}function rf(a){var i=je(a);if(Xo(i))return a}function l_(a,i){if(a==="change")return i}var c_=!1;if(Ta){var cp;if(Ta){var up="oninput"in document;if(!up){var u_=document.createElement("div");u_.setAttribute("oninput","return;"),up=typeof u_.oninput=="function"}cp=up}else cp=!1;c_=cp&&(!document.documentMode||9<document.documentMode)}function h_(){Bu&&(Bu.detachEvent("onpropertychange",d_),zu=Bu=null)}function d_(a){if(a.propertyName==="value"&&rf(zu)){var i=[];o_(i,zu,a,Ea(a)),Vi(o4,i)}}function l4(a,i,c){a==="focusin"?(h_(),Bu=i,zu=c,Bu.attachEvent("onpropertychange",d_)):a==="focusout"&&h_()}function c4(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return rf(zu)}function u4(a,i){if(a==="click")return rf(i)}function h4(a,i){if(a==="input"||a==="change")return rf(i)}function d4(a,i){return a===i&&(a!==0||1/a===1/i)||a!==a&&i!==i}var ea=typeof Object.is=="function"?Object.is:d4;function qu(a,i){if(ea(a,i))return!0;if(typeof a!="object"||a===null||typeof i!="object"||i===null)return!1;var c=Object.keys(a),h=Object.keys(i);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var g=c[h];if(!Dt.call(i,g)||!ea(a[g],i[g]))return!1}return!0}function f_(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function m_(a,i){var c=f_(a);a=0;for(var h;c;){if(c.nodeType===3){if(h=a+c.textContent.length,a<=i&&h>=i)return{node:c,offset:i-a};a=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=f_(c)}}function p_(a,i){return a&&i?a===i?!0:a&&a.nodeType===3?!1:i&&i.nodeType===3?p_(a,i.parentNode):"contains"in a?a.contains(i):a.compareDocumentPosition?!!(a.compareDocumentPosition(i)&16):!1:!1}function g_(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var i=hs(a.document);i instanceof a.HTMLIFrameElement;){try{var c=typeof i.contentWindow.location.href=="string"}catch{c=!1}if(c)a=i.contentWindow;else break;i=hs(a.document)}return i}function hp(a){var i=a&&a.nodeName&&a.nodeName.toLowerCase();return i&&(i==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||i==="textarea"||a.contentEditable==="true")}var f4=Ta&&"documentMode"in document&&11>=document.documentMode,oc=null,dp=null,Hu=null,fp=!1;function v_(a,i,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;fp||oc==null||oc!==hs(h)||(h=oc,"selectionStart"in h&&hp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Hu&&qu(Hu,h)||(Hu=h,h=$f(dp,"onSelect"),0<h.length&&(i=new ms("onSelect","select",null,i,c),a.push({event:i,listeners:h}),i.target=oc)))}function al(a,i){var c={};return c[a.toLowerCase()]=i.toLowerCase(),c["Webkit"+a]="webkit"+i,c["Moz"+a]="moz"+i,c}var lc={animationend:al("Animation","AnimationEnd"),animationiteration:al("Animation","AnimationIteration"),animationstart:al("Animation","AnimationStart"),transitionrun:al("Transition","TransitionRun"),transitionstart:al("Transition","TransitionStart"),transitioncancel:al("Transition","TransitionCancel"),transitionend:al("Transition","TransitionEnd")},mp={},x_={};Ta&&(x_=document.createElement("div").style,"AnimationEvent"in window||(delete lc.animationend.animation,delete lc.animationiteration.animation,delete lc.animationstart.animation),"TransitionEvent"in window||delete lc.transitionend.transition);function sl(a){if(mp[a])return mp[a];if(!lc[a])return a;var i=lc[a],c;for(c in i)if(i.hasOwnProperty(c)&&c in x_)return mp[a]=i[c];return a}var __=sl("animationend"),y_=sl("animationiteration"),E_=sl("animationstart"),m4=sl("transitionrun"),p4=sl("transitionstart"),g4=sl("transitioncancel"),T_=sl("transitionend"),w_=new Map,pp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pp.push("scrollEnd");function Wa(a,i){w_.set(a,i),Xt(i,[a])}var af=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)},Aa=[],cc=0,gp=0;function sf(){for(var a=cc,i=gp=cc=0;i<a;){var c=Aa[i];Aa[i++]=null;var h=Aa[i];Aa[i++]=null;var g=Aa[i];Aa[i++]=null;var x=Aa[i];if(Aa[i++]=null,h!==null&&g!==null){var A=h.pending;A===null?g.next=g:(g.next=A.next,A.next=g),h.pending=g}x!==0&&A_(c,g,x)}}function of(a,i,c,h){Aa[cc++]=a,Aa[cc++]=i,Aa[cc++]=c,Aa[cc++]=h,gp|=h,a.lanes|=h,a=a.alternate,a!==null&&(a.lanes|=h)}function vp(a,i,c,h){return of(a,i,c,h),lf(a)}function il(a,i){return of(a,null,null,i),lf(a)}function A_(a,i,c){a.lanes|=c;var h=a.alternate;h!==null&&(h.lanes|=c);for(var g=!1,x=a.return;x!==null;)x.childLanes|=c,h=x.alternate,h!==null&&(h.childLanes|=c),x.tag===22&&(a=x.stateNode,a===null||a._visibility&1||(g=!0)),a=x,x=x.return;return a.tag===3?(x=a.stateNode,g&&i!==null&&(g=31-un(c),a=x.hiddenUpdates,h=a[g],h===null?a[g]=[i]:h.push(i),i.lane=c|536870912),x):null}function lf(a){if(50<dh)throw dh=0,bg=null,Error(r(185));for(var i=a.return;i!==null;)a=i,i=a.return;return a.tag===3?a.stateNode:null}var uc={};function v4(a,i,c,h){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(a,i,c,h){return new v4(a,i,c,h)}function xp(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Ys(a,i){var c=a.alternate;return c===null?(c=ta(a.tag,i,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=i,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,i=a.dependencies,c.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function S_(a,i){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=i,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,i=c.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),a}function cf(a,i,c,h,g,x){var A=0;if(h=a,typeof a=="function")xp(a)&&(A=1);else if(typeof a=="string")A=TI(a,c,Q.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case N:return a=ta(31,c,i,g),a.elementType=N,a.lanes=x,a;case w:return ol(c.children,g,x,i);case S:A=8,g|=24;break;case k:return a=ta(12,c,i,g|2),a.elementType=k,a.lanes=x,a;case te:return a=ta(13,c,i,g),a.elementType=te,a.lanes=x,a;case ie:return a=ta(19,c,i,g),a.elementType=ie,a.lanes=x,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case j:A=10;break e;case D:A=9;break e;case X:A=11;break e;case I:A=14;break e;case R:A=16,h=null;break e}A=29,c=Error(r(130,a===null?"null":typeof a,"")),h=null}return i=ta(A,c,i,g),i.elementType=a,i.type=h,i.lanes=x,i}function ol(a,i,c,h){return a=ta(7,a,h,i),a.lanes=c,a}function _p(a,i,c){return a=ta(6,a,null,i),a.lanes=c,a}function b_(a){var i=ta(18,null,null,0);return i.stateNode=a,i}function yp(a,i,c){return i=ta(4,a.children!==null?a.children:[],a.key,i),i.lanes=c,i.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},i}var N_=new WeakMap;function Sa(a,i){if(typeof a=="object"&&a!==null){var c=N_.get(a);return c!==void 0?c:(i={value:a,source:i,stack:zn(i)},N_.set(a,i),i)}return{value:a,source:i,stack:zn(i)}}var hc=[],dc=0,uf=null,Gu=0,ba=[],Na=0,qi=null,xs=1,_s="";function Qs(a,i){hc[dc++]=Gu,hc[dc++]=uf,uf=a,Gu=i}function C_(a,i,c){ba[Na++]=xs,ba[Na++]=_s,ba[Na++]=qi,qi=a;var h=xs;a=_s;var g=32-un(h)-1;h&=~(1<<g),c+=1;var x=32-un(i)+g;if(30<x){var A=g-g%5;x=(h&(1<<A)-1).toString(32),h>>=A,g-=A,xs=1<<32-un(i)+g|c<<g|h,_s=x+a}else xs=1<<x|c<<g|h,_s=a}function Ep(a){a.return!==null&&(Qs(a,1),C_(a,1,0))}function Tp(a){for(;a===uf;)uf=hc[--dc],hc[dc]=null,Gu=hc[--dc],hc[dc]=null;for(;a===qi;)qi=ba[--Na],ba[Na]=null,_s=ba[--Na],ba[Na]=null,xs=ba[--Na],ba[Na]=null}function I_(a,i){ba[Na++]=xs,ba[Na++]=_s,ba[Na++]=qi,xs=i.id,_s=i.overflow,qi=a}var Qn=null,en=null,yt=!1,Hi=null,Ca=!1,wp=Error(r(519));function Gi(a){var i=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw $u(Sa(i,a)),wp}function R_(a){var i=a.stateNode,c=a.type,h=a.memoizedProps;switch(i[H]=a,i[G]=h,c){case"dialog":mt("cancel",i),mt("close",i);break;case"iframe":case"object":case"embed":mt("load",i);break;case"video":case"audio":for(c=0;c<mh.length;c++)mt(mh[c],i);break;case"source":mt("error",i);break;case"img":case"image":case"link":mt("error",i),mt("load",i);break;case"details":mt("toggle",i);break;case"input":mt("invalid",i),zd(i,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":mt("invalid",i);break;case"textarea":mt("invalid",i),Pi(i,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||i.textContent===""+c||h.suppressHydrationWarning===!0||KE(i.textContent,c)?(h.popover!=null&&(mt("beforetoggle",i),mt("toggle",i)),h.onScroll!=null&&mt("scroll",i),h.onScrollEnd!=null&&mt("scrollend",i),h.onClick!=null&&(i.onclick=qa),i=!0):i=!1,i||Gi(a,!0)}function D_(a){for(Qn=a.return;Qn;)switch(Qn.tag){case 5:case 31:case 13:Ca=!1;return;case 27:case 3:Ca=!0;return;default:Qn=Qn.return}}function fc(a){if(a!==Qn)return!1;if(!yt)return D_(a),yt=!0,!1;var i=a.tag,c;if((c=i!==3&&i!==27)&&((c=i===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||Bg(a.type,a.memoizedProps)),c=!c),c&&en&&Gi(a),D_(a),i===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));en=n2(a)}else if(i===31){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(317));en=n2(a)}else i===27?(i=en,so(a.type)?(a=$g,$g=null,en=a):en=i):en=Qn?Ra(a.stateNode.nextSibling):null;return!0}function ll(){en=Qn=null,yt=!1}function Ap(){var a=Hi;return a!==null&&(Br===null?Br=a:Br.push.apply(Br,a),Hi=null),a}function $u(a){Hi===null?Hi=[a]:Hi.push(a)}var Sp=W(null),cl=null,Js=null;function $i(a,i,c){Z(Sp,i._currentValue),i._currentValue=c}function Zs(a){a._currentValue=Sp.current,V(Sp)}function bp(a,i,c){for(;a!==null;){var h=a.alternate;if((a.childLanes&i)!==i?(a.childLanes|=i,h!==null&&(h.childLanes|=i)):h!==null&&(h.childLanes&i)!==i&&(h.childLanes|=i),a===c)break;a=a.return}}function Np(a,i,c,h){var g=a.child;for(g!==null&&(g.return=a);g!==null;){var x=g.dependencies;if(x!==null){var A=g.child;x=x.firstContext;e:for(;x!==null;){var L=x;x=g;for(var ne=0;ne<i.length;ne++)if(L.context===i[ne]){x.lanes|=c,L=x.alternate,L!==null&&(L.lanes|=c),bp(x.return,c,a),h||(A=null);break e}x=L.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(r(341));A.lanes|=c,x=A.alternate,x!==null&&(x.lanes|=c),bp(A,c,a),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===a){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function mc(a,i,c,h){a=null;for(var g=i,x=!1;g!==null;){if(!x){if((g.flags&524288)!==0)x=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(r(387));if(A=A.memoizedProps,A!==null){var L=g.type;ea(g.pendingProps.value,A.value)||(a!==null?a.push(L):a=[L])}}else if(g===De.current){if(A=g.alternate,A===null)throw Error(r(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(a!==null?a.push(_h):a=[_h])}g=g.return}a!==null&&Np(i,a,c,h),i.flags|=262144}function hf(a){for(a=a.firstContext;a!==null;){if(!ea(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function ul(a){cl=a,Js=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function Jn(a){return j_(cl,a)}function df(a,i){return cl===null&&ul(a),j_(a,i)}function j_(a,i){var c=i._currentValue;if(i={context:i,memoizedValue:c,next:null},Js===null){if(a===null)throw Error(r(308));Js=i,a.dependencies={lanes:0,firstContext:i},a.flags|=524288}else Js=Js.next=i;return c}var x4=typeof AbortController<"u"?AbortController:function(){var a=[],i=this.signal={aborted:!1,addEventListener:function(c,h){a.push(h)}};this.abort=function(){i.aborted=!0,a.forEach(function(c){return c()})}},_4=n.unstable_scheduleCallback,y4=n.unstable_NormalPriority,Cn={$$typeof:j,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cp(){return{controller:new x4,data:new Map,refCount:0}}function Ku(a){a.refCount--,a.refCount===0&&_4(y4,function(){a.controller.abort()})}var Wu=null,Ip=0,pc=0,gc=null;function E4(a,i){if(Wu===null){var c=Wu=[];Ip=0,pc=jg(),gc={status:"pending",value:void 0,then:function(h){c.push(h)}}}return Ip++,i.then(k_,k_),i}function k_(){if(--Ip===0&&Wu!==null){gc!==null&&(gc.status="fulfilled");var a=Wu;Wu=null,pc=0,gc=null;for(var i=0;i<a.length;i++)(0,a[i])()}}function T4(a,i){var c=[],h={status:"pending",value:null,reason:null,then:function(g){c.push(g)}};return a.then(function(){h.status="fulfilled",h.value=i;for(var g=0;g<c.length;g++)(0,c[g])(i)},function(g){for(h.status="rejected",h.reason=g,g=0;g<c.length;g++)(0,c[g])(void 0)}),h}var O_=re.S;re.S=function(a,i){vE=Qt(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&E4(a,i),O_!==null&&O_(a,i)};var hl=W(null);function Rp(){var a=hl.current;return a!==null?a:Yt.pooledCache}function ff(a,i){i===null?Z(hl,hl.current):Z(hl,i.pool)}function M_(){var a=Rp();return a===null?null:{parent:Cn._currentValue,pool:a}}var vc=Error(r(460)),Dp=Error(r(474)),mf=Error(r(542)),pf={then:function(){}};function P_(a){return a=a.status,a==="fulfilled"||a==="rejected"}function F_(a,i,c){switch(c=a[c],c===void 0?a.push(i):c!==i&&(i.then(qa,qa),i=c),i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,V_(a),a;default:if(typeof i.status=="string")i.then(qa,qa);else{if(a=Yt,a!==null&&100<a.shellSuspendCounter)throw Error(r(482));a=i,a.status="pending",a.then(function(h){if(i.status==="pending"){var g=i;g.status="fulfilled",g.value=h}},function(h){if(i.status==="pending"){var g=i;g.status="rejected",g.reason=h}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw a=i.reason,V_(a),a}throw fl=i,vc}}function dl(a){try{var i=a._init;return i(a._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(fl=c,vc):c}}var fl=null;function L_(){if(fl===null)throw Error(r(459));var a=fl;return fl=null,a}function V_(a){if(a===vc||a===mf)throw Error(r(483))}var xc=null,Xu=0;function gf(a){var i=Xu;return Xu+=1,xc===null&&(xc=[]),F_(xc,a,i)}function Yu(a,i){i=i.props.ref,a.ref=i!==void 0?i:null}function vf(a,i){throw i.$$typeof===y?Error(r(525)):(a=Object.prototype.toString.call(i),Error(r(31,a==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":a)))}function U_(a){function i(oe,ae){if(a){var ue=oe.deletions;ue===null?(oe.deletions=[ae],oe.flags|=16):ue.push(ae)}}function c(oe,ae){if(!a)return null;for(;ae!==null;)i(oe,ae),ae=ae.sibling;return null}function h(oe){for(var ae=new Map;oe!==null;)oe.key!==null?ae.set(oe.key,oe):ae.set(oe.index,oe),oe=oe.sibling;return ae}function g(oe,ae){return oe=Ys(oe,ae),oe.index=0,oe.sibling=null,oe}function x(oe,ae,ue){return oe.index=ue,a?(ue=oe.alternate,ue!==null?(ue=ue.index,ue<ae?(oe.flags|=67108866,ae):ue):(oe.flags|=67108866,ae)):(oe.flags|=1048576,ae)}function A(oe){return a&&oe.alternate===null&&(oe.flags|=67108866),oe}function L(oe,ae,ue,be){return ae===null||ae.tag!==6?(ae=_p(ue,oe.mode,be),ae.return=oe,ae):(ae=g(ae,ue),ae.return=oe,ae)}function ne(oe,ae,ue,be){var Ze=ue.type;return Ze===w?Se(oe,ae,ue.props.children,be,ue.key):ae!==null&&(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===R&&dl(Ze)===ae.type)?(ae=g(ae,ue.props),Yu(ae,ue),ae.return=oe,ae):(ae=cf(ue.type,ue.key,ue.props,null,oe.mode,be),Yu(ae,ue),ae.return=oe,ae)}function fe(oe,ae,ue,be){return ae===null||ae.tag!==4||ae.stateNode.containerInfo!==ue.containerInfo||ae.stateNode.implementation!==ue.implementation?(ae=yp(ue,oe.mode,be),ae.return=oe,ae):(ae=g(ae,ue.children||[]),ae.return=oe,ae)}function Se(oe,ae,ue,be,Ze){return ae===null||ae.tag!==7?(ae=ol(ue,oe.mode,be,Ze),ae.return=oe,ae):(ae=g(ae,ue),ae.return=oe,ae)}function Ce(oe,ae,ue){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return ae=_p(""+ae,oe.mode,ue),ae.return=oe,ae;if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case E:return ue=cf(ae.type,ae.key,ae.props,null,oe.mode,ue),Yu(ue,ae),ue.return=oe,ue;case b:return ae=yp(ae,oe.mode,ue),ae.return=oe,ae;case R:return ae=dl(ae),Ce(oe,ae,ue)}if(Ee(ae)||M(ae))return ae=ol(ae,oe.mode,ue,null),ae.return=oe,ae;if(typeof ae.then=="function")return Ce(oe,gf(ae),ue);if(ae.$$typeof===j)return Ce(oe,df(oe,ae),ue);vf(oe,ae)}return null}function ve(oe,ae,ue,be){var Ze=ae!==null?ae.key:null;if(typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint")return Ze!==null?null:L(oe,ae,""+ue,be);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:return ue.key===Ze?ne(oe,ae,ue,be):null;case b:return ue.key===Ze?fe(oe,ae,ue,be):null;case R:return ue=dl(ue),ve(oe,ae,ue,be)}if(Ee(ue)||M(ue))return Ze!==null?null:Se(oe,ae,ue,be,null);if(typeof ue.then=="function")return ve(oe,ae,gf(ue),be);if(ue.$$typeof===j)return ve(oe,ae,df(oe,ue),be);vf(oe,ue)}return null}function ye(oe,ae,ue,be,Ze){if(typeof be=="string"&&be!==""||typeof be=="number"||typeof be=="bigint")return oe=oe.get(ue)||null,L(ae,oe,""+be,Ze);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case E:return oe=oe.get(be.key===null?ue:be.key)||null,ne(ae,oe,be,Ze);case b:return oe=oe.get(be.key===null?ue:be.key)||null,fe(ae,oe,be,Ze);case R:return be=dl(be),ye(oe,ae,ue,be,Ze)}if(Ee(be)||M(be))return oe=oe.get(ue)||null,Se(ae,oe,be,Ze,null);if(typeof be.then=="function")return ye(oe,ae,ue,gf(be),Ze);if(be.$$typeof===j)return ye(oe,ae,ue,df(ae,be),Ze);vf(ae,be)}return null}function $e(oe,ae,ue,be){for(var Ze=null,wt=null,Ye=ae,ht=ae=0,gt=null;Ye!==null&&ht<ue.length;ht++){Ye.index>ht?(gt=Ye,Ye=null):gt=Ye.sibling;var At=ve(oe,Ye,ue[ht],be);if(At===null){Ye===null&&(Ye=gt);break}a&&Ye&&At.alternate===null&&i(oe,Ye),ae=x(At,ae,ht),wt===null?Ze=At:wt.sibling=At,wt=At,Ye=gt}if(ht===ue.length)return c(oe,Ye),yt&&Qs(oe,ht),Ze;if(Ye===null){for(;ht<ue.length;ht++)Ye=Ce(oe,ue[ht],be),Ye!==null&&(ae=x(Ye,ae,ht),wt===null?Ze=Ye:wt.sibling=Ye,wt=Ye);return yt&&Qs(oe,ht),Ze}for(Ye=h(Ye);ht<ue.length;ht++)gt=ye(Ye,oe,ht,ue[ht],be),gt!==null&&(a&&gt.alternate!==null&&Ye.delete(gt.key===null?ht:gt.key),ae=x(gt,ae,ht),wt===null?Ze=gt:wt.sibling=gt,wt=gt);return a&&Ye.forEach(function(uo){return i(oe,uo)}),yt&&Qs(oe,ht),Ze}function nt(oe,ae,ue,be){if(ue==null)throw Error(r(151));for(var Ze=null,wt=null,Ye=ae,ht=ae=0,gt=null,At=ue.next();Ye!==null&&!At.done;ht++,At=ue.next()){Ye.index>ht?(gt=Ye,Ye=null):gt=Ye.sibling;var uo=ve(oe,Ye,At.value,be);if(uo===null){Ye===null&&(Ye=gt);break}a&&Ye&&uo.alternate===null&&i(oe,Ye),ae=x(uo,ae,ht),wt===null?Ze=uo:wt.sibling=uo,wt=uo,Ye=gt}if(At.done)return c(oe,Ye),yt&&Qs(oe,ht),Ze;if(Ye===null){for(;!At.done;ht++,At=ue.next())At=Ce(oe,At.value,be),At!==null&&(ae=x(At,ae,ht),wt===null?Ze=At:wt.sibling=At,wt=At);return yt&&Qs(oe,ht),Ze}for(Ye=h(Ye);!At.done;ht++,At=ue.next())At=ye(Ye,oe,ht,At.value,be),At!==null&&(a&&At.alternate!==null&&Ye.delete(At.key===null?ht:At.key),ae=x(At,ae,ht),wt===null?Ze=At:wt.sibling=At,wt=At);return a&&Ye.forEach(function(kI){return i(oe,kI)}),yt&&Qs(oe,ht),Ze}function $t(oe,ae,ue,be){if(typeof ue=="object"&&ue!==null&&ue.type===w&&ue.key===null&&(ue=ue.props.children),typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case E:e:{for(var Ze=ue.key;ae!==null;){if(ae.key===Ze){if(Ze=ue.type,Ze===w){if(ae.tag===7){c(oe,ae.sibling),be=g(ae,ue.props.children),be.return=oe,oe=be;break e}}else if(ae.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===R&&dl(Ze)===ae.type){c(oe,ae.sibling),be=g(ae,ue.props),Yu(be,ue),be.return=oe,oe=be;break e}c(oe,ae);break}else i(oe,ae);ae=ae.sibling}ue.type===w?(be=ol(ue.props.children,oe.mode,be,ue.key),be.return=oe,oe=be):(be=cf(ue.type,ue.key,ue.props,null,oe.mode,be),Yu(be,ue),be.return=oe,oe=be)}return A(oe);case b:e:{for(Ze=ue.key;ae!==null;){if(ae.key===Ze)if(ae.tag===4&&ae.stateNode.containerInfo===ue.containerInfo&&ae.stateNode.implementation===ue.implementation){c(oe,ae.sibling),be=g(ae,ue.children||[]),be.return=oe,oe=be;break e}else{c(oe,ae);break}else i(oe,ae);ae=ae.sibling}be=yp(ue,oe.mode,be),be.return=oe,oe=be}return A(oe);case R:return ue=dl(ue),$t(oe,ae,ue,be)}if(Ee(ue))return $e(oe,ae,ue,be);if(M(ue)){if(Ze=M(ue),typeof Ze!="function")throw Error(r(150));return ue=Ze.call(ue),nt(oe,ae,ue,be)}if(typeof ue.then=="function")return $t(oe,ae,gf(ue),be);if(ue.$$typeof===j)return $t(oe,ae,df(oe,ue),be);vf(oe,ue)}return typeof ue=="string"&&ue!==""||typeof ue=="number"||typeof ue=="bigint"?(ue=""+ue,ae!==null&&ae.tag===6?(c(oe,ae.sibling),be=g(ae,ue),be.return=oe,oe=be):(c(oe,ae),be=_p(ue,oe.mode,be),be.return=oe,oe=be),A(oe)):c(oe,ae)}return function(oe,ae,ue,be){try{Xu=0;var Ze=$t(oe,ae,ue,be);return xc=null,Ze}catch(Ye){if(Ye===vc||Ye===mf)throw Ye;var wt=ta(29,Ye,null,oe.mode);return wt.lanes=be,wt.return=oe,wt}finally{}}}var ml=U_(!0),B_=U_(!1),Ki=!1;function jp(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kp(a,i){a=a.updateQueue,i.updateQueue===a&&(i.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Wi(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function Xi(a,i,c){var h=a.updateQueue;if(h===null)return null;if(h=h.shared,(Nt&2)!==0){var g=h.pending;return g===null?i.next=i:(i.next=g.next,g.next=i),h.pending=i,i=lf(a),A_(a,null,c),i}return of(a,h,i,c),lf(a)}function Qu(a,i,c){if(i=i.updateQueue,i!==null&&(i=i.shared,(c&4194048)!==0)){var h=i.lanes;h&=a.pendingLanes,c|=h,i.lanes=c,Gs(a,c)}}function Op(a,i){var c=a.updateQueue,h=a.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var g=null,x=null;if(c=c.firstBaseUpdate,c!==null){do{var A={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};x===null?g=x=A:x=x.next=A,c=c.next}while(c!==null);x===null?g=x=i:x=x.next=i}else g=x=i;c={baseState:h.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:h.shared,callbacks:h.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=i:a.next=i,c.lastBaseUpdate=i}var Mp=!1;function Ju(){if(Mp){var a=gc;if(a!==null)throw a}}function Zu(a,i,c,h){Mp=!1;var g=a.updateQueue;Ki=!1;var x=g.firstBaseUpdate,A=g.lastBaseUpdate,L=g.shared.pending;if(L!==null){g.shared.pending=null;var ne=L,fe=ne.next;ne.next=null,A===null?x=fe:A.next=fe,A=ne;var Se=a.alternate;Se!==null&&(Se=Se.updateQueue,L=Se.lastBaseUpdate,L!==A&&(L===null?Se.firstBaseUpdate=fe:L.next=fe,Se.lastBaseUpdate=ne))}if(x!==null){var Ce=g.baseState;A=0,Se=fe=ne=null,L=x;do{var ve=L.lane&-536870913,ye=ve!==L.lane;if(ye?(pt&ve)===ve:(h&ve)===ve){ve!==0&&ve===pc&&(Mp=!0),Se!==null&&(Se=Se.next={lane:0,tag:L.tag,payload:L.payload,callback:null,next:null});e:{var $e=a,nt=L;ve=i;var $t=c;switch(nt.tag){case 1:if($e=nt.payload,typeof $e=="function"){Ce=$e.call($t,Ce,ve);break e}Ce=$e;break e;case 3:$e.flags=$e.flags&-65537|128;case 0:if($e=nt.payload,ve=typeof $e=="function"?$e.call($t,Ce,ve):$e,ve==null)break e;Ce=_({},Ce,ve);break e;case 2:Ki=!0}}ve=L.callback,ve!==null&&(a.flags|=64,ye&&(a.flags|=8192),ye=g.callbacks,ye===null?g.callbacks=[ve]:ye.push(ve))}else ye={lane:ve,tag:L.tag,payload:L.payload,callback:L.callback,next:null},Se===null?(fe=Se=ye,ne=Ce):Se=Se.next=ye,A|=ve;if(L=L.next,L===null){if(L=g.shared.pending,L===null)break;ye=L,L=ye.next,ye.next=null,g.lastBaseUpdate=ye,g.shared.pending=null}}while(!0);Se===null&&(ne=Ce),g.baseState=ne,g.firstBaseUpdate=fe,g.lastBaseUpdate=Se,x===null&&(g.shared.lanes=0),eo|=A,a.lanes=A,a.memoizedState=Ce}}function z_(a,i){if(typeof a!="function")throw Error(r(191,a));a.call(i)}function q_(a,i){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)z_(c[a],i)}var _c=W(null),xf=W(0);function H_(a,i){a=li,Z(xf,a),Z(_c,i),li=a|i.baseLanes}function Pp(){Z(xf,li),Z(_c,_c.current)}function Fp(){li=xf.current,V(_c),V(xf)}var na=W(null),Ia=null;function Yi(a){var i=a.alternate;Z(wn,wn.current&1),Z(na,a),Ia===null&&(i===null||_c.current!==null||i.memoizedState!==null)&&(Ia=a)}function Lp(a){Z(wn,wn.current),Z(na,a),Ia===null&&(Ia=a)}function G_(a){a.tag===22?(Z(wn,wn.current),Z(na,a),Ia===null&&(Ia=a)):Qi()}function Qi(){Z(wn,wn.current),Z(na,na.current)}function ra(a){V(na),Ia===a&&(Ia=null),V(wn)}var wn=W(0);function _f(a){for(var i=a;i!==null;){if(i.tag===13){var c=i.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Hg(c)||Gg(c)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var ei=0,ct=null,Ht=null,In=null,yf=!1,yc=!1,pl=!1,Ef=0,eh=0,Ec=null,w4=0;function pn(){throw Error(r(321))}function Vp(a,i){if(i===null)return!1;for(var c=0;c<i.length&&c<a.length;c++)if(!ea(a[c],i[c]))return!1;return!0}function Up(a,i,c,h,g,x){return ei=x,ct=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,re.H=a===null||a.memoizedState===null?Cy:tg,pl=!1,x=c(h,g),pl=!1,yc&&(x=K_(i,c,h,g)),$_(a),x}function $_(a){re.H=rh;var i=Ht!==null&&Ht.next!==null;if(ei=0,In=Ht=ct=null,yf=!1,eh=0,Ec=null,i)throw Error(r(300));a===null||Rn||(a=a.dependencies,a!==null&&hf(a)&&(Rn=!0))}function K_(a,i,c,h){ct=a;var g=0;do{if(yc&&(Ec=null),eh=0,yc=!1,25<=g)throw Error(r(301));if(g+=1,In=Ht=null,a.updateQueue!=null){var x=a.updateQueue;x.lastEffect=null,x.events=null,x.stores=null,x.memoCache!=null&&(x.memoCache.index=0)}re.H=Iy,x=i(c,h)}while(yc);return x}function A4(){var a=re.H,i=a.useState()[0];return i=typeof i.then=="function"?th(i):i,a=a.useState()[0],(Ht!==null?Ht.memoizedState:null)!==a&&(ct.flags|=1024),i}function Bp(){var a=Ef!==0;return Ef=0,a}function zp(a,i,c){i.updateQueue=a.updateQueue,i.flags&=-2053,a.lanes&=~c}function qp(a){if(yf){for(a=a.memoizedState;a!==null;){var i=a.queue;i!==null&&(i.pending=null),a=a.next}yf=!1}ei=0,In=Ht=ct=null,yc=!1,eh=Ef=0,Ec=null}function Cr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return In===null?ct.memoizedState=In=a:In=In.next=a,In}function An(){if(Ht===null){var a=ct.alternate;a=a!==null?a.memoizedState:null}else a=Ht.next;var i=In===null?ct.memoizedState:In.next;if(i!==null)In=i,Ht=a;else{if(a===null)throw ct.alternate===null?Error(r(467)):Error(r(310));Ht=a,a={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},In===null?ct.memoizedState=In=a:In=In.next=a}return In}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function th(a){var i=eh;return eh+=1,Ec===null&&(Ec=[]),a=F_(Ec,a,i),i=ct,(In===null?i.memoizedState:In.next)===null&&(i=i.alternate,re.H=i===null||i.memoizedState===null?Cy:tg),a}function wf(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return th(a);if(a.$$typeof===j)return Jn(a)}throw Error(r(438,String(a)))}function Hp(a){var i=null,c=ct.updateQueue;if(c!==null&&(i=c.memoCache),i==null){var h=ct.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(i={data:h.data.map(function(g){return g.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),c===null&&(c=Tf(),ct.updateQueue=c),c.memoCache=i,c=i.data[i.index],c===void 0)for(c=i.data[i.index]=Array(a),h=0;h<a;h++)c[h]=F;return i.index++,c}function ti(a,i){return typeof i=="function"?i(a):i}function Af(a){var i=An();return Gp(i,Ht,a)}function Gp(a,i,c){var h=a.queue;if(h===null)throw Error(r(311));h.lastRenderedReducer=c;var g=a.baseQueue,x=h.pending;if(x!==null){if(g!==null){var A=g.next;g.next=x.next,x.next=A}i.baseQueue=g=x,h.pending=null}if(x=a.baseState,g===null)a.memoizedState=x;else{i=g.next;var L=A=null,ne=null,fe=i,Se=!1;do{var Ce=fe.lane&-536870913;if(Ce!==fe.lane?(pt&Ce)===Ce:(ei&Ce)===Ce){var ve=fe.revertLane;if(ve===0)ne!==null&&(ne=ne.next={lane:0,revertLane:0,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null}),Ce===pc&&(Se=!0);else if((ei&ve)===ve){fe=fe.next,ve===pc&&(Se=!0);continue}else Ce={lane:0,revertLane:fe.revertLane,gesture:null,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(L=ne=Ce,A=x):ne=ne.next=Ce,ct.lanes|=ve,eo|=ve;Ce=fe.action,pl&&c(x,Ce),x=fe.hasEagerState?fe.eagerState:c(x,Ce)}else ve={lane:Ce,revertLane:fe.revertLane,gesture:fe.gesture,action:fe.action,hasEagerState:fe.hasEagerState,eagerState:fe.eagerState,next:null},ne===null?(L=ne=ve,A=x):ne=ne.next=ve,ct.lanes|=Ce,eo|=Ce;fe=fe.next}while(fe!==null&&fe!==i);if(ne===null?A=x:ne.next=L,!ea(x,a.memoizedState)&&(Rn=!0,Se&&(c=gc,c!==null)))throw c;a.memoizedState=x,a.baseState=A,a.baseQueue=ne,h.lastRenderedState=x}return g===null&&(h.lanes=0),[a.memoizedState,h.dispatch]}function $p(a){var i=An(),c=i.queue;if(c===null)throw Error(r(311));c.lastRenderedReducer=a;var h=c.dispatch,g=c.pending,x=i.memoizedState;if(g!==null){c.pending=null;var A=g=g.next;do x=a(x,A.action),A=A.next;while(A!==g);ea(x,i.memoizedState)||(Rn=!0),i.memoizedState=x,i.baseQueue===null&&(i.baseState=x),c.lastRenderedState=x}return[x,h]}function W_(a,i,c){var h=ct,g=An(),x=yt;if(x){if(c===void 0)throw Error(r(407));c=c()}else c=i();var A=!ea((Ht||g).memoizedState,c);if(A&&(g.memoizedState=c,Rn=!0),g=g.queue,Xp(Q_.bind(null,h,g,a),[a]),g.getSnapshot!==i||A||In!==null&&In.memoizedState.tag&1){if(h.flags|=2048,Tc(9,{destroy:void 0},Y_.bind(null,h,g,c,i),null),Yt===null)throw Error(r(349));x||(ei&127)!==0||X_(h,i,c)}return c}function X_(a,i,c){a.flags|=16384,a={getSnapshot:i,value:c},i=ct.updateQueue,i===null?(i=Tf(),ct.updateQueue=i,i.stores=[a]):(c=i.stores,c===null?i.stores=[a]:c.push(a))}function Y_(a,i,c,h){i.value=c,i.getSnapshot=h,J_(i)&&Z_(a)}function Q_(a,i,c){return c(function(){J_(i)&&Z_(a)})}function J_(a){var i=a.getSnapshot;a=a.value;try{var c=i();return!ea(a,c)}catch{return!0}}function Z_(a){var i=il(a,2);i!==null&&zr(i,a,2)}function Kp(a){var i=Cr();if(typeof a=="function"){var c=a;if(a=c(),pl){Sr(!0);try{c()}finally{Sr(!1)}}}return i.memoizedState=i.baseState=a,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:a},i}function ey(a,i,c,h){return a.baseState=c,Gp(a,Ht,typeof h=="function"?h:ti)}function S4(a,i,c,h,g){if(Nf(a))throw Error(r(485));if(a=i.action,a!==null){var x={payload:g,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){x.listeners.push(A)}};re.T!==null?c(!0):x.isTransition=!1,h(x),c=i.pending,c===null?(x.next=i.pending=x,ty(i,x)):(x.next=c.next,i.pending=c.next=x)}}function ty(a,i){var c=i.action,h=i.payload,g=a.state;if(i.isTransition){var x=re.T,A={};re.T=A;try{var L=c(g,h),ne=re.S;ne!==null&&ne(A,L),ny(a,i,L)}catch(fe){Wp(a,i,fe)}finally{x!==null&&A.types!==null&&(x.types=A.types),re.T=x}}else try{x=c(g,h),ny(a,i,x)}catch(fe){Wp(a,i,fe)}}function ny(a,i,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){ry(a,i,h)},function(h){return Wp(a,i,h)}):ry(a,i,c)}function ry(a,i,c){i.status="fulfilled",i.value=c,ay(i),a.state=c,i=a.pending,i!==null&&(c=i.next,c===i?a.pending=null:(c=c.next,i.next=c,ty(a,c)))}function Wp(a,i,c){var h=a.pending;if(a.pending=null,h!==null){h=h.next;do i.status="rejected",i.reason=c,ay(i),i=i.next;while(i!==h)}a.action=null}function ay(a){a=a.listeners;for(var i=0;i<a.length;i++)(0,a[i])()}function sy(a,i){return i}function iy(a,i){if(yt){var c=Yt.formState;if(c!==null){e:{var h=ct;if(yt){if(en){t:{for(var g=en,x=Ca;g.nodeType!==8;){if(!x){g=null;break t}if(g=Ra(g.nextSibling),g===null){g=null;break t}}x=g.data,g=x==="F!"||x==="F"?g:null}if(g){en=Ra(g.nextSibling),h=g.data==="F!";break e}}Gi(h)}h=!1}h&&(i=c[0])}}return c=Cr(),c.memoizedState=c.baseState=i,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sy,lastRenderedState:i},c.queue=h,c=Sy.bind(null,ct,h),h.dispatch=c,h=Kp(!1),x=eg.bind(null,ct,!1,h.queue),h=Cr(),g={state:i,dispatch:null,action:a,pending:null},h.queue=g,c=S4.bind(null,ct,g,x,c),g.dispatch=c,h.memoizedState=a,[i,c,!1]}function oy(a){var i=An();return ly(i,Ht,a)}function ly(a,i,c){if(i=Gp(a,i,sy)[0],a=Af(ti)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var h=th(i)}catch(A){throw A===vc?mf:A}else h=i;i=An();var g=i.queue,x=g.dispatch;return c!==i.memoizedState&&(ct.flags|=2048,Tc(9,{destroy:void 0},b4.bind(null,g,c),null)),[h,x,a]}function b4(a,i){a.action=i}function cy(a){var i=An(),c=Ht;if(c!==null)return ly(i,c,a);An(),i=i.memoizedState,c=An();var h=c.queue.dispatch;return c.memoizedState=a,[i,h,!1]}function Tc(a,i,c,h){return a={tag:a,create:c,deps:h,inst:i,next:null},i=ct.updateQueue,i===null&&(i=Tf(),ct.updateQueue=i),c=i.lastEffect,c===null?i.lastEffect=a.next=a:(h=c.next,c.next=a,a.next=h,i.lastEffect=a),a}function uy(){return An().memoizedState}function Sf(a,i,c,h){var g=Cr();ct.flags|=a,g.memoizedState=Tc(1|i,{destroy:void 0},c,h===void 0?null:h)}function bf(a,i,c,h){var g=An();h=h===void 0?null:h;var x=g.memoizedState.inst;Ht!==null&&h!==null&&Vp(h,Ht.memoizedState.deps)?g.memoizedState=Tc(i,x,c,h):(ct.flags|=a,g.memoizedState=Tc(1|i,x,c,h))}function hy(a,i){Sf(8390656,8,a,i)}function Xp(a,i){bf(2048,8,a,i)}function N4(a){ct.flags|=4;var i=ct.updateQueue;if(i===null)i=Tf(),ct.updateQueue=i,i.events=[a];else{var c=i.events;c===null?i.events=[a]:c.push(a)}}function dy(a){var i=An().memoizedState;return N4({ref:i,nextImpl:a}),function(){if((Nt&2)!==0)throw Error(r(440));return i.impl.apply(void 0,arguments)}}function fy(a,i){return bf(4,2,a,i)}function my(a,i){return bf(4,4,a,i)}function py(a,i){if(typeof i=="function"){a=a();var c=i(a);return function(){typeof c=="function"?c():i(null)}}if(i!=null)return a=a(),i.current=a,function(){i.current=null}}function gy(a,i,c){c=c!=null?c.concat([a]):null,bf(4,4,py.bind(null,i,a),c)}function Yp(){}function vy(a,i){var c=An();i=i===void 0?null:i;var h=c.memoizedState;return i!==null&&Vp(i,h[1])?h[0]:(c.memoizedState=[a,i],a)}function xy(a,i){var c=An();i=i===void 0?null:i;var h=c.memoizedState;if(i!==null&&Vp(i,h[1]))return h[0];if(h=a(),pl){Sr(!0);try{a()}finally{Sr(!1)}}return c.memoizedState=[h,i],h}function Qp(a,i,c){return c===void 0||(ei&1073741824)!==0&&(pt&261930)===0?a.memoizedState=i:(a.memoizedState=c,a=_E(),ct.lanes|=a,eo|=a,c)}function _y(a,i,c,h){return ea(c,i)?c:_c.current!==null?(a=Qp(a,c,h),ea(a,i)||(Rn=!0),a):(ei&42)===0||(ei&1073741824)!==0&&(pt&261930)===0?(Rn=!0,a.memoizedState=c):(a=_E(),ct.lanes|=a,eo|=a,i)}function yy(a,i,c,h,g){var x=xe.p;xe.p=x!==0&&8>x?x:8;var A=re.T,L={};re.T=L,eg(a,!1,i,c);try{var ne=g(),fe=re.S;if(fe!==null&&fe(L,ne),ne!==null&&typeof ne=="object"&&typeof ne.then=="function"){var Se=T4(ne,h);nh(a,i,Se,ia(a))}else nh(a,i,h,ia(a))}catch(Ce){nh(a,i,{then:function(){},status:"rejected",reason:Ce},ia())}finally{xe.p=x,A!==null&&L.types!==null&&(A.types=L.types),re.T=A}}function C4(){}function Jp(a,i,c,h){if(a.tag!==5)throw Error(r(476));var g=Ey(a).queue;yy(a,g,i,le,c===null?C4:function(){return Ty(a),c(h)})}function Ey(a){var i=a.memoizedState;if(i!==null)return i;i={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:le},next:null};var c={};return i.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ti,lastRenderedState:c},next:null},a.memoizedState=i,a=a.alternate,a!==null&&(a.memoizedState=i),i}function Ty(a){var i=Ey(a);i.next===null&&(i=a.alternate.memoizedState),nh(a,i.next.queue,{},ia())}function Zp(){return Jn(_h)}function wy(){return An().memoizedState}function Ay(){return An().memoizedState}function I4(a){for(var i=a.return;i!==null;){switch(i.tag){case 24:case 3:var c=ia();a=Wi(c);var h=Xi(i,a,c);h!==null&&(zr(h,i,c),Qu(h,i,c)),i={cache:Cp()},a.payload=i;return}i=i.return}}function R4(a,i,c){var h=ia();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Nf(a)?by(i,c):(c=vp(a,i,c,h),c!==null&&(zr(c,a,h),Ny(c,i,h)))}function Sy(a,i,c){var h=ia();nh(a,i,c,h)}function nh(a,i,c,h){var g={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nf(a))by(i,g);else{var x=a.alternate;if(a.lanes===0&&(x===null||x.lanes===0)&&(x=i.lastRenderedReducer,x!==null))try{var A=i.lastRenderedState,L=x(A,c);if(g.hasEagerState=!0,g.eagerState=L,ea(L,A))return of(a,i,g,0),Yt===null&&sf(),!1}catch{}finally{}if(c=vp(a,i,g,h),c!==null)return zr(c,a,h),Ny(c,i,h),!0}return!1}function eg(a,i,c,h){if(h={lane:2,revertLane:jg(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Nf(a)){if(i)throw Error(r(479))}else i=vp(a,c,h,2),i!==null&&zr(i,a,2)}function Nf(a){var i=a.alternate;return a===ct||i!==null&&i===ct}function by(a,i){yc=yf=!0;var c=a.pending;c===null?i.next=i:(i.next=c.next,c.next=i),a.pending=i}function Ny(a,i,c){if((c&4194048)!==0){var h=i.lanes;h&=a.pendingLanes,c|=h,i.lanes=c,Gs(a,c)}}var rh={readContext:Jn,use:wf,useCallback:pn,useContext:pn,useEffect:pn,useImperativeHandle:pn,useLayoutEffect:pn,useInsertionEffect:pn,useMemo:pn,useReducer:pn,useRef:pn,useState:pn,useDebugValue:pn,useDeferredValue:pn,useTransition:pn,useSyncExternalStore:pn,useId:pn,useHostTransitionStatus:pn,useFormState:pn,useActionState:pn,useOptimistic:pn,useMemoCache:pn,useCacheRefresh:pn};rh.useEffectEvent=pn;var Cy={readContext:Jn,use:wf,useCallback:function(a,i){return Cr().memoizedState=[a,i===void 0?null:i],a},useContext:Jn,useEffect:hy,useImperativeHandle:function(a,i,c){c=c!=null?c.concat([a]):null,Sf(4194308,4,py.bind(null,i,a),c)},useLayoutEffect:function(a,i){return Sf(4194308,4,a,i)},useInsertionEffect:function(a,i){Sf(4,2,a,i)},useMemo:function(a,i){var c=Cr();i=i===void 0?null:i;var h=a();if(pl){Sr(!0);try{a()}finally{Sr(!1)}}return c.memoizedState=[h,i],h},useReducer:function(a,i,c){var h=Cr();if(c!==void 0){var g=c(i);if(pl){Sr(!0);try{c(i)}finally{Sr(!1)}}}else g=i;return h.memoizedState=h.baseState=g,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:g},h.queue=a,a=a.dispatch=R4.bind(null,ct,a),[h.memoizedState,a]},useRef:function(a){var i=Cr();return a={current:a},i.memoizedState=a},useState:function(a){a=Kp(a);var i=a.queue,c=Sy.bind(null,ct,i);return i.dispatch=c,[a.memoizedState,c]},useDebugValue:Yp,useDeferredValue:function(a,i){var c=Cr();return Qp(c,a,i)},useTransition:function(){var a=Kp(!1);return a=yy.bind(null,ct,a.queue,!0,!1),Cr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,i,c){var h=ct,g=Cr();if(yt){if(c===void 0)throw Error(r(407));c=c()}else{if(c=i(),Yt===null)throw Error(r(349));(pt&127)!==0||X_(h,i,c)}g.memoizedState=c;var x={value:c,getSnapshot:i};return g.queue=x,hy(Q_.bind(null,h,x,a),[a]),h.flags|=2048,Tc(9,{destroy:void 0},Y_.bind(null,h,x,c,i),null),c},useId:function(){var a=Cr(),i=Yt.identifierPrefix;if(yt){var c=_s,h=xs;c=(h&~(1<<32-un(h)-1)).toString(32)+c,i="_"+i+"R_"+c,c=Ef++,0<c&&(i+="H"+c.toString(32)),i+="_"}else c=w4++,i="_"+i+"r_"+c.toString(32)+"_";return a.memoizedState=i},useHostTransitionStatus:Zp,useFormState:iy,useActionState:iy,useOptimistic:function(a){var i=Cr();i.memoizedState=i.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=c,i=eg.bind(null,ct,!0,c),c.dispatch=i,[a,i]},useMemoCache:Hp,useCacheRefresh:function(){return Cr().memoizedState=I4.bind(null,ct)},useEffectEvent:function(a){var i=Cr(),c={impl:a};return i.memoizedState=c,function(){if((Nt&2)!==0)throw Error(r(440));return c.impl.apply(void 0,arguments)}}},tg={readContext:Jn,use:wf,useCallback:vy,useContext:Jn,useEffect:Xp,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:my,useMemo:xy,useReducer:Af,useRef:uy,useState:function(){return Af(ti)},useDebugValue:Yp,useDeferredValue:function(a,i){var c=An();return _y(c,Ht.memoizedState,a,i)},useTransition:function(){var a=Af(ti)[0],i=An().memoizedState;return[typeof a=="boolean"?a:th(a),i]},useSyncExternalStore:W_,useId:wy,useHostTransitionStatus:Zp,useFormState:oy,useActionState:oy,useOptimistic:function(a,i){var c=An();return ey(c,Ht,a,i)},useMemoCache:Hp,useCacheRefresh:Ay};tg.useEffectEvent=dy;var Iy={readContext:Jn,use:wf,useCallback:vy,useContext:Jn,useEffect:Xp,useImperativeHandle:gy,useInsertionEffect:fy,useLayoutEffect:my,useMemo:xy,useReducer:$p,useRef:uy,useState:function(){return $p(ti)},useDebugValue:Yp,useDeferredValue:function(a,i){var c=An();return Ht===null?Qp(c,a,i):_y(c,Ht.memoizedState,a,i)},useTransition:function(){var a=$p(ti)[0],i=An().memoizedState;return[typeof a=="boolean"?a:th(a),i]},useSyncExternalStore:W_,useId:wy,useHostTransitionStatus:Zp,useFormState:cy,useActionState:cy,useOptimistic:function(a,i){var c=An();return Ht!==null?ey(c,Ht,a,i):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:Hp,useCacheRefresh:Ay};Iy.useEffectEvent=dy;function ng(a,i,c,h){i=a.memoizedState,c=c(h,i),c=c==null?i:_({},i,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var rg={enqueueSetState:function(a,i,c){a=a._reactInternals;var h=ia(),g=Wi(h);g.payload=i,c!=null&&(g.callback=c),i=Xi(a,g,h),i!==null&&(zr(i,a,h),Qu(i,a,h))},enqueueReplaceState:function(a,i,c){a=a._reactInternals;var h=ia(),g=Wi(h);g.tag=1,g.payload=i,c!=null&&(g.callback=c),i=Xi(a,g,h),i!==null&&(zr(i,a,h),Qu(i,a,h))},enqueueForceUpdate:function(a,i){a=a._reactInternals;var c=ia(),h=Wi(c);h.tag=2,i!=null&&(h.callback=i),i=Xi(a,h,c),i!==null&&(zr(i,a,c),Qu(i,a,c))}};function Ry(a,i,c,h,g,x,A){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(h,x,A):i.prototype&&i.prototype.isPureReactComponent?!qu(c,h)||!qu(g,x):!0}function Dy(a,i,c,h){a=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(c,h),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(c,h),i.state!==a&&rg.enqueueReplaceState(i,i.state,null)}function gl(a,i){var c=i;if("ref"in i){c={};for(var h in i)h!=="ref"&&(c[h]=i[h])}if(a=a.defaultProps){c===i&&(c=_({},c));for(var g in a)c[g]===void 0&&(c[g]=a[g])}return c}function jy(a){af(a)}function ky(a){console.error(a)}function Oy(a){af(a)}function Cf(a,i){try{var c=a.onUncaughtError;c(i.value,{componentStack:i.stack})}catch(h){setTimeout(function(){throw h})}}function My(a,i,c){try{var h=a.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function ag(a,i,c){return c=Wi(c),c.tag=3,c.payload={element:null},c.callback=function(){Cf(a,i)},c}function Py(a){return a=Wi(a),a.tag=3,a}function Fy(a,i,c,h){var g=c.type.getDerivedStateFromError;if(typeof g=="function"){var x=h.value;a.payload=function(){return g(x)},a.callback=function(){My(i,c,h)}}var A=c.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(a.callback=function(){My(i,c,h),typeof g!="function"&&(to===null?to=new Set([this]):to.add(this));var L=h.stack;this.componentDidCatch(h.value,{componentStack:L!==null?L:""})})}function D4(a,i,c,h,g){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(i=c.alternate,i!==null&&mc(i,c,g,!0),c=na.current,c!==null){switch(c.tag){case 31:case 13:return Ia===null?Uf():c.alternate===null&&gn===0&&(gn=3),c.flags&=-257,c.flags|=65536,c.lanes=g,h===pf?c.flags|=16384:(i=c.updateQueue,i===null?c.updateQueue=new Set([h]):i.add(h),Ig(a,h,g)),!1;case 22:return c.flags|=65536,h===pf?c.flags|=16384:(i=c.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=i):(c=i.retryQueue,c===null?i.retryQueue=new Set([h]):c.add(h)),Ig(a,h,g)),!1}throw Error(r(435,c.tag))}return Ig(a,h,g),Uf(),!1}if(yt)return i=na.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=g,h!==wp&&(a=Error(r(422),{cause:h}),$u(Sa(a,c)))):(h!==wp&&(i=Error(r(423),{cause:h}),$u(Sa(i,c))),a=a.current.alternate,a.flags|=65536,g&=-g,a.lanes|=g,h=Sa(h,c),g=ag(a.stateNode,h,g),Op(a,g),gn!==4&&(gn=2)),!1;var x=Error(r(520),{cause:h});if(x=Sa(x,c),hh===null?hh=[x]:hh.push(x),gn!==4&&(gn=2),i===null)return!0;h=Sa(h,c),c=i;do{switch(c.tag){case 3:return c.flags|=65536,a=g&-g,c.lanes|=a,a=ag(c.stateNode,h,a),Op(c,a),!1;case 1:if(i=c.type,x=c.stateNode,(c.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(to===null||!to.has(x))))return c.flags|=65536,g&=-g,c.lanes|=g,g=Py(g),Fy(g,a,c,h),Op(c,g),!1}c=c.return}while(c!==null);return!1}var sg=Error(r(461)),Rn=!1;function Zn(a,i,c,h){i.child=a===null?B_(i,null,c,h):ml(i,a.child,c,h)}function Ly(a,i,c,h,g){c=c.render;var x=i.ref;if("ref"in h){var A={};for(var L in h)L!=="ref"&&(A[L]=h[L])}else A=h;return ul(i),h=Up(a,i,c,A,x,g),L=Bp(),a!==null&&!Rn?(zp(a,i,g),ni(a,i,g)):(yt&&L&&Ep(i),i.flags|=1,Zn(a,i,h,g),i.child)}function Vy(a,i,c,h,g){if(a===null){var x=c.type;return typeof x=="function"&&!xp(x)&&x.defaultProps===void 0&&c.compare===null?(i.tag=15,i.type=x,Uy(a,i,x,h,g)):(a=cf(c.type,null,h,i,i.mode,g),a.ref=i.ref,a.return=i,i.child=a)}if(x=a.child,!fg(a,g)){var A=x.memoizedProps;if(c=c.compare,c=c!==null?c:qu,c(A,h)&&a.ref===i.ref)return ni(a,i,g)}return i.flags|=1,a=Ys(x,h),a.ref=i.ref,a.return=i,i.child=a}function Uy(a,i,c,h,g){if(a!==null){var x=a.memoizedProps;if(qu(x,h)&&a.ref===i.ref)if(Rn=!1,i.pendingProps=h=x,fg(a,g))(a.flags&131072)!==0&&(Rn=!0);else return i.lanes=a.lanes,ni(a,i,g)}return ig(a,i,c,h,g)}function By(a,i,c,h){var g=h.children,x=a!==null?a.memoizedState:null;if(a===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((i.flags&128)!==0){if(x=x!==null?x.baseLanes|c:c,a!==null){for(h=i.child=a.child,g=0;h!==null;)g=g|h.lanes|h.childLanes,h=h.sibling;h=g&~x}else h=0,i.child=null;return zy(a,i,x,c,h)}if((c&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},a!==null&&ff(i,x!==null?x.cachePool:null),x!==null?H_(i,x):Pp(),G_(i);else return h=i.lanes=536870912,zy(a,i,x!==null?x.baseLanes|c:c,c,h)}else x!==null?(ff(i,x.cachePool),H_(i,x),Qi(),i.memoizedState=null):(a!==null&&ff(i,null),Pp(),Qi());return Zn(a,i,g,c),i.child}function ah(a,i){return a!==null&&a.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function zy(a,i,c,h,g){var x=Rp();return x=x===null?null:{parent:Cn._currentValue,pool:x},i.memoizedState={baseLanes:c,cachePool:x},a!==null&&ff(i,null),Pp(),G_(i),a!==null&&mc(a,i,h,!0),i.childLanes=g,null}function If(a,i){return i=Df({mode:i.mode,children:i.children},a.mode),i.ref=a.ref,a.child=i,i.return=a,i}function qy(a,i,c){return ml(i,a.child,null,c),a=If(i,i.pendingProps),a.flags|=2,ra(i),i.memoizedState=null,a}function j4(a,i,c){var h=i.pendingProps,g=(i.flags&128)!==0;if(i.flags&=-129,a===null){if(yt){if(h.mode==="hidden")return a=If(i,h),i.lanes=536870912,ah(null,a);if(Lp(i),(a=en)?(a=t2(a,Ca),a=a!==null&&a.data==="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:qi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},c=b_(a),c.return=i,i.child=c,Qn=i,en=null)):a=null,a===null)throw Gi(i);return i.lanes=536870912,null}return If(i,h)}var x=a.memoizedState;if(x!==null){var A=x.dehydrated;if(Lp(i),g)if(i.flags&256)i.flags&=-257,i=qy(a,i,c);else if(i.memoizedState!==null)i.child=a.child,i.flags|=128,i=null;else throw Error(r(558));else if(Rn||mc(a,i,c,!1),g=(c&a.childLanes)!==0,Rn||g){if(h=Yt,h!==null&&(A=Wo(h,c),A!==0&&A!==x.retryLane))throw x.retryLane=A,il(a,A),zr(h,a,A),sg;Uf(),i=qy(a,i,c)}else a=x.treeContext,en=Ra(A.nextSibling),Qn=i,yt=!0,Hi=null,Ca=!1,a!==null&&I_(i,a),i=If(i,h),i.flags|=4096;return i}return a=Ys(a.child,{mode:h.mode,children:h.children}),a.ref=i.ref,i.child=a,a.return=i,a}function Rf(a,i){var c=i.ref;if(c===null)a!==null&&a.ref!==null&&(i.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(r(284));(a===null||a.ref!==c)&&(i.flags|=4194816)}}function ig(a,i,c,h,g){return ul(i),c=Up(a,i,c,h,void 0,g),h=Bp(),a!==null&&!Rn?(zp(a,i,g),ni(a,i,g)):(yt&&h&&Ep(i),i.flags|=1,Zn(a,i,c,g),i.child)}function Hy(a,i,c,h,g,x){return ul(i),i.updateQueue=null,c=K_(i,h,c,g),$_(a),h=Bp(),a!==null&&!Rn?(zp(a,i,x),ni(a,i,x)):(yt&&h&&Ep(i),i.flags|=1,Zn(a,i,c,x),i.child)}function Gy(a,i,c,h,g){if(ul(i),i.stateNode===null){var x=uc,A=c.contextType;typeof A=="object"&&A!==null&&(x=Jn(A)),x=new c(h,x),i.memoizedState=x.state!==null&&x.state!==void 0?x.state:null,x.updater=rg,i.stateNode=x,x._reactInternals=i,x=i.stateNode,x.props=h,x.state=i.memoizedState,x.refs={},jp(i),A=c.contextType,x.context=typeof A=="object"&&A!==null?Jn(A):uc,x.state=i.memoizedState,A=c.getDerivedStateFromProps,typeof A=="function"&&(ng(i,c,A,h),x.state=i.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof x.getSnapshotBeforeUpdate=="function"||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(A=x.state,typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount(),A!==x.state&&rg.enqueueReplaceState(x,x.state,null),Zu(i,h,x,g),Ju(),x.state=i.memoizedState),typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!0}else if(a===null){x=i.stateNode;var L=i.memoizedProps,ne=gl(c,L);x.props=ne;var fe=x.context,Se=c.contextType;A=uc,typeof Se=="object"&&Se!==null&&(A=Jn(Se));var Ce=c.getDerivedStateFromProps;Se=typeof Ce=="function"||typeof x.getSnapshotBeforeUpdate=="function",L=i.pendingProps!==L,Se||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(L||fe!==A)&&Dy(i,x,h,A),Ki=!1;var ve=i.memoizedState;x.state=ve,Zu(i,h,x,g),Ju(),fe=i.memoizedState,L||ve!==fe||Ki?(typeof Ce=="function"&&(ng(i,c,Ce,h),fe=i.memoizedState),(ne=Ki||Ry(i,c,ne,h,ve,fe,A))?(Se||typeof x.UNSAFE_componentWillMount!="function"&&typeof x.componentWillMount!="function"||(typeof x.componentWillMount=="function"&&x.componentWillMount(),typeof x.UNSAFE_componentWillMount=="function"&&x.UNSAFE_componentWillMount()),typeof x.componentDidMount=="function"&&(i.flags|=4194308)):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=h,i.memoizedState=fe),x.props=h,x.state=fe,x.context=A,h=ne):(typeof x.componentDidMount=="function"&&(i.flags|=4194308),h=!1)}else{x=i.stateNode,kp(a,i),A=i.memoizedProps,Se=gl(c,A),x.props=Se,Ce=i.pendingProps,ve=x.context,fe=c.contextType,ne=uc,typeof fe=="object"&&fe!==null&&(ne=Jn(fe)),L=c.getDerivedStateFromProps,(fe=typeof L=="function"||typeof x.getSnapshotBeforeUpdate=="function")||typeof x.UNSAFE_componentWillReceiveProps!="function"&&typeof x.componentWillReceiveProps!="function"||(A!==Ce||ve!==ne)&&Dy(i,x,h,ne),Ki=!1,ve=i.memoizedState,x.state=ve,Zu(i,h,x,g),Ju();var ye=i.memoizedState;A!==Ce||ve!==ye||Ki||a!==null&&a.dependencies!==null&&hf(a.dependencies)?(typeof L=="function"&&(ng(i,c,L,h),ye=i.memoizedState),(Se=Ki||Ry(i,c,Se,h,ve,ye,ne)||a!==null&&a.dependencies!==null&&hf(a.dependencies))?(fe||typeof x.UNSAFE_componentWillUpdate!="function"&&typeof x.componentWillUpdate!="function"||(typeof x.componentWillUpdate=="function"&&x.componentWillUpdate(h,ye,ne),typeof x.UNSAFE_componentWillUpdate=="function"&&x.UNSAFE_componentWillUpdate(h,ye,ne)),typeof x.componentDidUpdate=="function"&&(i.flags|=4),typeof x.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof x.componentDidUpdate!="function"||A===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),i.memoizedProps=h,i.memoizedState=ye),x.props=h,x.state=ye,x.context=ne,h=Se):(typeof x.componentDidUpdate!="function"||A===a.memoizedProps&&ve===a.memoizedState||(i.flags|=4),typeof x.getSnapshotBeforeUpdate!="function"||A===a.memoizedProps&&ve===a.memoizedState||(i.flags|=1024),h=!1)}return x=h,Rf(a,i),h=(i.flags&128)!==0,x||h?(x=i.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:x.render(),i.flags|=1,a!==null&&h?(i.child=ml(i,a.child,null,g),i.child=ml(i,null,c,g)):Zn(a,i,c,g),i.memoizedState=x.state,a=i.child):a=ni(a,i,g),a}function $y(a,i,c,h){return ll(),i.flags|=256,Zn(a,i,c,h),i.child}var og={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lg(a){return{baseLanes:a,cachePool:M_()}}function cg(a,i,c){return a=a!==null?a.childLanes&~c:0,i&&(a|=sa),a}function Ky(a,i,c){var h=i.pendingProps,g=!1,x=(i.flags&128)!==0,A;if((A=x)||(A=a!==null&&a.memoizedState===null?!1:(wn.current&2)!==0),A&&(g=!0,i.flags&=-129),A=(i.flags&32)!==0,i.flags&=-33,a===null){if(yt){if(g?Yi(i):Qi(),(a=en)?(a=t2(a,Ca),a=a!==null&&a.data!=="&"?a:null,a!==null&&(i.memoizedState={dehydrated:a,treeContext:qi!==null?{id:xs,overflow:_s}:null,retryLane:536870912,hydrationErrors:null},c=b_(a),c.return=i,i.child=c,Qn=i,en=null)):a=null,a===null)throw Gi(i);return Gg(a)?i.lanes=32:i.lanes=536870912,null}var L=h.children;return h=h.fallback,g?(Qi(),g=i.mode,L=Df({mode:"hidden",children:L},g),h=ol(h,g,c,null),L.return=i,h.return=i,L.sibling=h,i.child=L,h=i.child,h.memoizedState=lg(c),h.childLanes=cg(a,A,c),i.memoizedState=og,ah(null,h)):(Yi(i),ug(i,L))}var ne=a.memoizedState;if(ne!==null&&(L=ne.dehydrated,L!==null)){if(x)i.flags&256?(Yi(i),i.flags&=-257,i=hg(a,i,c)):i.memoizedState!==null?(Qi(),i.child=a.child,i.flags|=128,i=null):(Qi(),L=h.fallback,g=i.mode,h=Df({mode:"visible",children:h.children},g),L=ol(L,g,c,null),L.flags|=2,h.return=i,L.return=i,h.sibling=L,i.child=h,ml(i,a.child,null,c),h=i.child,h.memoizedState=lg(c),h.childLanes=cg(a,A,c),i.memoizedState=og,i=ah(null,h));else if(Yi(i),Gg(L)){if(A=L.nextSibling&&L.nextSibling.dataset,A)var fe=A.dgst;A=fe,h=Error(r(419)),h.stack="",h.digest=A,$u({value:h,source:null,stack:null}),i=hg(a,i,c)}else if(Rn||mc(a,i,c,!1),A=(c&a.childLanes)!==0,Rn||A){if(A=Yt,A!==null&&(h=Wo(A,c),h!==0&&h!==ne.retryLane))throw ne.retryLane=h,il(a,h),zr(A,a,h),sg;Hg(L)||Uf(),i=hg(a,i,c)}else Hg(L)?(i.flags|=192,i.child=a.child,i=null):(a=ne.treeContext,en=Ra(L.nextSibling),Qn=i,yt=!0,Hi=null,Ca=!1,a!==null&&I_(i,a),i=ug(i,h.children),i.flags|=4096);return i}return g?(Qi(),L=h.fallback,g=i.mode,ne=a.child,fe=ne.sibling,h=Ys(ne,{mode:"hidden",children:h.children}),h.subtreeFlags=ne.subtreeFlags&65011712,fe!==null?L=Ys(fe,L):(L=ol(L,g,c,null),L.flags|=2),L.return=i,h.return=i,h.sibling=L,i.child=h,ah(null,h),h=i.child,L=a.child.memoizedState,L===null?L=lg(c):(g=L.cachePool,g!==null?(ne=Cn._currentValue,g=g.parent!==ne?{parent:ne,pool:ne}:g):g=M_(),L={baseLanes:L.baseLanes|c,cachePool:g}),h.memoizedState=L,h.childLanes=cg(a,A,c),i.memoizedState=og,ah(a.child,h)):(Yi(i),c=a.child,a=c.sibling,c=Ys(c,{mode:"visible",children:h.children}),c.return=i,c.sibling=null,a!==null&&(A=i.deletions,A===null?(i.deletions=[a],i.flags|=16):A.push(a)),i.child=c,i.memoizedState=null,c)}function ug(a,i){return i=Df({mode:"visible",children:i},a.mode),i.return=a,a.child=i}function Df(a,i){return a=ta(22,a,null,i),a.lanes=0,a}function hg(a,i,c){return ml(i,a.child,null,c),a=ug(i,i.pendingProps.children),a.flags|=2,i.memoizedState=null,a}function Wy(a,i,c){a.lanes|=i;var h=a.alternate;h!==null&&(h.lanes|=i),bp(a.return,i,c)}function dg(a,i,c,h,g,x){var A=a.memoizedState;A===null?a.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:g,treeForkCount:x}:(A.isBackwards=i,A.rendering=null,A.renderingStartTime=0,A.last=h,A.tail=c,A.tailMode=g,A.treeForkCount=x)}function Xy(a,i,c){var h=i.pendingProps,g=h.revealOrder,x=h.tail;h=h.children;var A=wn.current,L=(A&2)!==0;if(L?(A=A&1|2,i.flags|=128):A&=1,Z(wn,A),Zn(a,i,h,c),h=yt?Gu:0,!L&&a!==null&&(a.flags&128)!==0)e:for(a=i.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&Wy(a,c,i);else if(a.tag===19)Wy(a,c,i);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break e;for(;a.sibling===null;){if(a.return===null||a.return===i)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}switch(g){case"forwards":for(c=i.child,g=null;c!==null;)a=c.alternate,a!==null&&_f(a)===null&&(g=c),c=c.sibling;c=g,c===null?(g=i.child,i.child=null):(g=c.sibling,c.sibling=null),dg(i,!1,g,c,x,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,g=i.child,i.child=null;g!==null;){if(a=g.alternate,a!==null&&_f(a)===null){i.child=g;break}a=g.sibling,g.sibling=c,c=g,g=a}dg(i,!0,c,null,x,h);break;case"together":dg(i,!1,null,null,void 0,h);break;default:i.memoizedState=null}return i.child}function ni(a,i,c){if(a!==null&&(i.dependencies=a.dependencies),eo|=i.lanes,(c&i.childLanes)===0)if(a!==null){if(mc(a,i,c,!1),(c&i.childLanes)===0)return null}else return null;if(a!==null&&i.child!==a.child)throw Error(r(153));if(i.child!==null){for(a=i.child,c=Ys(a,a.pendingProps),i.child=c,c.return=i;a.sibling!==null;)a=a.sibling,c=c.sibling=Ys(a,a.pendingProps),c.return=i;c.sibling=null}return i.child}function fg(a,i){return(a.lanes&i)!==0?!0:(a=a.dependencies,!!(a!==null&&hf(a)))}function k4(a,i,c){switch(i.tag){case 3:Be(i,i.stateNode.containerInfo),$i(i,Cn,a.memoizedState.cache),ll();break;case 27:case 5:se(i);break;case 4:Be(i,i.stateNode.containerInfo);break;case 10:$i(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Lp(i),null;break;case 13:var h=i.memoizedState;if(h!==null)return h.dehydrated!==null?(Yi(i),i.flags|=128,null):(c&i.child.childLanes)!==0?Ky(a,i,c):(Yi(i),a=ni(a,i,c),a!==null?a.sibling:null);Yi(i);break;case 19:var g=(a.flags&128)!==0;if(h=(c&i.childLanes)!==0,h||(mc(a,i,c,!1),h=(c&i.childLanes)!==0),g){if(h)return Xy(a,i,c);i.flags|=128}if(g=i.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Z(wn,wn.current),h)break;return null;case 22:return i.lanes=0,By(a,i,c,i.pendingProps);case 24:$i(i,Cn,a.memoizedState.cache)}return ni(a,i,c)}function Yy(a,i,c){if(a!==null)if(a.memoizedProps!==i.pendingProps)Rn=!0;else{if(!fg(a,c)&&(i.flags&128)===0)return Rn=!1,k4(a,i,c);Rn=(a.flags&131072)!==0}else Rn=!1,yt&&(i.flags&1048576)!==0&&C_(i,Gu,i.index);switch(i.lanes=0,i.tag){case 16:e:{var h=i.pendingProps;if(a=dl(i.elementType),i.type=a,typeof a=="function")xp(a)?(h=gl(a,h),i.tag=1,i=Gy(null,i,a,h,c)):(i.tag=0,i=ig(null,i,a,h,c));else{if(a!=null){var g=a.$$typeof;if(g===X){i.tag=11,i=Ly(null,i,a,h,c);break e}else if(g===I){i.tag=14,i=Vy(null,i,a,h,c);break e}}throw i=J(a)||a,Error(r(306,i,""))}}return i;case 0:return ig(a,i,i.type,i.pendingProps,c);case 1:return h=i.type,g=gl(h,i.pendingProps),Gy(a,i,h,g,c);case 3:e:{if(Be(i,i.stateNode.containerInfo),a===null)throw Error(r(387));h=i.pendingProps;var x=i.memoizedState;g=x.element,kp(a,i),Zu(i,h,null,c);var A=i.memoizedState;if(h=A.cache,$i(i,Cn,h),h!==x.cache&&Np(i,[Cn],c,!0),Ju(),h=A.element,x.isDehydrated)if(x={element:h,isDehydrated:!1,cache:A.cache},i.updateQueue.baseState=x,i.memoizedState=x,i.flags&256){i=$y(a,i,h,c);break e}else if(h!==g){g=Sa(Error(r(424)),i),$u(g),i=$y(a,i,h,c);break e}else{switch(a=i.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(en=Ra(a.firstChild),Qn=i,yt=!0,Hi=null,Ca=!0,c=B_(i,null,h,c),i.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ll(),h===g){i=ni(a,i,c);break e}Zn(a,i,h,c)}i=i.child}return i;case 26:return Rf(a,i),a===null?(c=o2(i.type,null,i.pendingProps,null))?i.memoizedState=c:yt||(c=i.type,a=i.pendingProps,h=Kf(pe.current).createElement(c),h[H]=i,h[G]=a,er(h,c,a),We(h),i.stateNode=h):i.memoizedState=o2(i.type,a.memoizedProps,i.pendingProps,a.memoizedState),null;case 27:return se(i),a===null&&yt&&(h=i.stateNode=a2(i.type,i.pendingProps,pe.current),Qn=i,Ca=!0,g=en,so(i.type)?($g=g,en=Ra(h.firstChild)):en=g),Zn(a,i,i.pendingProps.children,c),Rf(a,i),a===null&&(i.flags|=4194304),i.child;case 5:return a===null&&yt&&((g=h=en)&&(h=cI(h,i.type,i.pendingProps,Ca),h!==null?(i.stateNode=h,Qn=i,en=Ra(h.firstChild),Ca=!1,g=!0):g=!1),g||Gi(i)),se(i),g=i.type,x=i.pendingProps,A=a!==null?a.memoizedProps:null,h=x.children,Bg(g,x)?h=null:A!==null&&Bg(g,A)&&(i.flags|=32),i.memoizedState!==null&&(g=Up(a,i,A4,null,null,c),_h._currentValue=g),Rf(a,i),Zn(a,i,h,c),i.child;case 6:return a===null&&yt&&((a=c=en)&&(c=uI(c,i.pendingProps,Ca),c!==null?(i.stateNode=c,Qn=i,en=null,a=!0):a=!1),a||Gi(i)),null;case 13:return Ky(a,i,c);case 4:return Be(i,i.stateNode.containerInfo),h=i.pendingProps,a===null?i.child=ml(i,null,h,c):Zn(a,i,h,c),i.child;case 11:return Ly(a,i,i.type,i.pendingProps,c);case 7:return Zn(a,i,i.pendingProps,c),i.child;case 8:return Zn(a,i,i.pendingProps.children,c),i.child;case 12:return Zn(a,i,i.pendingProps.children,c),i.child;case 10:return h=i.pendingProps,$i(i,i.type,h.value),Zn(a,i,h.children,c),i.child;case 9:return g=i.type._context,h=i.pendingProps.children,ul(i),g=Jn(g),h=h(g),i.flags|=1,Zn(a,i,h,c),i.child;case 14:return Vy(a,i,i.type,i.pendingProps,c);case 15:return Uy(a,i,i.type,i.pendingProps,c);case 19:return Xy(a,i,c);case 31:return j4(a,i,c);case 22:return By(a,i,c,i.pendingProps);case 24:return ul(i),h=Jn(Cn),a===null?(g=Rp(),g===null&&(g=Yt,x=Cp(),g.pooledCache=x,x.refCount++,x!==null&&(g.pooledCacheLanes|=c),g=x),i.memoizedState={parent:h,cache:g},jp(i),$i(i,Cn,g)):((a.lanes&c)!==0&&(kp(a,i),Zu(i,null,null,c),Ju()),g=a.memoizedState,x=i.memoizedState,g.parent!==h?(g={parent:h,cache:h},i.memoizedState=g,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=g),$i(i,Cn,h)):(h=x.cache,$i(i,Cn,h),h!==g.cache&&Np(i,[Cn],c,!0))),Zn(a,i,i.pendingProps.children,c),i.child;case 29:throw i.pendingProps}throw Error(r(156,i.tag))}function ri(a){a.flags|=4}function mg(a,i,c,h,g){if((i=(a.mode&32)!==0)&&(i=!1),i){if(a.flags|=16777216,(g&335544128)===g)if(a.stateNode.complete)a.flags|=8192;else if(wE())a.flags|=8192;else throw fl=pf,Dp}else a.flags&=-16777217}function Qy(a,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!d2(i))if(wE())a.flags|=8192;else throw fl=pf,Dp}function jf(a,i){i!==null&&(a.flags|=4),a.flags&16384&&(i=a.tag!==22?Ql():536870912,a.lanes|=i,bc|=i)}function sh(a,i){if(!yt)switch(a.tailMode){case"hidden":i=a.tail;for(var c=null;i!==null;)i.alternate!==null&&(c=i),i=i.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?i||a.tail===null?a.tail=null:a.tail.sibling=null:h.sibling=null}}function tn(a){var i=a.alternate!==null&&a.alternate.child===a.child,c=0,h=0;if(i)for(var g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags&65011712,h|=g.flags&65011712,g.return=a,g=g.sibling;else for(g=a.child;g!==null;)c|=g.lanes|g.childLanes,h|=g.subtreeFlags,h|=g.flags,g.return=a,g=g.sibling;return a.subtreeFlags|=h,a.childLanes=c,i}function O4(a,i,c){var h=i.pendingProps;switch(Tp(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tn(i),null;case 1:return tn(i),null;case 3:return c=i.stateNode,h=null,a!==null&&(h=a.memoizedState.cache),i.memoizedState.cache!==h&&(i.flags|=2048),Zs(Cn),Me(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(fc(i)?ri(i):a===null||a.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ap())),tn(i),null;case 26:var g=i.type,x=i.memoizedState;return a===null?(ri(i),x!==null?(tn(i),Qy(i,x)):(tn(i),mg(i,g,null,h,c))):x?x!==a.memoizedState?(ri(i),tn(i),Qy(i,x)):(tn(i),i.flags&=-16777217):(a=a.memoizedProps,a!==h&&ri(i),tn(i),mg(i,g,a,h,c)),null;case 27:if(Xe(i),c=pe.current,g=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&ri(i);else{if(!h){if(i.stateNode===null)throw Error(r(166));return tn(i),null}a=Q.current,fc(i)?R_(i):(a=a2(g,h,c),i.stateNode=a,ri(i))}return tn(i),null;case 5:if(Xe(i),g=i.type,a!==null&&i.stateNode!=null)a.memoizedProps!==h&&ri(i);else{if(!h){if(i.stateNode===null)throw Error(r(166));return tn(i),null}if(x=Q.current,fc(i))R_(i);else{var A=Kf(pe.current);switch(x){case 1:x=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:x=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":x=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":x=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":x=A.createElement("div"),x.innerHTML="<script><\/script>",x=x.removeChild(x.firstChild);break;case"select":x=typeof h.is=="string"?A.createElement("select",{is:h.is}):A.createElement("select"),h.multiple?x.multiple=!0:h.size&&(x.size=h.size);break;default:x=typeof h.is=="string"?A.createElement(g,{is:h.is}):A.createElement(g)}}x[H]=i,x[G]=h;e:for(A=i.child;A!==null;){if(A.tag===5||A.tag===6)x.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===i)break e;for(;A.sibling===null;){if(A.return===null||A.return===i)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}i.stateNode=x;e:switch(er(x,g,h),g){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}h&&ri(i)}}return tn(i),mg(i,i.type,a===null?null:a.memoizedProps,i.pendingProps,c),null;case 6:if(a&&i.stateNode!=null)a.memoizedProps!==h&&ri(i);else{if(typeof h!="string"&&i.stateNode===null)throw Error(r(166));if(a=pe.current,fc(i)){if(a=i.stateNode,c=i.memoizedProps,h=null,g=Qn,g!==null)switch(g.tag){case 27:case 5:h=g.memoizedProps}a[H]=i,a=!!(a.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||KE(a.nodeValue,c)),a||Gi(i,!0)}else a=Kf(a).createTextNode(h),a[H]=i,i.stateNode=a}return tn(i),null;case 31:if(c=i.memoizedState,a===null||a.memoizedState!==null){if(h=fc(i),c!==null){if(a===null){if(!h)throw Error(r(318));if(a=i.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(r(557));a[H]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),a=!1}else c=Ap(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=c),a=!0;if(!a)return i.flags&256?(ra(i),i):(ra(i),null);if((i.flags&128)!==0)throw Error(r(558))}return tn(i),null;case 13:if(h=i.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(g=fc(i),h!==null&&h.dehydrated!==null){if(a===null){if(!g)throw Error(r(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(r(317));g[H]=i}else ll(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;tn(i),g=!1}else g=Ap(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=g),g=!0;if(!g)return i.flags&256?(ra(i),i):(ra(i),null)}return ra(i),(i.flags&128)!==0?(i.lanes=c,i):(c=h!==null,a=a!==null&&a.memoizedState!==null,c&&(h=i.child,g=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(g=h.alternate.memoizedState.cachePool.pool),x=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(x=h.memoizedState.cachePool.pool),x!==g&&(h.flags|=2048)),c!==a&&c&&(i.child.flags|=8192),jf(i,i.updateQueue),tn(i),null);case 4:return Me(),a===null&&Pg(i.stateNode.containerInfo),tn(i),null;case 10:return Zs(i.type),tn(i),null;case 19:if(V(wn),h=i.memoizedState,h===null)return tn(i),null;if(g=(i.flags&128)!==0,x=h.rendering,x===null)if(g)sh(h,!1);else{if(gn!==0||a!==null&&(a.flags&128)!==0)for(a=i.child;a!==null;){if(x=_f(a),x!==null){for(i.flags|=128,sh(h,!1),a=x.updateQueue,i.updateQueue=a,jf(i,a),i.subtreeFlags=0,a=c,c=i.child;c!==null;)S_(c,a),c=c.sibling;return Z(wn,wn.current&1|2),yt&&Qs(i,h.treeForkCount),i.child}a=a.sibling}h.tail!==null&&Qt()>Ff&&(i.flags|=128,g=!0,sh(h,!1),i.lanes=4194304)}else{if(!g)if(a=_f(x),a!==null){if(i.flags|=128,g=!0,a=a.updateQueue,i.updateQueue=a,jf(i,a),sh(h,!0),h.tail===null&&h.tailMode==="hidden"&&!x.alternate&&!yt)return tn(i),null}else 2*Qt()-h.renderingStartTime>Ff&&c!==536870912&&(i.flags|=128,g=!0,sh(h,!1),i.lanes=4194304);h.isBackwards?(x.sibling=i.child,i.child=x):(a=h.last,a!==null?a.sibling=x:i.child=x,h.last=x)}return h.tail!==null?(a=h.tail,h.rendering=a,h.tail=a.sibling,h.renderingStartTime=Qt(),a.sibling=null,c=wn.current,Z(wn,g?c&1|2:c&1),yt&&Qs(i,h.treeForkCount),a):(tn(i),null);case 22:case 23:return ra(i),Fp(),h=i.memoizedState!==null,a!==null?a.memoizedState!==null!==h&&(i.flags|=8192):h&&(i.flags|=8192),h?(c&536870912)!==0&&(i.flags&128)===0&&(tn(i),i.subtreeFlags&6&&(i.flags|=8192)):tn(i),c=i.updateQueue,c!==null&&jf(i,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),h=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(h=i.memoizedState.cachePool.pool),h!==c&&(i.flags|=2048),a!==null&&V(hl),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),Zs(Cn),tn(i),null;case 25:return null;case 30:return null}throw Error(r(156,i.tag))}function M4(a,i){switch(Tp(i),i.tag){case 1:return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 3:return Zs(Cn),Me(),a=i.flags,(a&65536)!==0&&(a&128)===0?(i.flags=a&-65537|128,i):null;case 26:case 27:case 5:return Xe(i),null;case 31:if(i.memoizedState!==null){if(ra(i),i.alternate===null)throw Error(r(340));ll()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 13:if(ra(i),a=i.memoizedState,a!==null&&a.dehydrated!==null){if(i.alternate===null)throw Error(r(340));ll()}return a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 19:return V(wn),null;case 4:return Me(),null;case 10:return Zs(i.type),null;case 22:case 23:return ra(i),Fp(),a!==null&&V(hl),a=i.flags,a&65536?(i.flags=a&-65537|128,i):null;case 24:return Zs(Cn),null;case 25:return null;default:return null}}function Jy(a,i){switch(Tp(i),i.tag){case 3:Zs(Cn),Me();break;case 26:case 27:case 5:Xe(i);break;case 4:Me();break;case 31:i.memoizedState!==null&&ra(i);break;case 13:ra(i);break;case 19:V(wn);break;case 10:Zs(i.type);break;case 22:case 23:ra(i),Fp(),a!==null&&V(hl);break;case 24:Zs(Cn)}}function ih(a,i){try{var c=i.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var g=h.next;c=g;do{if((c.tag&a)===a){h=void 0;var x=c.create,A=c.inst;h=x(),A.destroy=h}c=c.next}while(c!==g)}}catch(L){Ft(i,i.return,L)}}function Ji(a,i,c){try{var h=i.updateQueue,g=h!==null?h.lastEffect:null;if(g!==null){var x=g.next;h=x;do{if((h.tag&a)===a){var A=h.inst,L=A.destroy;if(L!==void 0){A.destroy=void 0,g=i;var ne=c,fe=L;try{fe()}catch(Se){Ft(g,ne,Se)}}}h=h.next}while(h!==x)}}catch(Se){Ft(i,i.return,Se)}}function Zy(a){var i=a.updateQueue;if(i!==null){var c=a.stateNode;try{q_(i,c)}catch(h){Ft(a,a.return,h)}}}function eE(a,i,c){c.props=gl(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(h){Ft(a,i,h)}}function oh(a,i){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var h=a.stateNode;break;case 30:h=a.stateNode;break;default:h=a.stateNode}typeof c=="function"?a.refCleanup=c(h):c.current=h}}catch(g){Ft(a,i,g)}}function ys(a,i){var c=a.ref,h=a.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(g){Ft(a,i,g)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(g){Ft(a,i,g)}else c.current=null}function tE(a){var i=a.type,c=a.memoizedProps,h=a.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break e;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(g){Ft(a,a.return,g)}}function pg(a,i,c){try{var h=a.stateNode;rI(h,a.type,c,i),h[G]=i}catch(g){Ft(a,a.return,g)}}function nE(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&so(a.type)||a.tag===4}function gg(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||nE(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&so(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function vg(a,i,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,i):(i=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,i.appendChild(a),c=c._reactRootContainer,c!=null||i.onclick!==null||(i.onclick=qa));else if(h!==4&&(h===27&&so(a.type)&&(c=a.stateNode,i=null),a=a.child,a!==null))for(vg(a,i,c),a=a.sibling;a!==null;)vg(a,i,c),a=a.sibling}function kf(a,i,c){var h=a.tag;if(h===5||h===6)a=a.stateNode,i?c.insertBefore(a,i):c.appendChild(a);else if(h!==4&&(h===27&&so(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(kf(a,i,c),a=a.sibling;a!==null;)kf(a,i,c),a=a.sibling}function rE(a){var i=a.stateNode,c=a.memoizedProps;try{for(var h=a.type,g=i.attributes;g.length;)i.removeAttributeNode(g[0]);er(i,h,c),i[H]=a,i[G]=c}catch(x){Ft(a,a.return,x)}}var ai=!1,Dn=!1,xg=!1,aE=typeof WeakSet=="function"?WeakSet:Set,Hn=null;function P4(a,i){if(a=a.containerInfo,Vg=e0,a=g_(a),hp(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var g=h.anchorOffset,x=h.focusNode;h=h.focusOffset;try{c.nodeType,x.nodeType}catch{c=null;break e}var A=0,L=-1,ne=-1,fe=0,Se=0,Ce=a,ve=null;t:for(;;){for(var ye;Ce!==c||g!==0&&Ce.nodeType!==3||(L=A+g),Ce!==x||h!==0&&Ce.nodeType!==3||(ne=A+h),Ce.nodeType===3&&(A+=Ce.nodeValue.length),(ye=Ce.firstChild)!==null;)ve=Ce,Ce=ye;for(;;){if(Ce===a)break t;if(ve===c&&++fe===g&&(L=A),ve===x&&++Se===h&&(ne=A),(ye=Ce.nextSibling)!==null)break;Ce=ve,ve=Ce.parentNode}Ce=ye}c=L===-1||ne===-1?null:{start:L,end:ne}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ug={focusedElem:a,selectionRange:c},e0=!1,Hn=i;Hn!==null;)if(i=Hn,a=i.child,(i.subtreeFlags&1028)!==0&&a!==null)a.return=i,Hn=a;else for(;Hn!==null;){switch(i=Hn,x=i.alternate,a=i.flags,i.tag){case 0:if((a&4)!==0&&(a=i.updateQueue,a=a!==null?a.events:null,a!==null))for(c=0;c<a.length;c++)g=a[c],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((a&1024)!==0&&x!==null){a=void 0,c=i,g=x.memoizedProps,x=x.memoizedState,h=c.stateNode;try{var $e=gl(c.type,g);a=h.getSnapshotBeforeUpdate($e,x),h.__reactInternalSnapshotBeforeUpdate=a}catch(nt){Ft(c,c.return,nt)}}break;case 3:if((a&1024)!==0){if(a=i.stateNode.containerInfo,c=a.nodeType,c===9)qg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":qg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(r(163))}if(a=i.sibling,a!==null){a.return=i.return,Hn=a;break}Hn=i.return}}function sE(a,i,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:ii(a,c),h&4&&ih(5,c);break;case 1:if(ii(a,c),h&4)if(a=c.stateNode,i===null)try{a.componentDidMount()}catch(A){Ft(c,c.return,A)}else{var g=gl(c.type,i.memoizedProps);i=i.memoizedState;try{a.componentDidUpdate(g,i,a.__reactInternalSnapshotBeforeUpdate)}catch(A){Ft(c,c.return,A)}}h&64&&Zy(c),h&512&&oh(c,c.return);break;case 3:if(ii(a,c),h&64&&(a=c.updateQueue,a!==null)){if(i=null,c.child!==null)switch(c.child.tag){case 27:case 5:i=c.child.stateNode;break;case 1:i=c.child.stateNode}try{q_(a,i)}catch(A){Ft(c,c.return,A)}}break;case 27:i===null&&h&4&&rE(c);case 26:case 5:ii(a,c),i===null&&h&4&&tE(c),h&512&&oh(c,c.return);break;case 12:ii(a,c);break;case 31:ii(a,c),h&4&&lE(a,c);break;case 13:ii(a,c),h&4&&cE(a,c),h&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=G4.bind(null,c),hI(a,c))));break;case 22:if(h=c.memoizedState!==null||ai,!h){i=i!==null&&i.memoizedState!==null||Dn,g=ai;var x=Dn;ai=h,(Dn=i)&&!x?oi(a,c,(c.subtreeFlags&8772)!==0):ii(a,c),ai=g,Dn=x}break;case 30:break;default:ii(a,c)}}function iE(a){var i=a.alternate;i!==null&&(a.alternate=null,iE(i)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(i=a.stateNode,i!==null&&ke(i)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var on=null,Lr=!1;function si(a,i,c){for(c=c.child;c!==null;)oE(a,i,c),c=c.sibling}function oE(a,i,c){if(bn&&typeof bn.onCommitFiberUnmount=="function")try{bn.onCommitFiberUnmount(Mr,c)}catch{}switch(c.tag){case 26:Dn||ys(c,i),si(a,i,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Dn||ys(c,i);var h=on,g=Lr;so(c.type)&&(on=c.stateNode,Lr=!1),si(a,i,c),gh(c.stateNode),on=h,Lr=g;break;case 5:Dn||ys(c,i);case 6:if(h=on,g=Lr,on=null,si(a,i,c),on=h,Lr=g,on!==null)if(Lr)try{(on.nodeType===9?on.body:on.nodeName==="HTML"?on.ownerDocument.body:on).removeChild(c.stateNode)}catch(x){Ft(c,i,x)}else try{on.removeChild(c.stateNode)}catch(x){Ft(c,i,x)}break;case 18:on!==null&&(Lr?(a=on,ZE(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Oc(a)):ZE(on,c.stateNode));break;case 4:h=on,g=Lr,on=c.stateNode.containerInfo,Lr=!0,si(a,i,c),on=h,Lr=g;break;case 0:case 11:case 14:case 15:Ji(2,c,i),Dn||Ji(4,c,i),si(a,i,c);break;case 1:Dn||(ys(c,i),h=c.stateNode,typeof h.componentWillUnmount=="function"&&eE(c,i,h)),si(a,i,c);break;case 21:si(a,i,c);break;case 22:Dn=(h=Dn)||c.memoizedState!==null,si(a,i,c),Dn=h;break;default:si(a,i,c)}}function lE(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null))){a=a.dehydrated;try{Oc(a)}catch(c){Ft(i,i.return,c)}}}function cE(a,i){if(i.memoizedState===null&&(a=i.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Oc(a)}catch(c){Ft(i,i.return,c)}}function F4(a){switch(a.tag){case 31:case 13:case 19:var i=a.stateNode;return i===null&&(i=a.stateNode=new aE),i;case 22:return a=a.stateNode,i=a._retryCache,i===null&&(i=a._retryCache=new aE),i;default:throw Error(r(435,a.tag))}}function Of(a,i){var c=F4(a);i.forEach(function(h){if(!c.has(h)){c.add(h);var g=$4.bind(null,a,h);h.then(g,g)}})}function Vr(a,i){var c=i.deletions;if(c!==null)for(var h=0;h<c.length;h++){var g=c[h],x=a,A=i,L=A;e:for(;L!==null;){switch(L.tag){case 27:if(so(L.type)){on=L.stateNode,Lr=!1;break e}break;case 5:on=L.stateNode,Lr=!1;break e;case 3:case 4:on=L.stateNode.containerInfo,Lr=!0;break e}L=L.return}if(on===null)throw Error(r(160));oE(x,A,g),on=null,Lr=!1,x=g.alternate,x!==null&&(x.return=null),g.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)uE(i,a),i=i.sibling}var Xa=null;function uE(a,i){var c=a.alternate,h=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Vr(i,a),Ur(a),h&4&&(Ji(3,a,a.return),ih(3,a),Ji(5,a,a.return));break;case 1:Vr(i,a),Ur(a),h&512&&(Dn||c===null||ys(c,c.return)),h&64&&ai&&(a=a.updateQueue,a!==null&&(h=a.callbacks,h!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var g=Xa;if(Vr(i,a),Ur(a),h&512&&(Dn||c===null||ys(c,c.return)),h&4){var x=c!==null?c.memoizedState:null;if(h=a.memoizedState,c===null)if(h===null)if(a.stateNode===null){e:{h=a.type,c=a.memoizedProps,g=g.ownerDocument||g;t:switch(h){case"title":x=g.getElementsByTagName("title")[0],(!x||x[me]||x[H]||x.namespaceURI==="http://www.w3.org/2000/svg"||x.hasAttribute("itemprop"))&&(x=g.createElement(h),g.head.insertBefore(x,g.querySelector("head > title"))),er(x,h,c),x[H]=a,We(x),h=x;break e;case"link":var A=u2("link","href",g).get(h+(c.href||""));if(A){for(var L=0;L<A.length;L++)if(x=A[L],x.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&x.getAttribute("rel")===(c.rel==null?null:c.rel)&&x.getAttribute("title")===(c.title==null?null:c.title)&&x.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){A.splice(L,1);break t}}x=g.createElement(h),er(x,h,c),g.head.appendChild(x);break;case"meta":if(A=u2("meta","content",g).get(h+(c.content||""))){for(L=0;L<A.length;L++)if(x=A[L],x.getAttribute("content")===(c.content==null?null:""+c.content)&&x.getAttribute("name")===(c.name==null?null:c.name)&&x.getAttribute("property")===(c.property==null?null:c.property)&&x.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&x.getAttribute("charset")===(c.charSet==null?null:c.charSet)){A.splice(L,1);break t}}x=g.createElement(h),er(x,h,c),g.head.appendChild(x);break;default:throw Error(r(468,h))}x[H]=a,We(x),h=x}a.stateNode=h}else h2(g,a.type,a.stateNode);else a.stateNode=c2(g,h,a.memoizedProps);else x!==h?(x===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):x.count--,h===null?h2(g,a.type,a.stateNode):c2(g,h,a.memoizedProps)):h===null&&a.stateNode!==null&&pg(a,a.memoizedProps,c.memoizedProps)}break;case 27:Vr(i,a),Ur(a),h&512&&(Dn||c===null||ys(c,c.return)),c!==null&&h&4&&pg(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Vr(i,a),Ur(a),h&512&&(Dn||c===null||ys(c,c.return)),a.flags&32){g=a.stateNode;try{Fr(g,"")}catch($e){Ft(a,a.return,$e)}}h&4&&a.stateNode!=null&&(g=a.memoizedProps,pg(a,g,c!==null?c.memoizedProps:g)),h&1024&&(xg=!0);break;case 6:if(Vr(i,a),Ur(a),h&4){if(a.stateNode===null)throw Error(r(162));h=a.memoizedProps,c=a.stateNode;try{c.nodeValue=h}catch($e){Ft(a,a.return,$e)}}break;case 3:if(Yf=null,g=Xa,Xa=Wf(i.containerInfo),Vr(i,a),Xa=g,Ur(a),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Oc(i.containerInfo)}catch($e){Ft(a,a.return,$e)}xg&&(xg=!1,hE(a));break;case 4:h=Xa,Xa=Wf(a.stateNode.containerInfo),Vr(i,a),Ur(a),Xa=h;break;case 12:Vr(i,a),Ur(a);break;case 31:Vr(i,a),Ur(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Of(a,h)));break;case 13:Vr(i,a),Ur(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Pf=Qt()),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Of(a,h)));break;case 22:g=a.memoizedState!==null;var ne=c!==null&&c.memoizedState!==null,fe=ai,Se=Dn;if(ai=fe||g,Dn=Se||ne,Vr(i,a),Dn=Se,ai=fe,Ur(a),h&8192)e:for(i=a.stateNode,i._visibility=g?i._visibility&-2:i._visibility|1,g&&(c===null||ne||ai||Dn||vl(a)),c=null,i=a;;){if(i.tag===5||i.tag===26){if(c===null){ne=c=i;try{if(x=ne.stateNode,g)A=x.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{L=ne.stateNode;var Ce=ne.memoizedProps.style,ve=Ce!=null&&Ce.hasOwnProperty("display")?Ce.display:null;L.style.display=ve==null||typeof ve=="boolean"?"":(""+ve).trim()}}catch($e){Ft(ne,ne.return,$e)}}}else if(i.tag===6){if(c===null){ne=i;try{ne.stateNode.nodeValue=g?"":ne.memoizedProps}catch($e){Ft(ne,ne.return,$e)}}}else if(i.tag===18){if(c===null){ne=i;try{var ye=ne.stateNode;g?e2(ye,!0):e2(ne.stateNode,!1)}catch($e){Ft(ne,ne.return,$e)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===a)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break e;for(;i.sibling===null;){if(i.return===null||i.return===a)break e;c===i&&(c=null),i=i.return}c===i&&(c=null),i.sibling.return=i.return,i=i.sibling}h&4&&(h=a.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,Of(a,c))));break;case 19:Vr(i,a),Ur(a),h&4&&(h=a.updateQueue,h!==null&&(a.updateQueue=null,Of(a,h)));break;case 30:break;case 21:break;default:Vr(i,a),Ur(a)}}function Ur(a){var i=a.flags;if(i&2){try{for(var c,h=a.return;h!==null;){if(nE(h)){c=h;break}h=h.return}if(c==null)throw Error(r(160));switch(c.tag){case 27:var g=c.stateNode,x=gg(a);kf(a,x,g);break;case 5:var A=c.stateNode;c.flags&32&&(Fr(A,""),c.flags&=-33);var L=gg(a);kf(a,L,A);break;case 3:case 4:var ne=c.stateNode.containerInfo,fe=gg(a);vg(a,fe,ne);break;default:throw Error(r(161))}}catch(Se){Ft(a,a.return,Se)}a.flags&=-3}i&4096&&(a.flags&=-4097)}function hE(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var i=a;hE(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),a=a.sibling}}function ii(a,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)sE(a,i.alternate,i),i=i.sibling}function vl(a){for(a=a.child;a!==null;){var i=a;switch(i.tag){case 0:case 11:case 14:case 15:Ji(4,i,i.return),vl(i);break;case 1:ys(i,i.return);var c=i.stateNode;typeof c.componentWillUnmount=="function"&&eE(i,i.return,c),vl(i);break;case 27:gh(i.stateNode);case 26:case 5:ys(i,i.return),vl(i);break;case 22:i.memoizedState===null&&vl(i);break;case 30:vl(i);break;default:vl(i)}a=a.sibling}}function oi(a,i,c){for(c=c&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var h=i.alternate,g=a,x=i,A=x.flags;switch(x.tag){case 0:case 11:case 15:oi(g,x,c),ih(4,x);break;case 1:if(oi(g,x,c),h=x,g=h.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(fe){Ft(h,h.return,fe)}if(h=x,g=h.updateQueue,g!==null){var L=h.stateNode;try{var ne=g.shared.hiddenCallbacks;if(ne!==null)for(g.shared.hiddenCallbacks=null,g=0;g<ne.length;g++)z_(ne[g],L)}catch(fe){Ft(h,h.return,fe)}}c&&A&64&&Zy(x),oh(x,x.return);break;case 27:rE(x);case 26:case 5:oi(g,x,c),c&&h===null&&A&4&&tE(x),oh(x,x.return);break;case 12:oi(g,x,c);break;case 31:oi(g,x,c),c&&A&4&&lE(g,x);break;case 13:oi(g,x,c),c&&A&4&&cE(g,x);break;case 22:x.memoizedState===null&&oi(g,x,c),oh(x,x.return);break;case 30:break;default:oi(g,x,c)}i=i.sibling}}function _g(a,i){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&Ku(c))}function yg(a,i){a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ku(a))}function Ya(a,i,c,h){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)dE(a,i,c,h),i=i.sibling}function dE(a,i,c,h){var g=i.flags;switch(i.tag){case 0:case 11:case 15:Ya(a,i,c,h),g&2048&&ih(9,i);break;case 1:Ya(a,i,c,h);break;case 3:Ya(a,i,c,h),g&2048&&(a=null,i.alternate!==null&&(a=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==a&&(i.refCount++,a!=null&&Ku(a)));break;case 12:if(g&2048){Ya(a,i,c,h),a=i.stateNode;try{var x=i.memoizedProps,A=x.id,L=x.onPostCommit;typeof L=="function"&&L(A,i.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(ne){Ft(i,i.return,ne)}}else Ya(a,i,c,h);break;case 31:Ya(a,i,c,h);break;case 13:Ya(a,i,c,h);break;case 23:break;case 22:x=i.stateNode,A=i.alternate,i.memoizedState!==null?x._visibility&2?Ya(a,i,c,h):lh(a,i):x._visibility&2?Ya(a,i,c,h):(x._visibility|=2,wc(a,i,c,h,(i.subtreeFlags&10256)!==0||!1)),g&2048&&_g(A,i);break;case 24:Ya(a,i,c,h),g&2048&&yg(i.alternate,i);break;default:Ya(a,i,c,h)}}function wc(a,i,c,h,g){for(g=g&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var x=a,A=i,L=c,ne=h,fe=A.flags;switch(A.tag){case 0:case 11:case 15:wc(x,A,L,ne,g),ih(8,A);break;case 23:break;case 22:var Se=A.stateNode;A.memoizedState!==null?Se._visibility&2?wc(x,A,L,ne,g):lh(x,A):(Se._visibility|=2,wc(x,A,L,ne,g)),g&&fe&2048&&_g(A.alternate,A);break;case 24:wc(x,A,L,ne,g),g&&fe&2048&&yg(A.alternate,A);break;default:wc(x,A,L,ne,g)}i=i.sibling}}function lh(a,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var c=a,h=i,g=h.flags;switch(h.tag){case 22:lh(c,h),g&2048&&_g(h.alternate,h);break;case 24:lh(c,h),g&2048&&yg(h.alternate,h);break;default:lh(c,h)}i=i.sibling}}var ch=8192;function Ac(a,i,c){if(a.subtreeFlags&ch)for(a=a.child;a!==null;)fE(a,i,c),a=a.sibling}function fE(a,i,c){switch(a.tag){case 26:Ac(a,i,c),a.flags&ch&&a.memoizedState!==null&&wI(c,Xa,a.memoizedState,a.memoizedProps);break;case 5:Ac(a,i,c);break;case 3:case 4:var h=Xa;Xa=Wf(a.stateNode.containerInfo),Ac(a,i,c),Xa=h;break;case 22:a.memoizedState===null&&(h=a.alternate,h!==null&&h.memoizedState!==null?(h=ch,ch=16777216,Ac(a,i,c),ch=h):Ac(a,i,c));break;default:Ac(a,i,c)}}function mE(a){var i=a.alternate;if(i!==null&&(a=i.child,a!==null)){i.child=null;do i=a.sibling,a.sibling=null,a=i;while(a!==null)}}function uh(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];Hn=h,gE(h,a)}mE(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)pE(a),a=a.sibling}function pE(a){switch(a.tag){case 0:case 11:case 15:uh(a),a.flags&2048&&Ji(9,a,a.return);break;case 3:uh(a);break;case 12:uh(a);break;case 22:var i=a.stateNode;a.memoizedState!==null&&i._visibility&2&&(a.return===null||a.return.tag!==13)?(i._visibility&=-3,Mf(a)):uh(a);break;default:uh(a)}}function Mf(a){var i=a.deletions;if((a.flags&16)!==0){if(i!==null)for(var c=0;c<i.length;c++){var h=i[c];Hn=h,gE(h,a)}mE(a)}for(a=a.child;a!==null;){switch(i=a,i.tag){case 0:case 11:case 15:Ji(8,i,i.return),Mf(i);break;case 22:c=i.stateNode,c._visibility&2&&(c._visibility&=-3,Mf(i));break;default:Mf(i)}a=a.sibling}}function gE(a,i){for(;Hn!==null;){var c=Hn;switch(c.tag){case 0:case 11:case 15:Ji(8,c,i);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:Ku(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,Hn=h;else e:for(c=a;Hn!==null;){h=Hn;var g=h.sibling,x=h.return;if(iE(h),h===c){Hn=null;break e}if(g!==null){g.return=x,Hn=g;break e}Hn=x}}}var L4={getCacheForType:function(a){var i=Jn(Cn),c=i.data.get(a);return c===void 0&&(c=a(),i.data.set(a,c)),c},cacheSignal:function(){return Jn(Cn).controller.signal}},V4=typeof WeakMap=="function"?WeakMap:Map,Nt=0,Yt=null,ft=null,pt=0,Pt=0,aa=null,Zi=!1,Sc=!1,Eg=!1,li=0,gn=0,eo=0,xl=0,Tg=0,sa=0,bc=0,hh=null,Br=null,wg=!1,Pf=0,vE=0,Ff=1/0,Lf=null,to=null,Ln=0,no=null,Nc=null,ci=0,Ag=0,Sg=null,xE=null,dh=0,bg=null;function ia(){return(Nt&2)!==0&&pt!==0?pt&-pt:re.T!==null?jg():O()}function _E(){if(sa===0)if((pt&536870912)===0||yt){var a=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),sa=a}else sa=536870912;return a=na.current,a!==null&&(a.flags|=32),sa}function zr(a,i,c){(a===Yt&&(Pt===2||Pt===9)||a.cancelPendingCommit!==null)&&(Cc(a,0),ro(a,pt,sa,!1)),qs(a,c),((Nt&2)===0||a!==Yt)&&(a===Yt&&((Nt&2)===0&&(xl|=c),gn===4&&ro(a,pt,sa,!1)),Es(a))}function yE(a,i,c){if((Nt&6)!==0)throw Error(r(327));var h=!c&&(i&127)===0&&(i&a.expiredLanes)===0||Qr(a,i),g=h?z4(a,i):Cg(a,i,!0),x=h;do{if(g===0){Sc&&!h&&ro(a,i,0,!1);break}else{if(c=a.current.alternate,x&&!U4(c)){g=Cg(a,i,!1),x=!1;continue}if(g===2){if(x=i,a.errorRecoveryDisabledLanes&x)var A=0;else A=a.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){i=A;e:{var L=a;g=hh;var ne=L.current.memoizedState.isDehydrated;if(ne&&(Cc(L,A).flags|=256),A=Cg(L,A,!1),A!==2){if(Eg&&!ne){L.errorRecoveryDisabledLanes|=x,xl|=x,g=4;break e}x=Br,Br=g,x!==null&&(Br===null?Br=x:Br.push.apply(Br,x))}g=A}if(x=!1,g!==2)continue}}if(g===1){Cc(a,0),ro(a,i,0,!0);break}e:{switch(h=a,x=g,x){case 0:case 1:throw Error(r(345));case 4:if((i&4194048)!==i)break;case 6:ro(h,i,sa,!Zi);break e;case 2:Br=null;break;case 3:case 5:break;default:throw Error(r(329))}if((i&62914560)===i&&(g=Pf+300-Qt(),10<g)){if(ro(h,i,sa,!Zi),_a(h,0,!0)!==0)break e;ci=i,h.timeoutHandle=QE(EE.bind(null,h,c,Br,Lf,wg,i,sa,xl,bc,Zi,x,"Throttled",-0,0),g);break e}EE(h,c,Br,Lf,wg,i,sa,xl,bc,Zi,x,null,-0,0)}}break}while(!0);Es(a)}function EE(a,i,c,h,g,x,A,L,ne,fe,Se,Ce,ve,ye){if(a.timeoutHandle=-1,Ce=i.subtreeFlags,Ce&8192||(Ce&16785408)===16785408){Ce={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qa},fE(i,x,Ce);var $e=(x&62914560)===x?Pf-Qt():(x&4194048)===x?vE-Qt():0;if($e=AI(Ce,$e),$e!==null){ci=x,a.cancelPendingCommit=$e(IE.bind(null,a,i,x,c,h,g,A,L,ne,Se,Ce,null,ve,ye)),ro(a,x,A,!fe);return}}IE(a,i,x,c,h,g,A,L,ne)}function U4(a){for(var i=a;;){var c=i.tag;if((c===0||c===11||c===15)&&i.flags&16384&&(c=i.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var g=c[h],x=g.getSnapshot;g=g.value;try{if(!ea(x(),g))return!1}catch{return!1}}if(c=i.child,i.subtreeFlags&16384&&c!==null)c.return=i,i=c;else{if(i===a)break;for(;i.sibling===null;){if(i.return===null||i.return===a)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function ro(a,i,c,h){i&=~Tg,i&=~xl,a.suspendedLanes|=i,a.pingedLanes&=~i,h&&(a.warmLanes|=i),h=a.expirationTimes;for(var g=i;0<g;){var x=31-un(g),A=1<<x;h[x]=-1,g&=~A}c!==0&&Hs(a,c,i)}function Vf(){return(Nt&6)===0?(fh(0),!1):!0}function Ng(){if(ft!==null){if(Pt===0)var a=ft.return;else a=ft,Js=cl=null,qp(a),xc=null,Xu=0,a=ft;for(;a!==null;)Jy(a.alternate,a),a=a.return;ft=null}}function Cc(a,i){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,iI(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),ci=0,Ng(),Yt=a,ft=c=Ys(a.current,null),pt=i,Pt=0,aa=null,Zi=!1,Sc=Qr(a,i),Eg=!1,bc=sa=Tg=xl=eo=gn=0,Br=hh=null,wg=!1,(i&8)!==0&&(i|=i&32);var h=a.entangledLanes;if(h!==0)for(a=a.entanglements,h&=i;0<h;){var g=31-un(h),x=1<<g;i|=a[g],h&=~x}return li=i,sf(),c}function TE(a,i){ct=null,re.H=rh,i===vc||i===mf?(i=L_(),Pt=3):i===Dp?(i=L_(),Pt=4):Pt=i===sg?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,aa=i,ft===null&&(gn=1,Cf(a,Sa(i,a.current)))}function wE(){var a=na.current;return a===null?!0:(pt&4194048)===pt?Ia===null:(pt&62914560)===pt||(pt&536870912)!==0?a===Ia:!1}function AE(){var a=re.H;return re.H=rh,a===null?rh:a}function SE(){var a=re.A;return re.A=L4,a}function Uf(){gn=4,Zi||(pt&4194048)!==pt&&na.current!==null||(Sc=!0),(eo&134217727)===0&&(xl&134217727)===0||Yt===null||ro(Yt,pt,sa,!1)}function Cg(a,i,c){var h=Nt;Nt|=2;var g=AE(),x=SE();(Yt!==a||pt!==i)&&(Lf=null,Cc(a,i)),i=!1;var A=gn;e:do try{if(Pt!==0&&ft!==null){var L=ft,ne=aa;switch(Pt){case 8:Ng(),A=6;break e;case 3:case 2:case 9:case 6:na.current===null&&(i=!0);var fe=Pt;if(Pt=0,aa=null,Ic(a,L,ne,fe),c&&Sc){A=0;break e}break;default:fe=Pt,Pt=0,aa=null,Ic(a,L,ne,fe)}}B4(),A=gn;break}catch(Se){TE(a,Se)}while(!0);return i&&a.shellSuspendCounter++,Js=cl=null,Nt=h,re.H=g,re.A=x,ft===null&&(Yt=null,pt=0,sf()),A}function B4(){for(;ft!==null;)bE(ft)}function z4(a,i){var c=Nt;Nt|=2;var h=AE(),g=SE();Yt!==a||pt!==i?(Lf=null,Ff=Qt()+500,Cc(a,i)):Sc=Qr(a,i);e:do try{if(Pt!==0&&ft!==null){i=ft;var x=aa;t:switch(Pt){case 1:Pt=0,aa=null,Ic(a,i,x,1);break;case 2:case 9:if(P_(x)){Pt=0,aa=null,NE(i);break}i=function(){Pt!==2&&Pt!==9||Yt!==a||(Pt=7),Es(a)},x.then(i,i);break e;case 3:Pt=7;break e;case 4:Pt=5;break e;case 7:P_(x)?(Pt=0,aa=null,NE(i)):(Pt=0,aa=null,Ic(a,i,x,7));break;case 5:var A=null;switch(ft.tag){case 26:A=ft.memoizedState;case 5:case 27:var L=ft;if(A?d2(A):L.stateNode.complete){Pt=0,aa=null;var ne=L.sibling;if(ne!==null)ft=ne;else{var fe=L.return;fe!==null?(ft=fe,Bf(fe)):ft=null}break t}}Pt=0,aa=null,Ic(a,i,x,5);break;case 6:Pt=0,aa=null,Ic(a,i,x,6);break;case 8:Ng(),gn=6;break e;default:throw Error(r(462))}}q4();break}catch(Se){TE(a,Se)}while(!0);return Js=cl=null,re.H=h,re.A=g,Nt=c,ft!==null?0:(Yt=null,pt=0,sf(),gn)}function q4(){for(;ft!==null&&!Xl();)bE(ft)}function bE(a){var i=Yy(a.alternate,a,li);a.memoizedProps=a.pendingProps,i===null?Bf(a):ft=i}function NE(a){var i=a,c=i.alternate;switch(i.tag){case 15:case 0:i=Hy(c,i,i.pendingProps,i.type,void 0,pt);break;case 11:i=Hy(c,i,i.pendingProps,i.type.render,i.ref,pt);break;case 5:qp(i);default:Jy(c,i),i=ft=S_(i,li),i=Yy(c,i,li)}a.memoizedProps=a.pendingProps,i===null?Bf(a):ft=i}function Ic(a,i,c,h){Js=cl=null,qp(i),xc=null,Xu=0;var g=i.return;try{if(D4(a,g,i,c,pt)){gn=1,Cf(a,Sa(c,a.current)),ft=null;return}}catch(x){if(g!==null)throw ft=g,x;gn=1,Cf(a,Sa(c,a.current)),ft=null;return}i.flags&32768?(yt||h===1?a=!0:Sc||(pt&536870912)!==0?a=!1:(Zi=a=!0,(h===2||h===9||h===3||h===6)&&(h=na.current,h!==null&&h.tag===13&&(h.flags|=16384))),CE(i,a)):Bf(i)}function Bf(a){var i=a;do{if((i.flags&32768)!==0){CE(i,Zi);return}a=i.return;var c=O4(i.alternate,i,li);if(c!==null){ft=c;return}if(i=i.sibling,i!==null){ft=i;return}ft=i=a}while(i!==null);gn===0&&(gn=5)}function CE(a,i){do{var c=M4(a.alternate,a);if(c!==null){c.flags&=32767,ft=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!i&&(a=a.sibling,a!==null)){ft=a;return}ft=a=c}while(a!==null);gn=6,ft=null}function IE(a,i,c,h,g,x,A,L,ne){a.cancelPendingCommit=null;do zf();while(Ln!==0);if((Nt&6)!==0)throw Error(r(327));if(i!==null){if(i===a.current)throw Error(r(177));if(x=i.lanes|i.childLanes,x|=gp,Ru(a,c,x,A,L,ne),a===Yt&&(ft=Yt=null,pt=0),Nc=i,no=a,ci=c,Ag=x,Sg=g,xE=h,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,K4(hr,function(){return OE(),null})):(a.callbackNode=null,a.callbackPriority=0),h=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||h){h=re.T,re.T=null,g=xe.p,xe.p=2,A=Nt,Nt|=4;try{P4(a,i,c)}finally{Nt=A,xe.p=g,re.T=h}}Ln=1,RE(),DE(),jE()}}function RE(){if(Ln===1){Ln=0;var a=no,i=Nc,c=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||c){c=re.T,re.T=null;var h=xe.p;xe.p=2;var g=Nt;Nt|=4;try{uE(i,a);var x=Ug,A=g_(a.containerInfo),L=x.focusedElem,ne=x.selectionRange;if(A!==L&&L&&L.ownerDocument&&p_(L.ownerDocument.documentElement,L)){if(ne!==null&&hp(L)){var fe=ne.start,Se=ne.end;if(Se===void 0&&(Se=fe),"selectionStart"in L)L.selectionStart=fe,L.selectionEnd=Math.min(Se,L.value.length);else{var Ce=L.ownerDocument||document,ve=Ce&&Ce.defaultView||window;if(ve.getSelection){var ye=ve.getSelection(),$e=L.textContent.length,nt=Math.min(ne.start,$e),$t=ne.end===void 0?nt:Math.min(ne.end,$e);!ye.extend&&nt>$t&&(A=$t,$t=nt,nt=A);var oe=m_(L,nt),ae=m_(L,$t);if(oe&&ae&&(ye.rangeCount!==1||ye.anchorNode!==oe.node||ye.anchorOffset!==oe.offset||ye.focusNode!==ae.node||ye.focusOffset!==ae.offset)){var ue=Ce.createRange();ue.setStart(oe.node,oe.offset),ye.removeAllRanges(),nt>$t?(ye.addRange(ue),ye.extend(ae.node,ae.offset)):(ue.setEnd(ae.node,ae.offset),ye.addRange(ue))}}}}for(Ce=[],ye=L;ye=ye.parentNode;)ye.nodeType===1&&Ce.push({element:ye,left:ye.scrollLeft,top:ye.scrollTop});for(typeof L.focus=="function"&&L.focus(),L=0;L<Ce.length;L++){var be=Ce[L];be.element.scrollLeft=be.left,be.element.scrollTop=be.top}}e0=!!Vg,Ug=Vg=null}finally{Nt=g,xe.p=h,re.T=c}}a.current=i,Ln=2}}function DE(){if(Ln===2){Ln=0;var a=no,i=Nc,c=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||c){c=re.T,re.T=null;var h=xe.p;xe.p=2;var g=Nt;Nt|=4;try{sE(a,i.alternate,i)}finally{Nt=g,xe.p=h,re.T=c}}Ln=3}}function jE(){if(Ln===4||Ln===3){Ln=0,ji();var a=no,i=Nc,c=ci,h=xE;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Ln=5:(Ln=0,Nc=no=null,kE(a,a.pendingLanes));var g=a.pendingLanes;if(g===0&&(to=null),Ua(c),i=i.stateNode,bn&&typeof bn.onCommitFiberRoot=="function")try{bn.onCommitFiberRoot(Mr,i,void 0,(i.current.flags&128)===128)}catch{}if(h!==null){i=re.T,g=xe.p,xe.p=2,re.T=null;try{for(var x=a.onRecoverableError,A=0;A<h.length;A++){var L=h[A];x(L.value,{componentStack:L.stack})}}finally{re.T=i,xe.p=g}}(ci&3)!==0&&zf(),Es(a),g=a.pendingLanes,(c&261930)!==0&&(g&42)!==0?a===bg?dh++:(dh=0,bg=a):dh=0,fh(0)}}function kE(a,i){(a.pooledCacheLanes&=i)===0&&(i=a.pooledCache,i!=null&&(a.pooledCache=null,Ku(i)))}function zf(){return RE(),DE(),jE(),OE()}function OE(){if(Ln!==5)return!1;var a=no,i=Ag;Ag=0;var c=Ua(ci),h=re.T,g=xe.p;try{xe.p=32>c?32:c,re.T=null,c=Sg,Sg=null;var x=no,A=ci;if(Ln=0,Nc=no=null,ci=0,(Nt&6)!==0)throw Error(r(331));var L=Nt;if(Nt|=4,pE(x.current),dE(x,x.current,A,c),Nt=L,fh(0,!1),bn&&typeof bn.onPostCommitFiberRoot=="function")try{bn.onPostCommitFiberRoot(Mr,x)}catch{}return!0}finally{xe.p=g,re.T=h,kE(a,i)}}function ME(a,i,c){i=Sa(c,i),i=ag(a.stateNode,i,2),a=Xi(a,i,2),a!==null&&(qs(a,2),Es(a))}function Ft(a,i,c){if(a.tag===3)ME(a,a,c);else for(;i!==null;){if(i.tag===3){ME(i,a,c);break}else if(i.tag===1){var h=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(to===null||!to.has(h))){a=Sa(c,a),c=Py(2),h=Xi(i,c,2),h!==null&&(Fy(c,h,i,a),qs(h,2),Es(h));break}}i=i.return}}function Ig(a,i,c){var h=a.pingCache;if(h===null){h=a.pingCache=new V4;var g=new Set;h.set(i,g)}else g=h.get(i),g===void 0&&(g=new Set,h.set(i,g));g.has(c)||(Eg=!0,g.add(c),a=H4.bind(null,a,i,c),i.then(a,a))}function H4(a,i,c){var h=a.pingCache;h!==null&&h.delete(i),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,Yt===a&&(pt&c)===c&&(gn===4||gn===3&&(pt&62914560)===pt&&300>Qt()-Pf?(Nt&2)===0&&Cc(a,0):Tg|=c,bc===pt&&(bc=0)),Es(a)}function PE(a,i){i===0&&(i=Ql()),a=il(a,i),a!==null&&(qs(a,i),Es(a))}function G4(a){var i=a.memoizedState,c=0;i!==null&&(c=i.retryLane),PE(a,c)}function $4(a,i){var c=0;switch(a.tag){case 31:case 13:var h=a.stateNode,g=a.memoizedState;g!==null&&(c=g.retryLane);break;case 19:h=a.stateNode;break;case 22:h=a.stateNode._retryCache;break;default:throw Error(r(314))}h!==null&&h.delete(i),PE(a,c)}function K4(a,i){return Wt(a,i)}var qf=null,Rc=null,Rg=!1,Hf=!1,Dg=!1,ao=0;function Es(a){a!==Rc&&a.next===null&&(Rc===null?qf=Rc=a:Rc=Rc.next=a),Hf=!0,Rg||(Rg=!0,X4())}function fh(a,i){if(!Dg&&Hf){Dg=!0;do for(var c=!1,h=qf;h!==null;){if(a!==0){var g=h.pendingLanes;if(g===0)var x=0;else{var A=h.suspendedLanes,L=h.pingedLanes;x=(1<<31-un(42|a)+1)-1,x&=g&~(A&~L),x=x&201326741?x&201326741|1:x?x|2:0}x!==0&&(c=!0,UE(h,x))}else x=pt,x=_a(h,h===Yt?x:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(x&3)===0||Qr(h,x)||(c=!0,UE(h,x));h=h.next}while(c);Dg=!1}}function W4(){FE()}function FE(){Hf=Rg=!1;var a=0;ao!==0&&sI()&&(a=ao);for(var i=Qt(),c=null,h=qf;h!==null;){var g=h.next,x=LE(h,i);x===0?(h.next=null,c===null?qf=g:c.next=g,g===null&&(Rc=c)):(c=h,(a!==0||(x&3)!==0)&&(Hf=!0)),h=g}Ln!==0&&Ln!==5||fh(a),ao!==0&&(ao=0)}function LE(a,i){for(var c=a.suspendedLanes,h=a.pingedLanes,g=a.expirationTimes,x=a.pendingLanes&-62914561;0<x;){var A=31-un(x),L=1<<A,ne=g[A];ne===-1?((L&c)===0||(L&h)!==0)&&(g[A]=Iu(L,i)):ne<=i&&(a.expiredLanes|=L),x&=~L}if(i=Yt,c=pt,c=_a(a,a===i?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h=a.callbackNode,c===0||a===i&&(Pt===2||Pt===9)||a.cancelPendingCommit!==null)return h!==null&&h!==null&&Ar(h),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Qr(a,c)){if(i=c&-c,i===a.callbackPriority)return i;switch(h!==null&&Ar(h),Ua(c)){case 2:case 8:c=Us;break;case 32:c=hr;break;case 268435456:c=Ho;break;default:c=hr}return h=VE.bind(null,a),c=Wt(c,h),a.callbackPriority=i,a.callbackNode=c,i}return h!==null&&h!==null&&Ar(h),a.callbackPriority=2,a.callbackNode=null,2}function VE(a,i){if(Ln!==0&&Ln!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(zf()&&a.callbackNode!==c)return null;var h=pt;return h=_a(a,a===Yt?h:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),h===0?null:(yE(a,h,i),LE(a,Qt()),a.callbackNode!=null&&a.callbackNode===c?VE.bind(null,a):null)}function UE(a,i){if(zf())return null;yE(a,i,!0)}function X4(){oI(function(){(Nt&6)!==0?Wt(Vs,W4):FE()})}function jg(){if(ao===0){var a=pc;a===0&&(a=Yr,Yr<<=1,(Yr&261888)===0&&(Yr=256)),ao=a}return ao}function BE(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ec(""+a)}function zE(a,i){var c=i.ownerDocument.createElement("input");return c.name=i.name,c.value=i.value,a.id&&c.setAttribute("form",a.id),i.parentNode.insertBefore(c,i),a=new FormData(a),c.parentNode.removeChild(c),a}function Y4(a,i,c,h,g){if(i==="submit"&&c&&c.stateNode===g){var x=BE((g[G]||null).action),A=h.submitter;A&&(i=(i=A[G]||null)?BE(i.formAction):A.getAttribute("formAction"),i!==null&&(x=i,A=null));var L=new ms("action","action",null,h,g);a.push({event:L,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(ao!==0){var ne=A?zE(g,A):new FormData(g);Jp(c,{pending:!0,data:ne,method:g.method,action:x},null,ne)}}else typeof x=="function"&&(L.preventDefault(),ne=A?zE(g,A):new FormData(g),Jp(c,{pending:!0,data:ne,method:g.method,action:x},x,ne))},currentTarget:g}]})}}for(var kg=0;kg<pp.length;kg++){var Og=pp[kg],Q4=Og.toLowerCase(),J4=Og[0].toUpperCase()+Og.slice(1);Wa(Q4,"on"+J4)}Wa(__,"onAnimationEnd"),Wa(y_,"onAnimationIteration"),Wa(E_,"onAnimationStart"),Wa("dblclick","onDoubleClick"),Wa("focusin","onFocus"),Wa("focusout","onBlur"),Wa(m4,"onTransitionRun"),Wa(p4,"onTransitionStart"),Wa(g4,"onTransitionCancel"),Wa(T_,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Xt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z4=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mh));function qE(a,i){i=(i&4)!==0;for(var c=0;c<a.length;c++){var h=a[c],g=h.event;h=h.listeners;e:{var x=void 0;if(i)for(var A=h.length-1;0<=A;A--){var L=h[A],ne=L.instance,fe=L.currentTarget;if(L=L.listener,ne!==x&&g.isPropagationStopped())break e;x=L,g.currentTarget=fe;try{x(g)}catch(Se){af(Se)}g.currentTarget=null,x=ne}else for(A=0;A<h.length;A++){if(L=h[A],ne=L.instance,fe=L.currentTarget,L=L.listener,ne!==x&&g.isPropagationStopped())break e;x=L,g.currentTarget=fe;try{x(g)}catch(Se){af(Se)}g.currentTarget=null,x=ne}}}}function mt(a,i){var c=i[he];c===void 0&&(c=i[he]=new Set);var h=a+"__bubble";c.has(h)||(HE(i,a,2,!1),c.add(h))}function Mg(a,i,c){var h=0;i&&(h|=4),HE(c,a,h,i)}var Gf="_reactListening"+Math.random().toString(36).slice(2);function Pg(a){if(!a[Gf]){a[Gf]=!0,kt.forEach(function(c){c!=="selectionchange"&&(Z4.has(c)||Mg(c,!1,a),Mg(c,!0,a))});var i=a.nodeType===9?a:a.ownerDocument;i===null||i[Gf]||(i[Gf]=!0,Mg("selectionchange",!1,i))}}function HE(a,i,c,h){switch(_2(i)){case 2:var g=NI;break;case 8:g=CI;break;default:g=Qg}c=g.bind(null,i,c,a),g=void 0,!Jo||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(g=!0),h?g!==void 0?a.addEventListener(i,c,{capture:!0,passive:g}):a.addEventListener(i,c,!0):g!==void 0?a.addEventListener(i,c,{passive:g}):a.addEventListener(i,c,!1)}function Fg(a,i,c,h,g){var x=h;if((i&1)===0&&(i&2)===0&&h!==null)e:for(;;){if(h===null)return;var A=h.tag;if(A===3||A===4){var L=h.stateNode.containerInfo;if(L===g)break;if(A===4)for(A=h.return;A!==null;){var ne=A.tag;if((ne===3||ne===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;L!==null;){if(A=Oe(L),A===null)return;if(ne=A.tag,ne===5||ne===6||ne===26||ne===27){h=x=A;continue e}L=L.parentNode}}h=h.return}Vi(function(){var fe=x,Se=Ea(c),Ce=[];e:{var ve=w_.get(a);if(ve!==void 0){var ye=ms,$e=a;switch(a){case"keypress":if(el(c)===0)break e;case"keydown":case"keyup":ye=tf;break;case"focusin":$e="focus",ye=nl;break;case"focusout":$e="blur",ye=nl;break;case"beforeblur":case"afterblur":ye=nl;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ye=Vu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ye=$d;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ye=T;break;case __:case y_:case E_:ye=Wd;break;case T_:ye=q;break;case"scroll":case"scrollend":ye=Lu;break;case"wheel":ye=_e;break;case"copy":case"cut":case"paste":ye=Xd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ye=Xs;break;case"toggle":case"beforetoggle":ye=lt}var nt=(i&4)!==0,$t=!nt&&(a==="scroll"||a==="scrollend"),oe=nt?ve!==null?ve+"Capture":null:ve;nt=[];for(var ae=fe,ue;ae!==null;){var be=ae;if(ue=be.stateNode,be=be.tag,be!==5&&be!==26&&be!==27||ue===null||oe===null||(be=Ha(ae,oe),be!=null&&nt.push(ph(ae,be,ue))),$t)break;ae=ae.return}0<nt.length&&(ve=new ye(ve,$e,null,c,Se),Ce.push({event:ve,listeners:nt}))}}if((i&7)===0){e:{if(ve=a==="mouseover"||a==="pointerover",ye=a==="mouseout"||a==="pointerout",ve&&c!==Mu&&($e=c.relatedTarget||c.fromElement)&&(Oe($e)||$e[Y]))break e;if((ye||ve)&&(ve=Se.window===Se?Se:(ve=Se.ownerDocument)?ve.defaultView||ve.parentWindow:window,ye?($e=c.relatedTarget||c.toElement,ye=fe,$e=$e?Oe($e):null,$e!==null&&($t=o($e),nt=$e.tag,$e!==$t||nt!==5&&nt!==27&&nt!==6)&&($e=null)):(ye=null,$e=fe),ye!==$e)){if(nt=Vu,be="onMouseLeave",oe="onMouseEnter",ae="mouse",(a==="pointerout"||a==="pointerover")&&(nt=Xs,be="onPointerLeave",oe="onPointerEnter",ae="pointer"),$t=ye==null?ve:je(ye),ue=$e==null?ve:je($e),ve=new nt(be,ae+"leave",ye,c,Se),ve.target=$t,ve.relatedTarget=ue,be=null,Oe(Se)===fe&&(nt=new nt(oe,ae+"enter",$e,c,Se),nt.target=ue,nt.relatedTarget=$t,be=nt),$t=be,ye&&$e)t:{for(nt=eI,oe=ye,ae=$e,ue=0,be=oe;be;be=nt(be))ue++;be=0;for(var Ze=ae;Ze;Ze=nt(Ze))be++;for(;0<ue-be;)oe=nt(oe),ue--;for(;0<be-ue;)ae=nt(ae),be--;for(;ue--;){if(oe===ae||ae!==null&&oe===ae.alternate){nt=oe;break t}oe=nt(oe),ae=nt(ae)}nt=null}else nt=null;ye!==null&&GE(Ce,ve,ye,nt,!1),$e!==null&&$t!==null&&GE(Ce,$t,$e,nt,!0)}}e:{if(ve=fe?je(fe):window,ye=ve.nodeName&&ve.nodeName.toLowerCase(),ye==="select"||ye==="input"&&ve.type==="file")var wt=l_;else if(i_(ve))if(c_)wt=h4;else{wt=c4;var Ye=l4}else ye=ve.nodeName,!ye||ye.toLowerCase()!=="input"||ve.type!=="checkbox"&&ve.type!=="radio"?fe&&Zl(fe.elementType)&&(wt=l_):wt=u4;if(wt&&(wt=wt(a,fe))){o_(Ce,wt,c,Se);break e}Ye&&Ye(a,ve,fe),a==="focusout"&&fe&&ve.type==="number"&&fe.memoizedProps.value!=null&&ju(ve,"number",ve.value)}switch(Ye=fe?je(fe):window,a){case"focusin":(i_(Ye)||Ye.contentEditable==="true")&&(oc=Ye,dp=fe,Hu=null);break;case"focusout":Hu=dp=oc=null;break;case"mousedown":fp=!0;break;case"contextmenu":case"mouseup":case"dragend":fp=!1,v_(Ce,c,Se);break;case"selectionchange":if(f4)break;case"keydown":case"keyup":v_(Ce,c,Se)}var ht;if(bt)e:{switch(a){case"compositionstart":var gt="onCompositionStart";break e;case"compositionend":gt="onCompositionEnd";break e;case"compositionupdate":gt="onCompositionUpdate";break e}gt=void 0}else ic?rl(a,c)&&(gt="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(gt="onCompositionStart");gt&&(vs&&c.locale!=="ko"&&(ic||gt!=="onCompositionStart"?gt==="onCompositionEnd"&&ic&&(ht=Fu()):(fs=Se,Pu="value"in fs?fs.value:fs.textContent,ic=!0)),Ye=$f(fe,gt),0<Ye.length&&(gt=new gs(gt,a,null,c,Se),Ce.push({event:gt,listeners:Ye}),ht?gt.data=ht:(ht=sc(c),ht!==null&&(gt.data=ht)))),(ht=wa?a4(a,c):s4(a,c))&&(gt=$f(fe,"onBeforeInput"),0<gt.length&&(Ye=new gs("onBeforeInput","beforeinput",null,c,Se),Ce.push({event:Ye,listeners:gt}),Ye.data=ht)),Y4(Ce,a,fe,c,Se)}qE(Ce,i)})}function ph(a,i,c){return{instance:a,listener:i,currentTarget:c}}function $f(a,i){for(var c=i+"Capture",h=[];a!==null;){var g=a,x=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||x===null||(g=Ha(a,c),g!=null&&h.unshift(ph(a,g,x)),g=Ha(a,i),g!=null&&h.push(ph(a,g,x))),a.tag===3)return h;a=a.return}return[]}function eI(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function GE(a,i,c,h,g){for(var x=i._reactName,A=[];c!==null&&c!==h;){var L=c,ne=L.alternate,fe=L.stateNode;if(L=L.tag,ne!==null&&ne===h)break;L!==5&&L!==26&&L!==27||fe===null||(ne=fe,g?(fe=Ha(c,x),fe!=null&&A.unshift(ph(c,fe,ne))):g||(fe=Ha(c,x),fe!=null&&A.push(ph(c,fe,ne)))),c=c.return}A.length!==0&&a.push({event:i,listeners:A})}var tI=/\r\n?/g,nI=/\u0000|\uFFFD/g;function $E(a){return(typeof a=="string"?a:""+a).replace(tI,`
`).replace(nI,"")}function KE(a,i){return i=$E(i),$E(a)===i}function Gt(a,i,c,h,g,x){switch(c){case"children":typeof h=="string"?i==="body"||i==="textarea"&&h===""||Fr(a,h):(typeof h=="number"||typeof h=="bigint")&&i!=="body"&&Fr(a,""+h);break;case"className":Zr(a,"class",h);break;case"tabIndex":Zr(a,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Zr(a,c,h);break;case"style":Ou(a,h,x);break;case"data":if(i!=="object"){Zr(a,"data",h);break}case"src":case"href":if(h===""&&(i!=="a"||c!=="href")){a.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=ec(""+h),a.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof x=="function"&&(c==="formAction"?(i!=="input"&&Gt(a,i,"name",g.name,g,null),Gt(a,i,"formEncType",g.formEncType,g,null),Gt(a,i,"formMethod",g.formMethod,g,null),Gt(a,i,"formTarget",g.formTarget,g,null)):(Gt(a,i,"encType",g.encType,g,null),Gt(a,i,"method",g.method,g,null),Gt(a,i,"target",g.target,g,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){a.removeAttribute(c);break}h=ec(""+h),a.setAttribute(c,h);break;case"onClick":h!=null&&(a.onclick=qa);break;case"onScroll":h!=null&&mt("scroll",a);break;case"onScrollEnd":h!=null&&mt("scrollend",a);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"multiple":a.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":a.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){a.removeAttribute("xlink:href");break}c=ec(""+h),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""+h):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":h===!0?a.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?a.setAttribute(c,h):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?a.setAttribute(c,h):a.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?a.removeAttribute(c):a.setAttribute(c,h);break;case"popover":mt("beforetoggle",a),mt("toggle",a),fr(a,"popover",h);break;case"xlinkActuate":Nn(a,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Nn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Nn(a,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Nn(a,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Nn(a,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Nn(a,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Nn(a,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":fr(a,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Gd.get(c)||c,fr(a,c,h))}}function Lg(a,i,c,h,g,x){switch(c){case"style":Ou(a,h,x);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(r(61));if(c=h.__html,c!=null){if(g.children!=null)throw Error(r(60));a.innerHTML=c}}break;case"children":typeof h=="string"?Fr(a,h):(typeof h=="number"||typeof h=="bigint")&&Fr(a,""+h);break;case"onScroll":h!=null&&mt("scroll",a);break;case"onScrollEnd":h!=null&&mt("scrollend",a);break;case"onClick":h!=null&&(a.onclick=qa);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ot.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(g=c.endsWith("Capture"),i=c.slice(2,g?c.length-7:void 0),x=a[G]||null,x=x!=null?x[c]:null,typeof x=="function"&&a.removeEventListener(i,x,g),typeof h=="function")){typeof x!="function"&&x!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(i,h,g);break e}c in a?a[c]=h:h===!0?a.setAttribute(c,""):fr(a,c,h)}}}function er(a,i,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mt("error",a),mt("load",a);var h=!1,g=!1,x;for(x in c)if(c.hasOwnProperty(x)){var A=c[x];if(A!=null)switch(x){case"src":h=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Gt(a,i,x,A,c,null)}}g&&Gt(a,i,"srcSet",c.srcSet,c,null),h&&Gt(a,i,"src",c.src,c,null);return;case"input":mt("invalid",a);var L=x=A=g=null,ne=null,fe=null;for(h in c)if(c.hasOwnProperty(h)){var Se=c[h];if(Se!=null)switch(h){case"name":g=Se;break;case"type":A=Se;break;case"checked":ne=Se;break;case"defaultChecked":fe=Se;break;case"value":x=Se;break;case"defaultValue":L=Se;break;case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(r(137,i));break;default:Gt(a,i,h,Se,c,null)}}zd(a,x,L,ne,fe,A,g,!1);return;case"select":mt("invalid",a),h=A=x=null;for(g in c)if(c.hasOwnProperty(g)&&(L=c[g],L!=null))switch(g){case"value":x=L;break;case"defaultValue":A=L;break;case"multiple":h=L;default:Gt(a,i,g,L,c,null)}i=x,c=A,a.multiple=!!h,i!=null?Mi(a,!!h,i,!1):c!=null&&Mi(a,!!h,c,!0);return;case"textarea":mt("invalid",a),x=g=h=null;for(A in c)if(c.hasOwnProperty(A)&&(L=c[A],L!=null))switch(A){case"value":h=L;break;case"defaultValue":g=L;break;case"children":x=L;break;case"dangerouslySetInnerHTML":if(L!=null)throw Error(r(91));break;default:Gt(a,i,A,L,c,null)}Pi(a,h,g,x);return;case"option":for(ne in c)if(c.hasOwnProperty(ne)&&(h=c[ne],h!=null))switch(ne){case"selected":a.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Gt(a,i,ne,h,c,null)}return;case"dialog":mt("beforetoggle",a),mt("toggle",a),mt("cancel",a),mt("close",a);break;case"iframe":case"object":mt("load",a);break;case"video":case"audio":for(h=0;h<mh.length;h++)mt(mh[h],a);break;case"image":mt("error",a),mt("load",a);break;case"details":mt("toggle",a);break;case"embed":case"source":case"link":mt("error",a),mt("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(fe in c)if(c.hasOwnProperty(fe)&&(h=c[fe],h!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,i));default:Gt(a,i,fe,h,c,null)}return;default:if(Zl(i)){for(Se in c)c.hasOwnProperty(Se)&&(h=c[Se],h!==void 0&&Lg(a,i,Se,h,c,void 0));return}}for(L in c)c.hasOwnProperty(L)&&(h=c[L],h!=null&&Gt(a,i,L,h,c,null))}function rI(a,i,c,h){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,x=null,A=null,L=null,ne=null,fe=null,Se=null;for(ye in c){var Ce=c[ye];if(c.hasOwnProperty(ye)&&Ce!=null)switch(ye){case"checked":break;case"value":break;case"defaultValue":ne=Ce;default:h.hasOwnProperty(ye)||Gt(a,i,ye,null,h,Ce)}}for(var ve in h){var ye=h[ve];if(Ce=c[ve],h.hasOwnProperty(ve)&&(ye!=null||Ce!=null))switch(ve){case"type":x=ye;break;case"name":g=ye;break;case"checked":fe=ye;break;case"defaultChecked":Se=ye;break;case"value":A=ye;break;case"defaultValue":L=ye;break;case"children":case"dangerouslySetInnerHTML":if(ye!=null)throw Error(r(137,i));break;default:ye!==Ce&&Gt(a,i,ve,ye,h,Ce)}}Jl(a,A,L,ne,fe,Se,x,g);return;case"select":ye=A=L=ve=null;for(x in c)if(ne=c[x],c.hasOwnProperty(x)&&ne!=null)switch(x){case"value":break;case"multiple":ye=ne;default:h.hasOwnProperty(x)||Gt(a,i,x,null,h,ne)}for(g in h)if(x=h[g],ne=c[g],h.hasOwnProperty(g)&&(x!=null||ne!=null))switch(g){case"value":ve=x;break;case"defaultValue":L=x;break;case"multiple":A=x;default:x!==ne&&Gt(a,i,g,x,h,ne)}i=L,c=A,h=ye,ve!=null?Mi(a,!!c,ve,!1):!!h!=!!c&&(i!=null?Mi(a,!!c,i,!0):Mi(a,!!c,c?[]:"",!1));return;case"textarea":ye=ve=null;for(L in c)if(g=c[L],c.hasOwnProperty(L)&&g!=null&&!h.hasOwnProperty(L))switch(L){case"value":break;case"children":break;default:Gt(a,i,L,null,h,g)}for(A in h)if(g=h[A],x=c[A],h.hasOwnProperty(A)&&(g!=null||x!=null))switch(A){case"value":ve=g;break;case"defaultValue":ye=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(r(91));break;default:g!==x&&Gt(a,i,A,g,h,x)}qd(a,ve,ye);return;case"option":for(var $e in c)if(ve=c[$e],c.hasOwnProperty($e)&&ve!=null&&!h.hasOwnProperty($e))switch($e){case"selected":a.selected=!1;break;default:Gt(a,i,$e,null,h,ve)}for(ne in h)if(ve=h[ne],ye=c[ne],h.hasOwnProperty(ne)&&ve!==ye&&(ve!=null||ye!=null))switch(ne){case"selected":a.selected=ve&&typeof ve!="function"&&typeof ve!="symbol";break;default:Gt(a,i,ne,ve,h,ye)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var nt in c)ve=c[nt],c.hasOwnProperty(nt)&&ve!=null&&!h.hasOwnProperty(nt)&&Gt(a,i,nt,null,h,ve);for(fe in h)if(ve=h[fe],ye=c[fe],h.hasOwnProperty(fe)&&ve!==ye&&(ve!=null||ye!=null))switch(fe){case"children":case"dangerouslySetInnerHTML":if(ve!=null)throw Error(r(137,i));break;default:Gt(a,i,fe,ve,h,ye)}return;default:if(Zl(i)){for(var $t in c)ve=c[$t],c.hasOwnProperty($t)&&ve!==void 0&&!h.hasOwnProperty($t)&&Lg(a,i,$t,void 0,h,ve);for(Se in h)ve=h[Se],ye=c[Se],!h.hasOwnProperty(Se)||ve===ye||ve===void 0&&ye===void 0||Lg(a,i,Se,ve,h,ye);return}}for(var oe in c)ve=c[oe],c.hasOwnProperty(oe)&&ve!=null&&!h.hasOwnProperty(oe)&&Gt(a,i,oe,null,h,ve);for(Ce in h)ve=h[Ce],ye=c[Ce],!h.hasOwnProperty(Ce)||ve===ye||ve==null&&ye==null||Gt(a,i,Ce,ve,h,ye)}function WE(a){switch(a){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aI(){if(typeof performance.getEntriesByType=="function"){for(var a=0,i=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var g=c[h],x=g.transferSize,A=g.initiatorType,L=g.duration;if(x&&L&&WE(A)){for(A=0,L=g.responseEnd,h+=1;h<c.length;h++){var ne=c[h],fe=ne.startTime;if(fe>L)break;var Se=ne.transferSize,Ce=ne.initiatorType;Se&&WE(Ce)&&(ne=ne.responseEnd,A+=Se*(ne<L?1:(L-fe)/(ne-fe)))}if(--h,i+=8*(x+A)/(g.duration/1e3),a++,10<a)break}}if(0<a)return i/a/1e6}return navigator.connection&&(a=navigator.connection.downlink,typeof a=="number")?a:5}var Vg=null,Ug=null;function Kf(a){return a.nodeType===9?a:a.ownerDocument}function XE(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function YE(a,i){if(a===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&i==="foreignObject"?0:a}function Bg(a,i){return a==="textarea"||a==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var zg=null;function sI(){var a=window.event;return a&&a.type==="popstate"?a===zg?!1:(zg=a,!0):(zg=null,!1)}var QE=typeof setTimeout=="function"?setTimeout:void 0,iI=typeof clearTimeout=="function"?clearTimeout:void 0,JE=typeof Promise=="function"?Promise:void 0,oI=typeof queueMicrotask=="function"?queueMicrotask:typeof JE<"u"?function(a){return JE.resolve(null).then(a).catch(lI)}:QE;function lI(a){setTimeout(function(){throw a})}function so(a){return a==="head"}function ZE(a,i){var c=i,h=0;do{var g=c.nextSibling;if(a.removeChild(c),g&&g.nodeType===8)if(c=g.data,c==="/$"||c==="/&"){if(h===0){a.removeChild(g),Oc(i);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")gh(a.ownerDocument.documentElement);else if(c==="head"){c=a.ownerDocument.head,gh(c);for(var x=c.firstChild;x;){var A=x.nextSibling,L=x.nodeName;x[me]||L==="SCRIPT"||L==="STYLE"||L==="LINK"&&x.rel.toLowerCase()==="stylesheet"||c.removeChild(x),x=A}}else c==="body"&&gh(a.ownerDocument.body);c=g}while(c);Oc(i)}function e2(a,i){var c=a;a=0;do{var h=c.nextSibling;if(c.nodeType===1?i?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(i?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(a===0)break;a--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||a++;c=h}while(c)}function qg(a){var i=a.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var c=i;switch(i=i.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":qg(c),ke(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function cI(a,i,c,h){for(;a.nodeType===1;){var g=c;if(a.nodeName.toLowerCase()!==i.toLowerCase()){if(!h&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(h){if(!a[me])switch(i){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(x=a.getAttribute("rel"),x==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(x!==g.rel||a.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||a.getAttribute("title")!==(g.title==null?null:g.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(x=a.getAttribute("src"),(x!==(g.src==null?null:g.src)||a.getAttribute("type")!==(g.type==null?null:g.type)||a.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&x&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(i==="input"&&a.type==="hidden"){var x=g.name==null?null:""+g.name;if(g.type==="hidden"&&a.getAttribute("name")===x)return a}else return a;if(a=Ra(a.nextSibling),a===null)break}return null}function uI(a,i,c){if(i==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=Ra(a.nextSibling),a===null))return null;return a}function t2(a,i){for(;a.nodeType!==8;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!i||(a=Ra(a.nextSibling),a===null))return null;return a}function Hg(a){return a.data==="$?"||a.data==="$~"}function Gg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState!=="loading"}function hI(a,i){var c=a.ownerDocument;if(a.data==="$~")a._reactRetry=i;else if(a.data!=="$?"||c.readyState!=="loading")i();else{var h=function(){i(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),a._reactRetry=h}}function Ra(a){for(;a!=null;a=a.nextSibling){var i=a.nodeType;if(i===1||i===3)break;if(i===8){if(i=a.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return a}var $g=null;function n2(a){a=a.nextSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="/$"||c==="/&"){if(i===0)return Ra(a.nextSibling);i--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||i++}a=a.nextSibling}return null}function r2(a){a=a.previousSibling;for(var i=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(i===0)return a;i--}else c!=="/$"&&c!=="/&"||i++}a=a.previousSibling}return null}function a2(a,i,c){switch(i=Kf(c),a){case"html":if(a=i.documentElement,!a)throw Error(r(452));return a;case"head":if(a=i.head,!a)throw Error(r(453));return a;case"body":if(a=i.body,!a)throw Error(r(454));return a;default:throw Error(r(451))}}function gh(a){for(var i=a.attributes;i.length;)a.removeAttributeNode(i[0]);ke(a)}var Da=new Map,s2=new Set;function Wf(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ui=xe.d;xe.d={f:dI,r:fI,D:mI,C:pI,L:gI,m:vI,X:_I,S:xI,M:yI};function dI(){var a=ui.f(),i=Vf();return a||i}function fI(a){var i=ze(a);i!==null&&i.tag===5&&i.type==="form"?Ty(i):ui.r(a)}var Dc=typeof document>"u"?null:document;function i2(a,i,c){var h=Dc;if(h&&typeof i=="string"&&i){var g=Pr(i);g='link[rel="'+a+'"][href="'+g+'"]',typeof c=="string"&&(g+='[crossorigin="'+c+'"]'),s2.has(g)||(s2.add(g),a={rel:a,crossOrigin:c,href:i},h.querySelector(g)===null&&(i=h.createElement("link"),er(i,"link",a),We(i),h.head.appendChild(i)))}}function mI(a){ui.D(a),i2("dns-prefetch",a,null)}function pI(a,i){ui.C(a,i),i2("preconnect",a,i)}function gI(a,i,c){ui.L(a,i,c);var h=Dc;if(h&&a&&i){var g='link[rel="preload"][as="'+Pr(i)+'"]';i==="image"&&c&&c.imageSrcSet?(g+='[imagesrcset="'+Pr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(g+='[imagesizes="'+Pr(c.imageSizes)+'"]')):g+='[href="'+Pr(a)+'"]';var x=g;switch(i){case"style":x=jc(a);break;case"script":x=kc(a)}Da.has(x)||(a=_({rel:"preload",href:i==="image"&&c&&c.imageSrcSet?void 0:a,as:i},c),Da.set(x,a),h.querySelector(g)!==null||i==="style"&&h.querySelector(vh(x))||i==="script"&&h.querySelector(xh(x))||(i=h.createElement("link"),er(i,"link",a),We(i),h.head.appendChild(i)))}}function vI(a,i){ui.m(a,i);var c=Dc;if(c&&a){var h=i&&typeof i.as=="string"?i.as:"script",g='link[rel="modulepreload"][as="'+Pr(h)+'"][href="'+Pr(a)+'"]',x=g;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":x=kc(a)}if(!Da.has(x)&&(a=_({rel:"modulepreload",href:a},i),Da.set(x,a),c.querySelector(g)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(xh(x)))return}h=c.createElement("link"),er(h,"link",a),We(h),c.head.appendChild(h)}}}function xI(a,i,c){ui.S(a,i,c);var h=Dc;if(h&&a){var g=Ue(h).hoistableStyles,x=jc(a);i=i||"default";var A=g.get(x);if(!A){var L={loading:0,preload:null};if(A=h.querySelector(vh(x)))L.loading=5;else{a=_({rel:"stylesheet",href:a,"data-precedence":i},c),(c=Da.get(x))&&Kg(a,c);var ne=A=h.createElement("link");We(ne),er(ne,"link",a),ne._p=new Promise(function(fe,Se){ne.onload=fe,ne.onerror=Se}),ne.addEventListener("load",function(){L.loading|=1}),ne.addEventListener("error",function(){L.loading|=2}),L.loading|=4,Xf(A,i,h)}A={type:"stylesheet",instance:A,count:1,state:L},g.set(x,A)}}}function _I(a,i){ui.X(a,i);var c=Dc;if(c&&a){var h=Ue(c).hoistableScripts,g=kc(a),x=h.get(g);x||(x=c.querySelector(xh(g)),x||(a=_({src:a,async:!0},i),(i=Da.get(g))&&Wg(a,i),x=c.createElement("script"),We(x),er(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function yI(a,i){ui.M(a,i);var c=Dc;if(c&&a){var h=Ue(c).hoistableScripts,g=kc(a),x=h.get(g);x||(x=c.querySelector(xh(g)),x||(a=_({src:a,async:!0,type:"module"},i),(i=Da.get(g))&&Wg(a,i),x=c.createElement("script"),We(x),er(x,"link",a),c.head.appendChild(x)),x={type:"script",instance:x,count:1,state:null},h.set(g,x))}}function o2(a,i,c,h){var g=(g=pe.current)?Wf(g):null;if(!g)throw Error(r(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(i=jc(c.href),c=Ue(g).hoistableStyles,h=c.get(i),h||(h={type:"style",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=jc(c.href);var x=Ue(g).hoistableStyles,A=x.get(a);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},x.set(a,A),(x=g.querySelector(vh(a)))&&!x._p&&(A.instance=x,A.state.loading=5),Da.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},Da.set(a,c),x||EI(g,a,c,A.state))),i&&h===null)throw Error(r(528,""));return A}if(i&&h!==null)throw Error(r(529,""));return null;case"script":return i=c.async,c=c.src,typeof c=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=kc(c),c=Ue(g).hoistableScripts,h=c.get(i),h||(h={type:"script",instance:null,count:0,state:null},c.set(i,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,a))}}function jc(a){return'href="'+Pr(a)+'"'}function vh(a){return'link[rel="stylesheet"]['+a+"]"}function l2(a){return _({},a,{"data-precedence":a.precedence,precedence:null})}function EI(a,i,c,h){a.querySelector('link[rel="preload"][as="style"]['+i+"]")?h.loading=1:(i=a.createElement("link"),h.preload=i,i.addEventListener("load",function(){return h.loading|=1}),i.addEventListener("error",function(){return h.loading|=2}),er(i,"link",c),We(i),a.head.appendChild(i))}function kc(a){return'[src="'+Pr(a)+'"]'}function xh(a){return"script[async]"+a}function c2(a,i,c){if(i.count++,i.instance===null)switch(i.type){case"style":var h=a.querySelector('style[data-href~="'+Pr(c.href)+'"]');if(h)return i.instance=h,We(h),h;var g=_({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(a.ownerDocument||a).createElement("style"),We(h),er(h,"style",g),Xf(h,c.precedence,a),i.instance=h;case"stylesheet":g=jc(c.href);var x=a.querySelector(vh(g));if(x)return i.state.loading|=4,i.instance=x,We(x),x;h=l2(c),(g=Da.get(g))&&Kg(h,g),x=(a.ownerDocument||a).createElement("link"),We(x);var A=x;return A._p=new Promise(function(L,ne){A.onload=L,A.onerror=ne}),er(x,"link",h),i.state.loading|=4,Xf(x,c.precedence,a),i.instance=x;case"script":return x=kc(c.src),(g=a.querySelector(xh(x)))?(i.instance=g,We(g),g):(h=c,(g=Da.get(x))&&(h=_({},c),Wg(h,g)),a=a.ownerDocument||a,g=a.createElement("script"),We(g),er(g,"link",h),a.head.appendChild(g),i.instance=g);case"void":return null;default:throw Error(r(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(h=i.instance,i.state.loading|=4,Xf(h,c.precedence,a));return i.instance}function Xf(a,i,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=h.length?h[h.length-1]:null,x=g,A=0;A<h.length;A++){var L=h[A];if(L.dataset.precedence===i)x=L;else if(x!==g)break}x?x.parentNode.insertBefore(a,x.nextSibling):(i=c.nodeType===9?c.head:c,i.insertBefore(a,i.firstChild))}function Kg(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.title==null&&(a.title=i.title)}function Wg(a,i){a.crossOrigin==null&&(a.crossOrigin=i.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=i.referrerPolicy),a.integrity==null&&(a.integrity=i.integrity)}var Yf=null;function u2(a,i,c){if(Yf===null){var h=new Map,g=Yf=new Map;g.set(c,h)}else g=Yf,h=g.get(c),h||(h=new Map,g.set(c,h));if(h.has(a))return h;for(h.set(a,null),c=c.getElementsByTagName(a),g=0;g<c.length;g++){var x=c[g];if(!(x[me]||x[H]||a==="link"&&x.getAttribute("rel")==="stylesheet")&&x.namespaceURI!=="http://www.w3.org/2000/svg"){var A=x.getAttribute(i)||"";A=a+A;var L=h.get(A);L?L.push(x):h.set(A,[x])}}return h}function h2(a,i,c){a=a.ownerDocument||a,a.head.insertBefore(c,i==="title"?a.querySelector("head > title"):null)}function TI(a,i,c){if(c===1||i.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return a=i.disabled,typeof i.precedence=="string"&&a==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function d2(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}function wI(a,i,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var g=jc(h.href),x=i.querySelector(vh(g));if(x){i=x._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(a.count++,a=Qf.bind(a),i.then(a,a)),c.state.loading|=4,c.instance=x,We(x);return}x=i.ownerDocument||i,h=l2(h),(g=Da.get(g))&&Kg(h,g),x=x.createElement("link"),We(x);var A=x;A._p=new Promise(function(L,ne){A.onload=L,A.onerror=ne}),er(x,"link",h),c.instance=x}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(c,i),(i=c.state.preload)&&(c.state.loading&3)===0&&(a.count++,c=Qf.bind(a),i.addEventListener("load",c),i.addEventListener("error",c))}}var Xg=0;function AI(a,i){return a.stylesheets&&a.count===0&&Zf(a,a.stylesheets),0<a.count||0<a.imgCount?function(c){var h=setTimeout(function(){if(a.stylesheets&&Zf(a,a.stylesheets),a.unsuspend){var x=a.unsuspend;a.unsuspend=null,x()}},6e4+i);0<a.imgBytes&&Xg===0&&(Xg=62500*aI());var g=setTimeout(function(){if(a.waitingForImages=!1,a.count===0&&(a.stylesheets&&Zf(a,a.stylesheets),a.unsuspend)){var x=a.unsuspend;a.unsuspend=null,x()}},(a.imgBytes>Xg?50:800)+i);return a.unsuspend=c,function(){a.unsuspend=null,clearTimeout(h),clearTimeout(g)}}:null}function Qf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Jf=null;function Zf(a,i){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Jf=new Map,i.forEach(SI,a),Jf=null,Qf.call(a))}function SI(a,i){if(!(i.state.loading&4)){var c=Jf.get(a);if(c)var h=c.get(null);else{c=new Map,Jf.set(a,c);for(var g=a.querySelectorAll("link[data-precedence],style[data-precedence]"),x=0;x<g.length;x++){var A=g[x];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(c.set(A.dataset.precedence,A),h=A)}h&&c.set(null,h)}g=i.instance,A=g.getAttribute("data-precedence"),x=c.get(A)||h,x===h&&c.set(null,g),c.set(A,g),this.count++,h=Qf.bind(this),g.addEventListener("load",h),g.addEventListener("error",h),x?x.parentNode.insertBefore(g,x.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(g,a.firstChild)),i.state.loading|=4}}var _h={$$typeof:j,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function bI(a,i,c,h,g,x,A,L,ne){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ya(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ya(0),this.hiddenUpdates=ya(null),this.identifierPrefix=h,this.onUncaughtError=g,this.onCaughtError=x,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=ne,this.incompleteTransitions=new Map}function f2(a,i,c,h,g,x,A,L,ne,fe,Se,Ce){return a=new bI(a,i,c,A,ne,fe,Se,Ce,L),i=1,x===!0&&(i|=24),x=ta(3,null,null,i),a.current=x,x.stateNode=a,i=Cp(),i.refCount++,a.pooledCache=i,i.refCount++,x.memoizedState={element:h,isDehydrated:c,cache:i},jp(x),a}function m2(a){return a?(a=uc,a):uc}function p2(a,i,c,h,g,x){g=m2(g),h.context===null?h.context=g:h.pendingContext=g,h=Wi(i),h.payload={element:c},x=x===void 0?null:x,x!==null&&(h.callback=x),c=Xi(a,h,i),c!==null&&(zr(c,a,i),Qu(c,a,i))}function g2(a,i){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<i?c:i}}function Yg(a,i){g2(a,i),(a=a.alternate)&&g2(a,i)}function v2(a){if(a.tag===13||a.tag===31){var i=il(a,67108864);i!==null&&zr(i,a,67108864),Yg(a,67108864)}}function x2(a){if(a.tag===13||a.tag===31){var i=ia();i=$s(i);var c=il(a,i);c!==null&&zr(c,a,i),Yg(a,i)}}var e0=!0;function NI(a,i,c,h){var g=re.T;re.T=null;var x=xe.p;try{xe.p=2,Qg(a,i,c,h)}finally{xe.p=x,re.T=g}}function CI(a,i,c,h){var g=re.T;re.T=null;var x=xe.p;try{xe.p=8,Qg(a,i,c,h)}finally{xe.p=x,re.T=g}}function Qg(a,i,c,h){if(e0){var g=Jg(h);if(g===null)Fg(a,i,h,t0,c),y2(a,h);else if(RI(g,a,i,c,h))h.stopPropagation();else if(y2(a,h),i&4&&-1<II.indexOf(a)){for(;g!==null;){var x=ze(g);if(x!==null)switch(x.tag){case 3:if(x=x.stateNode,x.current.memoizedState.isDehydrated){var A=br(x.pendingLanes);if(A!==0){var L=x;for(L.pendingLanes|=2,L.entangledLanes|=2;A;){var ne=1<<31-un(A);L.entanglements[1]|=ne,A&=~ne}Es(x),(Nt&6)===0&&(Ff=Qt()+500,fh(0))}}break;case 31:case 13:L=il(x,2),L!==null&&zr(L,x,2),Vf(),Yg(x,2)}if(x=Jg(h),x===null&&Fg(a,i,h,t0,c),x===g)break;g=x}g!==null&&h.stopPropagation()}else Fg(a,i,h,null,c)}}function Jg(a){return a=Ea(a),Zg(a)}var t0=null;function Zg(a){if(t0=null,a=Oe(a),a!==null){var i=o(a);if(i===null)a=null;else{var c=i.tag;if(c===13){if(a=u(i),a!==null)return a;a=null}else if(c===31){if(a=d(i),a!==null)return a;a=null}else if(c===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;a=null}else i!==a&&(a=null)}}return t0=a,null}function _2(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case Vs:return 2;case Us:return 8;case hr:case Cu:return 32;case Ho:return 268435456;default:return 32}default:return 32}}var ev=!1,io=null,oo=null,lo=null,yh=new Map,Eh=new Map,co=[],II="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y2(a,i){switch(a){case"focusin":case"focusout":io=null;break;case"dragenter":case"dragleave":oo=null;break;case"mouseover":case"mouseout":lo=null;break;case"pointerover":case"pointerout":yh.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Eh.delete(i.pointerId)}}function Th(a,i,c,h,g,x){return a===null||a.nativeEvent!==x?(a={blockedOn:i,domEventName:c,eventSystemFlags:h,nativeEvent:x,targetContainers:[g]},i!==null&&(i=ze(i),i!==null&&v2(i)),a):(a.eventSystemFlags|=h,i=a.targetContainers,g!==null&&i.indexOf(g)===-1&&i.push(g),a)}function RI(a,i,c,h,g){switch(i){case"focusin":return io=Th(io,a,i,c,h,g),!0;case"dragenter":return oo=Th(oo,a,i,c,h,g),!0;case"mouseover":return lo=Th(lo,a,i,c,h,g),!0;case"pointerover":var x=g.pointerId;return yh.set(x,Th(yh.get(x)||null,a,i,c,h,g)),!0;case"gotpointercapture":return x=g.pointerId,Eh.set(x,Th(Eh.get(x)||null,a,i,c,h,g)),!0}return!1}function E2(a){var i=Oe(a.target);if(i!==null){var c=o(i);if(c!==null){if(i=c.tag,i===13){if(i=u(c),i!==null){a.blockedOn=i,K(a.priority,function(){x2(c)});return}}else if(i===31){if(i=d(c),i!==null){a.blockedOn=i,K(a.priority,function(){x2(c)});return}}else if(i===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function n0(a){if(a.blockedOn!==null)return!1;for(var i=a.targetContainers;0<i.length;){var c=Jg(a.nativeEvent);if(c===null){c=a.nativeEvent;var h=new c.constructor(c.type,c);Mu=h,c.target.dispatchEvent(h),Mu=null}else return i=ze(c),i!==null&&v2(i),a.blockedOn=c,!1;i.shift()}return!0}function T2(a,i,c){n0(a)&&c.delete(i)}function DI(){ev=!1,io!==null&&n0(io)&&(io=null),oo!==null&&n0(oo)&&(oo=null),lo!==null&&n0(lo)&&(lo=null),yh.forEach(T2),Eh.forEach(T2)}function r0(a,i){a.blockedOn===i&&(a.blockedOn=null,ev||(ev=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,DI)))}var a0=null;function w2(a){a0!==a&&(a0=a,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){a0===a&&(a0=null);for(var i=0;i<a.length;i+=3){var c=a[i],h=a[i+1],g=a[i+2];if(typeof h!="function"){if(Zg(h||c)===null)continue;break}var x=ze(c);x!==null&&(a.splice(i,3),i-=3,Jp(x,{pending:!0,data:g,method:c.method,action:h},h,g))}}))}function Oc(a){function i(ne){return r0(ne,a)}io!==null&&r0(io,a),oo!==null&&r0(oo,a),lo!==null&&r0(lo,a),yh.forEach(i),Eh.forEach(i);for(var c=0;c<co.length;c++){var h=co[c];h.blockedOn===a&&(h.blockedOn=null)}for(;0<co.length&&(c=co[0],c.blockedOn===null);)E2(c),c.blockedOn===null&&co.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var g=c[h],x=c[h+1],A=g[G]||null;if(typeof x=="function")A||w2(c);else if(A){var L=null;if(x&&x.hasAttribute("formAction")){if(g=x,A=x[G]||null)L=A.formAction;else if(Zg(g)!==null)continue}else L=A.action;typeof L=="function"?c[h+1]=L:(c.splice(h,3),h-=3),w2(c)}}}function A2(){function a(x){x.canIntercept&&x.info==="react-transition"&&x.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function i(){g!==null&&(g(),g=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var x=navigation.currentEntry;x&&x.url!=null&&navigation.navigate(x.url,{state:x.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,g=null;return navigation.addEventListener("navigate",a),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",a),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),g!==null&&(g(),g=null)}}}function tv(a){this._internalRoot=a}s0.prototype.render=tv.prototype.render=function(a){var i=this._internalRoot;if(i===null)throw Error(r(409));var c=i.current,h=ia();p2(c,h,a,i,null,null)},s0.prototype.unmount=tv.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var i=a.containerInfo;p2(a.current,2,null,a,null,null),Vf(),i[Y]=null}};function s0(a){this._internalRoot=a}s0.prototype.unstable_scheduleHydration=function(a){if(a){var i=O();a={blockedOn:null,target:a,priority:i};for(var c=0;c<co.length&&i!==0&&i<co[c].priority;c++);co.splice(c,0,a),c===0&&E2(a)}};var S2=e.version;if(S2!=="19.2.0")throw Error(r(527,S2,"19.2.0"));xe.findDOMNode=function(a){var i=a._reactInternals;if(i===void 0)throw typeof a.render=="function"?Error(r(188)):(a=Object.keys(a).join(","),Error(r(268,a)));return a=f(i),a=a!==null?v(a):null,a=a===null?null:a.stateNode,a};var jI={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var i0=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!i0.isDisabled&&i0.supportsFiber)try{Mr=i0.inject(jI),bn=i0}catch{}}return Ah.createRoot=function(a,i){if(!s(a))throw Error(r(299));var c=!1,h="",g=jy,x=ky,A=Oy;return i!=null&&(i.unstable_strictMode===!0&&(c=!0),i.identifierPrefix!==void 0&&(h=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(x=i.onCaughtError),i.onRecoverableError!==void 0&&(A=i.onRecoverableError)),i=f2(a,1,!1,null,null,c,h,null,g,x,A,A2),a[Y]=i.current,Pg(a),new tv(i)},Ah.hydrateRoot=function(a,i,c){if(!s(a))throw Error(r(299));var h=!1,g="",x=jy,A=ky,L=Oy,ne=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(x=c.onUncaughtError),c.onCaughtError!==void 0&&(A=c.onCaughtError),c.onRecoverableError!==void 0&&(L=c.onRecoverableError),c.formState!==void 0&&(ne=c.formState)),i=f2(a,1,!0,i,c??null,h,g,ne,x,A,L,A2),i.context=m2(null),c=i.current,h=ia(),h=$s(h),g=Wi(h),g.callback=null,Xi(c,g,h),c=h,i.current.lanes=c,qs(i,c),Es(i),a[Y]=i.current,Pg(a),new s0(i)},Ah.version="19.2.0",Ah}var M2;function BI(){if(M2)return av.exports;M2=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),av.exports=UI(),av.exports}var zI=BI();const qI=()=>{};var P2={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pA=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},HI=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const o=n[t++];e[r++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=n[t++],u=n[t++],d=n[t++],m=((s&7)<<18|(o&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(m>>10)),e[r++]=String.fromCharCode(56320+(m&1023))}else{const o=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(o&63)<<6|u&63)}}return e.join("")},gA={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const o=n[s],u=s+1<n.length,d=u?n[s+1]:0,m=s+2<n.length,f=m?n[s+2]:0,v=o>>2,_=(o&3)<<4|d>>4;let y=(d&15)<<2|f>>6,E=f&63;m||(E=64,u||(y=64)),r.push(t[v],t[_],t[y],t[E])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(pA(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):HI(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const o=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const f=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,o==null||d==null||f==null||_==null)throw new GI;const y=o<<2|d>>4;if(r.push(y),f!==64){const E=d<<4&240|f>>2;if(r.push(E),_!==64){const b=f<<6&192|_;r.push(b)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class GI extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $I=function(n){const e=pA(n);return gA.encodeByteArray(e,!0)},U0=function(n){return $I(n).replace(/\./g,"")},vA=function(n){try{return gA.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WI=()=>KI().__FIREBASE_DEFAULTS__,XI=()=>{if(typeof process>"u"||typeof P2>"u")return;const n=P2.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YI=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vA(n[1]);return e&&JSON.parse(e)},wm=()=>{try{return qI()||WI()||XI()||YI()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},xA=n=>wm()?.emulatorHosts?.[n],_A=n=>{const e=xA(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},yA=()=>wm()?.config,EA=n=>wm()?.[`_${n}`];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function b1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[U0(JSON.stringify(t)),U0(JSON.stringify(u)),""].join(".")}const Bh={};function JI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Bh))Bh[e]?n.emulator.push(e):n.prod.push(e);return n}function ZI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let F2=!1;function N1(n,e){if(typeof window>"u"||typeof document>"u"||!Fo(window.location.host)||Bh[n]===e||Bh[n]||F2)return;Bh[n]=e;function t(y){return`__firebase__banner__${y}`}const r="__firebase__banner",o=JI().prod.length>0;function u(){const y=document.getElementById(r);y&&y.remove()}function d(y){y.style.display="flex",y.style.background="#7faaf0",y.style.position="fixed",y.style.bottom="5px",y.style.left="5px",y.style.padding=".5em",y.style.borderRadius="5px",y.style.alignItems="center"}function m(y,E){y.setAttribute("width","24"),y.setAttribute("id",E),y.setAttribute("height","24"),y.setAttribute("viewBox","0 0 24 24"),y.setAttribute("fill","none"),y.style.marginLeft="-6px"}function f(){const y=document.createElement("span");return y.style.cursor="pointer",y.style.marginLeft="16px",y.style.fontSize="24px",y.innerHTML=" &times;",y.onclick=()=>{F2=!0,u()},y}function v(y,E){y.setAttribute("id",E),y.innerText="Learn more",y.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",y.setAttribute("target","__blank"),y.style.paddingLeft="5px",y.style.textDecoration="underline"}function _(){const y=ZI(r),E=t("text"),b=document.getElementById(E)||document.createElement("span"),w=t("learnmore"),S=document.getElementById(w)||document.createElement("a"),k=t("preprendIcon"),D=document.getElementById(k)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(y.created){const j=y.element;d(j),v(S,w);const X=f();m(D,k),j.append(D,b,S,X),document.body.appendChild(j)}o?(b.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,b.innerText="Preview backend running in this workspace."),b.setAttribute("id",E)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tr())}function tR(){const n=wm()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function aR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sR(){const n=Tr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function iR(){return!tR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function oR(){try{return typeof indexedDB=="object"}catch{return!1}}function lR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{e(s.error?.message||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cR="FirebaseError";class Fs extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=cR,Object.setPrototypeOf(this,Fs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Td.prototype.create)}}class Td{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,o=this.errors[e],u=o?uR(o,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new Fs(s,d,r)}}function uR(n,e){return n.replace(hR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const hR=/\{\$([^}]+)}/g;function dR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Cl(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const o=n[s],u=e[s];if(L2(o)&&L2(u)){if(!Cl(o,u))return!1}else if(o!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function L2(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wd(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,o]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(o)}}),e}function Oh(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function fR(n,e){const t=new mR(n,e);return t.subscribe.bind(t)}class mR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");pR(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=lv),s.error===void 0&&(s.error=lv),s.complete===void 0&&(s.complete=lv);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function pR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lv(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cn(n){return n&&n._delegate?n._delegate:n}class bo{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new QI;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xR(e))try{this.getOrInitializeService({instanceIdentifier:yl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:s});r.resolve(o)}catch{}}}}clearInstance(e=yl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=yl){return this.instances.has(e)}getOptions(e=yl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(o);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yl){return this.component?this.component.multipleInstances?e:yl:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vR(n){return n===yl?void 0:n}function xR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new gR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(vt||(vt={}));const yR={debug:vt.DEBUG,verbose:vt.VERBOSE,info:vt.INFO,warn:vt.WARN,error:vt.ERROR,silent:vt.SILENT},ER=vt.INFO,TR={[vt.DEBUG]:"log",[vt.VERBOSE]:"log",[vt.INFO]:"info",[vt.WARN]:"warn",[vt.ERROR]:"error"},wR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=TR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class C1{constructor(e){this.name=e,this._logLevel=ER,this._logHandler=wR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in vt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,vt.DEBUG,...e),this._logHandler(this,vt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,vt.VERBOSE,...e),this._logHandler(this,vt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,vt.INFO,...e),this._logHandler(this,vt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,vt.WARN,...e),this._logHandler(this,vt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,vt.ERROR,...e),this._logHandler(this,vt.ERROR,...e)}}const AR=(n,e)=>e.some(t=>n instanceof t);let V2,U2;function SR(){return V2||(V2=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bR(){return U2||(U2=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const wA=new WeakMap,Vv=new WeakMap,AA=new WeakMap,cv=new WeakMap,I1=new WeakMap;function NR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",u)},o=()=>{t(To(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&wA.set(t,n)}).catch(()=>{}),I1.set(e,n),e}function CR(n){if(Vv.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",u),n.removeEventListener("abort",u)},o=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",u),n.addEventListener("abort",u)});Vv.set(n,e)}let Uv={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Vv.get(n);if(e==="objectStoreNames")return n.objectStoreNames||AA.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return To(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function IR(n){Uv=n(Uv)}function RR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(uv(this),e,...t);return AA.set(r,e.sort?e.sort():[e]),To(r)}:bR().includes(n)?function(...e){return n.apply(uv(this),e),To(wA.get(this))}:function(...e){return To(n.apply(uv(this),e))}}function DR(n){return typeof n=="function"?RR(n):(n instanceof IDBTransaction&&CR(n),AR(n,SR())?new Proxy(n,Uv):n)}function To(n){if(n instanceof IDBRequest)return NR(n);if(cv.has(n))return cv.get(n);const e=DR(n);return e!==n&&(cv.set(n,e),I1.set(e,n)),e}const uv=n=>I1.get(n);function jR(n,e,{blocked:t,upgrade:r,blocking:s,terminated:o}={}){const u=indexedDB.open(n,e),d=To(u);return r&&u.addEventListener("upgradeneeded",m=>{r(To(u.result),m.oldVersion,m.newVersion,To(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),d.then(m=>{o&&m.addEventListener("close",()=>o()),s&&m.addEventListener("versionchange",f=>s(f.oldVersion,f.newVersion,f))}).catch(()=>{}),d}const kR=["get","getKey","getAll","getAllKeys","count"],OR=["put","add","delete","clear"],hv=new Map;function B2(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hv.get(e))return hv.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=OR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kR.includes(t)))return;const o=async function(u,...d){const m=this.transaction(u,s?"readwrite":"readonly");let f=m.store;return r&&(f=f.index(d.shift())),(await Promise.all([f[t](...d),s&&m.done]))[0]};return hv.set(e,o),o}IR(n=>({...n,get:(e,t,r)=>B2(e,t)||n.get(e,t,r),has:(e,t)=>!!B2(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(PR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function PR(n){return n.getComponent()?.type==="VERSION"}const Bv="@firebase/app",z2="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ei=new C1("@firebase/app"),FR="@firebase/app-compat",LR="@firebase/analytics-compat",VR="@firebase/analytics",UR="@firebase/app-check-compat",BR="@firebase/app-check",zR="@firebase/auth",qR="@firebase/auth-compat",HR="@firebase/database",GR="@firebase/data-connect",$R="@firebase/database-compat",KR="@firebase/functions",WR="@firebase/functions-compat",XR="@firebase/installations",YR="@firebase/installations-compat",QR="@firebase/messaging",JR="@firebase/messaging-compat",ZR="@firebase/performance",e3="@firebase/performance-compat",t3="@firebase/remote-config",n3="@firebase/remote-config-compat",r3="@firebase/storage",a3="@firebase/storage-compat",s3="@firebase/firestore",i3="@firebase/ai",o3="@firebase/firestore-compat",l3="firebase",c3="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zv="[DEFAULT]",u3={[Bv]:"fire-core",[FR]:"fire-core-compat",[VR]:"fire-analytics",[LR]:"fire-analytics-compat",[BR]:"fire-app-check",[UR]:"fire-app-check-compat",[zR]:"fire-auth",[qR]:"fire-auth-compat",[HR]:"fire-rtdb",[GR]:"fire-data-connect",[$R]:"fire-rtdb-compat",[KR]:"fire-fn",[WR]:"fire-fn-compat",[XR]:"fire-iid",[YR]:"fire-iid-compat",[QR]:"fire-fcm",[JR]:"fire-fcm-compat",[ZR]:"fire-perf",[e3]:"fire-perf-compat",[t3]:"fire-rc",[n3]:"fire-rc-compat",[r3]:"fire-gcs",[a3]:"fire-gcs-compat",[s3]:"fire-fst",[o3]:"fire-fst-compat",[i3]:"fire-vertex","fire-js":"fire-js",[l3]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=new Map,h3=new Map,qv=new Map;function q2(n,e){try{n.container.addComponent(e)}catch(t){Ei.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Il(n){const e=n.name;if(qv.has(e))return Ei.debug(`There were multiple attempts to register component ${e}.`),!1;qv.set(e,n);for(const t of B0.values())q2(t,n);for(const t of h3.values())q2(t,n);return!0}function Am(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function ha(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wo=new Td("app","Firebase",d3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new bo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw wo.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vl=c3;function SA(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:zv,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw wo.create("bad-app-name",{appName:String(s)});if(t||(t=yA()),!t)throw wo.create("no-options");const o=B0.get(s);if(o){if(Cl(t,o.options)&&Cl(r,o.config))return o;throw wo.create("duplicate-app",{appName:s})}const u=new _R(s);for(const m of qv.values())u.addComponent(m);const d=new f3(t,r,u);return B0.set(s,d),d}function R1(n=zv){const e=B0.get(n);if(!e&&n===zv&&yA())return SA();if(!e)throw wo.create("no-app",{appName:n});return e}function Ns(n,e,t){let r=u3[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&u.push("and"),o&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ei.warn(u.join(" "));return}Il(new bo(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m3="firebase-heartbeat-database",p3=1,ed="firebase-heartbeat-store";let dv=null;function bA(){return dv||(dv=jR(m3,p3,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(ed)}catch(t){console.warn(t)}}}}).catch(n=>{throw wo.create("idb-open",{originalErrorMessage:n.message})})),dv}async function g3(n){try{const t=(await bA()).transaction(ed),r=await t.objectStore(ed).get(NA(n));return await t.done,r}catch(e){if(e instanceof Fs)Ei.warn(e.message);else{const t=wo.create("idb-get",{originalErrorMessage:e?.message});Ei.warn(t.message)}}}async function H2(n,e){try{const r=(await bA()).transaction(ed,"readwrite");await r.objectStore(ed).put(e,NA(n)),await r.done}catch(t){if(t instanceof Fs)Ei.warn(t.message);else{const r=wo.create("idb-set",{originalErrorMessage:t?.message});Ei.warn(r.message)}}}function NA(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1024,x3=30;class _3{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new E3(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G2();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>x3){const s=T3(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(s,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ei.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=G2(),{heartbeatsToSend:t,unsentEntries:r}=y3(this._heartbeatsCache.heartbeats),s=U0(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(e){return Ei.warn(e),""}}}function G2(){return new Date().toISOString().substring(0,10)}function y3(n,e=v3){const t=[];let r=n.slice();for(const s of n){const o=t.find(u=>u.agent===s.agent);if(o){if(o.dates.push(s.date),$2(t)>e){o.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),$2(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class E3{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return oR()?lR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await g3(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return H2(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function $2(n){return U0(JSON.stringify({version:2,heartbeats:n})).length}function T3(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n){Il(new bo("platform-logger",e=>new MR(e),"PRIVATE")),Il(new bo("heartbeat",e=>new _3(e),"PRIVATE")),Ns(Bv,z2,n),Ns(Bv,z2,"esm2020"),Ns("fire-js","")}w3("");var A3="firebase",S3="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(A3,S3,"app");function CA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b3=CA,IA=new Td("auth","Firebase",CA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0=new C1("@firebase/auth");function N3(n,...e){z0.logLevel<=vt.WARN&&z0.warn(`Auth (${Vl}): ${n}`,...e)}function N0(n,...e){z0.logLevel<=vt.ERROR&&z0.error(`Auth (${Vl}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function is(n,...e){throw D1(n,...e)}function Cs(n,...e){return D1(n,...e)}function RA(n,e,t){const r={...b3(),[e]:t};return new Td("auth","Firebase",r).create(e,{appName:n.name})}function mi(n){return RA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function D1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return IA.create(n,...e)}function rt(n,e,...t){if(!n)throw D1(e,...t)}function hi(n){const e="INTERNAL ASSERTION FAILED: "+n;throw N0(e),new Error(e)}function Ti(n,e){n||hi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hv(){return typeof self<"u"&&self.location?.href||""}function C3(){return K2()==="http:"||K2()==="https:"}function K2(){return typeof self<"u"&&self.location?.protocol||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I3(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C3()||rR()||"connection"in navigator)?navigator.onLine:!0}function R3(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ti(t>e,"Short delay should be less than long delay!"),this.isMobile=eR()||aR()}get(){return I3()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(n,e){Ti(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DA{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D3={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j3=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],k3=new Ad(3e4,6e4);function Lo(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function Vo(n,e,t,r,s={}){return jA(n,s,async()=>{let o={},u={};r&&(e==="GET"?u=r:o={body:JSON.stringify(r)});const d=wd({key:n.config.apiKey,...u}).slice(1),m=await n._getAdditionalHeaders();m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode);const f={method:e,headers:m,...o};return nR()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(f.credentials="include"),DA.fetch()(await kA(n,n.config.apiHost,t,d),f)})}async function jA(n,e,t){n._canInitEmulator=!1;const r={...D3,...e};try{const s=new M3(n),o=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await o.json();if("needConfirmation"in u)throw o0(n,"account-exists-with-different-credential",u);if(o.ok&&!("errorMessage"in u))return u;{const d=o.ok?u.errorMessage:u.error.message,[m,f]=d.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw o0(n,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw o0(n,"email-already-in-use",u);if(m==="USER_DISABLED")throw o0(n,"user-disabled",u);const v=r[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw RA(n,v,f);is(n,v)}}catch(s){if(s instanceof Fs)throw s;is(n,"network-request-failed",{message:String(s)})}}async function Sd(n,e,t,r,s={}){const o=await Vo(n,e,t,r,s);return"mfaPendingCredential"in o&&is(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function kA(n,e,t,r){const s=`${e}${t}?${r}`,o=n,u=o.config.emulator?j1(n.config,s):`${n.config.apiScheme}://${s}`;return j3.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(u).toString():u}function O3(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class M3{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Cs(this.auth,"network-request-failed")),k3.get())})}}function o0(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Cs(n,e,r);return s.customData._tokenResponse=t,s}function W2(n){return n!==void 0&&n.enterprise!==void 0}class P3{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return O3(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function F3(n,e){return Vo(n,"GET","/v2/recaptchaConfig",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(n,e){return Vo(n,"POST","/v1/accounts:delete",e)}async function q0(n,e){return Vo(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V3(n,e=!1){const t=cn(n),r=await t.getIdToken(e),s=k1(r);rt(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,u=o?.sign_in_provider;return{claims:s,token:r,authTime:zh(fv(s.auth_time)),issuedAtTime:zh(fv(s.iat)),expirationTime:zh(fv(s.exp)),signInProvider:u||null,signInSecondFactor:o?.sign_in_second_factor||null}}function fv(n){return Number(n)*1e3}function k1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return N0("JWT malformed, contained fewer than 3 sections"),null;try{const s=vA(t);return s?JSON.parse(s):(N0("Failed to decode base64 JWT payload"),null)}catch(s){return N0("Caught error parsing JWT payload as JSON",s?.toString()),null}}function X2(n){const e=k1(n);return rt(e,"internal-error"),rt(typeof e.exp<"u","internal-error"),rt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Fs&&U3(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function U3({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zh(this.lastLoginAt),this.creationTime=zh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(n){const e=n.auth,t=await n.getIdToken(),r=await td(n,q0(e,{idToken:t}));rt(r?.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const o=s.providerUserInfo?.length?OA(s.providerUserInfo):[],u=q3(n.providerData,o),d=n.isAnonymous,m=!(n.email&&s.passwordHash)&&!u?.length,f=d?m:!1,v={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(n,v)}async function z3(n){const e=cn(n);await H0(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q3(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function OA(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H3(n,e){const t=await jA(n,{},async()=>{const r=wd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=n.config,u=await kA(n,s,"/v1/token",`key=${o}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const m={method:"POST",headers:d,body:r};return n.emulatorConfig&&Fo(n.emulatorConfig.host)&&(m.credentials="include"),DA.fetch()(u,m)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function G3(n,e){return Vo(n,"POST","/v2/accounts:revokeToken",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){rt(e.idToken,"internal-error"),rt(typeof e.idToken<"u","internal-error"),rt(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):X2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){rt(e.length!==0,"internal-error");const t=X2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(rt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:o}=await H3(e,t);this.updateTokensAndExpiration(r,s,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:o}=t,u=new Xc;return r&&(rt(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(rt(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),o&&(rt(typeof o=="number","internal-error",{appName:e}),u.expirationTime=o),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xc,this.toJSON())}_performRefresh(){return hi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(n,e){rt(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class ts{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new B3(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gv(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await td(this,this.stsTokenManager.getToken(this.auth,e));return rt(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return V3(this,e)}reload(){return z3(this)}_assign(e){this!==e&&(rt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ts({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){rt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await H0(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ha(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await td(this,L3(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,o=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,m=t._redirectEventId??void 0,f=t.createdAt??void 0,v=t.lastLoginAt??void 0,{uid:_,emailVerified:y,isAnonymous:E,providerData:b,stsTokenManager:w}=t;rt(_&&w,e,"internal-error");const S=Xc.fromJSON(this.name,w);rt(typeof _=="string",e,"internal-error"),ho(r,e.name),ho(s,e.name),rt(typeof y=="boolean",e,"internal-error"),rt(typeof E=="boolean",e,"internal-error"),ho(o,e.name),ho(u,e.name),ho(d,e.name),ho(m,e.name),ho(f,e.name),ho(v,e.name);const k=new ts({uid:_,auth:e,email:s,emailVerified:y,displayName:r,isAnonymous:E,photoURL:u,phoneNumber:o,tenantId:d,stsTokenManager:S,createdAt:f,lastLoginAt:v});return b&&Array.isArray(b)&&(k.providerData=b.map(D=>({...D}))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t,r=!1){const s=new Xc;s.updateFromServerResponse(t);const o=new ts({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await H0(o),o}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];rt(s.localId!==void 0,"internal-error");const o=s.providerUserInfo!==void 0?OA(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!o?.length,d=new Xc;d.updateFromIdToken(r);const m=new ts({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gv(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!o?.length};return Object.assign(m,f),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=new Map;function di(n){Ti(n instanceof Function,"Expected a class definition");let e=Y2.get(n);return e?(Ti(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Y2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}MA.type="NONE";const Q2=MA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C0(n,e,t){return`firebase:${n}:${e}:${t}`}class Yc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:o}=this.auth;this.fullUserKey=C0(this.userKey,s.apiKey,o),this.fullPersistenceKey=C0("persistence",s.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await q0(this.auth,{idToken:e}).catch(()=>{});return t?ts._fromGetAccountInfoResponse(this.auth,t,e):null}return ts._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Yc(di(Q2),e,r);const s=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=s[0]||di(Q2);const u=C0(r,e.config.apiKey,e.name);let d=null;for(const f of t)try{const v=await f._get(u);if(v){let _;if(typeof v=="string"){const y=await q0(e,{idToken:v}).catch(()=>{});if(!y)break;_=await ts._fromGetAccountInfoResponse(e,y,v)}else _=ts._fromJSON(e,v);f!==o&&(d=_),o=f;break}}catch{}const m=s.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!m.length?new Yc(o,e,r):(o=m[0],d&&await o._set(u,d.toJSON()),await Promise.all(t.map(async f=>{if(f!==o)try{await f._remove(u)}catch{}})),new Yc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(VA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(BA(e))return"Blackberry";if(zA(e))return"Webos";if(FA(e))return"Safari";if((e.includes("chrome/")||LA(e))&&!e.includes("edge/"))return"Chrome";if(UA(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function PA(n=Tr()){return/firefox\//i.test(n)}function FA(n=Tr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function LA(n=Tr()){return/crios\//i.test(n)}function VA(n=Tr()){return/iemobile/i.test(n)}function UA(n=Tr()){return/android/i.test(n)}function BA(n=Tr()){return/blackberry/i.test(n)}function zA(n=Tr()){return/webos/i.test(n)}function O1(n=Tr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $3(n=Tr()){return O1(n)&&!!window.navigator?.standalone}function K3(){return sR()&&document.documentMode===10}function qA(n=Tr()){return O1(n)||UA(n)||zA(n)||BA(n)||/windows phone/i.test(n)||VA(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(n,e=[]){let t;switch(n){case"Browser":t=J2(Tr());break;case"Worker":t=`${J2(Tr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Vl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W3{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((u,d)=>{try{const m=e(o);u(m)}catch(m){d(m)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(n,e={}){return Vo(n,"GET","/v2/passwordPolicy",Lo(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y3=6;class Q3{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??Y3,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J3{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Z2(this),this.idTokenSubscription=new Z2(this),this.beforeStateQueue=new W3(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=IA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=di(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Yc.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await q0(this,{idToken:e}),r=await ts._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(ha(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(u,u))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,u=r?._redirectEventId,d=await this.tryRedirectSignIn(e);(!o||o===u)&&d?.user&&(r=d.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return rt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await H0(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R3()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ha(this.app))return Promise.reject(mi(this));const t=e?cn(e):null;return t&&rt(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&rt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ha(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ha(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await X3(this),t=new Q3(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Td("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await G3(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&di(e)||this._popupRedirectResolver;rt(t,this,"argument-error"),this.redirectPersistenceManager=await Yc.create(this,[di(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(rt(d,this,"internal-error"),d.then(()=>{u||o(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,r,s);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return rt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=HA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&N3(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Ul(n){return cn(n)}class Z2{constructor(e){this.auth=e,this.observer=null,this.addObserver=fR(t=>this.observer=t)}get next(){return rt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sm={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Z3(n){Sm=n}function GA(n){return Sm.loadJS(n)}function eD(){return Sm.recaptchaEnterpriseScript}function tD(){return Sm.gapiScript}function nD(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class rD{constructor(){this.enterprise=new aD}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class aD{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const sD="recaptcha-enterprise",$A="NO_RECAPTCHA";class iD{constructor(e){this.type=sD,this.auth=Ul(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(u,d)=>{F3(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const f=new P3(m);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,u(f.siteKey)}}).catch(m=>{d(m)})})}function s(o,u,d){const m=window.grecaptcha;W2(m)?m.enterprise.ready(()=>{m.enterprise.execute(o,{action:e}).then(f=>{u(f)}).catch(()=>{u($A)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new rD().execute("siteKey",{action:"verify"}):new Promise((o,u)=>{r(this.auth).then(d=>{if(!t&&W2(window.grecaptcha))s(d,o,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=eD();m.length!==0&&(m+=d),GA(m).then(()=>{s(d,o,u)}).catch(f=>{u(f)})}}).catch(d=>{u(d)})})}}async function eT(n,e,t,r=!1,s=!1){const o=new iD(n);let u;if(s)u=$A;else try{u=await o.verify(t)}catch{u=await o.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const m=d.phoneEnrollmentInfo.phoneNumber,f=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:m,recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const m=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:m,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function $v(n,e,t,r,s){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await eT(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await eT(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oD(n,e){const t=Am(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),o=t.getOptions();if(Cl(o,e??{}))return s;is(s,"already-initialized")}return t.initialize({options:e})}function lD(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(di);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function cD(n,e,t){const r=Ul(n);rt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,o=KA(e),{host:u,port:d}=uD(e),m=d===null?"":`:${d}`,f={url:`${o}//${u}${m}/`},v=Object.freeze({host:u,port:d,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){rt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),rt(Cl(f,r.config.emulator)&&Cl(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=f,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Fo(u)?(b1(`${o}//${u}${m}`),N1("Auth",!0)):hD()}function KA(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function uD(n){const e=KA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const o=s[1];return{host:o,port:tT(r.substr(o.length+1))}}else{const[o,u]=r.split(":");return{host:o,port:tT(u)}}}function tT(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function hD(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return hi("not implemented")}_getIdTokenResponse(e){return hi("not implemented")}_linkToIdToken(e,t){return hi("not implemented")}_getReauthenticationResolver(e){return hi("not implemented")}}async function dD(n,e){return Vo(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fD(n,e){return Sd(n,"POST","/v1/accounts:signInWithPassword",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mD(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}async function pD(n,e){return Sd(n,"POST","/v1/accounts:signInWithEmailLink",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends M1{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new nd(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new nd(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(e,t,"signInWithPassword",fD);case"emailLink":return mD(e,{email:this._email,oobCode:this._password});default:is(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $v(e,r,"signUpPassword",dD);case"emailLink":return pD(e,{idToken:t,email:this._email,oobCode:this._password});default:is(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qc(n,e){return Sd(n,"POST","/v1/accounts:signInWithIdp",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gD="http://localhost";class Rl extends M1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Rl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):is("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...o}=t;if(!r||!s)return null;const u=new Rl(r,s);return u.idToken=o.idToken||void 0,u.accessToken=o.accessToken||void 0,u.secret=o.secret,u.nonce=o.nonce,u.pendingToken=o.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Qc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Qc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Qc(e,t)}buildRequest(){const e={requestUri:gD,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=wd(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function xD(n){const e=kh(Oh(n)).link,t=e?kh(Oh(e)).deep_link_id:null,r=kh(Oh(n)).deep_link_id;return(r?kh(Oh(r)).link:null)||r||t||e||n}class P1{constructor(e){const t=kh(Oh(e)),r=t.apiKey??null,s=t.oobCode??null,o=vD(t.mode??null);rt(r&&s&&o,"argument-error"),this.apiKey=r,this.operation=o,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=xD(e);try{return new P1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(){this.providerId=mu.PROVIDER_ID}static credential(e,t){return nd._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=P1.parseLink(t);return rt(r,"argument-error"),nd._fromEmailAndCode(e,r.code,r.tenantId)}}mu.PROVIDER_ID="password";mu.EMAIL_PASSWORD_SIGN_IN_METHOD="password";mu.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd extends WA{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo extends bd{constructor(){super("facebook.com")}static credential(e){return Rl._fromParams({providerId:mo.PROVIDER_ID,signInMethod:mo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return mo.credentialFromTaggedObject(e)}static credentialFromError(e){return mo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return mo.credential(e.oauthAccessToken)}catch{return null}}}mo.FACEBOOK_SIGN_IN_METHOD="facebook.com";mo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po extends bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Rl._fromParams({providerId:po.PROVIDER_ID,signInMethod:po.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return po.credentialFromTaggedObject(e)}static credentialFromError(e){return po.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return po.credential(t,r)}catch{return null}}}po.GOOGLE_SIGN_IN_METHOD="google.com";po.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go extends bd{constructor(){super("github.com")}static credential(e){return Rl._fromParams({providerId:go.PROVIDER_ID,signInMethod:go.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return go.credentialFromTaggedObject(e)}static credentialFromError(e){return go.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return go.credential(e.oauthAccessToken)}catch{return null}}}go.GITHUB_SIGN_IN_METHOD="github.com";go.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo extends bd{constructor(){super("twitter.com")}static credential(e,t){return Rl._fromParams({providerId:vo.PROVIDER_ID,signInMethod:vo.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return vo.credentialFromTaggedObject(e)}static credentialFromError(e){return vo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return vo.credential(t,r)}catch{return null}}}vo.TWITTER_SIGN_IN_METHOD="twitter.com";vo.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _D(n,e){return Sd(n,"POST","/v1/accounts:signUp",Lo(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const o=await ts._fromIdTokenResponse(e,r,s),u=nT(r);return new Dl({user:o,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=nT(r);return new Dl({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function nT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends Fs{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,G0.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new G0(e,t,r,s)}}function XA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?G0._fromErrorAndOperation(n,o,e,r):o})}async function yD(n,e,t=!1){const r=await td(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Dl._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ED(n,e,t=!1){const{auth:r}=n;if(ha(r.app))return Promise.reject(mi(r));const s="reauthenticate";try{const o=await td(n,XA(r,s,e,n),t);rt(o.idToken,r,"internal-error");const u=k1(o.idToken);rt(u,r,"internal-error");const{sub:d}=u;return rt(n.uid===d,r,"user-mismatch"),Dl._forOperation(n,s,o)}catch(o){throw o?.code==="auth/user-not-found"&&is(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YA(n,e,t=!1){if(ha(n.app))return Promise.reject(mi(n));const r="signIn",s=await XA(n,r,e),o=await Dl._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(o.user),o}async function TD(n,e){return YA(Ul(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QA(n){const e=Ul(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wD(n,e,t){if(ha(n.app))return Promise.reject(mi(n));const r=Ul(n),u=await $v(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_D).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&QA(n),m}),d=await Dl._fromIdTokenResponse(r,"signIn",u);return await r._updateCurrentUser(d.user),d}function AD(n,e,t){return ha(n.app)?Promise.reject(mi(n)):TD(cn(n),mu.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&QA(n),r})}function SD(n,e,t,r){return cn(n).onIdTokenChanged(e,t,r)}function bD(n,e,t){return cn(n).beforeAuthStateChanged(e,t)}function ND(n,e,t,r){return cn(n).onAuthStateChanged(e,t,r)}function CD(n){return cn(n).signOut()}const $0="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem($0,"1"),this.storage.removeItem($0),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID=1e3,RD=10;class ZA extends JA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=qA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,m)=>{this.notifyListeners(u,m)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},o=this.storage.getItem(r);K3()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,RD):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ID)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}ZA.type="LOCAL";const DD=ZA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS extends JA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}eS.type="SESSION";const tS=eS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jD(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bm{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new bm(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:o}=t.data,u=this.handlersMap[s];if(!u?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async f=>f(t.origin,o)),m=await jD(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bm.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((d,m)=>{const f=F1("",20);s.port1.start();const v=setTimeout(()=>{m(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const y=_;if(y.data.eventId===f)switch(y.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),d(y.data.response);break;default:clearTimeout(v),clearTimeout(o),m(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(){return window}function OD(n){Is().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nS(){return typeof Is().WorkerGlobalScope<"u"&&typeof Is().importScripts=="function"}async function MD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function PD(){return navigator?.serviceWorker?.controller||null}function FD(){return nS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rS="firebaseLocalStorageDb",LD=1,K0="firebaseLocalStorage",aS="fbase_key";class Nd{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Nm(n,e){return n.transaction([K0],e?"readwrite":"readonly").objectStore(K0)}function VD(){const n=indexedDB.deleteDatabase(rS);return new Nd(n).toPromise()}function Kv(){const n=indexedDB.open(rS,LD);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(K0,{keyPath:aS})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(K0)?e(r):(r.close(),await VD(),e(await Kv()))})})}async function rT(n,e,t){const r=Nm(n,!0).put({[aS]:e,value:t});return new Nd(r).toPromise()}async function UD(n,e){const t=Nm(n,!1).get(e),r=await new Nd(t).toPromise();return r===void 0?null:r.value}function aT(n,e){const t=Nm(n,!0).delete(e);return new Nd(t).toPromise()}const BD=800,zD=3;class sS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kv(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>zD)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return nS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bm._getInstance(FD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await MD(),!this.activeServiceWorker)return;this.sender=new kD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||PD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kv();return await rT(e,$0,"1"),await aT(e,$0),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>rT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>UD(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>aT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const o=Nm(s,!1).getAll();return new Nd(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:o}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sS.type="LOCAL";const qD=sS;new Ad(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HD(n,e){return e?di(e):(rt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends M1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function GD(n){return YA(n.auth,new L1(n),n.bypassAuthState)}function $D(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),ED(t,new L1(n),n.bypassAuthState)}async function KD(n){const{auth:e,user:t}=n;return rt(t,e,"internal-error"),yD(t,new L1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(e,t,r,s,o=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:o,error:u,type:d}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(m))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return GD;case"linkViaPopup":case"linkViaRedirect":return KD;case"reauthViaPopup":case"reauthViaRedirect":return $D;default:is(this.auth,"internal-error")}}resolve(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ti(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new Ad(2e3,1e4);class Kc extends iS{constructor(e,t,r,s,o){super(e,t,s,o),this.provider=r,this.authWindow=null,this.pollId=null,Kc.currentPopupAction&&Kc.currentPopupAction.cancel(),Kc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return rt(e,this.auth,"internal-error"),e}async onExecution(){Ti(this.filter.length===1,"Popup operations only handle one event");const e=F1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Cs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Cs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Kc.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Cs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WD.get())};e()}}Kc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XD="pendingRedirect",I0=new Map;class YD extends iS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=I0.get(this.auth._key());if(!e){try{const r=await QD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}I0.set(this.auth._key(),e)}return this.bypassAuthState||I0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QD(n,e){const t=ej(e),r=ZD(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function JD(n,e){I0.set(n._key(),e)}function ZD(n){return di(n._redirectPersistence)}function ej(n){return C0(XD,n.config.apiKey,n.name)}async function tj(n,e,t=!1){if(ha(n.app))return Promise.reject(mi(n));const r=Ul(n),s=HD(r,e),u=await new YD(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=600*1e3;class rj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aj(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!oS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(Cs(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=nj&&this.cachedEventUids.clear(),this.cachedEventUids.has(sT(e))}saveEventToCache(e){this.cachedEventUids.add(sT(e)),this.lastProcessedEventTime=Date.now()}}function sT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function oS({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function aj(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return oS(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sj(n,e={}){return Vo(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ij=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,oj=/^https?/;async function lj(n){if(n.config.emulator)return;const{authorizedDomains:e}=await sj(n);for(const t of e)try{if(cj(t))return}catch{}is(n,"unauthorized-domain")}function cj(n){const e=Hv(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!oj.test(t))return!1;if(ij.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uj=new Ad(3e4,6e4);function iT(){const n=Is().___jsl;if(n?.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function hj(n){return new Promise((e,t)=>{function r(){iT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iT(),t(Cs(n,"network-request-failed"))},timeout:uj.get()})}if(Is().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Is().gapi?.load)r();else{const s=nD("iframefcb");return Is()[s]=()=>{gapi.load?r():t(Cs(n,"network-request-failed"))},GA(`${tD()}?onload=${s}`).catch(o=>t(o))}}).catch(e=>{throw R0=null,e})}let R0=null;function dj(n){return R0=R0||hj(n),R0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new Ad(5e3,15e3),mj="__/auth/iframe",pj="emulator/auth/iframe",gj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xj(n){const e=n.config;rt(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?j1(e,pj):`https://${n.config.authDomain}/${mj}`,r={apiKey:e.apiKey,appName:n.name,v:Vl},s=vj.get(n.config.apiHost);s&&(r.eid=s);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${wd(r).slice(1)}`}async function _j(n){const e=await dj(n),t=Is().gapi;return rt(t,n,"internal-error"),e.open({where:document.body,url:xj(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gj,dontclear:!0},r=>new Promise(async(s,o)=>{await r.restyle({setHideOnLeave:!1});const u=Cs(n,"network-request-failed"),d=Is().setTimeout(()=>{o(u)},fj.get());function m(){Is().clearTimeout(d),s(r)}r.ping(m).then(m,()=>{o(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Tj=600,wj="_blank",Aj="http://localhost";class oT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Sj(n,e,t,r=Ej,s=Tj){const o=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const m={...yj,width:r.toString(),height:s.toString(),top:o,left:u},f=Tr().toLowerCase();t&&(d=LA(f)?wj:t),PA(f)&&(e=e||Aj,m.scrollbars="yes");const v=Object.entries(m).reduce((y,[E,b])=>`${y}${E}=${b},`,"");if($3(f)&&d!=="_self")return bj(e||"",d),new oT(null);const _=window.open(e||"",d,v);rt(_,n,"popup-blocked");try{_.focus()}catch{}return new oT(_)}function bj(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nj="__/auth/handler",Cj="emulator/auth/handler",Ij=encodeURIComponent("fac");async function lT(n,e,t,r,s,o){rt(n.config.authDomain,n,"auth-domain-config-required"),rt(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Vl,eventId:s};if(e instanceof WA){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",dR(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))u[v]=_}if(e instanceof bd){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(u.scopes=v.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const v of Object.keys(d))d[v]===void 0&&delete d[v];const m=await n._getAppCheckToken(),f=m?`#${Ij}=${encodeURIComponent(m)}`:"";return`${Rj(n)}?${wd(d).slice(1)}${f}`}function Rj({config:n}){return n.emulator?j1(n,Cj):`https://${n.authDomain}/${Nj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mv="webStorageSupport";class Dj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tS,this._completeRedirectFn=tj,this._overrideRedirectResult=JD}async _openPopup(e,t,r,s){Ti(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const o=await lT(e,t,r,Hv(),s);return Sj(e,o,F1())}async _openRedirect(e,t,r,s){await this._originValidation(e);const o=await lT(e,t,r,Hv(),s);return OD(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:o}=this.eventManagers[t];return s?Promise.resolve(s):(Ti(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await _j(e),r=new rj(e);return t.register("authEvent",s=>(rt(s?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(mv,{type:mv},s=>{const o=s?.[0]?.[mv];o!==void 0&&t(!!o),is(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=lj(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return qA()||FA()||O1()}}const jj=Dj;var cT="@firebase/auth",uT="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){rt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oj(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Mj(n){Il(new bo("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;rt(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const m={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:HA(n)},f=new J3(r,s,o,m);return lD(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Il(new bo("auth-internal",e=>{const t=Ul(e.getProvider("auth").getImmediate());return(r=>new kj(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(cT,uT,Oj(n)),Ns(cT,uT,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pj=300,Fj=EA("authIdTokenMaxAge")||Pj;let hT=null;const Lj=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Fj)return;const s=t?.token;hT!==s&&(hT=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Vj(n=R1()){const e=Am(n,"auth");if(e.isInitialized())return e.getImmediate();const t=oD(n,{popupRedirectResolver:jj,persistence:[qD,DD,tS]}),r=EA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const u=Lj(o.toString());bD(t,u,()=>u(t.currentUser)),SD(t,d=>u(d))}}const s=xA("auth");return s&&cD(t,`http://${s}`),t}function Uj(){return document.getElementsByTagName("head")?.[0]??document}Z3({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const o=Cs("internal-error");o.customData=s,t(o)},r.type="text/javascript",r.charset="UTF-8",Uj().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Mj("Browser");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ao,lS;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,R){function N(){}N.prototype=R.prototype,I.F=R.prototype,I.prototype=new N,I.prototype.constructor=I,I.D=function(F,U,M){for(var B=Array(arguments.length-2),J=2;J<arguments.length;J++)B[J-2]=arguments[J];return R.prototype[U].apply(F,B)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,R,N){N||(N=0);const F=Array(16);if(typeof R=="string")for(var U=0;U<16;++U)F[U]=R.charCodeAt(N++)|R.charCodeAt(N++)<<8|R.charCodeAt(N++)<<16|R.charCodeAt(N++)<<24;else for(U=0;U<16;++U)F[U]=R[N++]|R[N++]<<8|R[N++]<<16|R[N++]<<24;R=I.g[0],N=I.g[1],U=I.g[2];let M=I.g[3],B;B=R+(M^N&(U^M))+F[0]+3614090360&4294967295,R=N+(B<<7&4294967295|B>>>25),B=M+(U^R&(N^U))+F[1]+3905402710&4294967295,M=R+(B<<12&4294967295|B>>>20),B=U+(N^M&(R^N))+F[2]+606105819&4294967295,U=M+(B<<17&4294967295|B>>>15),B=N+(R^U&(M^R))+F[3]+3250441966&4294967295,N=U+(B<<22&4294967295|B>>>10),B=R+(M^N&(U^M))+F[4]+4118548399&4294967295,R=N+(B<<7&4294967295|B>>>25),B=M+(U^R&(N^U))+F[5]+1200080426&4294967295,M=R+(B<<12&4294967295|B>>>20),B=U+(N^M&(R^N))+F[6]+2821735955&4294967295,U=M+(B<<17&4294967295|B>>>15),B=N+(R^U&(M^R))+F[7]+4249261313&4294967295,N=U+(B<<22&4294967295|B>>>10),B=R+(M^N&(U^M))+F[8]+1770035416&4294967295,R=N+(B<<7&4294967295|B>>>25),B=M+(U^R&(N^U))+F[9]+2336552879&4294967295,M=R+(B<<12&4294967295|B>>>20),B=U+(N^M&(R^N))+F[10]+4294925233&4294967295,U=M+(B<<17&4294967295|B>>>15),B=N+(R^U&(M^R))+F[11]+2304563134&4294967295,N=U+(B<<22&4294967295|B>>>10),B=R+(M^N&(U^M))+F[12]+1804603682&4294967295,R=N+(B<<7&4294967295|B>>>25),B=M+(U^R&(N^U))+F[13]+4254626195&4294967295,M=R+(B<<12&4294967295|B>>>20),B=U+(N^M&(R^N))+F[14]+2792965006&4294967295,U=M+(B<<17&4294967295|B>>>15),B=N+(R^U&(M^R))+F[15]+1236535329&4294967295,N=U+(B<<22&4294967295|B>>>10),B=R+(U^M&(N^U))+F[1]+4129170786&4294967295,R=N+(B<<5&4294967295|B>>>27),B=M+(N^U&(R^N))+F[6]+3225465664&4294967295,M=R+(B<<9&4294967295|B>>>23),B=U+(R^N&(M^R))+F[11]+643717713&4294967295,U=M+(B<<14&4294967295|B>>>18),B=N+(M^R&(U^M))+F[0]+3921069994&4294967295,N=U+(B<<20&4294967295|B>>>12),B=R+(U^M&(N^U))+F[5]+3593408605&4294967295,R=N+(B<<5&4294967295|B>>>27),B=M+(N^U&(R^N))+F[10]+38016083&4294967295,M=R+(B<<9&4294967295|B>>>23),B=U+(R^N&(M^R))+F[15]+3634488961&4294967295,U=M+(B<<14&4294967295|B>>>18),B=N+(M^R&(U^M))+F[4]+3889429448&4294967295,N=U+(B<<20&4294967295|B>>>12),B=R+(U^M&(N^U))+F[9]+568446438&4294967295,R=N+(B<<5&4294967295|B>>>27),B=M+(N^U&(R^N))+F[14]+3275163606&4294967295,M=R+(B<<9&4294967295|B>>>23),B=U+(R^N&(M^R))+F[3]+4107603335&4294967295,U=M+(B<<14&4294967295|B>>>18),B=N+(M^R&(U^M))+F[8]+1163531501&4294967295,N=U+(B<<20&4294967295|B>>>12),B=R+(U^M&(N^U))+F[13]+2850285829&4294967295,R=N+(B<<5&4294967295|B>>>27),B=M+(N^U&(R^N))+F[2]+4243563512&4294967295,M=R+(B<<9&4294967295|B>>>23),B=U+(R^N&(M^R))+F[7]+1735328473&4294967295,U=M+(B<<14&4294967295|B>>>18),B=N+(M^R&(U^M))+F[12]+2368359562&4294967295,N=U+(B<<20&4294967295|B>>>12),B=R+(N^U^M)+F[5]+4294588738&4294967295,R=N+(B<<4&4294967295|B>>>28),B=M+(R^N^U)+F[8]+2272392833&4294967295,M=R+(B<<11&4294967295|B>>>21),B=U+(M^R^N)+F[11]+1839030562&4294967295,U=M+(B<<16&4294967295|B>>>16),B=N+(U^M^R)+F[14]+4259657740&4294967295,N=U+(B<<23&4294967295|B>>>9),B=R+(N^U^M)+F[1]+2763975236&4294967295,R=N+(B<<4&4294967295|B>>>28),B=M+(R^N^U)+F[4]+1272893353&4294967295,M=R+(B<<11&4294967295|B>>>21),B=U+(M^R^N)+F[7]+4139469664&4294967295,U=M+(B<<16&4294967295|B>>>16),B=N+(U^M^R)+F[10]+3200236656&4294967295,N=U+(B<<23&4294967295|B>>>9),B=R+(N^U^M)+F[13]+681279174&4294967295,R=N+(B<<4&4294967295|B>>>28),B=M+(R^N^U)+F[0]+3936430074&4294967295,M=R+(B<<11&4294967295|B>>>21),B=U+(M^R^N)+F[3]+3572445317&4294967295,U=M+(B<<16&4294967295|B>>>16),B=N+(U^M^R)+F[6]+76029189&4294967295,N=U+(B<<23&4294967295|B>>>9),B=R+(N^U^M)+F[9]+3654602809&4294967295,R=N+(B<<4&4294967295|B>>>28),B=M+(R^N^U)+F[12]+3873151461&4294967295,M=R+(B<<11&4294967295|B>>>21),B=U+(M^R^N)+F[15]+530742520&4294967295,U=M+(B<<16&4294967295|B>>>16),B=N+(U^M^R)+F[2]+3299628645&4294967295,N=U+(B<<23&4294967295|B>>>9),B=R+(U^(N|~M))+F[0]+4096336452&4294967295,R=N+(B<<6&4294967295|B>>>26),B=M+(N^(R|~U))+F[7]+1126891415&4294967295,M=R+(B<<10&4294967295|B>>>22),B=U+(R^(M|~N))+F[14]+2878612391&4294967295,U=M+(B<<15&4294967295|B>>>17),B=N+(M^(U|~R))+F[5]+4237533241&4294967295,N=U+(B<<21&4294967295|B>>>11),B=R+(U^(N|~M))+F[12]+1700485571&4294967295,R=N+(B<<6&4294967295|B>>>26),B=M+(N^(R|~U))+F[3]+2399980690&4294967295,M=R+(B<<10&4294967295|B>>>22),B=U+(R^(M|~N))+F[10]+4293915773&4294967295,U=M+(B<<15&4294967295|B>>>17),B=N+(M^(U|~R))+F[1]+2240044497&4294967295,N=U+(B<<21&4294967295|B>>>11),B=R+(U^(N|~M))+F[8]+1873313359&4294967295,R=N+(B<<6&4294967295|B>>>26),B=M+(N^(R|~U))+F[15]+4264355552&4294967295,M=R+(B<<10&4294967295|B>>>22),B=U+(R^(M|~N))+F[6]+2734768916&4294967295,U=M+(B<<15&4294967295|B>>>17),B=N+(M^(U|~R))+F[13]+1309151649&4294967295,N=U+(B<<21&4294967295|B>>>11),B=R+(U^(N|~M))+F[4]+4149444226&4294967295,R=N+(B<<6&4294967295|B>>>26),B=M+(N^(R|~U))+F[11]+3174756917&4294967295,M=R+(B<<10&4294967295|B>>>22),B=U+(R^(M|~N))+F[2]+718787259&4294967295,U=M+(B<<15&4294967295|B>>>17),B=N+(M^(U|~R))+F[9]+3951481745&4294967295,I.g[0]=I.g[0]+R&4294967295,I.g[1]=I.g[1]+(U+(B<<21&4294967295|B>>>11))&4294967295,I.g[2]=I.g[2]+U&4294967295,I.g[3]=I.g[3]+M&4294967295}r.prototype.v=function(I,R){R===void 0&&(R=I.length);const N=R-this.blockSize,F=this.C;let U=this.h,M=0;for(;M<R;){if(U==0)for(;M<=N;)s(this,I,M),M+=this.blockSize;if(typeof I=="string"){for(;M<R;)if(F[U++]=I.charCodeAt(M++),U==this.blockSize){s(this,F),U=0;break}}else for(;M<R;)if(F[U++]=I[M++],U==this.blockSize){s(this,F),U=0;break}}this.h=U,this.o+=R},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var R=1;R<I.length-8;++R)I[R]=0;R=this.o*8;for(var N=I.length-8;N<I.length;++N)I[N]=R&255,R/=256;for(this.v(I),I=Array(16),R=0,N=0;N<4;++N)for(let F=0;F<32;F+=8)I[R++]=this.g[N]>>>F&255;return I};function o(I,R){var N=d;return Object.prototype.hasOwnProperty.call(N,I)?N[I]:N[I]=R(I)}function u(I,R){this.h=R;const N=[];let F=!0;for(let U=I.length-1;U>=0;U--){const M=I[U]|0;F&&M==R||(N[U]=M,F=!1)}this.g=N}var d={};function m(I){return-128<=I&&I<128?o(I,function(R){return new u([R|0],R<0?-1:0)}):new u([I|0],I<0?-1:0)}function f(I){if(isNaN(I)||!isFinite(I))return _;if(I<0)return S(f(-I));const R=[];let N=1;for(let F=0;I>=N;F++)R[F]=I/N|0,N*=4294967296;return new u(R,0)}function v(I,R){if(I.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(I.charAt(0)=="-")return S(v(I.substring(1),R));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(R,8));let F=_;for(let M=0;M<I.length;M+=8){var U=Math.min(8,I.length-M);const B=parseInt(I.substring(M,M+U),R);U<8?(U=f(Math.pow(R,U)),F=F.j(U).add(f(B))):(F=F.j(N),F=F.add(f(B)))}return F}var _=m(0),y=m(1),E=m(16777216);n=u.prototype,n.m=function(){if(w(this))return-S(this).m();let I=0,R=1;for(let N=0;N<this.g.length;N++){const F=this.i(N);I+=(F>=0?F:4294967296+F)*R,R*=4294967296}return I},n.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(b(this))return"0";if(w(this))return"-"+S(this).toString(I);const R=f(Math.pow(I,6));var N=this;let F="";for(;;){const U=X(N,R).g;N=k(N,U.j(R));let M=((N.g.length>0?N.g[0]:N.h)>>>0).toString(I);if(N=U,b(N))return M+F;for(;M.length<6;)M="0"+M;F=M+F}},n.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function b(I){if(I.h!=0)return!1;for(let R=0;R<I.g.length;R++)if(I.g[R]!=0)return!1;return!0}function w(I){return I.h==-1}n.l=function(I){return I=k(this,I),w(I)?-1:b(I)?0:1};function S(I){const R=I.g.length,N=[];for(let F=0;F<R;F++)N[F]=~I.g[F];return new u(N,~I.h).add(y)}n.abs=function(){return w(this)?S(this):this},n.add=function(I){const R=Math.max(this.g.length,I.g.length),N=[];let F=0;for(let U=0;U<=R;U++){let M=F+(this.i(U)&65535)+(I.i(U)&65535),B=(M>>>16)+(this.i(U)>>>16)+(I.i(U)>>>16);F=B>>>16,M&=65535,B&=65535,N[U]=B<<16|M}return new u(N,N[N.length-1]&-2147483648?-1:0)};function k(I,R){return I.add(S(R))}n.j=function(I){if(b(this)||b(I))return _;if(w(this))return w(I)?S(this).j(S(I)):S(S(this).j(I));if(w(I))return S(this.j(S(I)));if(this.l(E)<0&&I.l(E)<0)return f(this.m()*I.m());const R=this.g.length+I.g.length,N=[];for(var F=0;F<2*R;F++)N[F]=0;for(F=0;F<this.g.length;F++)for(let U=0;U<I.g.length;U++){const M=this.i(F)>>>16,B=this.i(F)&65535,J=I.i(U)>>>16,Ee=I.i(U)&65535;N[2*F+2*U]+=B*Ee,D(N,2*F+2*U),N[2*F+2*U+1]+=M*Ee,D(N,2*F+2*U+1),N[2*F+2*U+1]+=B*J,D(N,2*F+2*U+1),N[2*F+2*U+2]+=M*J,D(N,2*F+2*U+2)}for(I=0;I<R;I++)N[I]=N[2*I+1]<<16|N[2*I];for(I=R;I<2*R;I++)N[I]=0;return new u(N,0)};function D(I,R){for(;(I[R]&65535)!=I[R];)I[R+1]+=I[R]>>>16,I[R]&=65535,R++}function j(I,R){this.g=I,this.h=R}function X(I,R){if(b(R))throw Error("division by zero");if(b(I))return new j(_,_);if(w(I))return R=X(S(I),R),new j(S(R.g),S(R.h));if(w(R))return R=X(I,S(R)),new j(S(R.g),R.h);if(I.g.length>30){if(w(I)||w(R))throw Error("slowDivide_ only works with positive integers.");for(var N=y,F=R;F.l(I)<=0;)N=te(N),F=te(F);var U=ie(N,1),M=ie(F,1);for(F=ie(F,2),N=ie(N,2);!b(F);){var B=M.add(F);B.l(I)<=0&&(U=U.add(N),M=B),F=ie(F,1),N=ie(N,1)}return R=k(I,U.j(R)),new j(U,R)}for(U=_;I.l(R)>=0;){for(N=Math.max(1,Math.floor(I.m()/R.m())),F=Math.ceil(Math.log(N)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),M=f(N),B=M.j(R);w(B)||B.l(I)>0;)N-=F,M=f(N),B=M.j(R);b(M)&&(M=y),U=U.add(M),I=k(I,B)}return new j(U,I)}n.B=function(I){return X(this,I).h},n.and=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let F=0;F<R;F++)N[F]=this.i(F)&I.i(F);return new u(N,this.h&I.h)},n.or=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let F=0;F<R;F++)N[F]=this.i(F)|I.i(F);return new u(N,this.h|I.h)},n.xor=function(I){const R=Math.max(this.g.length,I.g.length),N=[];for(let F=0;F<R;F++)N[F]=this.i(F)^I.i(F);return new u(N,this.h^I.h)};function te(I){const R=I.g.length+1,N=[];for(let F=0;F<R;F++)N[F]=I.i(F)<<1|I.i(F-1)>>>31;return new u(N,I.h)}function ie(I,R){const N=R>>5;R%=32;const F=I.g.length-N,U=[];for(let M=0;M<F;M++)U[M]=R>0?I.i(M+N)>>>R|I.i(M+N+1)<<32-R:I.i(M+N);return new u(U,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,lS=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=f,u.fromString=v,Ao=u}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var l0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cS,Mh,uS,D0,Wv,hS,dS,fS;(function(){var n,e=Object.defineProperty;function t(p){p=[typeof globalThis=="object"&&globalThis,p,typeof window=="object"&&window,typeof self=="object"&&self,typeof l0=="object"&&l0];for(var T=0;T<p.length;++T){var C=p[T];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=t(this);function s(p,T){if(T)e:{var C=r;p=p.split(".");for(var q=0;q<p.length-1;q++){var ce=p[q];if(!(ce in C))break e;C=C[ce]}p=p[p.length-1],q=C[p],T=T(q),T!=q&&T!=null&&e(C,p,{configurable:!0,writable:!0,value:T})}}s("Symbol.dispose",function(p){return p||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(p){return p||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(p){return p||function(T){var C=[],q;for(q in T)Object.prototype.hasOwnProperty.call(T,q)&&C.push([q,T[q]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},u=this||self;function d(p){var T=typeof p;return T=="object"&&p!=null||T=="function"}function m(p,T,C){return p.call.apply(p.bind,arguments)}function f(p,T,C){return f=m,f.apply(null,arguments)}function v(p,T){var C=Array.prototype.slice.call(arguments,1);return function(){var q=C.slice();return q.push.apply(q,arguments),p.apply(this,q)}}function _(p,T){function C(){}C.prototype=T.prototype,p.Z=T.prototype,p.prototype=new C,p.prototype.constructor=p,p.Ob=function(q,ce,_e){for(var Ve=Array(arguments.length-2),lt=2;lt<arguments.length;lt++)Ve[lt-2]=arguments[lt];return T.prototype[ce].apply(q,Ve)}}var y=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?p=>p&&AsyncContext.Snapshot.wrap(p):p=>p;function E(p){const T=p.length;if(T>0){const C=Array(T);for(let q=0;q<T;q++)C[q]=p[q];return C}return[]}function b(p,T){for(let q=1;q<arguments.length;q++){const ce=arguments[q];var C=typeof ce;if(C=C!="object"?C:ce?Array.isArray(ce)?"array":C:"null",C=="array"||C=="object"&&typeof ce.length=="number"){C=p.length||0;const _e=ce.length||0;p.length=C+_e;for(let Ve=0;Ve<_e;Ve++)p[C+Ve]=ce[Ve]}else p.push(ce)}}class w{constructor(T,C){this.i=T,this.j=C,this.h=0,this.g=null}get(){let T;return this.h>0?(this.h--,T=this.g,this.g=T.next,T.next=null):T=this.i(),T}}function S(p){u.setTimeout(()=>{throw p},0)}function k(){var p=I;let T=null;return p.g&&(T=p.g,p.g=p.g.next,p.g||(p.h=null),T.next=null),T}class D{constructor(){this.h=this.g=null}add(T,C){const q=j.get();q.set(T,C),this.h?this.h.next=q:this.g=q,this.h=q}}var j=new w(()=>new X,p=>p.reset());class X{constructor(){this.next=this.g=this.h=null}set(T,C){this.h=T,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let te,ie=!1,I=new D,R=()=>{const p=Promise.resolve(void 0);te=()=>{p.then(N)}};function N(){for(var p;p=k();){try{p.h.call(p.g)}catch(C){S(C)}var T=j;T.j(p),T.h<100&&(T.h++,p.next=T.g,T.g=p)}ie=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(p,T){this.type=p,this.g=this.target=T,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var M=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var p=!1,T=Object.defineProperty({},"passive",{get:function(){p=!0}});try{const C=()=>{};u.addEventListener("test",C,T),u.removeEventListener("test",C,T)}catch{}return p})();function B(p){return/^[\s\xa0]*$/.test(p)}function J(p,T){U.call(this,p?p.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,p&&this.init(p,T)}_(J,U),J.prototype.init=function(p,T){const C=this.type=p.type,q=p.changedTouches&&p.changedTouches.length?p.changedTouches[0]:null;this.target=p.target||p.srcElement,this.g=T,T=p.relatedTarget,T||(C=="mouseover"?T=p.fromElement:C=="mouseout"&&(T=p.toElement)),this.relatedTarget=T,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0),this.button=p.button,this.key=p.key||"",this.ctrlKey=p.ctrlKey,this.altKey=p.altKey,this.shiftKey=p.shiftKey,this.metaKey=p.metaKey,this.pointerId=p.pointerId||0,this.pointerType=p.pointerType,this.state=p.state,this.i=p,p.defaultPrevented&&J.Z.h.call(this)},J.prototype.h=function(){J.Z.h.call(this);const p=this.i;p.preventDefault?p.preventDefault():p.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),re=0;function xe(p,T,C,q,ce){this.listener=p,this.proxy=null,this.src=T,this.type=C,this.capture=!!q,this.ha=ce,this.key=++re,this.da=this.fa=!1}function le(p){p.da=!0,p.listener=null,p.proxy=null,p.src=null,p.ha=null}function Le(p,T,C){for(const q in p)T.call(C,p[q],q,p)}function Te(p,T){for(const C in p)T.call(void 0,p[C],C,p)}function W(p){const T={};for(const C in p)T[C]=p[C];return T}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Z(p,T){let C,q;for(let ce=1;ce<arguments.length;ce++){q=arguments[ce];for(C in q)p[C]=q[C];for(let _e=0;_e<V.length;_e++)C=V[_e],Object.prototype.hasOwnProperty.call(q,C)&&(p[C]=q[C])}}function Q(p){this.src=p,this.g={},this.h=0}Q.prototype.add=function(p,T,C,q,ce){const _e=p.toString();p=this.g[_e],p||(p=this.g[_e]=[],this.h++);const Ve=pe(p,T,q,ce);return Ve>-1?(T=p[Ve],C||(T.fa=!1)):(T=new xe(T,this.src,_e,!!q,ce),T.fa=C,p.push(T)),T};function ee(p,T){const C=T.type;if(C in p.g){var q=p.g[C],ce=Array.prototype.indexOf.call(q,T,void 0),_e;(_e=ce>=0)&&Array.prototype.splice.call(q,ce,1),_e&&(le(T),p.g[C].length==0&&(delete p.g[C],p.h--))}}function pe(p,T,C,q){for(let ce=0;ce<p.length;++ce){const _e=p[ce];if(!_e.da&&_e.listener==T&&_e.capture==!!C&&_e.ha==q)return ce}return-1}var De="closure_lm_"+(Math.random()*1e6|0),Be={};function Me(p,T,C,q,ce){if(Array.isArray(T)){for(let _e=0;_e<T.length;_e++)Me(p,T[_e],C,q,ce);return null}return C=zn(C),p&&p[Ee]?p.J(T,C,d(q)?!!q.capture:!1,ce):se(p,T,C,!1,q,ce)}function se(p,T,C,q,ce,_e){if(!T)throw Error("Invalid event type");const Ve=d(ce)?!!ce.capture:!!ce;let lt=Rt(p);if(lt||(p[De]=lt=new Q(p)),C=lt.add(T,C,q,Ve,_e),C.proxy)return C;if(q=Xe(),C.proxy=q,q.src=p,q.listener=C,p.addEventListener)M||(ce=Ve),ce===void 0&&(ce=!1),p.addEventListener(T.toString(),q,ce);else if(p.attachEvent)p.attachEvent(ut(T.toString()),q);else if(p.addListener&&p.removeListener)p.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return C}function Xe(){function p(C){return T.call(p.src,p.listener,C)}const T=wr;return p}function tt(p,T,C,q,ce){if(Array.isArray(T))for(var _e=0;_e<T.length;_e++)tt(p,T[_e],C,q,ce);else q=d(q)?!!q.capture:!!q,C=zn(C),p&&p[Ee]?(p=p.i,_e=String(T).toString(),_e in p.g&&(T=p.g[_e],C=pe(T,C,q,ce),C>-1&&(le(T[C]),Array.prototype.splice.call(T,C,1),T.length==0&&(delete p.g[_e],p.h--)))):p&&(p=Rt(p))&&(T=p.g[T.toString()],p=-1,T&&(p=pe(T,C,q,ce)),(C=p>-1?T[p]:null)&&an(C))}function an(p){if(typeof p!="number"&&p&&!p.da){var T=p.src;if(T&&T[Ee])ee(T.i,p);else{var C=p.type,q=p.proxy;T.removeEventListener?T.removeEventListener(C,q,p.capture):T.detachEvent?T.detachEvent(ut(C),q):T.addListener&&T.removeListener&&T.removeListener(q),(C=Rt(T))?(ee(C,p),C.h==0&&(C.src=null,T[De]=null)):le(p)}}}function ut(p){return p in Be?Be[p]:Be[p]="on"+p}function wr(p,T){if(p.da)p=!0;else{T=new J(T,this);const C=p.listener,q=p.ha||p.src;p.fa&&an(p),p=C.call(q,T)}return p}function Rt(p){return p=p[De],p instanceof Q?p:null}var He="__closure_events_fn_"+(Math.random()*1e9>>>0);function zn(p){return typeof p=="function"?p:(p[He]||(p[He]=function(T){return p.handleEvent(T)}),p[He])}function Dt(){F.call(this),this.i=new Q(this),this.M=this,this.G=null}_(Dt,F),Dt.prototype[Ee]=!0,Dt.prototype.removeEventListener=function(p,T,C,q){tt(this,p,T,C,q)};function Wt(p,T){var C,q=p.G;if(q)for(C=[];q;q=q.G)C.push(q);if(p=p.M,q=T.type||T,typeof T=="string")T=new U(T,p);else if(T instanceof U)T.target=T.target||p;else{var ce=T;T=new U(q,p),Z(T,ce)}ce=!0;let _e,Ve;if(C)for(Ve=C.length-1;Ve>=0;Ve--)_e=T.g=C[Ve],ce=Ar(_e,q,!0,T)&&ce;if(_e=T.g=p,ce=Ar(_e,q,!0,T)&&ce,ce=Ar(_e,q,!1,T)&&ce,C)for(Ve=0;Ve<C.length;Ve++)_e=T.g=C[Ve],ce=Ar(_e,q,!1,T)&&ce}Dt.prototype.N=function(){if(Dt.Z.N.call(this),this.i){var p=this.i;for(const T in p.g){const C=p.g[T];for(let q=0;q<C.length;q++)le(C[q]);delete p.g[T],p.h--}}this.G=null},Dt.prototype.J=function(p,T,C,q){return this.i.add(String(p),T,!1,C,q)},Dt.prototype.K=function(p,T,C,q){return this.i.add(String(p),T,!0,C,q)};function Ar(p,T,C,q){if(T=p.i.g[String(T)],!T)return!0;T=T.concat();let ce=!0;for(let _e=0;_e<T.length;++_e){const Ve=T[_e];if(Ve&&!Ve.da&&Ve.capture==C){const lt=Ve.listener,Tn=Ve.ha||Ve.src;Ve.fa&&ee(p.i,Ve),ce=lt.call(Tn,q)!==!1&&ce}}return ce&&!q.defaultPrevented}function Xl(p,T){if(typeof p!="function")if(p&&typeof p.handleEvent=="function")p=f(p.handleEvent,p);else throw Error("Invalid listener argument");return Number(T)>2147483647?-1:u.setTimeout(p,T||0)}function ji(p){p.g=Xl(()=>{p.g=null,p.i&&(p.i=!1,ji(p))},p.l);const T=p.h;p.h=null,p.m.apply(null,T)}class Qt extends F{constructor(T,C){super(),this.m=T,this.l=C,this.h=null,this.i=!1,this.g=null}j(T){this.h=arguments,this.g?this.i=!0:ji(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(p){F.call(this),this.h=p,this.g={}}_(xa,F);var Vs=[];function Us(p){Le(p.g,function(T,C){this.g.hasOwnProperty(C)&&an(T)},p),p.g={}}xa.prototype.N=function(){xa.Z.N.call(this),Us(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hr=u.JSON.stringify,Cu=u.JSON.parse,Ho=class{stringify(p){return u.JSON.stringify(p,void 0)}parse(p){return u.JSON.parse(p,void 0)}};function Go(){}function $o(){}var Mr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function bn(){U.call(this,"d")}_(bn,U);function Sr(){U.call(this,"c")}_(Sr,U);var un={},Yl=null;function Bs(){return Yl=Yl||new Dt}un.Ia="serverreachability";function Ko(p){U.call(this,un.Ia,p)}_(Ko,U);function Yr(p){const T=Bs();Wt(T,new Ko(T))}un.STAT_EVENT="statevent";function zs(p,T){U.call(this,un.STAT_EVENT,p),this.stat=T}_(zs,U);function mn(p){const T=Bs();Wt(T,new zs(T,p))}un.Ja="timingevent";function br(p,T){U.call(this,un.Ja,p),this.size=T}_(br,U);function _a(p,T){if(typeof p!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){p()},T)}function Qr(){this.g=!0}Qr.prototype.ua=function(){this.g=!1};function Iu(p,T,C,q,ce,_e){p.info(function(){if(p.g)if(_e){var Ve="",lt=_e.split("&");for(let bt=0;bt<lt.length;bt++){var Tn=lt[bt].split("=");if(Tn.length>1){const sn=Tn[0];Tn=Tn[1];const wa=sn.split("_");Ve=wa.length>=2&&wa[1]=="type"?Ve+(sn+"="+Tn+"&"):Ve+(sn+"=redacted&")}}}else Ve=null;else Ve=_e;return"XMLHTTP REQ ("+q+") [attempt "+ce+"]: "+T+`
`+C+`
`+Ve})}function Ql(p,T,C,q,ce,_e,Ve){p.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+ce+"]: "+T+`
`+C+`
`+_e+" "+Ve})}function ya(p,T,C,q){p.info(function(){return"XMLHTTP TEXT ("+T+"): "+Ru(p,C)+(q?" "+q:"")})}function qs(p,T){p.info(function(){return"TIMEOUT: "+T})}Qr.prototype.info=function(){};function Ru(p,T){if(!p.g)return T;if(!T)return null;try{const _e=JSON.parse(T);if(_e){for(p=0;p<_e.length;p++)if(Array.isArray(_e[p])){var C=_e[p];if(!(C.length<2)){var q=C[1];if(Array.isArray(q)&&!(q.length<1)){var ce=q[0];if(ce!="noop"&&ce!="stop"&&ce!="close")for(let Ve=1;Ve<q.length;Ve++)q[Ve]=""}}}}return hr(_e)}catch{return T}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Gs={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Wo;function $s(){}_($s,Go),$s.prototype.g=function(){return new XMLHttpRequest},Wo=new $s;function Ua(p){return encodeURIComponent(String(p))}function O(p){var T=1;p=p.split(":");const C=[];for(;T>0&&p.length;)C.push(p.shift()),T--;return p.length&&C.push(p.join(":")),C}function K(p,T,C,q){this.j=p,this.i=T,this.l=C,this.S=q||1,this.V=new xa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new z}function z(){this.i=null,this.g="",this.h=!1}var H={},G={};function Y(p,T,C){p.M=1,p.A=Xo(Nn(T)),p.u=C,p.R=!0,he(p,null)}function he(p,T){p.F=Date.now(),me(p),p.B=Nn(p.A);var C=p.B,q=p.S;Array.isArray(q)||(q=[String(q)]),Zl(C.i,"t",q),p.C=0,C=p.j.L,p.h=new z,p.g=Zd(p.j,C?T:null,!p.u),p.P>0&&(p.O=new Qt(f(p.Y,p,p.g),p.P)),T=p.V,C=p.g,q=p.ba;var ce="readystatechange";Array.isArray(ce)||(ce&&(Vs[0]=ce.toString()),ce=Vs);for(let _e=0;_e<ce.length;_e++){const Ve=Me(C,ce[_e],q||T.handleEvent,!1,T.h||T);if(!Ve)break;T.g[Ve.key]=Ve}T=p.J?W(p.J):{},p.u?(p.v||(p.v="POST"),T["Content-Type"]="application/x-www-form-urlencoded",p.g.ea(p.B,p.v,p.u,T)):(p.v="GET",p.g.ea(p.B,p.v,null,T)),Yr(),Iu(p.i,p.v,p.B,p.l,p.S,p.u)}K.prototype.ba=function(p){p=p.target;const T=this.O;T&&Ga(p)==3?T.j():this.Y(p)},K.prototype.Y=function(p){try{if(p==this.g)e:{const lt=Ga(this.g),Tn=this.g.ya(),bt=this.g.ca();if(!(lt<3)&&(lt!=3||this.g&&(this.h.h||this.g.la()||Yn(this.g)))){this.K||lt!=4||Tn==7||(Tn==8||bt<=0?Yr(3):Yr(2)),Oe(this);var T=this.g.ca();this.X=T;var C=Ae(this);if(this.o=T==200,Ql(this.i,this.v,this.B,this.l,this.S,lt,T),this.o){if(this.U&&!this.L){t:{if(this.g){var q,ce=this.g;if((q=ce.g?ce.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!B(q)){var _e=q;break t}}_e=null}if(p=_e)ya(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ue(this,p);else{this.o=!1,this.m=3,mn(12),je(this),ze(this);break e}}if(this.R){p=!0;let sn;for(;!this.K&&this.C<C.length;)if(sn=ge(this,C),sn==G){lt==4&&(this.m=4,mn(14),p=!1),ya(this.i,this.l,null,"[Incomplete Response]");break}else if(sn==H){this.m=4,mn(15),ya(this.i,this.l,C,"[Invalid Chunk]"),p=!1;break}else ya(this.i,this.l,sn,null),Ue(this,sn);if(de(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),lt!=4||C.length!=0||this.h.h||(this.m=1,mn(16),p=!1),this.o=this.o&&p,!p)ya(this.i,this.l,C,"[Invalid Chunked Response]"),je(this),ze(this);else if(C.length>0&&!this.W){this.W=!0;var Ve=this.j;Ve.g==this&&Ve.aa&&!Ve.P&&(Ve.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),Uu(Ve),Ve.P=!0,mn(11))}}else ya(this.i,this.l,C,null),Ue(this,C);lt==4&&je(this),this.o&&!this.K&&(lt==4?Xd(this.j,this):(this.o=!1,me(this)))}else Ws(this.g),T==400&&C.indexOf("Unknown SID")>0?(this.m=3,mn(12)):(this.m=0,mn(13)),je(this),ze(this)}}}catch{}finally{}};function Ae(p){if(!de(p))return p.g.la();const T=Yn(p.g);if(T==="")return"";let C="";const q=T.length,ce=Ga(p.g)==4;if(!p.h.i){if(typeof TextDecoder>"u")return je(p),ze(p),"";p.h.i=new u.TextDecoder}for(let _e=0;_e<q;_e++)p.h.h=!0,C+=p.h.i.decode(T[_e],{stream:!(ce&&_e==q-1)});return T.length=0,p.h.g+=C,p.C=0,p.h.g}function de(p){return p.g?p.v=="GET"&&p.M!=2&&p.j.Aa:!1}function ge(p,T){var C=p.C,q=T.indexOf(`
`,C);return q==-1?G:(C=Number(T.substring(C,q)),isNaN(C)?H:(q+=1,q+C>T.length?G:(T=T.slice(q,q+C),p.C=q+C,T)))}K.prototype.cancel=function(){this.K=!0,je(this)};function me(p){p.T=Date.now()+p.H,ke(p,p.H)}function ke(p,T){if(p.D!=null)throw Error("WatchDog timer not null");p.D=_a(f(p.aa,p),T)}function Oe(p){p.D&&(u.clearTimeout(p.D),p.D=null)}K.prototype.aa=function(){this.D=null;const p=Date.now();p-this.T>=0?(qs(this.i,this.B),this.M!=2&&(Yr(),mn(17)),je(this),this.m=2,ze(this)):ke(this,this.T-p)};function ze(p){p.j.I==0||p.K||Xd(p.j,p)}function je(p){Oe(p);var T=p.O;T&&typeof T.dispose=="function"&&T.dispose(),p.O=null,Us(p.V),p.g&&(T=p.g,p.g=null,T.abort(),T.dispose())}function Ue(p,T){try{var C=p.j;if(C.I!=0&&(C.g==p||dr(C.h,p))){if(!p.L&&dr(C.h,p)&&C.I==3){try{var q=C.Ba.g.parse(T)}catch{q=null}if(Array.isArray(q)&&q.length==3){var ce=q;if(ce[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<p.F)ac(C),Bi(C);else break e;nl(C),mn(18)}}else C.xa=ce[1],0<C.xa-C.K&&ce[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=_a(f(C.Va,C),6e3));Xt(C.h)<=1&&C.ta&&(C.ta=void 0)}else gs(C,11)}else if((p.L||C.g==p)&&ac(C),!B(T))for(ce=C.Ba.g.parse(T),T=0;T<ce.length;T++){let bt=ce[T];const sn=bt[0];if(!(sn<=C.K))if(C.K=sn,bt=bt[1],C.I==2)if(bt[0]=="c"){C.M=bt[1],C.ba=bt[2];const wa=bt[3];wa!=null&&(C.ka=wa,C.j.info("VER="+C.ka));const vs=bt[4];vs!=null&&(C.za=vs,C.j.info("SVER="+C.za));const $a=bt[5];$a!=null&&typeof $a=="number"&&$a>0&&(q=1.5*$a,C.O=q,C.j.info("backChannelRequestTimeoutMs_="+q)),q=C;const Ka=p.g;if(Ka){const rl=Ka.g?Ka.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(rl){var _e=q.h;_e.g||rl.indexOf("spdy")==-1&&rl.indexOf("quic")==-1&&rl.indexOf("h2")==-1||(_e.j=_e.l,_e.g=new Set,_e.h&&(Ba(_e,_e.h),_e.h=null))}if(q.G){const sc=Ka.g?Ka.g.getResponseHeader("X-HTTP-Session-Id"):null;sc&&(q.wa=sc,Mt(q.J,q.G,sc))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-p.F,C.j.info("Handshake RTT: "+C.T+"ms")),q=C;var Ve=p;if(q.na=Jd(q,q.L?q.ba:null,q.W),Ve.L){za(q.h,Ve);var lt=Ve,Tn=q.O;Tn&&(lt.H=Tn),lt.D&&(Oe(lt),me(lt)),q.g=Ve}else Kd(q);C.i.length>0&&ps(C)}else bt[0]!="stop"&&bt[0]!="close"||gs(C,7);else C.I==3&&(bt[0]=="stop"||bt[0]=="close"?bt[0]=="stop"?gs(C,7):Lu(C):bt[0]!="noop"&&C.l&&C.l.qa(bt),C.A=0)}}Yr(4)}catch{}}var We=class{constructor(p,T){this.g=p,this.map=T}};function kt(p){this.l=p||10,u.PerformanceNavigationTiming?(p=u.performance.getEntriesByType("navigation"),p=p.length>0&&(p[0].nextHopProtocol=="hq"||p[0].nextHopProtocol=="h2")):p=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=p?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ot(p){return p.h?!0:p.g?p.g.size>=p.j:!1}function Xt(p){return p.h?1:p.g?p.g.size:0}function dr(p,T){return p.h?p.h==T:p.g?p.g.has(T):!1}function Ba(p,T){p.g?p.g.add(T):p.h=T}function za(p,T){p.h&&p.h==T?p.h=null:p.g&&p.g.has(T)&&p.g.delete(T)}kt.prototype.cancel=function(){if(this.i=Jr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const p of this.g.values())p.cancel();this.g.clear()}};function Jr(p){if(p.h!=null)return p.i.concat(p.h.G);if(p.g!=null&&p.g.size!==0){let T=p.i;for(const C of p.g.values())T=T.concat(C.G);return T}return E(p.i)}var ki=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fr(p,T){if(p){p=p.split("&");for(let C=0;C<p.length;C++){const q=p[C].indexOf("=");let ce,_e=null;q>=0?(ce=p[C].substring(0,q),_e=p[C].substring(q+1)):ce=p[C],T(ce,_e?decodeURIComponent(_e.replace(/\+/g," ")):"")}}}function Zr(p){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let T;p instanceof Zr?(this.l=p.l,qn(this,p.j),this.o=p.o,this.g=p.g,Oi(this,p.u),this.h=p.h,Du(this,Gd(p.i)),this.m=p.m):p&&(T=String(p).match(ki))?(this.l=!1,qn(this,T[1]||"",!0),this.o=hs(T[2]||""),this.g=hs(T[3]||"",!0),Oi(this,T[4]),this.h=hs(T[5]||"",!0),Du(this,T[6]||"",!0),this.m=hs(T[7]||"")):(this.l=!1,this.i=new Pi(null,this.l))}Zr.prototype.toString=function(){const p=[];var T=this.j;T&&p.push(Yo(T,Jl,!0),":");var C=this.g;return(C||T=="file")&&(p.push("//"),(T=this.o)&&p.push(Yo(T,Jl,!0),"@"),p.push(Ua(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&p.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&p.push("/"),p.push(Yo(C,C.charAt(0)=="/"?ju:zd,!0))),(C=this.i.toString())&&p.push("?",C),(C=this.m)&&p.push("#",Yo(C,qd)),p.join("")},Zr.prototype.resolve=function(p){const T=Nn(this);let C=!!p.j;C?qn(T,p.j):C=!!p.o,C?T.o=p.o:C=!!p.g,C?T.g=p.g:C=p.u!=null;var q=p.h;if(C)Oi(T,p.u);else if(C=!!p.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var ce=T.h.lastIndexOf("/");ce!=-1&&(q=T.h.slice(0,ce+1)+q)}if(ce=q,ce==".."||ce==".")q="";else if(ce.indexOf("./")!=-1||ce.indexOf("/.")!=-1){q=ce.lastIndexOf("/",0)==0,ce=ce.split("/");const _e=[];for(let Ve=0;Ve<ce.length;){const lt=ce[Ve++];lt=="."?q&&Ve==ce.length&&_e.push(""):lt==".."?((_e.length>1||_e.length==1&&_e[0]!="")&&_e.pop(),q&&Ve==ce.length&&_e.push("")):(_e.push(lt),q=!0)}q=_e.join("/")}else q=ce}return C?T.h=q:C=p.i.toString()!=="",C?Du(T,Gd(p.i)):C=!!p.m,C&&(T.m=p.m),T};function Nn(p){return new Zr(p)}function qn(p,T,C){p.j=C?hs(T,!0):T,p.j&&(p.j=p.j.replace(/:$/,""))}function Oi(p,T){if(T){if(T=Number(T),isNaN(T)||T<0)throw Error("Bad port number "+T);p.u=T}else p.u=null}function Du(p,T,C){T instanceof Pi?(p.i=T,ec(p.i,p.l)):(C||(T=Yo(T,Mi)),p.i=new Pi(T,p.l))}function Mt(p,T,C){p.i.set(T,C)}function Xo(p){return Mt(p,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),p}function hs(p,T){return p?T?decodeURI(p.replace(/%25/g,"%2525")):decodeURIComponent(p):""}function Yo(p,T,C){return typeof p=="string"?(p=encodeURI(p).replace(T,Pr),C&&(p=p.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p):null}function Pr(p){return p=p.charCodeAt(0),"%"+(p>>4&15).toString(16)+(p&15).toString(16)}var Jl=/[#\/\?@]/g,zd=/[#\?:]/g,ju=/[#\?]/g,Mi=/[#\?@]/g,qd=/#/g;function Pi(p,T){this.h=this.g=null,this.i=p||null,this.j=!!T}function Fr(p){p.g||(p.g=new Map,p.h=0,p.i&&fr(p.i,function(T,C){p.add(decodeURIComponent(T.replace(/\+/g," ")),C)}))}n=Pi.prototype,n.add=function(p,T){Fr(this),this.i=null,p=Fi(this,p);let C=this.g.get(p);return C||this.g.set(p,C=[]),C.push(T),this.h+=1,this};function Hd(p,T){Fr(p),T=Fi(p,T),p.g.has(T)&&(p.i=null,p.h-=p.g.get(T).length,p.g.delete(T))}function ku(p,T){return Fr(p),T=Fi(p,T),p.g.has(T)}n.forEach=function(p,T){Fr(this),this.g.forEach(function(C,q){C.forEach(function(ce){p.call(T,ce,q,this)},this)},this)};function Ou(p,T){Fr(p);let C=[];if(typeof T=="string")ku(p,T)&&(C=C.concat(p.g.get(Fi(p,T))));else for(p=Array.from(p.g.values()),T=0;T<p.length;T++)C=C.concat(p[T]);return C}n.set=function(p,T){return Fr(this),this.i=null,p=Fi(this,p),ku(this,p)&&(this.h-=this.g.get(p).length),this.g.set(p,[T]),this.h+=1,this},n.get=function(p,T){return p?(p=Ou(this,p),p.length>0?String(p[0]):T):T};function Zl(p,T,C){Hd(p,T),C.length>0&&(p.i=null,p.g.set(Fi(p,T),E(C)),p.h+=C.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const p=[],T=Array.from(this.g.keys());for(let q=0;q<T.length;q++){var C=T[q];const ce=Ua(C);C=Ou(this,C);for(let _e=0;_e<C.length;_e++){let Ve=ce;C[_e]!==""&&(Ve+="="+Ua(C[_e])),p.push(Ve)}}return this.i=p.join("&")};function Gd(p){const T=new Pi;return T.i=p.i,p.g&&(T.g=new Map(p.g),T.h=p.h),T}function Fi(p,T){return T=String(T),p.j&&(T=T.toLowerCase()),T}function ec(p,T){T&&!p.j&&(Fr(p),p.i=null,p.g.forEach(function(C,q){const ce=q.toLowerCase();q!=ce&&(Hd(this,q),Zl(this,ce,C))},p)),p.j=T}function qa(p,T){const C=new Qr;if(u.Image){const q=new Image;q.onload=v(Ea,C,"TestLoadImage: loaded",!0,T,q),q.onerror=v(Ea,C,"TestLoadImage: error",!1,T,q),q.onabort=v(Ea,C,"TestLoadImage: abort",!1,T,q),q.ontimeout=v(Ea,C,"TestLoadImage: timeout",!1,T,q),u.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=p}else T(!1)}function Mu(p,T){const C=new Qr,q=new AbortController,ce=setTimeout(()=>{q.abort(),Ea(C,"TestPingServer: timeout",!1,T)},1e4);fetch(p,{signal:q.signal}).then(_e=>{clearTimeout(ce),_e.ok?Ea(C,"TestPingServer: ok",!0,T):Ea(C,"TestPingServer: server error",!1,T)}).catch(()=>{clearTimeout(ce),Ea(C,"TestPingServer: error",!1,T)})}function Ea(p,T,C,q,ce){try{ce&&(ce.onload=null,ce.onerror=null,ce.onabort=null,ce.ontimeout=null),q(C)}catch{}}function Li(){this.g=new Ho}function ds(p){this.i=p.Sb||null,this.h=p.ab||!1}_(ds,Go),ds.prototype.g=function(){return new Qo(this.i,this.h)};function Qo(p,T){Dt.call(this),this.H=p,this.o=T,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(Qo,Dt),n=Qo.prototype,n.open=function(p,T){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=p,this.D=T,this.readyState=1,Ha(this)},n.send=function(p){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const T={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};p&&(T.body=p),(this.H||u).fetch(new Request(this.D,T)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Vi(this)),this.readyState=0},n.Pa=function(p){if(this.g&&(this.l=p,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=p.headers,this.readyState=2,Ha(this)),this.g&&(this.readyState=3,Ha(this),this.g)))if(this.responseType==="arraybuffer")p.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in p){if(this.j=p.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;tc(this)}else p.text().then(this.Oa.bind(this),this.ga.bind(this))};function tc(p){p.j.read().then(p.Ma.bind(p)).catch(p.ga.bind(p))}n.Ma=function(p){if(this.g){if(this.o&&p.value)this.response.push(p.value);else if(!this.o){var T=p.value?p.value:new Uint8Array(0);(T=this.B.decode(T,{stream:!p.done}))&&(this.response=this.responseText+=T)}p.done?Vi(this):Ha(this),this.readyState==3&&tc(this)}},n.Oa=function(p){this.g&&(this.response=this.responseText=p,Vi(this))},n.Na=function(p){this.g&&(this.response=p,Vi(this))},n.ga=function(){this.g&&Vi(this)};function Vi(p){p.readyState=4,p.l=null,p.j=null,p.B=null,Ha(p)}n.setRequestHeader=function(p,T){this.A.append(p,T)},n.getResponseHeader=function(p){return this.h&&this.h.get(p.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const p=[],T=this.h.entries();for(var C=T.next();!C.done;)C=C.value,p.push(C[0]+": "+C[1]),C=T.next();return p.join(`\r
`)};function Ha(p){p.onreadystatechange&&p.onreadystatechange.call(p)}Object.defineProperty(Qo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(p){this.m=p?"include":"same-origin"}});function Ta(p){let T="";return Le(p,function(C,q){T+=q,T+=":",T+=C,T+=`\r
`}),T}function Jo(p,T,C){e:{for(q in C){var q=!1;break e}q=!0}q||(C=Ta(C),typeof p=="string"?C!=null&&Ua(C):Mt(p,T,C))}function qt(p){Dt.call(this),this.headers=new Map,this.L=p||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(qt,Dt);var fs=/^https?$/i,Pu=["POST","PUT"];n=qt.prototype,n.Fa=function(p){this.H=p},n.ea=function(p,T,C,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+p);T=T?T.toUpperCase():"GET",this.D=p,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Wo.g(),this.g.onreadystatechange=y(f(this.Ca,this));try{this.B=!0,this.g.open(T,String(p),!0),this.B=!1}catch(_e){Zo(this,_e);return}if(p=C||"",C=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var ce in q)C.set(ce,q[ce]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const _e of q.keys())C.set(_e,q.get(_e));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(C.keys()).find(_e=>_e.toLowerCase()=="content-type"),ce=u.FormData&&p instanceof u.FormData,!(Array.prototype.indexOf.call(Pu,T,void 0)>=0)||q||ce||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[_e,Ve]of C)this.g.setRequestHeader(_e,Ve);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(p),this.v=!1}catch(_e){Zo(this,_e)}};function Zo(p,T){p.h=!1,p.g&&(p.j=!0,p.g.abort(),p.j=!1),p.l=T,p.o=5,Fu(p),Ks(p)}function Fu(p){p.A||(p.A=!0,Wt(p,"complete"),Wt(p,"error"))}n.abort=function(p){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=p||7,Wt(this,"complete"),Wt(this,"abort"),Ks(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ks(this,!0)),qt.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?el(this):this.Xa())},n.Xa=function(){el(this)};function el(p){if(p.h&&typeof o<"u"){if(p.v&&Ga(p)==4)setTimeout(p.Ca.bind(p),0);else if(Wt(p,"readystatechange"),Ga(p)==4){p.h=!1;try{const _e=p.ca();e:switch(_e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var T=!0;break e;default:T=!1}var C;if(!(C=T)){var q;if(q=_e===0){let Ve=String(p.D).match(ki)[1]||null;!Ve&&u.self&&u.self.location&&(Ve=u.self.location.protocol.slice(0,-1)),q=!fs.test(Ve?Ve.toLowerCase():"")}C=q}if(C)Wt(p,"complete"),Wt(p,"success");else{p.o=6;try{var ce=Ga(p)>2?p.g.statusText:""}catch{ce=""}p.l=ce+" ["+p.ca()+"]",Fu(p)}}finally{Ks(p)}}}}function Ks(p,T){if(p.g){p.m&&(clearTimeout(p.m),p.m=null);const C=p.g;p.g=null,T||Wt(p,"ready");try{C.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Ga(p){return p.g?p.g.readyState:0}n.ca=function(){try{return Ga(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(p){if(this.g){var T=this.g.responseText;return p&&T.indexOf(p)==0&&(T=T.substring(p.length)),Cu(T)}};function Yn(p){try{if(!p.g)return null;if("response"in p.g)return p.g.response;switch(p.F){case"":case"text":return p.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in p.g)return p.g.mozResponseArrayBuffer}return null}catch{return null}}function Ws(p){const T={};p=(p.g&&Ga(p)>=2&&p.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<p.length;q++){if(B(p[q]))continue;var C=O(p[q]);const ce=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const _e=T[ce]||[];T[ce]=_e,_e.push(C)}Te(T,function(q){return q.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ms(p,T,C){return C&&C.internalChannelParams&&C.internalChannelParams[p]||T}function Ui(p){this.za=0,this.i=[],this.j=new Qr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ms("failFast",!1,p),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ms("baseRetryDelayMs",5e3,p),this.Za=ms("retryDelaySeedMs",1e4,p),this.Ta=ms("forwardChannelMaxRetries",2,p),this.va=ms("forwardChannelRequestTimeoutMs",2e4,p),this.ma=p&&p.xmlHttpFactory||void 0,this.Ua=p&&p.Rb||void 0,this.Aa=p&&p.useFetchStreams||!1,this.O=void 0,this.L=p&&p.supportsCrossDomainXhr||!1,this.M="",this.h=new kt(p&&p.concurrentRequestLimit),this.Ba=new Li,this.S=p&&p.fastHandshake||!1,this.R=p&&p.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=p&&p.Pb||!1,p&&p.ua&&this.j.ua(),p&&p.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&p&&p.detectBufferingProxy||!1,this.ia=void 0,p&&p.longPollingTimeout&&p.longPollingTimeout>0&&(this.ia=p.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ui.prototype,n.ka=8,n.I=1,n.connect=function(p,T,C,q){mn(0),this.W=p,this.H=T||{},C&&q!==void 0&&(this.H.OSID=C,this.H.OAID=q),this.F=this.X,this.J=Jd(this,null,this.W),ps(this)};function Lu(p){if(nc(p),p.I==3){var T=p.V++,C=Nn(p.J);if(Mt(C,"SID",p.M),Mt(C,"RID",T),Mt(C,"TYPE","terminate"),tl(p,C),T=new K(p,p.j,T),T.M=2,T.A=Xo(Nn(C)),C=!1,u.navigator&&u.navigator.sendBeacon)try{C=u.navigator.sendBeacon(T.A.toString(),"")}catch{}!C&&u.Image&&(new Image().src=T.A,C=!0),C||(T.g=Zd(T.j,null),T.g.ea(T.A)),T.F=Date.now(),me(T)}Qd(p)}function Bi(p){p.g&&(Uu(p),p.g.cancel(),p.g=null)}function nc(p){Bi(p),p.v&&(u.clearTimeout(p.v),p.v=null),ac(p),p.h.cancel(),p.m&&(typeof p.m=="number"&&u.clearTimeout(p.m),p.m=null)}function ps(p){if(!Ot(p.h)&&!p.m){p.m=!0;var T=p.Ea;te||R(),ie||(te(),ie=!0),I.add(T,p),p.D=0}}function rc(p,T){return Xt(p.h)>=p.h.j-(p.m?1:0)?!1:p.m?(p.i=T.G.concat(p.i),!0):p.I==1||p.I==2||p.D>=(p.Sa?0:p.Ta)?!1:(p.m=_a(f(p.Ea,p,T),Yd(p,p.D)),p.D++,!0)}n.Ea=function(p){if(this.m)if(this.m=null,this.I==1){if(!p){this.V=Math.floor(Math.random()*1e5),p=this.V++;const ce=new K(this,this.j,p);let _e=this.o;if(this.U&&(_e?(_e=W(_e),Z(_e,this.U)):_e=this.U),this.u!==null||this.R||(ce.J=_e,_e=null),this.S)e:{for(var T=0,C=0;C<this.i.length;C++){t:{var q=this.i[C];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(T+=q,T>4096){T=C;break e}if(T===4096||C===this.i.length-1){T=C+1;break e}}T=1e3}else T=1e3;T=$d(this,ce,T),C=Nn(this.J),Mt(C,"RID",p),Mt(C,"CVER",22),this.G&&Mt(C,"X-HTTP-Session-Id",this.G),tl(this,C),_e&&(this.R?T="headers="+Ua(Ta(_e))+"&"+T:this.u&&Jo(C,this.u,_e)),Ba(this.h,ce),this.Ra&&Mt(C,"TYPE","init"),this.S?(Mt(C,"$req",T),Mt(C,"SID","null"),ce.U=!0,Y(ce,C,null)):Y(ce,C,T),this.I=2}}else this.I==3&&(p?Vu(this,p):this.i.length==0||Ot(this.h)||Vu(this))};function Vu(p,T){var C;T?C=T.l:C=p.V++;const q=Nn(p.J);Mt(q,"SID",p.M),Mt(q,"RID",C),Mt(q,"AID",p.K),tl(p,q),p.u&&p.o&&Jo(q,p.u,p.o),C=new K(p,p.j,C,p.D+1),p.u===null&&(C.J=p.o),T&&(p.i=T.G.concat(p.i)),T=$d(p,C,1e3),C.H=Math.round(p.va*.5)+Math.round(p.va*.5*Math.random()),Ba(p.h,C),Y(C,q,T)}function tl(p,T){p.H&&Le(p.H,function(C,q){Mt(T,q,C)}),p.l&&Le({},function(C,q){Mt(T,q,C)})}function $d(p,T,C){C=Math.min(p.i.length,C);const q=p.l?f(p.l.Ka,p.l,p):null;e:{var ce=p.i;let lt=-1;for(;;){const Tn=["count="+C];lt==-1?C>0?(lt=ce[0].g,Tn.push("ofs="+lt)):lt=0:Tn.push("ofs="+lt);let bt=!0;for(let sn=0;sn<C;sn++){var _e=ce[sn].g;const wa=ce[sn].map;if(_e-=lt,_e<0)lt=Math.max(0,ce[sn].g-100),bt=!1;else try{_e="req"+_e+"_"||"";try{var Ve=wa instanceof Map?wa:Object.entries(wa);for(const[vs,$a]of Ve){let Ka=$a;d($a)&&(Ka=hr($a)),Tn.push(_e+vs+"="+encodeURIComponent(Ka))}}catch(vs){throw Tn.push(_e+"type="+encodeURIComponent("_badmap")),vs}}catch{q&&q(wa)}}if(bt){Ve=Tn.join("&");break e}}Ve=void 0}return p=p.i.splice(0,C),T.G=p,Ve}function Kd(p){if(!p.g&&!p.v){p.Y=1;var T=p.Da;te||R(),ie||(te(),ie=!0),I.add(T,p),p.A=0}}function nl(p){return p.g||p.v||p.A>=3?!1:(p.Y++,p.v=_a(f(p.Da,p),Yd(p,p.A)),p.A++,!0)}n.Da=function(){if(this.v=null,Wd(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var p=4*this.T;this.j.info("BP detection timer enabled: "+p),this.B=_a(f(this.Wa,this),p)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,mn(10),Bi(this),Wd(this))};function Uu(p){p.B!=null&&(u.clearTimeout(p.B),p.B=null)}function Wd(p){p.g=new K(p,p.j,"rpc",p.Y),p.u===null&&(p.g.J=p.o),p.g.P=0;var T=Nn(p.na);Mt(T,"RID","rpc"),Mt(T,"SID",p.M),Mt(T,"AID",p.K),Mt(T,"CI",p.F?"0":"1"),!p.F&&p.ia&&Mt(T,"TO",p.ia),Mt(T,"TYPE","xmlhttp"),tl(p,T),p.u&&p.o&&Jo(T,p.u,p.o),p.O&&(p.g.H=p.O);var C=p.g;p=p.ba,C.M=1,C.A=Xo(Nn(T)),C.u=null,C.R=!0,he(C,p)}n.Va=function(){this.C!=null&&(this.C=null,Bi(this),nl(this),mn(19))};function ac(p){p.C!=null&&(u.clearTimeout(p.C),p.C=null)}function Xd(p,T){var C=null;if(p.g==T){ac(p),Uu(p),p.g=null;var q=2}else if(dr(p.h,T))C=T.G,za(p.h,T),q=1;else return;if(p.I!=0){if(T.o)if(q==1){C=T.u?T.u.length:0,T=Date.now()-T.F;var ce=p.D;q=Bs(),Wt(q,new br(q,C)),ps(p)}else Kd(p);else if(ce=T.m,ce==3||ce==0&&T.X>0||!(q==1&&rc(p,T)||q==2&&nl(p)))switch(C&&C.length>0&&(T=p.h,T.i=T.i.concat(C)),ce){case 1:gs(p,5);break;case 4:gs(p,10);break;case 3:gs(p,6);break;default:gs(p,2)}}}function Yd(p,T){let C=p.Qa+Math.floor(Math.random()*p.Za);return p.isActive()||(C*=2),C*T}function gs(p,T){if(p.j.info("Error code "+T),T==2){var C=f(p.bb,p),q=p.Ua;const ce=!q;q=new Zr(q||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qn(q,"https"),Xo(q),ce?qa(q.toString(),C):Mu(q.toString(),C)}else mn(2);p.I=0,p.l&&p.l.pa(T),Qd(p),nc(p)}n.bb=function(p){p?(this.j.info("Successfully pinged google.com"),mn(2)):(this.j.info("Failed to ping google.com"),mn(1))};function Qd(p){if(p.I=0,p.ja=[],p.l){const T=Jr(p.h);(T.length!=0||p.i.length!=0)&&(b(p.ja,T),b(p.ja,p.i),p.h.i.length=0,E(p.i),p.i.length=0),p.l.oa()}}function Jd(p,T,C){var q=C instanceof Zr?Nn(C):new Zr(C);if(q.g!="")T&&(q.g=T+"."+q.g),Oi(q,q.u);else{var ce=u.location;q=ce.protocol,T=T?T+"."+ce.hostname:ce.hostname,ce=+ce.port;const _e=new Zr(null);q&&qn(_e,q),T&&(_e.g=T),ce&&Oi(_e,ce),C&&(_e.h=C),q=_e}return C=p.G,T=p.wa,C&&T&&Mt(q,C,T),Mt(q,"VER",p.ka),tl(p,q),q}function Zd(p,T,C){if(T&&!p.L)throw Error("Can't create secondary domain capable XhrIo object.");return T=p.Aa&&!p.ma?new qt(new ds({ab:C})):new qt(p.ma),T.Fa(p.L),T}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ef(){}n=ef.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function zi(){}zi.prototype.g=function(p,T){return new Nr(p,T)};function Nr(p,T){Dt.call(this),this.g=new Ui(T),this.l=p,this.h=T&&T.messageUrlParams||null,p=T&&T.messageHeaders||null,T&&T.clientProtocolHeaderRequired&&(p?p["X-Client-Protocol"]="webchannel":p={"X-Client-Protocol":"webchannel"}),this.g.o=p,p=T&&T.initMessageHeaders||null,T&&T.messageContentType&&(p?p["X-WebChannel-Content-Type"]=T.messageContentType:p={"X-WebChannel-Content-Type":T.messageContentType}),T&&T.sa&&(p?p["X-WebChannel-Client-Profile"]=T.sa:p={"X-WebChannel-Client-Profile":T.sa}),this.g.U=p,(p=T&&T.Qb)&&!B(p)&&(this.g.u=p),this.A=T&&T.supportsCrossDomainXhr||!1,this.v=T&&T.sendRawJson||!1,(T=T&&T.httpSessionIdParam)&&!B(T)&&(this.g.G=T,p=this.h,p!==null&&T in p&&(p=this.h,T in p&&delete p[T])),this.j=new Xs(this)}_(Nr,Dt),Nr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Nr.prototype.close=function(){Lu(this.g)},Nr.prototype.o=function(p){var T=this.g;if(typeof p=="string"){var C={};C.__data__=p,p=C}else this.v&&(C={},C.__data__=hr(p),p=C);T.i.push(new We(T.Ya++,p)),T.I==3&&ps(T)},Nr.prototype.N=function(){this.g.l=null,delete this.j,Lu(this.g),delete this.g,Nr.Z.N.call(this)};function tf(p){bn.call(this),p.__headers__&&(this.headers=p.__headers__,this.statusCode=p.__status__,delete p.__headers__,delete p.__status__);var T=p.__sm__;if(T){e:{for(const C in T){p=C;break e}p=void 0}(this.i=p)&&(p=this.i,T=T!==null&&p in T?T[p]:void 0),this.data=T}else this.data=p}_(tf,bn);function nf(){Sr.call(this),this.status=1}_(nf,Sr);function Xs(p){this.g=p}_(Xs,ef),Xs.prototype.ra=function(){Wt(this.g,"a")},Xs.prototype.qa=function(p){Wt(this.g,new tf(p))},Xs.prototype.pa=function(p){Wt(this.g,new nf)},Xs.prototype.oa=function(){Wt(this.g,"b")},zi.prototype.createWebChannel=zi.prototype.g,Nr.prototype.send=Nr.prototype.o,Nr.prototype.open=Nr.prototype.m,Nr.prototype.close=Nr.prototype.close,fS=function(){return new zi},dS=function(){return Bs()},hS=un,Wv={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,D0=Hs,Gs.COMPLETE="complete",uS=Gs,$o.EventType=Mr,Mr.OPEN="a",Mr.CLOSE="b",Mr.ERROR="c",Mr.MESSAGE="d",Dt.prototype.listen=Dt.prototype.J,Mh=$o,qt.prototype.listenOnce=qt.prototype.K,qt.prototype.getLastError=qt.prototype.Ha,qt.prototype.getLastErrorCode=qt.prototype.ya,qt.prototype.getStatus=qt.prototype.ca,qt.prototype.getResponseJson=qt.prototype.La,qt.prototype.getResponseText=qt.prototype.la,qt.prototype.send=qt.prototype.ea,qt.prototype.setWithCredentials=qt.prototype.Fa,cS=qt}).apply(typeof l0<"u"?l0:typeof self<"u"?self:typeof window<"u"?window:{});const fT="@firebase/firestore",mT="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gr=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gr.UNAUTHENTICATED=new gr(null),gr.GOOGLE_CREDENTIALS=new gr("google-credentials-uid"),gr.FIRST_PARTY=new gr("first-party-uid"),gr.MOCK_USER=new gr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pu="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=new C1("@firebase/firestore");function zc(){return jl.logLevel}function Ge(n,...e){if(jl.logLevel<=vt.DEBUG){const t=e.map(V1);jl.debug(`Firestore (${pu}): ${n}`,...t)}}function wi(n,...e){if(jl.logLevel<=vt.ERROR){const t=e.map(V1);jl.error(`Firestore (${pu}): ${n}`,...t)}}function su(n,...e){if(jl.logLevel<=vt.WARN){const t=e.map(V1);jl.warn(`Firestore (${pu}): ${n}`,...t)}}function V1(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function at(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,mS(n,r,t)}function mS(n,e,t){let r=`FIRESTORE (${pu}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw wi(r),new Error(r)}function jt(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||mS(e,s,r)}function ot(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class qe extends Fs{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Bj{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(gr.UNAUTHENTICATED)))}shutdown(){}}class zj{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class qj{constructor(e){this.t=e,this.currentUser=gr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){jt(this.o===void 0,42304);let r=this.i;const s=m=>this.i!==r?(r=this.i,t(m)):Promise.resolve();let o=new pi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const m=o;e.enqueueRetryable((async()=>{await m.promise,await s(this.currentUser)}))},d=m=>{Ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((m=>d(m))),setTimeout((()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?d(m):(Ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(Ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(jt(typeof r.accessToken=="string",31837,{l:r}),new pS(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return jt(e===null||typeof e=="string",2055,{h:e}),new gr(e)}}class Hj{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=gr.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Gj{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new Hj(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(gr.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $j{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ha(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){jt(this.o===void 0,3512);const r=o=>{o.error!=null&&Ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const u=o.token!==this.m;return this.m=o.token,Ge("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable((()=>r(o)))};const s=o=>{Ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>s(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?s(o):Ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(jt(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kj(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=Kj(40);for(let o=0;o<s.length;++o)r.length<20&&s[o]<t&&(r+=e.charAt(s[o]%62))}return r}}function xt(n,e){return n<e?-1:n>e?1:0}function Xv(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),o=e.charAt(r);if(s!==o)return pv(s)===pv(o)?xt(s,o):pv(s)?1:-1}return xt(n.length,e.length)}const Wj=55296,Xj=57343;function pv(n){const e=n.charCodeAt(0);return e>=Wj&&e<=Xj}function iu(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT="__name__";class As{constructor(e,t,r){t===void 0?t=0:t>e.length&&at(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&at(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return As.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof As?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const o=As.compareSegments(e.get(s),t.get(s));if(o!==0)return o}return xt(e.length,t.length)}static compareSegments(e,t){const r=As.isNumericId(e),s=As.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?As.extractNumericId(e).compare(As.extractNumericId(t)):Xv(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ao.fromString(e.substring(4,e.length-2))}}class Jt extends As{construct(e,t,r){return new Jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Jt(t)}static emptyPath(){return new Jt([])}}const Yj=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class ar extends As{construct(e,t,r){return new ar(e,t,r)}static isValidIdentifier(e){return Yj.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ar.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gT}static keyField(){return new ar([gT])}static fromServerFormat(e){const t=[];let r="",s=0;const o=()=>{if(r.length===0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new qe(Ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[s+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new qe(Ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=m,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(o(),s++)}if(o(),u)throw new qe(Ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ar(t)}static emptyPath(){return new ar([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(Jt.fromString(e))}static fromName(e){return new et(Jt.fromString(e).popFirst(5))}static empty(){return new et(Jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Jt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new Jt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gS(n,e,t){if(!t)throw new qe(Ne.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Qj(n,e,t,r){if(e===!0&&r===!0)throw new qe(Ne.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function vT(n){if(!et.isDocumentKey(n))throw new qe(Ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xT(n){if(et.isDocumentKey(n))throw new qe(Ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function vS(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Cm(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":at(12329,{type:typeof n})}function Gr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new qe(Ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cm(n);throw new qe(Ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n,e){const t={typeString:n};return e&&(t.value=e),t}function Cd(n,e){if(!vS(n))throw new qe(Ne.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,o="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(o!==void 0&&u!==o.value){t=`Expected '${r}' field to equal '${o.value}'`;break}}if(t)throw new qe(Ne.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T=-62135596800,yT=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*yT);return new Ke(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<_T)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new qe(Ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/yT}_compareTo(e){return this.seconds===e.seconds?xt(this.nanoseconds,e.nanoseconds):xt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Cd(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-_T;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:Mn("string",Ke._jsonSchemaVersion),seconds:Mn("number"),nanoseconds:Mn("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{static fromTimestamp(e){return new st(e)}static min(){return new st(new Ke(0,0))}static max(){return new st(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function Jj(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=st.fromTimestamp(r===1e9?new Ke(t+1,0):new Ke(t,r));return new No(s,et.empty(),e)}function Zj(n){return new No(n.readTime,n.key,rd)}class No{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new No(st.min(),et.empty(),rd)}static max(){return new No(st.max(),et.empty(),rd)}}function ek(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=et.comparator(n.documentKey,e.documentKey),t!==0?t:xt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class nk{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gu(n){if(n.code!==Ne.FAILED_PRECONDITION||n.message!==tk)throw n;Ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&at(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Ie(((r,s)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,s)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Ie?t:Ie.resolve(t)}catch(t){return Ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Ie.reject(t)}static resolve(e){return new Ie(((t,r)=>{t(e)}))}static reject(e){return new Ie(((t,r)=>{r(e)}))}static waitFor(e){return new Ie(((t,r)=>{let s=0,o=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++o,u&&o===s&&t()}),(m=>r(m)))})),u=!0,o===s&&t()}))}static or(e){let t=Ie.resolve(!1);for(const r of e)t=t.next((s=>s?Ie.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,o)=>{r.push(t.call(this,s,o))})),this.waitFor(r)}static mapArray(e,t){return new Ie(((r,s)=>{const o=e.length,u=new Array(o);let d=0;for(let m=0;m<o;m++){const f=m;t(e[f]).next((v=>{u[f]=v,++d,d===o&&r(u)}),(v=>s(v)))}}))}static doWhile(e,t){return new Ie(((r,s)=>{const o=()=>{e()===!0?t().next((()=>{o()}),s):r()};o()}))}}function rk(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function vu(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Im.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1=-1;function Rm(n){return n==null}function W0(n){return n===0&&1/n==-1/0}function ak(n){return typeof n=="number"&&Number.isInteger(n)&&!W0(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="";function sk(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=ET(e)),e=ik(n.get(t),e);return ET(e)}function ik(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const o=n.charAt(s);switch(o){case"\0":t+="";break;case xS:t+="";break;default:t+=o}}return t}function ET(n){return n+xS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Uo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function _S(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e,t){this.comparator=e,this.root=t||rr.EMPTY}insert(e,t){return new fn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rr.BLACK,null,null))}remove(e){return new fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new c0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new c0(this.root,e,this.comparator,!1)}getReverseIterator(){return new c0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new c0(this.root,e,this.comparator,!0)}}class c0{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&s&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rr{constructor(e,t,r,s,o){this.key=e,this.value=t,this.color=r??rr.RED,this.left=s??rr.EMPTY,this.right=o??rr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,o){return new rr(e??this.key,t??this.value,r??this.color,s??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const o=r(e,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(e,t,r),null):o===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return rr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return rr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw at(43730,{key:this.key,value:this.value});if(this.right.isRed())throw at(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw at(27949);return e+(this.isRed()?0:1)}}rr.EMPTY=null,rr.RED=!0,rr.BLACK=!1;rr.EMPTY=new class{constructor(){this.size=0}get key(){throw at(57766)}get value(){throw at(16141)}get color(){throw at(16727)}get left(){throw at(29726)}get right(){throw at(36894)}copy(e,t,r,s,o){return this}insert(e,t,r){return new rr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.comparator=e,this.data=new fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(e){return new wT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(this.comparator(s,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class wT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.fields=e,e.sort(ar.comparator)}static empty(){return new da([])}unionWith(e){let t=new Bn(ar.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new da(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return iu(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new yS("Invalid base64 string: "+o):o}})(e);return new lr(t)}static fromUint8Array(e){const t=(function(s){let o="";for(let u=0;u<s.length;++u)o+=String.fromCharCode(s[u]);return o})(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const ok=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Co(n){if(jt(!!n,39018),typeof n=="string"){let e=0;const t=ok.exec(n);if(jt(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Sn(n.seconds),nanos:Sn(n.nanos)}}function Sn(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Io(n){return typeof n=="string"?lr.fromBase64String(n):lr.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES="server_timestamp",TS="__type__",wS="__previous_value__",AS="__local_write_time__";function z1(n){return(n?.mapValue?.fields||{})[TS]?.stringValue===ES}function Dm(n){const e=n.mapValue.fields[wS];return z1(e)?Dm(e):e}function ad(n){const e=Co(n.mapValue.fields[AS].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lk{constructor(e,t,r,s,o,u,d,m,f,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=o,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=m,this.useFetchStreams=f,this.isUsingEmulator=v}}const X0="(default)";class sd{constructor(e,t){this.projectId=e,this.database=t||X0}static empty(){return new sd("","")}get isDefaultDatabase(){return this.database===X0}isEqual(e){return e instanceof sd&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS="__type__",ck="__max__",u0={mapValue:{}},bS="__vector__",Y0="value";function Ro(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?z1(n)?4:hk(n)?9007199254740991:uk(n)?10:11:at(28295,{value:n})}function Ms(n,e){if(n===e)return!0;const t=Ro(n);if(t!==Ro(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ad(n).isEqual(ad(e));case 3:return(function(s,o){if(typeof s.timestampValue=="string"&&typeof o.timestampValue=="string"&&s.timestampValue.length===o.timestampValue.length)return s.timestampValue===o.timestampValue;const u=Co(s.timestampValue),d=Co(o.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,o){return Io(s.bytesValue).isEqual(Io(o.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,o){return Sn(s.geoPointValue.latitude)===Sn(o.geoPointValue.latitude)&&Sn(s.geoPointValue.longitude)===Sn(o.geoPointValue.longitude)})(n,e);case 2:return(function(s,o){if("integerValue"in s&&"integerValue"in o)return Sn(s.integerValue)===Sn(o.integerValue);if("doubleValue"in s&&"doubleValue"in o){const u=Sn(s.doubleValue),d=Sn(o.doubleValue);return u===d?W0(u)===W0(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return iu(n.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:case 11:return(function(s,o){const u=s.mapValue.fields||{},d=o.mapValue.fields||{};if(TT(u)!==TT(d))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(d[m]===void 0||!Ms(u[m],d[m])))return!1;return!0})(n,e);default:return at(52216,{left:n})}}function id(n,e){return(n.values||[]).find((t=>Ms(t,e)))!==void 0}function ou(n,e){if(n===e)return 0;const t=Ro(n),r=Ro(e);if(t!==r)return xt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return xt(n.booleanValue,e.booleanValue);case 2:return(function(o,u){const d=Sn(o.integerValue||o.doubleValue),m=Sn(u.integerValue||u.doubleValue);return d<m?-1:d>m?1:d===m?0:isNaN(d)?isNaN(m)?0:-1:1})(n,e);case 3:return AT(n.timestampValue,e.timestampValue);case 4:return AT(ad(n),ad(e));case 5:return Xv(n.stringValue,e.stringValue);case 6:return(function(o,u){const d=Io(o),m=Io(u);return d.compareTo(m)})(n.bytesValue,e.bytesValue);case 7:return(function(o,u){const d=o.split("/"),m=u.split("/");for(let f=0;f<d.length&&f<m.length;f++){const v=xt(d[f],m[f]);if(v!==0)return v}return xt(d.length,m.length)})(n.referenceValue,e.referenceValue);case 8:return(function(o,u){const d=xt(Sn(o.latitude),Sn(u.latitude));return d!==0?d:xt(Sn(o.longitude),Sn(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return ST(n.arrayValue,e.arrayValue);case 10:return(function(o,u){const d=o.fields||{},m=u.fields||{},f=d[Y0]?.arrayValue,v=m[Y0]?.arrayValue,_=xt(f?.values?.length||0,v?.values?.length||0);return _!==0?_:ST(f,v)})(n.mapValue,e.mapValue);case 11:return(function(o,u){if(o===u0.mapValue&&u===u0.mapValue)return 0;if(o===u0.mapValue)return 1;if(u===u0.mapValue)return-1;const d=o.fields||{},m=Object.keys(d),f=u.fields||{},v=Object.keys(f);m.sort(),v.sort();for(let _=0;_<m.length&&_<v.length;++_){const y=Xv(m[_],v[_]);if(y!==0)return y;const E=ou(d[m[_]],f[v[_]]);if(E!==0)return E}return xt(m.length,v.length)})(n.mapValue,e.mapValue);default:throw at(23264,{he:t})}}function AT(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return xt(n,e);const t=Co(n),r=Co(e),s=xt(t.seconds,r.seconds);return s!==0?s:xt(t.nanos,r.nanos)}function ST(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const o=ou(t[s],r[s]);if(o)return o}return xt(t.length,r.length)}function lu(n){return Yv(n)}function Yv(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Co(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Io(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return et.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const o of t.values||[])s?s=!1:r+=",",r+=Yv(o);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",o=!0;for(const u of r)o?o=!1:s+=",",s+=`${u}:${Yv(t.fields[u])}`;return s+"}"})(n.mapValue):at(61005,{value:n})}function j0(n){switch(Ro(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Dm(n);return e?16+j0(e):16;case 5:return 2*n.stringValue.length;case 6:return Io(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,o)=>s+j0(o)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return Uo(r.fields,((o,u)=>{s+=o.length+j0(u)})),s})(n.mapValue);default:throw at(13486,{value:n})}}function bT(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Qv(n){return!!n&&"integerValue"in n}function q1(n){return!!n&&"arrayValue"in n}function NT(n){return!!n&&"nullValue"in n}function CT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function k0(n){return!!n&&"mapValue"in n}function uk(n){return(n?.mapValue?.fields||{})[SS]?.stringValue===bS}function qh(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return Uo(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=qh(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qh(n.arrayValue.values[t]);return e}return{...n}}function hk(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===ck}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr{constructor(e){this.value=e}static empty(){return new Hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!k0(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(t)}setAll(e){let t=ar.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const m=this.getFieldsMap(t);this.applyChanges(m,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=qh(u):s.push(d.lastSegment())}));const o=this.getFieldsMap(t);this.applyChanges(o,r,s)}delete(e){const t=this.field(e.popLast());k0(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];k0(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){Uo(t,((s,o)=>e[s]=o));for(const s of r)delete e[s]}clone(){return new Hr(qh(this.value))}}function NS(n){const e=[];return Uo(n.fields,((t,r)=>{const s=new ar([t]);if(k0(r)){const o=NS(r.mapValue).fields;if(o.length===0)e.push(s);else for(const u of o)e.push(s.child(u))}else e.push(s)})),new da(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,t,r,s,o,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=o,this.data=u,this.documentState=d}static newInvalidDocument(e){return new vr(e,0,st.min(),st.min(),st.min(),Hr.empty(),0)}static newFoundDocument(e,t,r,s){return new vr(e,1,t,st.min(),r,s,0)}static newNoDocument(e,t){return new vr(e,2,t,st.min(),st.min(),Hr.empty(),0)}static newUnknownDocument(e,t){return new vr(e,3,t,st.min(),st.min(),Hr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(st.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=st.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof vr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new vr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(e,t){this.position=e,this.inclusive=t}}function IT(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const o=e[s],u=n.position[s];if(o.field.isKeyField()?r=et.comparator(et.fromName(u.referenceValue),t.key):r=ou(u,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function RT(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ms(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t="asc"){this.field=e,this.dir=t}}function dk(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{}class On extends CS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new mk(e,t,r):t==="array-contains"?new vk(e,r):t==="in"?new xk(e,r):t==="not-in"?new _k(e,r):t==="array-contains-any"?new yk(e,r):new On(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new pk(e,r):new gk(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ou(t,this.value)):t!==null&&Ro(this.value)===Ro(t)&&this.matchesComparison(ou(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return at(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class os extends CS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new os(e,t)}matches(e){return IS(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function IS(n){return n.op==="and"}function RS(n){return fk(n)&&IS(n)}function fk(n){for(const e of n.filters)if(e instanceof os)return!1;return!0}function Jv(n){if(n instanceof On)return n.field.canonicalString()+n.op.toString()+lu(n.value);if(RS(n))return n.filters.map((e=>Jv(e))).join(",");{const e=n.filters.map((t=>Jv(t))).join(",");return`${n.op}(${e})`}}function DS(n,e){return n instanceof On?(function(r,s){return s instanceof On&&r.op===s.op&&r.field.isEqual(s.field)&&Ms(r.value,s.value)})(n,e):n instanceof os?(function(r,s){return s instanceof os&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((o,u,d)=>o&&DS(u,s.filters[d])),!0):!1})(n,e):void at(19439)}function jS(n){return n instanceof On?(function(t){return`${t.field.canonicalString()} ${t.op} ${lu(t.value)}`})(n):n instanceof os?(function(t){return t.op.toString()+" {"+t.getFilters().map(jS).join(" ,")+"}"})(n):"Filter"}class mk extends On{constructor(e,t,r){super(e,t,r),this.key=et.fromName(r.referenceValue)}matches(e){const t=et.comparator(e.key,this.key);return this.matchesComparison(t)}}class pk extends On{constructor(e,t){super(e,"in",t),this.keys=kS("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class gk extends On{constructor(e,t){super(e,"not-in",t),this.keys=kS("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function kS(n,e){return(e.arrayValue?.values||[]).map((t=>et.fromName(t.referenceValue)))}class vk extends On{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return q1(t)&&id(t.arrayValue,this.value)}}class xk extends On{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&id(this.value.arrayValue,t)}}class _k extends On{constructor(e,t){super(e,"not-in",t)}matches(e){if(id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!id(this.value.arrayValue,t)}}class yk extends On{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!q1(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>id(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,t=null,r=[],s=[],o=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=o,this.startAt=u,this.endAt=d,this.Te=null}}function DT(n,e=null,t=[],r=[],s=null,o=null,u=null){return new Ek(n,e,t,r,s,o,u)}function H1(n){const e=ot(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Jv(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(o){return o.field.canonicalString()+o.dir})(r))).join(","),Rm(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>lu(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>lu(r))).join(",")),e.Te=t}return e.Te}function G1(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!dk(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!DS(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!RT(n.startAt,e.startAt)&&RT(n.endAt,e.endAt)}function Zv(n){return et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t=null,r=[],s=[],o=null,u="F",d=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=o,this.limitType=u,this.startAt=d,this.endAt=m,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Tk(n,e,t,r,s,o,u,d){return new xu(n,e,t,r,s,o,u,d)}function jm(n){return new xu(n)}function jT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function OS(n){return n.collectionGroup!==null}function Hh(n){const e=ot(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ie.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new Bn(ar.comparator);return u.filters.forEach((m=>{m.getFlattenedFilters().forEach((f=>{f.isInequality()&&(d=d.add(f.field))}))})),d})(e).forEach((o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ie.push(new od(o,r))})),t.has(ar.keyField().canonicalString())||e.Ie.push(new od(ar.keyField(),r))}return e.Ie}function Rs(n){const e=ot(n);return e.Ee||(e.Ee=wk(e,Hh(n))),e.Ee}function wk(n,e){if(n.limitType==="F")return DT(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const o=s.dir==="desc"?"asc":"desc";return new od(s.field,o)}));const t=n.endAt?new Q0(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Q0(n.startAt.position,n.startAt.inclusive):null;return DT(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function e1(n,e){const t=n.filters.concat([e]);return new xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function t1(n,e,t){return new xu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function km(n,e){return G1(Rs(n),Rs(e))&&n.limitType===e.limitType}function MS(n){return`${H1(Rs(n))}|lt:${n.limitType}`}function qc(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>jS(s))).join(", ")}]`),Rm(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>lu(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>lu(s))).join(",")),`Target(${r})`})(Rs(n))}; limitType=${n.limitType})`}function Om(n,e){return e.isFoundDocument()&&(function(r,s){const o=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)})(n,e)&&(function(r,s){for(const o of Hh(r))if(!o.field.isKeyField()&&s.data.field(o.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const o of r.filters)if(!o.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,m){const f=IT(u,d,m);return u.inclusive?f<=0:f<0})(r.startAt,Hh(r),s)||r.endAt&&!(function(u,d,m){const f=IT(u,d,m);return u.inclusive?f>=0:f>0})(r.endAt,Hh(r),s))})(n,e)}function Ak(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function PS(n){return(e,t)=>{let r=!1;for(const s of Hh(n)){const o=Sk(s,e,t);if(o!==0)return o;r=r||s.field.isKeyField()}return 0}}function Sk(n,e,t){const r=n.field.isKeyField()?et.comparator(e.key,t.key):(function(o,u,d){const m=u.data.field(o),f=d.data.field(o);return m!==null&&f!==null?ou(m,f):at(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return at(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,o]of r)if(this.equalsFn(s,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return void(s[o]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Uo(this.inner,((t,r)=>{for(const[s,o]of r)e(s,o)}))}isEmpty(){return _S(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bk=new fn(et.comparator);function Ai(){return bk}const FS=new fn(et.comparator);function Ph(...n){let e=FS;for(const t of n)e=e.insert(t.key,t);return e}function LS(n){let e=FS;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Tl(){return Gh()}function VS(){return Gh()}function Gh(){return new Bl((n=>n.toString()),((n,e)=>n.isEqual(e)))}const Nk=new fn(et.comparator),Ck=new Bn(et.comparator);function _t(...n){let e=Ck;for(const t of n)e=e.add(t);return e}const Ik=new Bn(xt);function Rk(){return Ik}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $1(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:W0(e)?"-0":e}}function US(n){return{integerValue:""+n}}function Dk(n,e){return ak(e)?US(e):$1(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(){this._=void 0}}function jk(n,e,t){return n instanceof J0?(function(s,o){const u={fields:{[TS]:{stringValue:ES},[AS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return o&&z1(o)&&(o=Dm(o)),o&&(u.fields[wS]=o),{mapValue:u}})(t,e):n instanceof ld?zS(n,e):n instanceof cd?qS(n,e):(function(s,o){const u=BS(s,o),d=kT(u)+kT(s.Ae);return Qv(u)&&Qv(s.Ae)?US(d):$1(s.serializer,d)})(n,e)}function kk(n,e,t){return n instanceof ld?zS(n,e):n instanceof cd?qS(n,e):t}function BS(n,e){return n instanceof Z0?(function(r){return Qv(r)||(function(o){return!!o&&"doubleValue"in o})(r)})(e)?e:{integerValue:0}:null}class J0 extends Mm{}class ld extends Mm{constructor(e){super(),this.elements=e}}function zS(n,e){const t=HS(e);for(const r of n.elements)t.some((s=>Ms(s,r)))||t.push(r);return{arrayValue:{values:t}}}class cd extends Mm{constructor(e){super(),this.elements=e}}function qS(n,e){let t=HS(e);for(const r of n.elements)t=t.filter((s=>!Ms(s,r)));return{arrayValue:{values:t}}}class Z0 extends Mm{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function kT(n){return Sn(n.integerValue||n.doubleValue)}function HS(n){return q1(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function Ok(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof ld&&s instanceof ld||r instanceof cd&&s instanceof cd?iu(r.elements,s.elements,Ms):r instanceof Z0&&s instanceof Z0?Ms(r.Ae,s.Ae):r instanceof J0&&s instanceof J0})(n.transform,e.transform)}class Mk{constructor(e,t){this.version=e,this.transformResults=t}}class Pa{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Pa}static exists(e){return new Pa(void 0,e)}static updateTime(e){return new Pa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function O0(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Pm{}function GS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new K1(n.key,Pa.none()):new Id(n.key,n.data,Pa.none());{const t=n.data,r=Hr.empty();let s=new Bn(ar.comparator);for(let o of e.fields)if(!s.has(o)){let u=t.field(o);u===null&&o.length>1&&(o=o.popLast(),u=t.field(o)),u===null?r.delete(o):r.set(o,u),s=s.add(o)}return new Bo(n.key,r,new da(s.toArray()),Pa.none())}}function Pk(n,e,t){n instanceof Id?(function(s,o,u){const d=s.value.clone(),m=MT(s.fieldTransforms,o,u.transformResults);d.setAll(m),o.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Bo?(function(s,o,u){if(!O0(s.precondition,o))return void o.convertToUnknownDocument(u.version);const d=MT(s.fieldTransforms,o,u.transformResults),m=o.data;m.setAll($S(s)),m.setAll(d),o.convertToFoundDocument(u.version,m).setHasCommittedMutations()})(n,e,t):(function(s,o,u){o.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function $h(n,e,t,r){return n instanceof Id?(function(o,u,d,m){if(!O0(o.precondition,u))return d;const f=o.value.clone(),v=PT(o.fieldTransforms,m,u);return f.setAll(v),u.convertToFoundDocument(u.version,f).setHasLocalMutations(),null})(n,e,t,r):n instanceof Bo?(function(o,u,d,m){if(!O0(o.precondition,u))return d;const f=PT(o.fieldTransforms,m,u),v=u.data;return v.setAll($S(o)),v.setAll(f),u.convertToFoundDocument(u.version,v).setHasLocalMutations(),d===null?null:d.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(o,u,d){return O0(o.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function Fk(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),o=BS(r.transform,s||null);o!=null&&(t===null&&(t=Hr.empty()),t.set(r.field,o))}return t||null}function OT(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&iu(r,s,((o,u)=>Ok(o,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Id extends Pm{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Bo extends Pm{constructor(e,t,r,s,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function $S(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function MT(n,e,t){const r=new Map;jt(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const o=n[s],u=o.transform,d=e.data.field(o.field);r.set(o.field,kk(u,d,t[s]))}return r}function PT(n,e,t){const r=new Map;for(const s of n){const o=s.transform,u=t.data.field(s.field);r.set(s.field,jk(o,u,e))}return r}class K1 extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lk extends Pm{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const o=this.mutations[s];o.key.isEqual(e.key)&&Pk(o,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=$h(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=$h(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=VS();return this.mutations.forEach((s=>{const o=e.get(s.key),u=o.overlayedDocument;let d=this.applyToLocalView(u,o.mutatedFields);d=t.has(s.key)?null:d;const m=GS(u,d);m!==null&&r.set(s.key,m),u.isValidDocument()||u.convertToNoDocument(st.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),_t())}isEqual(e){return this.batchId===e.batchId&&iu(this.mutations,e.mutations,((t,r)=>OT(t,r)))&&iu(this.baseMutations,e.baseMutations,((t,r)=>OT(t,r)))}}class W1{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){jt(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return Nk})();const o=e.mutations;for(let u=0;u<o.length;u++)s=s.insert(o[u].key,r[u].version);return new W1(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kn,Tt;function zk(n){switch(n){case Ne.OK:return at(64938);case Ne.CANCELLED:case Ne.UNKNOWN:case Ne.DEADLINE_EXCEEDED:case Ne.RESOURCE_EXHAUSTED:case Ne.INTERNAL:case Ne.UNAVAILABLE:case Ne.UNAUTHENTICATED:return!1;case Ne.INVALID_ARGUMENT:case Ne.NOT_FOUND:case Ne.ALREADY_EXISTS:case Ne.PERMISSION_DENIED:case Ne.FAILED_PRECONDITION:case Ne.ABORTED:case Ne.OUT_OF_RANGE:case Ne.UNIMPLEMENTED:case Ne.DATA_LOSS:return!0;default:return at(15467,{code:n})}}function KS(n){if(n===void 0)return wi("GRPC error has no .code"),Ne.UNKNOWN;switch(n){case kn.OK:return Ne.OK;case kn.CANCELLED:return Ne.CANCELLED;case kn.UNKNOWN:return Ne.UNKNOWN;case kn.DEADLINE_EXCEEDED:return Ne.DEADLINE_EXCEEDED;case kn.RESOURCE_EXHAUSTED:return Ne.RESOURCE_EXHAUSTED;case kn.INTERNAL:return Ne.INTERNAL;case kn.UNAVAILABLE:return Ne.UNAVAILABLE;case kn.UNAUTHENTICATED:return Ne.UNAUTHENTICATED;case kn.INVALID_ARGUMENT:return Ne.INVALID_ARGUMENT;case kn.NOT_FOUND:return Ne.NOT_FOUND;case kn.ALREADY_EXISTS:return Ne.ALREADY_EXISTS;case kn.PERMISSION_DENIED:return Ne.PERMISSION_DENIED;case kn.FAILED_PRECONDITION:return Ne.FAILED_PRECONDITION;case kn.ABORTED:return Ne.ABORTED;case kn.OUT_OF_RANGE:return Ne.OUT_OF_RANGE;case kn.UNIMPLEMENTED:return Ne.UNIMPLEMENTED;case kn.DATA_LOSS:return Ne.DATA_LOSS;default:return at(39323,{code:n})}}(Tt=kn||(kn={}))[Tt.OK=0]="OK",Tt[Tt.CANCELLED=1]="CANCELLED",Tt[Tt.UNKNOWN=2]="UNKNOWN",Tt[Tt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Tt[Tt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Tt[Tt.NOT_FOUND=5]="NOT_FOUND",Tt[Tt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Tt[Tt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Tt[Tt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Tt[Tt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Tt[Tt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Tt[Tt.ABORTED=10]="ABORTED",Tt[Tt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Tt[Tt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Tt[Tt.INTERNAL=13]="INTERNAL",Tt[Tt.UNAVAILABLE=14]="UNAVAILABLE",Tt[Tt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hk=new Ao([4294967295,4294967295],0);function FT(n){const e=qk().encode(n),t=new lS;return t.update(e),new Uint8Array(t.digest())}function LT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Ao([t,r],0),new Ao([s,o],0)]}class X1{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Fh(`Invalid padding: ${t}`);if(r<0)throw new Fh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Fh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Fh(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Ao.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Ao.fromNumber(r)));return s.compare(Hk)===1&&(s=new Ao([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=FT(e),[r,s]=LT(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),u=new X1(o,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=FT(e),[r,s]=LT(t);for(let o=0;o<this.hashCount;o++){const u=this.ye(r,s,o);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Fh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t,r,s,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,Rd.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Fm(st.min(),s,new fn(xt),Ai(),_t())}}class Rd{constructor(e,t,r,s,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Rd(r,t,_t(),_t(),_t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class WS{constructor(e,t){this.targetId=e,this.Ce=t}}class XS{constructor(e,t,r=lr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class VT{constructor(){this.ve=0,this.Fe=UT(),this.Me=lr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=_t(),t=_t(),r=_t();return this.Fe.forEach(((s,o)=>{switch(o){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:at(38017,{changeType:o})}})),new Rd(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=UT()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,jt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Gk{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ai(),this.Je=h0(),this.He=h0(),this.Ye=new fn(xt)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:at(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const o=s.target;if(Zv(o))if(r===0){const u=new et(o.path);this.et(t,u,vr.newNoDocument(u,st.min()))}else jt(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),m=d?this.ct(d,e,u):1;if(m!==0){this.it(t);const f=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,f)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:o=0}=t;let u,d;try{u=Io(r).toUint8Array()}catch(m){if(m instanceof yS)return su("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{d=new X1(u,s,o)}catch(m){return su(m instanceof Fh?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((o=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${o.path.canonicalString()}`;e.mightContain(d)||(this.et(t,o,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((o,u)=>{const d=this.ot(u);if(d){if(o.current&&Zv(d.target)){const m=new et(d.target.path);this.It(m).has(u)||this.Et(u,m)||this.et(u,m,vr.newNoDocument(m,e))}o.Be&&(t.set(u,o.ke()),o.qe())}}));let r=_t();this.He.forEach(((o,u)=>{let d=!0;u.forEachWhile((m=>{const f=this.ot(m);return!f||f.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(o))})),this.je.forEach(((o,u)=>u.setReadTime(e)));const s=new Fm(e,t,this.Ye,this.je,r);return this.je=Ai(),this.Je=h0(),this.He=h0(),this.Ye=new fn(xt),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new VT,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bn(xt),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bn(xt),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||Ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new VT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function h0(){return new fn(et.comparator)}function UT(){return new fn(et.comparator)}const $k={asc:"ASCENDING",desc:"DESCENDING"},Kk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wk={and:"AND",or:"OR"};class Xk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function n1(n,e){return n.useProto3Json||Rm(e)?e:{value:e}}function em(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Yk(n,e){return em(n,e.toTimestamp())}function Ds(n){return jt(!!n,49232),st.fromTimestamp((function(t){const r=Co(t);return new Ke(r.seconds,r.nanos)})(n))}function Y1(n,e){return r1(n,e).canonicalString()}function r1(n,e){const t=(function(s){return new Jt(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function QS(n){const e=Jt.fromString(n);return jt(nb(e),10190,{key:e.toString()}),e}function a1(n,e){return Y1(n.databaseId,e.path)}function gv(n,e){const t=QS(e);if(t.get(1)!==n.databaseId.projectId)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new qe(Ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new et(ZS(t))}function JS(n,e){return Y1(n.databaseId,e)}function Qk(n){const e=QS(n);return e.length===4?Jt.emptyPath():ZS(e)}function s1(n){return new Jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ZS(n){return jt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function BT(n,e,t){return{name:a1(n,e),fields:t.value.mapValue.fields}}function Jk(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:at(39313,{state:f})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],o=(function(f,v){return f.useProto3Json?(jt(v===void 0||typeof v=="string",58123),lr.fromBase64String(v||"")):(jt(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),lr.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(f){const v=f.code===void 0?Ne.UNKNOWN:KS(f.code);return new qe(v,f.message||"")})(u);t=new XS(r,s,o,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=gv(n,r.document.name),o=Ds(r.document.updateTime),u=r.document.createTime?Ds(r.document.createTime):st.min(),d=new Hr({mapValue:{fields:r.document.fields}}),m=vr.newFoundDocument(s,o,u,d),f=r.targetIds||[],v=r.removedTargetIds||[];t=new M0(f,v,m.key,m)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=gv(n,r.document),o=r.readTime?Ds(r.readTime):st.min(),u=vr.newNoDocument(s,o),d=r.removedTargetIds||[];t=new M0([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=gv(n,r.document),o=r.removedTargetIds||[];t=new M0([],o,s,null)}else{if(!("filter"in e))return at(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:o}=r,u=new Bk(s,o),d=r.targetId;t=new WS(d,u)}}return t}function Zk(n,e){let t;if(e instanceof Id)t={update:BT(n,e.key,e.value)};else if(e instanceof K1)t={delete:a1(n,e.key)};else if(e instanceof Bo)t={update:BT(n,e.key,e.data),updateMask:lO(e.fieldMask)};else{if(!(e instanceof Lk))return at(16599,{Vt:e.type});t={verify:a1(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(o,u){const d=u.transform;if(d instanceof J0)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof ld)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof cd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof Z0)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw at(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,o){return o.updateTime!==void 0?{updateTime:Yk(s,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:at(27497)})(n,e.precondition)),t}function eO(n,e){return n&&n.length>0?(jt(e!==void 0,14353),n.map((t=>(function(s,o){let u=s.updateTime?Ds(s.updateTime):Ds(o);return u.isEqual(st.min())&&(u=Ds(o)),new Mk(u,s.transformResults||[])})(t,e)))):[]}function tO(n,e){return{documents:[JS(n,e.path)]}}function nO(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=JS(n,s);const o=(function(f){if(f.length!==0)return tb(os.create(f,"and"))})(e.filters);o&&(t.structuredQuery.where=o);const u=(function(f){if(f.length!==0)return f.map((v=>(function(y){return{field:Hc(y.field),direction:sO(y.dir)}})(v)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=n1(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(e.endAt)),{ft:t,parent:s}}function rO(n){let e=Qk(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){jt(r===1,65062);const v=t.from[0];v.allDescendants?s=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=(function(_){const y=eb(_);return y instanceof os&&RS(y)?y.getFilters():[y]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((y=>(function(b){return new od(Gc(b.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(b.direction))})(y)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let y;return y=typeof _=="object"?_.value:_,Rm(y)?null:y})(t.limit));let m=null;t.startAt&&(m=(function(_){const y=!!_.before,E=_.values||[];return new Q0(E,y)})(t.startAt));let f=null;return t.endAt&&(f=(function(_){const y=!_.before,E=_.values||[];return new Q0(E,y)})(t.endAt)),Tk(e,s,u,o,d,"F",m,f)}function aO(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return at(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function eb(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gc(t.unaryFilter.field);return On.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Gc(t.unaryFilter.field);return On.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Gc(t.unaryFilter.field);return On.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gc(t.unaryFilter.field);return On.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return at(61313);default:return at(60726)}})(n):n.fieldFilter!==void 0?(function(t){return On.create(Gc(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return at(58110);default:return at(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return os.create(t.compositeFilter.filters.map((r=>eb(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return at(1026)}})(t.compositeFilter.op))})(n):at(30097,{filter:n})}function sO(n){return $k[n]}function iO(n){return Kk[n]}function oO(n){return Wk[n]}function Hc(n){return{fieldPath:n.canonicalString()}}function Gc(n){return ar.fromServerFormat(n.fieldPath)}function tb(n){return n instanceof On?(function(t){if(t.op==="=="){if(CT(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NAN"}};if(NT(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(CT(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NAN"}};if(NT(t.value))return{unaryFilter:{field:Hc(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hc(t.field),op:iO(t.op),value:t.value}}})(n):n instanceof os?(function(t){const r=t.getFilters().map((s=>tb(s)));return r.length===1?r[0]:{compositeFilter:{op:oO(t.op),filters:r}}})(n):at(54877,{filter:n})}function lO(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function nb(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _o{constructor(e,t,r,s,o=st.min(),u=st.min(),d=lr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=m}withSequenceNumber(e){return new _o(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new _o(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cO{constructor(e){this.yt=e}}function uO(n){const e=rO({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?t1(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hO{constructor(){this.Cn=new dO}addToCollectionParentIndex(e,t){return this.Cn.add(t),Ie.resolve()}getCollectionParents(e,t){return Ie.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Ie.resolve()}deleteFieldIndex(e,t){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,t){return Ie.resolve()}getDocumentsMatchingTarget(e,t){return Ie.resolve(null)}getIndexType(e,t){return Ie.resolve(0)}getFieldIndexes(e,t){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,t){return Ie.resolve(No.min())}getMinOffsetFromCollectionGroup(e,t){return Ie.resolve(No.min())}updateCollectionGroup(e,t,r){return Ie.resolve()}updateIndexEntries(e,t){return Ie.resolve()}}class dO{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Bn(Jt.comparator),o=!s.has(r);return this.index[t]=s.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bn(Jt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rb=41943040;class qr{static withCacheSize(e){return new qr(e,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr.DEFAULT_COLLECTION_PERCENTILE=10,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,qr.DEFAULT=new qr(rb,qr.DEFAULT_COLLECTION_PERCENTILE,qr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),qr.DISABLED=new qr(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new cu(0)}static cr(){return new cu(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="LruGarbageCollector",fO=1048576;function HT([n,e],[t,r]){const s=xt(n,t);return s===0?xt(e,r):s}class mO{constructor(e){this.Ir=e,this.buffer=new Bn(HT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();HT(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class pO{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){Ge(qT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){vu(t)?Ge(qT,"Ignoring IndexedDB error during garbage collection: ",t):await gu(t)}await this.Vr(3e5)}))}}class gO{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return Ie.resolve(Im.ce);const r=new mO(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(Ge("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve(zT)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(Ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,o,u,d,m,f;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(Ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,t)))).next((_=>(o=_,m=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(f=Date.now(),zc()<=vt.DEBUG&&Ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-v}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${o} targets in `+(m-d)+`ms
	Removed ${_} documents in `+(f-m)+`ms
Total Duration: ${f-v}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:o,documentsRemoved:_}))))}}function vO(n,e){return new gO(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(){this.changes=new Bl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,vr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?Ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&$h(r.mutation,s,da.empty(),Ke.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,_t()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=_t()){const s=Tl();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((o=>{let u=Ph();return o.forEach(((d,m)=>{u=u.insert(d,m.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Tl();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,_t())))}populateOverlays(e,t,r){const s=[];return r.forEach((o=>{t.has(o)||s.push(o)})),this.documentOverlayCache.getOverlays(e,s).next((o=>{o.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let o=Ai();const u=Gh(),d=(function(){return Gh()})();return t.forEach(((m,f)=>{const v=r.get(f.key);s.has(f.key)&&(v===void 0||v.mutation instanceof Bo)?o=o.insert(f.key,f):v!==void 0?(u.set(f.key,v.mutation.getFieldMask()),$h(v.mutation,f,v.mutation.getFieldMask(),Ke.now())):u.set(f.key,da.empty())})),this.recalculateAndSaveOverlays(e,o).next((m=>(m.forEach(((f,v)=>u.set(f,v))),t.forEach(((f,v)=>d.set(f,new _O(v,u.get(f)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Gh();let s=new fn(((u,d)=>u-d)),o=_t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((m=>{const f=t.get(m);if(f===null)return;let v=r.get(m)||da.empty();v=d.applyToLocalView(f,v),r.set(m,v);const _=(s.get(d.batchId)||_t()).add(m);s=s.insert(d.batchId,_)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const m=d.getNext(),f=m.key,v=m.value,_=VS();v.forEach((y=>{if(!o.has(y)){const E=GS(t.get(y),r.get(y));E!==null&&_.set(y,E),o=o.add(y)}})),u.push(this.documentOverlayCache.saveOverlays(e,f,_))}return Ie.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return et.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):OS(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((o=>{const u=s-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-o.size):Ie.resolve(Tl());let d=rd,m=o;return u.next((f=>Ie.forEach(f,((v,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),o.get(v)?Ie.resolve():this.remoteDocumentCache.getEntry(e,v).next((y=>{m=m.insert(v,y)}))))).next((()=>this.populateOverlays(e,f,o))).next((()=>this.computeViews(e,m,f,_t()))).next((v=>({batchId:d,changes:LS(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new et(t)).next((r=>{let s=Ph();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const o=t.collectionGroup;let u=Ph();return this.indexManager.getCollectionParents(e,o).next((d=>Ie.forEach(d,(m=>{const f=(function(_,y){return new xu(y,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,m.child(o));return this.getDocumentsMatchingCollectionQuery(e,f,r,s).next((v=>{v.forEach(((_,y)=>{u=u.insert(_,y)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(o=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,s)))).next((u=>{o.forEach(((m,f)=>{const v=f.getKey();u.get(v)===null&&(u=u.insert(v,vr.newInvalidDocument(v)))}));let d=Ph();return u.forEach(((m,f)=>{const v=o.get(m);v!==void 0&&$h(v.mutation,f,da.empty(),Ke.now()),Om(t,f)&&(d=d.insert(m,f))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EO{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Ie.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:Ds(s.createTime)}})(t)),Ie.resolve()}getNamedQuery(e,t){return Ie.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:uO(s.bundledQuery),readTime:Ds(s.readTime)}})(t)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TO{constructor(){this.overlays=new fn(et.comparator),this.qr=new Map}getOverlay(e,t){return Ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Tl();return Ie.forEach(t,(s=>this.getOverlay(e,s).next((o=>{o!==null&&r.set(s,o)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,o)=>{this.St(e,t,o)})),Ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(r)),Ie.resolve()}getOverlaysForCollection(e,t,r){const s=Tl(),o=t.length+1,u=new et(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const m=d.getNext().value,f=m.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===o&&m.largestBatchId>r&&s.set(m.getKey(),m)}return Ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let o=new fn(((f,v)=>f-v));const u=this.overlays.getIterator();for(;u.hasNext();){const f=u.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let v=o.get(f.largestBatchId);v===null&&(v=Tl(),o=o.insert(f.largestBatchId,v)),v.set(f.getKey(),f)}}const d=Tl(),m=o.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach(((f,v)=>d.set(f,v))),!(d.size()>=s)););return Ie.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Uk(t,r));let o=this.qr.get(t);o===void 0&&(o=_t(),this.qr.set(t,o)),this.qr.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(){this.sessionToken=lr.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(){this.Qr=new Bn($n.$r),this.Ur=new Bn($n.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new $n(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new $n(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new et(new Jt([])),r=new $n(t,e),s=new $n(t,e+1),o=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),o.push(u.key)})),o}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new et(new Jt([])),r=new $n(t,e),s=new $n(t,e+1);let o=_t();return this.Ur.forEachInRange([r,s],(u=>{o=o.add(u.key)})),o}containsKey(e){const t=new $n(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class $n{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return et.comparator(e.key,t.key)||xt(e.Yr,t.Yr)}static Kr(e,t){return xt(e.Yr,t.Yr)||et.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AO{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bn($n.$r)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new Vk(o,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Zr=this.Zr.add(new $n(d.key,o)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return Ie.resolve(u)}lookupMutationBatch(e,t){return Ie.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),o=s<0?0:s;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?B1:this.tr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new $n(t,0),s=new $n(t,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([r,s],(u=>{const d=this.Xr(u.Yr);o.push(d)})),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(xt);return t.forEach((s=>{const o=new $n(s,0),u=new $n(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,u],(d=>{r=r.add(d.Yr)}))})),Ie.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const u=new $n(new et(o),0);let d=new Bn(xt);return this.Zr.forEachWhile((m=>{const f=m.key.path;return!!r.isPrefixOf(f)&&(f.length===s&&(d=d.add(m.Yr)),!0)}),u),Ie.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){jt(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return Ie.forEach(t.mutations,(s=>{const o=new $n(s.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new $n(t,0),s=this.Zr.firstAfterOrEqual(r);return Ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.ri=e,this.docs=(function(){return new fn(et.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),o=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Ie.resolve(r?r.document.mutableCopy():vr.newInvalidDocument(t))}getEntries(e,t){let r=Ai();return t.forEach((s=>{const o=this.docs.get(s);r=r.insert(s,o?o.document.mutableCopy():vr.newInvalidDocument(s))})),Ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let o=Ai();const u=t.path,d=new et(u.child("__id-9223372036854775808__")),m=this.docs.getIteratorFrom(d);for(;m.hasNext();){const{key:f,value:{document:v}}=m.getNext();if(!u.isPrefixOf(f.path))break;f.path.length>u.length+1||ek(Zj(v),r)<=0||(s.has(v.key)||Om(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,t,r,s){at(9500)}ii(e,t){return Ie.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new bO(this)}getSize(e){return Ie.resolve(this.size)}}class bO extends xO{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),Ie.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.persistence=e,this.si=new Bl((t=>H1(t)),G1),this.lastRemoteSnapshotVersion=st.min(),this.highestTargetId=0,this.oi=0,this._i=new Q1,this.targetCount=0,this.ai=cu.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),Ie.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new cu(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Ie.resolve()}updateTargetData(e,t){return this.Pr(t),Ie.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,t,r){let s=0;const o=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),o.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),Ie.waitFor(o).next((()=>s))}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return Ie.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),Ie.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,o=[];return s&&t.forEach((u=>{o.push(s.markPotentiallyOrphaned(e,u))})),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return Ie.resolve(r)}containsKey(e,t){return Ie.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.ui={},this.overlays={},this.ci=new Im(0),this.li=!1,this.li=!0,this.hi=new wO,this.referenceDelegate=e(this),this.Pi=new NO(this),this.indexManager=new hO,this.remoteDocumentCache=(function(s){return new SO(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new cO(t),this.Ii=new EO(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new TO,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new AO(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){Ge("MemoryPersistence","Starting transaction:",e);const s=new CO(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((o=>this.referenceDelegate.di(s).next((()=>o)))).toPromise().then((o=>(s.raiseOnCommittedEvent(),o)))}Ai(e,t){return Ie.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class CO extends nk{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Ri=new Q1,this.Vi=null}static mi(e){return new J1(e)}get fi(){if(this.Vi)return this.Vi;throw at(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),Ie.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Ie.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((o=>this.fi.add(o.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.fi,(r=>{const s=et.fromPath(r);return this.gi(e,s).next((o=>{o||t.removeEntry(s,st.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Ie.or([()=>Ie.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class tm{constructor(e,t){this.persistence=e,this.pi=new Bl((r=>sk(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=vO(this,t)}static mi(e,t){return new tm(e,t)}Ei(){}di(e){return Ie.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return Ie.forEach(this.pi,((r,s)=>this.br(e,r,s).next((o=>o?Ie.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),o=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,o.removeEntry(u,st.min()))})))).next((()=>o.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ie.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),Ie.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Ie.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=j0(e.data.value)),t}br(e,t,r){return Ie.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return Ie.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=_t(),s=_t();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:s=s.add(o.doc.key)}return new Z1(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IO{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RO{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return iR()?8:rk(Tr())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const o={result:null};return this.ys(e,t).next((u=>{o.result=u})).next((()=>{if(!o.result)return this.ws(e,t,s,r).next((u=>{o.result=u}))})).next((()=>{if(o.result)return;const u=new IO;return this.Ss(e,t,u).next((d=>{if(o.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>o.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(zc()<=vt.DEBUG&&Ge("QueryEngine","SDK will not create cache indexes for query:",qc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Ie.resolve()):(zc()<=vt.DEBUG&&Ge("QueryEngine","Query:",qc(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(zc()<=vt.DEBUG&&Ge("QueryEngine","The SDK decides to create cache indexes for query:",qc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Rs(t))):Ie.resolve())}ys(e,t){if(jT(t))return Ie.resolve(null);let r=Rs(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=t1(t,null,"F"),r=Rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((o=>{const u=_t(...o);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((m=>{const f=this.Ds(t,d);return this.Cs(t,f,u,m.readTime)?this.ys(e,t1(t,null,"F")):this.vs(e,f,t,m)}))))})))))}ws(e,t,r,s){return jT(t)||s.isEqual(st.min())?Ie.resolve(null):this.ps.getDocuments(e,r).next((o=>{const u=this.Ds(t,o);return this.Cs(t,u,r,s)?Ie.resolve(null):(zc()<=vt.DEBUG&&Ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),qc(t)),this.vs(e,u,t,Jj(s,rd)).next((d=>d)))}))}Ds(e,t){let r=new Bn(PS(e));return t.forEach(((s,o)=>{Om(e,o)&&(r=r.add(o))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(s)>0)}Ss(e,t,r){return zc()<=vt.DEBUG&&Ge("QueryEngine","Using full collection scan to execute query:",qc(t)),this.ps.getDocumentsMatchingQuery(e,t,No.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((o=>(t.forEach((u=>{o=o.insert(u.key,u)})),o)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ex="LocalStore",DO=3e8;class jO{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new fn(xt),this.xs=new Bl((o=>H1(o)),G1),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new yO(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function kO(n,e,t,r){return new jO(n,e,t,r)}async function sb(n,e){const t=ot(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((o=>(s=o,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((o=>{const u=[],d=[];let m=_t();for(const f of s){u.push(f.batchId);for(const v of f.mutations)m=m.add(v.key)}for(const f of o){d.push(f.batchId);for(const v of f.mutations)m=m.add(v.key)}return t.localDocuments.getDocuments(r,m).next((f=>({Ls:f,removedBatchIds:u,addedBatchIds:d})))}))}))}function OO(n,e){const t=ot(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),o=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,m,f,v){const _=f.batch,y=_.keys();let E=Ie.resolve();return y.forEach((b=>{E=E.next((()=>v.getEntry(m,b))).next((w=>{const S=f.docVersions.get(b);jt(S!==null,48541),w.version.compareTo(S)<0&&(_.applyToRemoteDocument(w,f),w.isValidDocument()&&(w.setReadTime(f.commitVersion),v.addEntry(w)))}))})),E.next((()=>d.mutationQueue.removeMutationBatch(m,_)))})(t,r,e,o).next((()=>o.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let m=_t();for(let f=0;f<d.mutationResults.length;++f)d.mutationResults[f].transformResults.length>0&&(m=m.add(d.batch.mutations[f].key));return m})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function ib(n){const e=ot(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function MO(n,e){const t=ot(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((v,_)=>{const y=s.get(_);if(!y)return;d.push(t.Pi.removeMatchingKeys(o,v.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(o,v.addedDocuments,_))));let E=y.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?E=E.withResumeToken(lr.EMPTY_BYTE_STRING,st.min()).withLastLimboFreeSnapshotVersion(st.min()):v.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(v.resumeToken,r)),s=s.insert(_,E),(function(w,S,k){return w.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=DO?!0:k.addedDocuments.size+k.modifiedDocuments.size+k.removedDocuments.size>0})(y,E,v)&&d.push(t.Pi.updateTargetData(o,E))}));let m=Ai(),f=_t();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))})),d.push(PO(o,u,e.documentUpdates).next((v=>{m=v.ks,f=v.qs}))),!r.isEqual(st.min())){const v=t.Pi.getLastRemoteSnapshotVersion(o).next((_=>t.Pi.setTargetsMetadata(o,o.currentSequenceNumber,r)));d.push(v)}return Ie.waitFor(d).next((()=>u.apply(o))).next((()=>t.localDocuments.getLocalViewOfDocuments(o,m,f))).next((()=>m))})).then((o=>(t.Ms=s,o)))}function PO(n,e,t){let r=_t(),s=_t();return t.forEach((o=>r=r.add(o))),e.getEntries(n,r).next((o=>{let u=Ai();return t.forEach(((d,m)=>{const f=o.get(d);m.isFoundDocument()!==f.isFoundDocument()&&(s=s.add(d)),m.isNoDocument()&&m.version.isEqual(st.min())?(e.removeEntry(d,m.readTime),u=u.insert(d,m)):!f.isValidDocument()||m.version.compareTo(f.version)>0||m.version.compareTo(f.version)===0&&f.hasPendingWrites?(e.addEntry(m),u=u.insert(d,m)):Ge(ex,"Ignoring outdated watch update for ",d,". Current version:",f.version," Watch version:",m.version)})),{ks:u,qs:s}}))}function FO(n,e){const t=ot(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=B1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function LO(n,e){const t=ot(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((o=>o?(s=o,Ie.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new _o(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function i1(n,e,t){const r=ot(n),s=r.Ms.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!vu(u))throw u;Ge(ex,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function GT(n,e,t){const r=ot(n);let s=st.min(),o=_t();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(m,f,v){const _=ot(m),y=_.xs.get(v);return y!==void 0?Ie.resolve(_.Ms.get(y)):_.Pi.getTargetData(f,v)})(r,u,Rs(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((m=>{o=m}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:st.min(),t?o:_t()))).next((d=>(VO(r,Ak(e),d),{documents:d,Qs:o})))))}function VO(n,e,t){let r=n.Os.get(e)||st.min();t.forEach(((s,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)})),n.Os.set(e,r)}class $T{constructor(){this.activeTargetIds=Rk()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class UO{constructor(){this.Mo=new $T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new $T,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BO{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT="ConnectivityMonitor";class WT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){Ge(KT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){Ge(KT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let d0=null;function o1(){return d0===null?d0=(function(){return 268435456+Math.round(2147483648*Math.random())})():d0++,"0x"+d0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vv="RestConnection",zO={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qO{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===X0?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,o){const u=o1(),d=this.zo(e,t.toUriEncodedString());Ge(vv,`Sending RPC '${e}' ${u}:`,d,r);const m={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(m,s,o);const{host:f}=new URL(d),v=Fo(f);return this.Jo(e,d,m,r,v).then((_=>(Ge(vv,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw su(vv,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,t,r,s,o,u){return this.Go(e,t,r,s,o)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+pu})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,o)=>e[o]=s)),r&&r.headers.forEach(((s,o)=>e[o]=s))}zo(e,t){const r=zO[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HO{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="WebChannelConnection";class GO extends qO{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,o){const u=o1();return new Promise(((d,m)=>{const f=new cS;f.setWithCredentials(!0),f.listenOnce(uS.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case D0.NO_ERROR:const _=f.getResponseJson();Ge(pr,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case D0.TIMEOUT:Ge(pr,`RPC '${e}' ${u} timed out`),m(new qe(Ne.DEADLINE_EXCEEDED,"Request time out"));break;case D0.HTTP_ERROR:const y=f.getStatus();if(Ge(pr,`RPC '${e}' ${u} failed with status:`,y,"response text:",f.getResponseText()),y>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const b=E?.error;if(b&&b.status&&b.message){const w=(function(k){const D=k.toLowerCase().replace(/_/g,"-");return Object.values(Ne).indexOf(D)>=0?D:Ne.UNKNOWN})(b.status);m(new qe(w,b.message))}else m(new qe(Ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else m(new qe(Ne.UNAVAILABLE,"Connection failed."));break;default:at(9055,{l_:e,streamId:u,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{Ge(pr,`RPC '${e}' ${u} completed.`)}}));const v=JSON.stringify(s);Ge(pr,`RPC '${e}' ${u} sending request:`,s),f.send(t,"POST",v,r,15)}))}T_(e,t,r){const s=o1(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=fS(),d=dS(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(m.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(m.useFetchStreams=!0),this.jo(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const v=o.join("");Ge(pr,`Creating RPC '${e}' stream ${s}: ${v}`,m);const _=u.createWebChannel(v,m);this.I_(_);let y=!1,E=!1;const b=new HO({Yo:S=>{E?Ge(pr,`Not sending because RPC '${e}' stream ${s} is closed:`,S):(y||(Ge(pr,`Opening RPC '${e}' stream ${s} transport.`),_.open(),y=!0),Ge(pr,`RPC '${e}' stream ${s} sending:`,S),_.send(S))},Zo:()=>_.close()}),w=(S,k,D)=>{S.listen(k,(j=>{try{D(j)}catch(X){setTimeout((()=>{throw X}),0)}}))};return w(_,Mh.EventType.OPEN,(()=>{E||(Ge(pr,`RPC '${e}' stream ${s} transport opened.`),b.o_())})),w(_,Mh.EventType.CLOSE,(()=>{E||(E=!0,Ge(pr,`RPC '${e}' stream ${s} transport closed`),b.a_(),this.E_(_))})),w(_,Mh.EventType.ERROR,(S=>{E||(E=!0,su(pr,`RPC '${e}' stream ${s} transport errored. Name:`,S.name,"Message:",S.message),b.a_(new qe(Ne.UNAVAILABLE,"The operation could not be completed")))})),w(_,Mh.EventType.MESSAGE,(S=>{if(!E){const k=S.data[0];jt(!!k,16349);const D=k,j=D?.error||D[0]?.error;if(j){Ge(pr,`RPC '${e}' stream ${s} received error:`,j);const X=j.status;let te=(function(R){const N=kn[R];if(N!==void 0)return KS(N)})(X),ie=j.message;te===void 0&&(te=Ne.INTERNAL,ie="Unknown error status: "+X+" with message "+j.message),E=!0,b.a_(new qe(te,ie)),_.close()}else Ge(pr,`RPC '${e}' stream ${s} received:`,k),b.u_(k)}})),w(d,hS.STAT_EVENT,(S=>{S.stat===Wv.PROXY?Ge(pr,`RPC '${e}' stream ${s} detected buffering proxy`):S.stat===Wv.NOPROXY&&Ge(pr,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{b.__()}),0),b}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function xv(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lm(n){return new Xk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r=1e3,s=1.5,o=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&Ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="PersistentStream";class lb{constructor(e,t,r,s,o,u,d,m){this.Mi=e,this.S_=r,this.b_=s,this.connection=o,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=m,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ob(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Ne.RESOURCE_EXHAUSTED?(wi(t.toString()),wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new qe(Ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return Ge(XT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(Ge(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class $O extends lb{constructor(e,t,r,s,o,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=Jk(this.serializer,e),r=(function(o){if(!("targetChange"in o))return st.min();const u=o.targetChange;return u.targetIds&&u.targetIds.length?st.min():u.readTime?Ds(u.readTime):st.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=s1(this.serializer),t.addTarget=(function(o,u){let d;const m=u.target;if(d=Zv(m)?{documents:tO(o,m)}:{query:nO(o,m).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=YS(o,u.resumeToken);const f=n1(o,u.expectedCount);f!==null&&(d.expectedCount=f)}else if(u.snapshotVersion.compareTo(st.min())>0){d.readTime=em(o,u.snapshotVersion.toTimestamp());const f=n1(o,u.expectedCount);f!==null&&(d.expectedCount=f)}return d})(this.serializer,e);const r=aO(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=s1(this.serializer),t.removeTarget=e,this.q_(t)}}class KO extends lb{constructor(e,t,r,s,o,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return jt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,jt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){jt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=eO(e.writeResults,e.commitTime),r=Ds(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=s1(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>Zk(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WO{}class XO extends WO{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,u])=>this.connection.Go(e,r1(t,r),s,o,u))).catch((o=>{throw o.name==="FirebaseError"?(o.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new qe(Ne.UNKNOWN,o.toString())}))}Ho(e,t,r,s,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,r1(t,r),s,u,d,o))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new qe(Ne.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class YO{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(wi(t),this.aa=!1):Ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl="RemoteStore";class QO{constructor(e,t,r,s,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{zl(this)&&(Ge(kl,"Restarting streams for network reachability change."),await(async function(m){const f=ot(m);f.Ea.add(4),await Dd(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Vm(f)})(this))}))})),this.Ra=new YO(r,s)}}async function Vm(n){if(zl(n))for(const e of n.da)await e(!0)}async function Dd(n){for(const e of n.da)await e(!1)}function cb(n,e){const t=ot(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),ax(t)?rx(t):_u(t).O_()&&nx(t,e))}function tx(n,e){const t=ot(n),r=_u(t);t.Ia.delete(e),r.O_()&&ub(t,e),t.Ia.size===0&&(r.O_()?r.L_():zl(t)&&t.Ra.set("Unknown"))}function nx(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(st.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).Y_(e)}function ub(n,e){n.Va.Ue(e),_u(n).Z_(e)}function rx(n){n.Va=new Gk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.Ra.ua()}function ax(n){return zl(n)&&!_u(n).x_()&&n.Ia.size>0}function zl(n){return ot(n).Ea.size===0}function hb(n){n.Va=void 0}async function JO(n){n.Ra.set("Online")}async function ZO(n){n.Ia.forEach(((e,t)=>{nx(n,e)}))}async function e6(n,e){hb(n),ax(n)?(n.Ra.ha(e),rx(n)):n.Ra.set("Unknown")}async function t6(n,e,t){if(n.Ra.set("Online"),e instanceof XS&&e.state===2&&e.cause)try{await(async function(s,o){const u=o.cause;for(const d of o.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){Ge(kl,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await nm(n,r)}else if(e instanceof M0?n.Va.Ze(e):e instanceof WS?n.Va.st(e):n.Va.tt(e),!t.isEqual(st.min()))try{const r=await ib(n.localStore);t.compareTo(r)>=0&&await(function(o,u){const d=o.Va.Tt(u);return d.targetChanges.forEach(((m,f)=>{if(m.resumeToken.approximateByteSize()>0){const v=o.Ia.get(f);v&&o.Ia.set(f,v.withResumeToken(m.resumeToken,u))}})),d.targetMismatches.forEach(((m,f)=>{const v=o.Ia.get(m);if(!v)return;o.Ia.set(m,v.withResumeToken(lr.EMPTY_BYTE_STRING,v.snapshotVersion)),ub(o,m);const _=new _o(v.target,m,f,v.sequenceNumber);nx(o,_)})),o.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){Ge(kl,"Failed to raise snapshot:",r),await nm(n,r)}}async function nm(n,e,t){if(!vu(e))throw e;n.Ea.add(1),await Dd(n),n.Ra.set("Offline"),t||(t=()=>ib(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{Ge(kl,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await Vm(n)}))}function db(n,e){return e().catch((t=>nm(n,t,e)))}async function Um(n){const e=ot(n),t=Do(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:B1;for(;n6(e);)try{const s=await FO(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,r6(e,s)}catch(s){await nm(e,s)}fb(e)&&mb(e)}function n6(n){return zl(n)&&n.Ta.length<10}function r6(n,e){n.Ta.push(e);const t=Do(n);t.O_()&&t.X_&&t.ea(e.mutations)}function fb(n){return zl(n)&&!Do(n).x_()&&n.Ta.length>0}function mb(n){Do(n).start()}async function a6(n){Do(n).ra()}async function s6(n){const e=Do(n);for(const t of n.Ta)e.ea(t.mutations)}async function i6(n,e,t){const r=n.Ta.shift(),s=W1.from(r,e,t);await db(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await Um(n)}async function o6(n,e){e&&Do(n).X_&&await(async function(r,s){if((function(u){return zk(u)&&u!==Ne.ABORTED})(s.code)){const o=r.Ta.shift();Do(r).B_(),await db(r,(()=>r.remoteSyncer.rejectFailedWrite(o.batchId,s))),await Um(r)}})(n,e),fb(n)&&mb(n)}async function YT(n,e){const t=ot(n);t.asyncQueue.verifyOperationInProgress(),Ge(kl,"RemoteStore received new credentials");const r=zl(t);t.Ea.add(3),await Dd(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Vm(t)}async function l6(n,e){const t=ot(n);e?(t.Ea.delete(2),await Vm(t)):e||(t.Ea.add(2),await Dd(t),t.Ra.set("Unknown"))}function _u(n){return n.ma||(n.ma=(function(t,r,s){const o=ot(t);return o.sa(),new $O(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:JO.bind(null,n),t_:ZO.bind(null,n),r_:e6.bind(null,n),H_:t6.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),ax(n)?rx(n):n.Ra.set("Unknown")):(await n.ma.stop(),hb(n))}))),n.ma}function Do(n){return n.fa||(n.fa=(function(t,r,s){const o=ot(t);return o.sa(),new KO(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:a6.bind(null,n),r_:o6.bind(null,n),ta:s6.bind(null,n),na:i6.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await Um(n)):(await n.fa.stop(),n.Ta.length>0&&(Ge(kl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx{constructor(e,t,r,s,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=o,this.deferred=new pi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,o){const u=Date.now()+r,d=new sx(e,t,u,s,o);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new qe(Ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ix(n,e){if(wi("AsyncQueue",`${e}: ${n}`),vu(n))return new qe(Ne.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{static emptySet(e){return new Jc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||et.comparator(t.key,r.key):(t,r)=>et.comparator(t.key,r.key),this.keyedMap=Ph(),this.sortedSet=new fn(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Jc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,o=r.getNext().key;if(!s.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Jc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.ga=new fn(et.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):at(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class uu{constructor(e,t,r,s,o,u,d,m,f){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=o,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=m,this.hasCachedResults=f}static fromInitialDocuments(e,t,r,s,o){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new uu(e,t,Jc.emptySet(t),u,r,s,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&km(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class u6{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=ot(t),o=s.queries;s.queries=JT(),o.forEach(((u,d)=>{for(const m of d.Sa)m.onError(r)}))})(this,new qe(Ne.ABORTED,"Firestore shutting down"))}}function JT(){return new Bl((n=>MS(n)),km)}async function ox(n,e){const t=ot(n);let r=3;const s=e.query;let o=t.queries.get(s);o?!o.ba()&&e.Da()&&(r=2):(o=new c6,r=e.Da()?0:1);try{switch(r){case 0:o.wa=await t.onListen(s,!0);break;case 1:o.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=ix(u,`Initialization of query '${qc(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,o),o.Sa.push(e),e.va(t.onlineState),o.wa&&e.Fa(o.wa)&&cx(t)}async function lx(n,e){const t=ot(n),r=e.query;let s=3;const o=t.queries.get(r);if(o){const u=o.Sa.indexOf(e);u>=0&&(o.Sa.splice(u,1),o.Sa.length===0?s=e.Da()?0:1:!o.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function h6(n,e){const t=ot(n);let r=!1;for(const s of e){const o=s.query,u=t.queries.get(o);if(u){for(const d of u.Sa)d.Fa(s)&&(r=!0);u.wa=s}}r&&cx(t)}function d6(n,e,t){const r=ot(n),s=r.queries.get(e);if(s)for(const o of s.Sa)o.onError(t);r.queries.delete(e)}function cx(n){n.Ca.forEach((e=>{e.next()}))}var l1,ZT;(ZT=l1||(l1={})).Ma="default",ZT.Cache="cache";class ux{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new uu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=uu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==l1.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class f6{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=_t(),this.mutatedKeys=_t(),this.eu=PS(e),this.tu=new Jc(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new QT,s=t?t.tu:this.tu;let o=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const m=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,f=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((v,_)=>{const y=s.get(v),E=Om(this.query,_)?_:null,b=!!y&&this.mutatedKeys.has(y.key),w=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let S=!1;y&&E?y.data.isEqual(E.data)?b!==w&&(r.track({type:3,doc:E}),S=!0):this.su(y,E)||(r.track({type:2,doc:E}),S=!0,(m&&this.eu(E,m)>0||f&&this.eu(E,f)<0)&&(d=!0)):!y&&E?(r.track({type:0,doc:E}),S=!0):y&&!E&&(r.track({type:1,doc:y}),S=!0,(m||f)&&(d=!0)),S&&(E?(u=u.add(E),o=w?o.add(v):o.delete(v)):(u=u.delete(v),o=o.delete(v)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const v=this.query.limitType==="F"?u.last():u.first();u=u.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{tu:u,iu:r,Cs:d,mutatedKeys:o}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const o=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((v,_)=>(function(E,b){const w=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return at(20277,{Rt:S})}};return w(E)-w(b)})(v.type,_.type)||this.eu(v.doc,_.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],m=this.Xa.size===0&&this.current&&!s?1:0,f=m!==this.Za;return this.Za=m,u.length!==0||f?{snapshot:new uu(this.query,e.tu,o,u,e.mutatedKeys,m===0,f,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new QT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=_t(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new gb(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new pb(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=_t();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return uu.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hx="SyncEngine";class m6{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class p6{constructor(e){this.key=e,this.hu=!1}}class g6{constructor(e,t,r,s,o,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=o,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Bl((d=>MS(d)),km),this.Iu=new Map,this.Eu=new Set,this.du=new fn(et.comparator),this.Au=new Map,this.Ru=new Q1,this.Vu={},this.mu=new Map,this.fu=cu.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v6(n,e,t=!0){const r=Tb(n);let s;const o=r.Tu.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),s=o.view.lu()):s=await vb(r,e,t,!0),s}async function x6(n,e){const t=Tb(n);await vb(t,e,!0,!1)}async function vb(n,e,t,r){const s=await LO(n.localStore,Rs(e)),o=s.targetId,u=n.sharedClientState.addLocalQueryTarget(o,t);let d;return r&&(d=await _6(n,e,o,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&cb(n.remoteStore,s),d}async function _6(n,e,t,r,s){n.pu=(_,y,E)=>(async function(w,S,k,D){let j=S.view.ru(k);j.Cs&&(j=await GT(w.localStore,S.query,!1).then((({documents:I})=>S.view.ru(I,j))));const X=D&&D.targetChanges.get(S.targetId),te=D&&D.targetMismatches.get(S.targetId)!=null,ie=S.view.applyChanges(j,w.isPrimaryClient,X,te);return tw(w,S.targetId,ie.au),ie.snapshot})(n,_,y,E);const o=await GT(n.localStore,e,!0),u=new f6(e,o.Qs),d=u.ru(o.documents),m=Rd.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),f=u.applyChanges(d,n.isPrimaryClient,m);tw(n,t,f.au);const v=new m6(e,t,u);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),f.snapshot}async function y6(n,e,t){const r=ot(n),s=r.Tu.get(e),o=r.Iu.get(s.targetId);if(o.length>1)return r.Iu.set(s.targetId,o.filter((u=>!km(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await i1(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&tx(r.remoteStore,s.targetId),c1(r,s.targetId)})).catch(gu)):(c1(r,s.targetId),await i1(r.localStore,s.targetId,!0))}async function E6(n,e){const t=ot(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),tx(t.remoteStore,r.targetId))}async function T6(n,e,t){const r=I6(n);try{const s=await(function(u,d){const m=ot(u),f=Ke.now(),v=d.reduce(((E,b)=>E.add(b.key)),_t());let _,y;return m.persistence.runTransaction("Locally write mutations","readwrite",(E=>{let b=Ai(),w=_t();return m.Ns.getEntries(E,v).next((S=>{b=S,b.forEach(((k,D)=>{D.isValidDocument()||(w=w.add(k))}))})).next((()=>m.localDocuments.getOverlayedDocuments(E,b))).next((S=>{_=S;const k=[];for(const D of d){const j=Fk(D,_.get(D.key).overlayedDocument);j!=null&&k.push(new Bo(D.key,j,NS(j.value.mapValue),Pa.exists(!0)))}return m.mutationQueue.addMutationBatch(E,f,k,d)})).next((S=>{y=S;const k=S.applyToLocalDocumentSet(_,w);return m.documentOverlayCache.saveOverlays(E,S.batchId,k)}))})).then((()=>({batchId:y.batchId,changes:LS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,m){let f=u.Vu[u.currentUser.toKey()];f||(f=new fn(xt)),f=f.insert(d,m),u.Vu[u.currentUser.toKey()]=f})(r,s.batchId,t),await jd(r,s.changes),await Um(r.remoteStore)}catch(s){const o=ix(s,"Failed to persist write");t.reject(o)}}async function xb(n,e){const t=ot(n);try{const r=await MO(t.localStore,e);e.targetChanges.forEach(((s,o)=>{const u=t.Au.get(o);u&&(jt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?jt(u.hu,14607):s.removedDocuments.size>0&&(jt(u.hu,42227),u.hu=!1))})),await jd(t,r,e)}catch(r){await gu(r)}}function ew(n,e,t){const r=ot(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((o,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const m=ot(u);m.onlineState=d;let f=!1;m.queries.forEach(((v,_)=>{for(const y of _.Sa)y.va(d)&&(f=!0)})),f&&cx(m)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function w6(n,e,t){const r=ot(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),o=s&&s.key;if(o){let u=new fn(et.comparator);u=u.insert(o,vr.newNoDocument(o,st.min()));const d=_t().add(o),m=new Fm(st.min(),new Map,new fn(xt),u,d);await xb(r,m),r.du=r.du.remove(o),r.Au.delete(e),dx(r)}else await i1(r.localStore,e,!1).then((()=>c1(r,e,t))).catch(gu)}async function A6(n,e){const t=ot(n),r=e.batch.batchId;try{const s=await OO(t.localStore,e);yb(t,r,null),_b(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await jd(t,s)}catch(s){await gu(s)}}async function S6(n,e,t){const r=ot(n);try{const s=await(function(u,d){const m=ot(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let v;return m.mutationQueue.lookupMutationBatch(f,d).next((_=>(jt(_!==null,37113),v=_.keys(),m.mutationQueue.removeMutationBatch(f,_)))).next((()=>m.mutationQueue.performConsistencyCheck(f))).next((()=>m.documentOverlayCache.removeOverlaysForBatchId(f,v,d))).next((()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,v))).next((()=>m.localDocuments.getDocuments(f,v)))}))})(r.localStore,e);yb(r,e,t),_b(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await jd(r,s)}catch(s){await gu(s)}}function _b(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function yb(n,e,t){const r=ot(n);let s=r.Vu[r.currentUser.toKey()];if(s){const o=s.get(e);o&&(t?o.reject(t):o.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function c1(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||Eb(n,r)}))}function Eb(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(tx(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),dx(n))}function tw(n,e,t){for(const r of t)r instanceof pb?(n.Ru.addReference(r.key,e),b6(n,r)):r instanceof gb?(Ge(hx,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||Eb(n,r.key)):at(19791,{wu:r})}function b6(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(Ge(hx,"New document in limbo: "+t),n.Eu.add(r),dx(n))}function dx(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new et(Jt.fromString(e)),r=n.fu.next();n.Au.set(r,new p6(t)),n.du=n.du.insert(t,r),cb(n.remoteStore,new _o(Rs(jm(t.path)),r,"TargetPurposeLimboResolution",Im.ce))}}async function jd(n,e,t){const r=ot(n),s=[],o=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,m)=>{u.push(r.pu(m,e,t).then((f=>{if((f||t)&&r.isPrimaryClient){const v=f?!f.fromCache:t?.targetChanges.get(m.targetId)?.current;r.sharedClientState.updateQueryState(m.targetId,v?"current":"not-current")}if(f){s.push(f);const v=Z1.As(m.targetId,f);o.push(v)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(m,f){const v=ot(m);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>Ie.forEach(f,(y=>Ie.forEach(y.Es,(E=>v.persistence.referenceDelegate.addReference(_,y.targetId,E))).next((()=>Ie.forEach(y.ds,(E=>v.persistence.referenceDelegate.removeReference(_,y.targetId,E)))))))))}catch(_){if(!vu(_))throw _;Ge(ex,"Failed to update sequence numbers: "+_)}for(const _ of f){const y=_.targetId;if(!_.fromCache){const E=v.Ms.get(y),b=E.snapshotVersion,w=E.withLastLimboFreeSnapshotVersion(b);v.Ms=v.Ms.insert(y,w)}}})(r.localStore,o))}async function N6(n,e){const t=ot(n);if(!t.currentUser.isEqual(e)){Ge(hx,"User change. New user:",e.toKey());const r=await sb(t.localStore,e);t.currentUser=e,(function(o,u){o.mu.forEach((d=>{d.forEach((m=>{m.reject(new qe(Ne.CANCELLED,u))}))})),o.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await jd(t,r.Ls)}}function C6(n,e){const t=ot(n),r=t.Au.get(e);if(r&&r.hu)return _t().add(r.key);{let s=_t();const o=t.Iu.get(e);if(!o)return s;for(const u of o){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function Tb(n){const e=ot(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=xb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=C6.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=w6.bind(null,e),e.Pu.H_=h6.bind(null,e.eventManager),e.Pu.yu=d6.bind(null,e.eventManager),e}function I6(n){const e=ot(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=A6.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=S6.bind(null,e),e}class rm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Lm(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return kO(this.persistence,new RO,e.initialUser,this.serializer)}Cu(e){return new ab(J1.mi,this.serializer)}Du(e){return new UO}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}rm.provider={build:()=>new rm};class R6 extends rm{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){jt(this.persistence.referenceDelegate instanceof tm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pO(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?qr.withCacheSize(this.cacheSizeBytes):qr.DEFAULT;return new ab((r=>tm.mi(r,t)),this.serializer)}}class u1{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ew(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=N6.bind(null,this.syncEngine),await l6(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new u6})()}createDatastore(e){const t=Lm(e.databaseInfo.databaseId),r=(function(o){return new GO(o)})(e.databaseInfo);return(function(o,u,d,m){return new XO(o,u,d,m)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,o,u,d){return new QO(r,s,o,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>ew(this.syncEngine,t,0)),(function(){return WT.v()?new WT:new BO})())}createSyncEngine(e,t){return(function(s,o,u,d,m,f,v){const _=new g6(s,o,u,d,m,f);return v&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=ot(t);Ge(kl,"RemoteStore shutting down."),r.Ea.add(5),await Dd(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}u1.provider={build:()=>new u1};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):wi("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jo="FirestoreClient";class D6{constructor(e,t,r,s,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=gr.UNAUTHENTICATED,this.clientId=U1.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,(async u=>{Ge(jo,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(Ge(jo,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=ix(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function _v(n,e){n.asyncQueue.verifyOperationInProgress(),Ge(jo,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await sb(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function nw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j6(n);Ge(jo,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>YT(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>YT(e.remoteStore,s))),n._onlineComponents=e}async function j6(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ge(jo,"Using user provided OfflineComponentProvider");try{await _v(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===Ne.FAILED_PRECONDITION||s.code===Ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;su("Error using user provided cache. Falling back to memory cache: "+t),await _v(n,new rm)}}else Ge(jo,"Using default OfflineComponentProvider"),await _v(n,new R6(void 0));return n._offlineComponents}async function wb(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ge(jo,"Using user provided OnlineComponentProvider"),await nw(n,n._uninitializedComponentsProvider._online)):(Ge(jo,"Using default OnlineComponentProvider"),await nw(n,new u1))),n._onlineComponents}function k6(n){return wb(n).then((e=>e.syncEngine))}async function am(n){const e=await wb(n),t=e.eventManager;return t.onListen=v6.bind(null,e.syncEngine),t.onUnlisten=y6.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=x6.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=E6.bind(null,e.syncEngine),t}function O6(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,m,f){const v=new fx({next:y=>{v.Nu(),u.enqueueAndForget((()=>lx(o,_)));const E=y.docs.has(d);!E&&y.fromCache?f.reject(new qe(Ne.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&y.fromCache&&m&&m.source==="server"?f.reject(new qe(Ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):f.resolve(y)},error:y=>f.reject(y)}),_=new ux(jm(d.path),v,{includeMetadataChanges:!0,qa:!0});return ox(o,_)})(await am(n),n.asyncQueue,e,t,r))),r.promise}function M6(n,e,t={}){const r=new pi;return n.asyncQueue.enqueueAndForget((async()=>(function(o,u,d,m,f){const v=new fx({next:y=>{v.Nu(),u.enqueueAndForget((()=>lx(o,_))),y.fromCache&&m.source==="server"?f.reject(new qe(Ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(y)},error:y=>f.reject(y)}),_=new ux(d,v,{includeMetadataChanges:!0,qa:!0});return ox(o,_)})(await am(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb="firestore.googleapis.com",aw=!0;class sw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new qe(Ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sb,this.ssl=aw}else this.host=e.host,this.ssl=e.ssl??aw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=rb;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<fO)throw new qe(Ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Qj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new qe(Ne.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Bm{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new sw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new qe(Ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new qe(Ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new sw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new Bj;switch(r.type){case"firstParty":return new Gj(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new qe(Ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=rw.get(t);r&&(Ge("ComponentProvider","Removing Datastore"),rw.delete(t),r.terminate())})(this),Promise.resolve()}}function P6(n,e,t,r={}){n=Gr(n,Bm);const s=Fo(e),o=n._getSettings(),u={...o,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(b1(`https://${d}`),N1("Firestore",!0)),o.host!==Sb&&o.host!==d&&su("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const m={...o,host:d,ssl:s,emulatorOptions:r};if(!Cl(m,u)&&(n._setSettings(m),r.mockUserToken)){let f,v;if(typeof r.mockUserToken=="string")f=r.mockUserToken,v=gr.MOCK_USER;else{f=TA(r.mockUserToken,n._app?.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new qe(Ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new gr(_)}n._authCredentials=new zj(new pS(f,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new zo(this.firestore,e,this._query)}}class xn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new So(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xn(this.firestore,e,this._key)}toJSON(){return{type:xn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Cd(t,xn._jsonSchema))return new xn(e,r||null,new et(Jt.fromString(t.referencePath)))}}xn._jsonSchemaVersion="firestore/documentReference/1.0",xn._jsonSchema={type:Mn("string",xn._jsonSchemaVersion),referencePath:Mn("string")};class So extends zo{constructor(e,t,r){super(e,t,jm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xn(this.firestore,null,new et(e))}withConverter(e){return new So(this.firestore,e,this._path)}}function Zt(n,e,...t){if(n=cn(n),gS("collection","path",e),n instanceof Bm){const r=Jt.fromString(e,...t);return xT(r),new So(n,null,r)}{if(!(n instanceof xn||n instanceof So))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return xT(r),new So(n.firestore,null,r)}}function Et(n,e,...t){if(n=cn(n),arguments.length===1&&(e=U1.newId()),gS("doc","path",e),n instanceof Bm){const r=Jt.fromString(e,...t);return vT(r),new xn(n,null,new et(r))}{if(!(n instanceof xn||n instanceof So))throw new qe(Ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Jt.fromString(e,...t));return vT(r),new xn(n.firestore,n instanceof So?n.converter:null,new et(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="AsyncQueue";class ow{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ob(this,"async_queue_retry"),this._c=()=>{const r=xv();r&&Ge(iw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=xv();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=xv();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new pi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!vu(e))throw e;Ge(iw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,wi("INTERNAL UNHANDLED ERROR: ",lw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=sx.createAndSchedule(this,e,t,r,(o=>this.hc(o)));return this.tc.push(s),s}uc(){this.nc&&at(47125,{Pc:lw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function lw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cw(n){return(function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const o of r)if(o in s&&typeof s[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Si extends Bm{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new ow,this._persistenceKey=s?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ow(e),this._firestoreClient=void 0,await e}}}function F6(n,e){const t=typeof n=="object"?n:R1(),r=typeof n=="string"?n:X0,s=Am(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const o=_A("firestore");o&&P6(s,...o)}return s}function zm(n){if(n._terminated)throw new qe(Ne.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||L6(n),n._firestoreClient}function L6(n){const e=n._freezeSettings(),t=(function(s,o,u,d){return new lk(s,o,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Ab(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,e);n._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new D6(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(s){const o=s?._online.build();return{_offline:s?._offline.build(o),_online:o}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Oa(lr.fromBase64String(e))}catch(t){throw new qe(Ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Oa(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Oa._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Cd(e,Oa._jsonSchema))return Oa.fromBase64String(e.bytes)}}Oa._jsonSchemaVersion="firestore/bytes/1.0",Oa._jsonSchema={type:Mn("string",Oa._jsonSchemaVersion),bytes:Mn("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new qe(Ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ar(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mx{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class js{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new qe(Ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new qe(Ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xt(this._lat,e._lat)||xt(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:js._jsonSchemaVersion}}static fromJSON(e){if(Cd(e,js._jsonSchema))return new js(e.latitude,e.longitude)}}js._jsonSchemaVersion="firestore/geoPoint/1.0",js._jsonSchema={type:Mn("string",js._jsonSchemaVersion),latitude:Mn("number"),longitude:Mn("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==s[o])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ks._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Cd(e,ks._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new ks(e.vectorValues);throw new qe(Ne.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ks._jsonSchemaVersion="firestore/vectorValue/1.0",ks._jsonSchema={type:Mn("string",ks._jsonSchemaVersion),vectorValues:Mn("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V6=/^__.*__$/;class U6{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms):new Id(e,this.data,t,this.fieldTransforms)}}class bb{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Bo(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Nb(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw at(40011,{Ac:n})}}class px{constructor(e,t,r,s,o,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new px({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){const t=this.path?.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return sm(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Nb(this.Ac)&&V6.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class B6{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Lm(e)}Cc(e,t,r,s=!1){return new px({Ac:e,methodName:t,Dc:r,path:ar.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hm(n){const e=n._freezeSettings(),t=Lm(n._databaseId);return new B6(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Cb(n,e,t,r,s,o={}){const u=n.Cc(o.merge||o.mergeFields?2:0,e,t,s);gx("Data must be an object, but it was:",u,r);const d=Ib(r,u);let m,f;if(o.merge)m=new da(u.fieldMask),f=u.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const y=h1(e,_,t);if(!u.contains(y))throw new qe(Ne.INVALID_ARGUMENT,`Field '${y}' is specified in your field mask but missing from your input data.`);Db(v,y)||v.push(y)}m=new da(v),f=u.fieldTransforms.filter((_=>m.covers(_.field)))}else m=null,f=u.fieldTransforms;return new U6(new Hr(d),m,f)}class Gm extends mx{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Gm}}function z6(n,e,t,r){const s=n.Cc(1,e,t);gx("Data must be an object, but it was:",s,r);const o=[],u=Hr.empty();Uo(r,((m,f)=>{const v=vx(e,m,t);f=cn(f);const _=s.yc(v);if(f instanceof Gm)o.push(v);else{const y=kd(f,_);y!=null&&(o.push(v),u.set(v,y))}}));const d=new da(o);return new bb(u,d,s.fieldTransforms)}function q6(n,e,t,r,s,o){const u=n.Cc(1,e,t),d=[h1(e,r,t)],m=[s];if(o.length%2!=0)throw new qe(Ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let y=0;y<o.length;y+=2)d.push(h1(e,o[y])),m.push(o[y+1]);const f=[],v=Hr.empty();for(let y=d.length-1;y>=0;--y)if(!Db(f,d[y])){const E=d[y];let b=m[y];b=cn(b);const w=u.yc(E);if(b instanceof Gm)f.push(E);else{const S=kd(b,w);S!=null&&(f.push(E),v.set(E,S))}}const _=new da(f);return new bb(v,_,u.fieldTransforms)}function H6(n,e,t,r=!1){return kd(t,n.Cc(r?4:3,e))}function kd(n,e){if(Rb(n=cn(n)))return gx("Unsupported field value:",e,n),Ib(n,e);if(n instanceof mx)return(function(r,s){if(!Nb(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(s);o&&s.fieldTransforms.push(o)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const o=[];let u=0;for(const d of r){let m=kd(d,s.wc(u));m==null&&(m={nullValue:"NULL_VALUE"}),o.push(m),u++}return{arrayValue:{values:o}}})(n,e)}return(function(r,s){if((r=cn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dk(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Ke.fromDate(r);return{timestampValue:em(s.serializer,o)}}if(r instanceof Ke){const o=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:em(s.serializer,o)}}if(r instanceof js)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Oa)return{bytesValue:YS(s.serializer,r._byteString)};if(r instanceof xn){const o=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(o))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Y1(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof ks)return(function(u,d){return{mapValue:{fields:{[SS]:{stringValue:bS},[Y0]:{arrayValue:{values:u.toArray().map((f=>{if(typeof f!="number")throw d.Sc("VectorValues must only contain numeric values.");return $1(d.serializer,f)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${Cm(r)}`)})(n,e)}function Ib(n,e){const t={};return _S(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Uo(n,((r,s)=>{const o=kd(s,e.mc(r));o!=null&&(t[r]=o)})),{mapValue:{fields:t}}}function Rb(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ke||n instanceof js||n instanceof Oa||n instanceof xn||n instanceof mx||n instanceof ks)}function gx(n,e,t){if(!Rb(t)||!vS(t)){const r=Cm(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function h1(n,e,t){if((e=cn(e))instanceof qm)return e._internalPath;if(typeof e=="string")return vx(n,e);throw sm("Field path arguments must be of type string or ",n,!1,void 0,t)}const G6=new RegExp("[~\\*/\\[\\]]");function vx(n,e,t){if(e.search(G6)>=0)throw sm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new qm(...e.split("."))._internalPath}catch{throw sm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function sm(n,e,t,r,s){const o=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let m="";return(o||u)&&(m+=" (found",o&&(m+=` in field ${r}`),u&&(m+=` in document ${s}`),m+=")"),new qe(Ne.INVALID_ARGUMENT,d+n+m)}function Db(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb{constructor(e,t,r,s,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new $6(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($m("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class $6 extends jb{data(){return super.data()}}function $m(n,e){return typeof e=="string"?vx(n,e):e instanceof qm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new qe(Ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xx{}class Ob extends xx{}function _r(n,e,...t){let r=[];e instanceof xx&&r.push(e),r=r.concat(t),(function(o){const u=o.filter((m=>m instanceof _x)).length,d=o.filter((m=>m instanceof Km)).length;if(u>1||u>0&&d>0)throw new qe(Ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const s of r)n=s._apply(n);return n}class Km extends Ob{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Km(e,t,r)}_apply(e){const t=this._parse(e);return Mb(e._query,t),new zo(e.firestore,e.converter,e1(e._query,t))}_parse(e){const t=Hm(e.firestore);return(function(o,u,d,m,f,v,_){let y;if(f.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){hw(_,v);const b=[];for(const w of _)b.push(uw(m,o,w));y={arrayValue:{values:b}}}else y=uw(m,o,_)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||hw(_,v),y=H6(d,u,_,v==="in"||v==="not-in");return On.create(f,v,y)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xr(n,e,t){const r=e,s=$m("where",n);return Km._create(s,r,t)}class _x extends xx{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _x(e,t)}_parse(e){const t=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return t.length===1?t[0]:os.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(s,o){let u=s;const d=o.getFlattenedFilters();for(const m of d)Mb(u,m),u=e1(u,m)})(e._query,t),new zo(e.firestore,e.converter,e1(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class yx extends Ob{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new yx(e,t)}_apply(e){const t=(function(s,o,u){if(s.startAt!==null)throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new od(o,u)})(e._query,this._field,this._direction);return new zo(e.firestore,e.converter,(function(s,o){const u=s.explicitOrderBy.concat([o]);return new xu(s.path,s.collectionGroup,u,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)})(e._query,t))}}function Fa(n,e="asc"){const t=e,r=$m("orderBy",n);return yx._create(r,t)}function uw(n,e,t){if(typeof(t=cn(t))=="string"){if(t==="")throw new qe(Ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!OS(e)&&t.indexOf("/")!==-1)throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Jt.fromString(t));if(!et.isDocumentKey(r))throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return bT(n,new et(r))}if(t instanceof xn)return bT(n,t._key);throw new qe(Ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Cm(t)}.`)}function hw(n,e){if(!Array.isArray(n)||n.length===0)throw new qe(Ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Mb(n,e){const t=(function(s,o){for(const u of s)for(const d of u.getFlattenedFilters())if(o.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new qe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new qe(Ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class K6{convertValue(e,t="none"){switch(Ro(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Sn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Io(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw at(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Uo(e,((s,o)=>{r[s]=this.convertValue(o,t)})),r}convertVectorValue(e){const t=e.fields?.[Y0].arrayValue?.values?.map((r=>Sn(r.doubleValue)));return new ks(t)}convertGeoPoint(e){return new js(Sn(e.latitude),Sn(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Dm(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ad(e));default:return null}}convertTimestamp(e){const t=Co(e);return new Ke(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Jt.fromString(e);jt(nb(r),9688,{name:e});const s=new sd(r.get(1),r.get(3)),o=new et(r.popFirst(5));return s.isEqual(t)||wi(`Document ${o} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Lh{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wl extends jb{constructor(e,t,r,s,o,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new P0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($m("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ne.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=wl._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}wl._jsonSchemaVersion="firestore/documentSnapshot/1.0",wl._jsonSchema={type:Mn("string",wl._jsonSchemaVersion),bundleSource:Mn("string","DocumentSnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class P0 extends wl{data(e={}){return super.data(e)}}class Al{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Lh(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new P0(this._firestore,this._userDataWriter,r.key,r,new Lh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new qe(Ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,o){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const m=new P0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Lh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>o||d.type!==3)).map((d=>{const m=new P0(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Lh(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let f=-1,v=-1;return d.type!==0&&(f=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),v=u.indexOf(d.doc.key)),{type:W6(d.type),doc:m,oldIndex:f,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new qe(Ne.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Al._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=U1.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((o=>{o._document!==null&&(t.push(o._document),r.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),s.push(o.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function W6(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return at(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ma(n){n=Gr(n,xn);const e=Gr(n.firestore,Si);return O6(zm(e),n._key).then((t=>Fb(e,n,t)))}Al._jsonSchemaVersion="firestore/querySnapshot/1.0",Al._jsonSchema={type:Mn("string",Al._jsonSchemaVersion),bundleSource:Mn("string","QuerySnapshot"),bundleName:Mn("string"),bundle:Mn("string")};class Ex extends K6{constructor(e){super(),this.firestore=e}convertBytes(e){return new Oa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xn(this.firestore,null,t)}}function jr(n){n=Gr(n,zo);const e=Gr(n.firestore,Si),t=zm(e),r=new Ex(e);return kb(n._query),M6(t,n._query).then((s=>new Al(e,r,n,s)))}function dw(n,e,t){n=Gr(n,xn);const r=Gr(n.firestore,Si),s=Pb(n.converter,e);return Wm(r,[Cb(Hm(r),"setDoc",n._key,s,n.converter!==null,t).toMutation(n._key,Pa.none())])}function pa(n,e,t,...r){n=Gr(n,xn);const s=Gr(n.firestore,Si),o=Hm(s);let u;return u=typeof(e=cn(e))=="string"||e instanceof qm?q6(o,"updateDoc",n._key,e,t,r):z6(o,"updateDoc",n._key,e),Wm(s,[u.toMutation(n._key,Pa.exists(!0))])}function ls(n){return Wm(Gr(n.firestore,Si),[new K1(n._key,Pa.none())])}function Ls(n,e){const t=Gr(n.firestore,Si),r=Et(n),s=Pb(n.converter,e);return Wm(t,[Cb(Hm(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Pa.exists(!1))]).then((()=>r))}function X6(n,...e){n=cn(n);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||cw(e[r])||(t=e[r++]);const s={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(cw(e[r])){const m=e[r];e[r]=m.next?.bind(m),e[r+1]=m.error?.bind(m),e[r+2]=m.complete?.bind(m)}let o,u,d;if(n instanceof xn)u=Gr(n.firestore,Si),d=jm(n._key.path),o={next:m=>{e[r]&&e[r](Fb(u,n,m))},error:e[r+1],complete:e[r+2]};else{const m=Gr(n,zo);u=Gr(m.firestore,Si),d=m._query;const f=new Ex(u);o={next:v=>{e[r]&&e[r](new Al(u,f,m,v))},error:e[r+1],complete:e[r+2]},kb(n._query)}return(function(f,v,_,y){const E=new fx(y),b=new ux(v,E,_);return f.asyncQueue.enqueueAndForget((async()=>ox(await am(f),b))),()=>{E.Nu(),f.asyncQueue.enqueueAndForget((async()=>lx(await am(f),b)))}})(zm(u),d,s,o)}function Wm(n,e){return(function(r,s){const o=new pi;return r.asyncQueue.enqueueAndForget((async()=>T6(await k6(r),s,o))),o.promise})(zm(n),e)}function Fb(n,e,t){const r=t.docs.get(e._key),s=new Ex(n);return new wl(n,s,e._key,r,new Lh(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){pu=s})(Vl),Il(new bo("firestore",((r,{instanceIdentifier:s,options:o})=>{const u=r.getProvider("app").getImmediate(),d=new Si(new qj(r.getProvider("auth-internal")),new $j(u,r.getProvider("app-check-internal")),(function(f,v){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new qe(Ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sd(f.options.projectId,v)})(u,s),u);return o={useFetchStreams:t,...o},d._setSettings(o),d}),"PUBLIC").setMultipleInstances(!0)),Ns(fT,mT,e),Ns(fT,mT,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb="firebasestorage.googleapis.com",Vb="storageBucket",Y6=120*1e3,Q6=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En extends Fs{constructor(e,t,r=0){super(yv(e),`Firebase Storage: ${t} (${yv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,En.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return yv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var yn;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(yn||(yn={}));function yv(n){return"storage/"+n}function Tx(){const n="An unknown error occurred, please check the error payload for server response.";return new En(yn.UNKNOWN,n)}function J6(n){return new En(yn.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function Z6(n){return new En(yn.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function eM(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new En(yn.UNAUTHENTICATED,n)}function tM(){return new En(yn.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function nM(n){return new En(yn.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function rM(){return new En(yn.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function aM(){return new En(yn.CANCELED,"User canceled the upload/download.")}function sM(n){return new En(yn.INVALID_URL,"Invalid URL '"+n+"'.")}function iM(n){return new En(yn.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function oM(){return new En(yn.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Vb+"' property when initializing the app?")}function lM(){return new En(yn.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function cM(){return new En(yn.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function uM(n){return new En(yn.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function d1(n){return new En(yn.INVALID_ARGUMENT,n)}function Ub(){return new En(yn.APP_DELETED,"The Firebase app was deleted.")}function hM(n){return new En(yn.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Kh(n,e){return new En(yn.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function Sh(n){throw new En(yn.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fa{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=fa.makeFromUrl(e,t)}catch{return new fa(e,"")}if(r.path==="")return r;throw iM(e)}static makeFromUrl(e,t){let r=null;const s="([A-Za-z0-9.\\-_]+)";function o(X){X.path.charAt(X.path.length-1)==="/"&&(X.path_=X.path_.slice(0,-1))}const u="(/(.*))?$",d=new RegExp("^gs://"+s+u,"i"),m={bucket:1,path:3};function f(X){X.path_=decodeURIComponent(X.path)}const v="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),y="(/([^?#]*).*)?$",E=new RegExp(`^https?://${_}/${v}/b/${s}/o${y}`,"i"),b={bucket:1,path:3},w=t===Lb?"(?:storage.googleapis.com|storage.cloud.google.com)":t,S="([^?#]*)",k=new RegExp(`^https?://${w}/${s}/${S}`,"i"),j=[{regex:d,indices:m,postModify:o},{regex:E,indices:b,postModify:f},{regex:k,indices:{bucket:1,path:2},postModify:f}];for(let X=0;X<j.length;X++){const te=j[X],ie=te.regex.exec(e);if(ie){const I=ie[te.indices.bucket];let R=ie[te.indices.path];R||(R=""),r=new fa(I,R),te.postModify(r);break}}if(r==null)throw sM(e);return r}}class dM{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fM(n,e,t){let r=1,s=null,o=null,u=!1,d=0;function m(){return d===2}let f=!1;function v(...S){f||(f=!0,e.apply(null,S))}function _(S){s=setTimeout(()=>{s=null,n(E,m())},S)}function y(){o&&clearTimeout(o)}function E(S,...k){if(f){y();return}if(S){y(),v.call(null,S,...k);return}if(m()||u){y(),v.call(null,S,...k);return}r<64&&(r*=2);let j;d===1?(d=2,j=0):j=(r+Math.random())*1e3,_(j)}let b=!1;function w(S){b||(b=!0,y(),!f&&(s!==null?(S||(d=2),clearTimeout(s),_(0)):S||(d=1)))}return _(0),o=setTimeout(()=>{u=!0,w(!0)},t),w}function mM(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(n){return n!==void 0}function gM(n){return typeof n=="object"&&!Array.isArray(n)}function wx(n){return typeof n=="string"||n instanceof String}function fw(n){return Ax()&&n instanceof Blob}function Ax(){return typeof Blob<"u"}function mw(n,e,t,r){if(r<e)throw d1(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw d1(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xm(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function Bb(n){const e=encodeURIComponent;let t="?";for(const r in n)if(n.hasOwnProperty(r)){const s=e(r)+"="+e(n[r]);t=t+s+"&"}return t=t.slice(0,-1),t}var Sl;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Sl||(Sl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vM(n,e){const t=n>=500&&n<600,s=[408,429].indexOf(n)!==-1,o=e.indexOf(n)!==-1;return t||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xM{constructor(e,t,r,s,o,u,d,m,f,v,_,y=!0,E=!1){this.url_=e,this.method_=t,this.headers_=r,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=u,this.callback_=d,this.errorCallback_=m,this.timeout_=f,this.progressCallback_=v,this.connectionFactory_=_,this.retry=y,this.isUsingEmulator=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((b,w)=>{this.resolve_=b,this.reject_=w,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new f0(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const u=d=>{const m=d.loaded,f=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,f)};this.progressCallback_!==null&&o.addUploadProgressListener(u),o.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(u),this.pendingConnection_=null;const d=o.getErrorCode()===Sl.NO_ERROR,m=o.getStatus();if(!d||vM(m,this.additionalRetryCodes_)&&this.retry){const v=o.getErrorCode()===Sl.ABORT;r(!1,new f0(!1,null,v));return}const f=this.successCodes_.indexOf(m)!==-1;r(!0,new f0(f,o))})},t=(r,s)=>{const o=this.resolve_,u=this.reject_,d=s.connection;if(s.wasSuccessCode)try{const m=this.callback_(d,d.getResponse());pM(m)?o(m):o()}catch(m){u(m)}else if(d!==null){const m=Tx();m.serverResponse=d.getErrorText(),this.errorCallback_?u(this.errorCallback_(d,m)):u(m)}else if(s.canceled){const m=this.appDelete_?Ub():aM();u(m)}else{const m=rM();u(m)}};this.canceled_?t(!1,new f0(!1,null,!0)):this.backoffId_=fM(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&mM(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class f0{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function _M(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function yM(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function EM(n,e){e&&(n["X-Firebase-GMPID"]=e)}function TM(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function wM(n,e,t,r,s,o,u=!0,d=!1){const m=Bb(n.urlParams),f=n.url+m,v=Object.assign({},n.headers);return EM(v,e),_M(v,t),yM(v,o),TM(v,r),new xM(f,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,s,u,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AM(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function SM(...n){const e=AM();if(e!==void 0){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(Ax())return new Blob(n);throw new En(yn.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function bM(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NM(n){if(typeof atob>"u")throw uM("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Ev{constructor(e,t){this.data=e,this.contentType=t||null}}function CM(n,e){switch(n){case bs.RAW:return new Ev(zb(e));case bs.BASE64:case bs.BASE64URL:return new Ev(qb(n,e));case bs.DATA_URL:return new Ev(RM(e),DM(e))}throw Tx()}function zb(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const o=r,u=n.charCodeAt(++t);r=65536|(o&1023)<<10|u&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function IM(n){let e;try{e=decodeURIComponent(n)}catch{throw Kh(bs.DATA_URL,"Malformed data URL.")}return zb(e)}function qb(n,e){switch(n){case bs.BASE64:{const s=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(s||o)throw Kh(n,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case bs.BASE64URL:{const s=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(s||o)throw Kh(n,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=NM(e)}catch(s){throw s.message.includes("polyfill")?s:Kh(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}class Hb{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Kh(bs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;r!=null&&(this.base64=jM(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function RM(n){const e=new Hb(n);return e.base64?qb(bs.BASE64,e.rest):IM(e.rest)}function DM(n){return new Hb(n).contentType}function jM(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,t){let r=0,s="";fw(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,t){if(fw(this.data_)){const r=this.data_,s=bM(r,e,t);return s===null?null:new xo(s)}else{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xo(r,!0)}}static getBlob(...e){if(Ax()){const t=e.map(r=>r instanceof xo?r.data_:r);return new xo(SM.apply(null,t))}else{const t=e.map(u=>wx(u)?CM(bs.RAW,u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const s=new Uint8Array(r);let o=0;return t.forEach(u=>{for(let d=0;d<u.length;d++)s[o++]=u[d]}),new xo(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gb(n){let e;try{e=JSON.parse(n)}catch{return null}return gM(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kM(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function OM(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function $b(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MM(n,e){return e}class Ir{constructor(e,t,r,s){this.server=e,this.local=t||e,this.writable=!!r,this.xform=s||MM}}let m0=null;function PM(n){return!wx(n)||n.length<2?n:$b(n)}function Kb(){if(m0)return m0;const n=[];n.push(new Ir("bucket")),n.push(new Ir("generation")),n.push(new Ir("metageneration")),n.push(new Ir("name","fullPath",!0));function e(o,u){return PM(u)}const t=new Ir("name");t.xform=e,n.push(t);function r(o,u){return u!==void 0?Number(u):u}const s=new Ir("size");return s.xform=r,n.push(s),n.push(new Ir("timeCreated")),n.push(new Ir("updated")),n.push(new Ir("md5Hash",null,!0)),n.push(new Ir("cacheControl",null,!0)),n.push(new Ir("contentDisposition",null,!0)),n.push(new Ir("contentEncoding",null,!0)),n.push(new Ir("contentLanguage",null,!0)),n.push(new Ir("contentType",null,!0)),n.push(new Ir("metadata","customMetadata",!0)),m0=n,m0}function FM(n,e){function t(){const r=n.bucket,s=n.fullPath,o=new fa(r,s);return e._makeStorageReference(o)}Object.defineProperty(n,"ref",{get:t})}function LM(n,e,t){const r={};r.type="file";const s=t.length;for(let o=0;o<s;o++){const u=t[o];r[u.local]=u.xform(r,e[u.server])}return FM(r,n),r}function Wb(n,e,t){const r=Gb(e);return r===null?null:LM(n,r,t)}function VM(n,e,t,r){const s=Gb(e);if(s===null||!wx(s.downloadTokens))return null;const o=s.downloadTokens;if(o.length===0)return null;const u=encodeURIComponent;return o.split(",").map(f=>{const v=n.bucket,_=n.fullPath,y="/b/"+u(v)+"/o/"+u(_),E=Xm(y,t,r),b=Bb({alt:"media",token:f});return E+b})[0]}function UM(n,e){const t={},r=e.length;for(let s=0;s<r;s++){const o=e[s];o.writable&&(t[o.server]=n[o.local])}return JSON.stringify(t)}class Sx{constructor(e,t,r,s){this.url=e,this.method=t,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xb(n){if(!n)throw Tx()}function BM(n,e){function t(r,s){const o=Wb(n,s,e);return Xb(o!==null),o}return t}function zM(n,e){function t(r,s){const o=Wb(n,s,e);return Xb(o!==null),VM(o,s,n.host,n._protocol)}return t}function Yb(n){function e(t,r){let s;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?s=tM():s=eM():t.getStatus()===402?s=Z6(n.bucket):t.getStatus()===403?s=nM(n.path):s=r,s.status=t.getStatus(),s.serverResponse=r.serverResponse,s}return e}function Qb(n){const e=Yb(n);function t(r,s){let o=e(r,s);return r.getStatus()===404&&(o=J6(n.path)),o.serverResponse=s.serverResponse,o}return t}function qM(n,e,t){const r=e.fullServerUrl(),s=Xm(r,n.host,n._protocol),o="GET",u=n.maxOperationRetryTime,d=new Sx(s,o,zM(n,t),u);return d.errorHandler=Qb(e),d}function HM(n,e){const t=e.fullServerUrl(),r=Xm(t,n.host,n._protocol),s="DELETE",o=n.maxOperationRetryTime;function u(m,f){}const d=new Sx(r,s,u,o);return d.successCodes=[200,204],d.errorHandler=Qb(e),d}function GM(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function $M(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=GM(null,e)),r}function KM(n,e,t,r,s){const o=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function d(){let j="";for(let X=0;X<2;X++)j=j+Math.random().toString().slice(2);return j}const m=d();u["Content-Type"]="multipart/related; boundary="+m;const f=$M(e,r,s),v=UM(f,t),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+v+`\r
--`+m+`\r
Content-Type: `+f.contentType+`\r
\r
`,y=`\r
--`+m+"--",E=xo.getBlob(_,r,y);if(E===null)throw lM();const b={name:f.fullPath},w=Xm(o,n.host,n._protocol),S="POST",k=n.maxUploadRetryTime,D=new Sx(w,S,BM(n,t),k);return D.urlParams=b,D.headers=u,D.body=E.uploadData(),D.errorHandler=Yb(e),D}class WM{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Sl.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Sl.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Sl.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,s,o){if(this.sent_)throw Sh("cannot .send() more than once");if(Fo(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const u in o)o.hasOwnProperty(u)&&this.xhr_.setRequestHeader(u,o[u].toString());return s!==void 0?this.xhr_.send(s):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Sh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Sh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Sh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Sh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class XM extends WM{initXhr(){this.xhr_.responseType="text"}}function bx(){return new XM}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t){this._service=e,t instanceof fa?this._location=t:this._location=fa.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Ol(e,t)}get root(){const e=new fa(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return $b(this._location.path)}get storage(){return this._service}get parent(){const e=kM(this._location.path);if(e===null)return null;const t=new fa(this._location.bucket,e);return new Ol(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw hM(e)}}function YM(n,e,t){n._throwIfRoot("uploadBytes");const r=KM(n.storage,n._location,Kb(),new xo(e,!0),t);return n.storage.makeRequestWithTokens(r,bx).then(s=>({metadata:s,ref:n}))}function QM(n){n._throwIfRoot("getDownloadURL");const e=qM(n.storage,n._location,Kb());return n.storage.makeRequestWithTokens(e,bx).then(t=>{if(t===null)throw cM();return t})}function JM(n){n._throwIfRoot("deleteObject");const e=HM(n.storage,n._location);return n.storage.makeRequestWithTokens(e,bx)}function ZM(n,e){const t=OM(n._location.path,e),r=new fa(n._location.bucket,t);return new Ol(n.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e8(n){return/^[A-Za-z]+:\/\//.test(n)}function t8(n,e){return new Ol(n,e)}function Jb(n,e){if(n instanceof Nx){const t=n;if(t._bucket==null)throw oM();const r=new Ol(t,t._bucket);return e!=null?Jb(r,e):r}else return e!==void 0?ZM(n,e):n}function n8(n,e){if(e&&e8(e)){if(n instanceof Nx)return t8(n,e);throw d1("To use ref(service, url), the first argument must be a Storage instance.")}else return Jb(n,e)}function pw(n,e){const t=e?.[Vb];return t==null?null:fa.makeFromBucketSpec(t,n)}function r8(n,e,t,r={}){n.host=`${e}:${t}`;const s=Fo(e);s&&(b1(`https://${n.host}/b`),N1("Storage",!0)),n._isUsingEmulator=!0,n._protocol=s?"https":"http";const{mockUserToken:o}=r;o&&(n._overrideAuthToken=typeof o=="string"?o:TA(o,n.app.options.projectId))}class Nx{constructor(e,t,r,s,o,u=!1){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=s,this._firebaseVersion=o,this._isUsingEmulator=u,this._bucket=null,this._host=Lb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=Y6,this._maxUploadRetryTime=Q6,this._requests=new Set,s!=null?this._bucket=fa.makeFromBucketSpec(s,this._host):this._bucket=pw(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fa.makeFromBucketSpec(this._url,e):this._bucket=pw(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){mw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){if(ha(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ol(this,e)}_makeRequest(e,t,r,s,o=!0){if(this._deleted)return new dM(Ub());{const u=wM(e,this._appId,r,s,t,this._firebaseVersion,o,this._isUsingEmulator);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,s).getPromise()}}const gw="@firebase/storage",vw="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="storage";function a8(n,e,t){return n=cn(n),YM(n,e,t)}function s8(n){return n=cn(n),QM(n)}function xw(n){return n=cn(n),JM(n)}function Tv(n,e){return n=cn(n),n8(n,e)}function i8(n=R1(),e){n=cn(n);const r=Am(n,Zb).getImmediate({identifier:e}),s=_A("storage");return s&&o8(r,...s),r}function o8(n,e,t,r={}){r8(n,e,t,r)}function l8(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),s=n.getProvider("app-check-internal");return new Nx(t,r,s,e,Vl)}function c8(){Il(new bo(Zb,l8,"PUBLIC").setMultipleInstances(!0)),Ns(gw,vw,""),Ns(gw,vw,"esm2020")}c8();const u8={apiKey:"AIzaSyCPjYXHSx_RgxBs8fXhYKbX1kCohqARi7k",authDomain:"carlos-3d173.firebaseapp.com",projectId:"carlos-3d173",storageBucket:"carlos-3d173.firebasestorage.app",messagingSenderId:"477163826623",appId:"1:477163826623:web:e6f176af4ff42df0fdc50a"},Cx=SA(u8),p0=Vj(Cx),Qe=F6(Cx),wv=i8(Cx);function Zc(n){if(typeof n=="string")return n;switch(n?.code||""){case"auth/user-not-found":return"Usurio no encontrado. Verifique seu email.";case"auth/wrong-password":return"Senha incorreta. Tente novamente.";case"auth/invalid-email":return"Email invlido. Verifique o formato.";case"auth/too-many-requests":return"Muitas tentativas. Tente novamente em alguns minutos.";case"auth/user-disabled":return"Conta desabilitada. Entre em contato com o suporte.";case"auth/network-request-failed":return"Erro de conexo. Verifique sua internet.";case"auth/invalid-api-key":return"Erro de configurao. Entre em contato com o suporte.";default:return"Erro inesperado. Tente novamente."}}const Av={async logOut(){try{await CD(p0)}catch(n){const e=Zc(n);throw new Error(e)}},async login(n){try{const t=(await AD(p0,n.email,n.password)).user,r=await ma(Et(Qe,"users",t.uid));if(!r.exists())throw new Error("Usurio no encontrado");const o={...r.data(),lastLogin:new Date};return await dw(Et(Qe,"users",t.uid),o),o}catch(e){const t=Zc(e);throw new Error(t)}},async register(n){try{if(!n.email||!n.password||!n.name)throw new Error("Todos os campos so obrigatrios");if(n.password.length<6)throw new Error("A senha deve ter pelo menos 6 caracteres");const t=(await wD(p0,n.email,n.password)).user,r={uid:t.uid,email:n.email,name:n.name,createdAt:new Date,updatedAt:new Date,role:n.role||"user"};return await dw(Et(Qe,"users",t.uid),r),r}catch(e){const t=Zc(e);throw new Error(t)}},observeAuthState(n){try{return ND(p0,async e=>{if(console.log(" Auth state changed:",e?e.uid:"null"),e)try{const t=await ma(Et(Qe,"users",e.uid));if(t.exists()){const r=t.data();console.log(" Usurio autenticado:",r),n(r)}else console.log(" Usurio no encontrado no Firestore"),n(null)}catch(t){console.error(" Erro ao buscar dados do usurio:",t),n(null)}else console.log(" Usurio deslogado"),n(null)})}catch(e){throw new Error("Erro ao observar estado de autenticao: "+e)}}},eN=P.createContext(void 0);function h8({children:n}){const[e,t]=P.useState(null),[r,s]=P.useState(!0),[o,u]=P.useState(null);P.useEffect(()=>{t(null),s(!1)},[]);const _={user:e,loading:r,error:o,login:async y=>{try{s(!0),u(null);const E=await Av.login(y);t(E),s(!1)}catch(E){const b=Zc(E);u(b),s(!1),t(null)}},register:async y=>{try{s(!0),u(null);const E=await Av.register(y);t(E),s(!1)}catch(E){const b=Zc(E);u(b),s(!1),t(null)}},logout:async()=>{try{s(!0),u(null),await Av.logOut(),t(null),s(!1)}catch(y){const E=Zc(y);u(E),s(!1)}},clearError:()=>{u(null)}};return l.jsx(eN.Provider,{value:_,children:n})}/**
 * react-router v7.9.4
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var _w="popstate";function d8(n={}){function e(r,s){let{pathname:o,search:u,hash:d}=r.location;return f1("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:ud(s)}return m8(e,t,null,n)}function ln(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function La(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f8(){return Math.random().toString(36).substring(2,10)}function yw(n,e){return{usr:n.state,key:n.key,idx:e}}function f1(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?yu(e):e,state:t,key:e&&e.key||r||f8()}}function ud({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function yu(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function m8(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:o=!1}=r,u=s.history,d="POP",m=null,f=v();f==null&&(f=0,u.replaceState({...u.state,idx:f},""));function v(){return(u.state||{idx:null}).idx}function _(){d="POP";let S=v(),k=S==null?null:S-f;f=S,m&&m({action:d,location:w.location,delta:k})}function y(S,k){d="PUSH";let D=f1(w.location,S,k);f=v()+1;let j=yw(D,f),X=w.createHref(D);try{u.pushState(j,"",X)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;s.location.assign(X)}o&&m&&m({action:d,location:w.location,delta:1})}function E(S,k){d="REPLACE";let D=f1(w.location,S,k);f=v();let j=yw(D,f),X=w.createHref(D);u.replaceState(j,"",X),o&&m&&m({action:d,location:w.location,delta:0})}function b(S){return p8(S)}let w={get action(){return d},get location(){return n(s,u)},listen(S){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(_w,_),m=S,()=>{s.removeEventListener(_w,_),m=null}},createHref(S){return e(s,S)},createURL:b,encodeLocation(S){let k=b(S);return{pathname:k.pathname,search:k.search,hash:k.hash}},push:y,replace:E,go(S){return u.go(S)}};return w}function p8(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ln(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:ud(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function tN(n,e,t="/"){return g8(n,e,t,!1)}function g8(n,e,t,r){let s=typeof e=="string"?yu(e):e,o=bi(s.pathname||"/",t);if(o==null)return null;let u=nN(n);v8(u);let d=null;for(let m=0;d==null&&m<u.length;++m){let f=C8(o);d=b8(u[m],f,r)}return d}function nN(n,e=[],t=[],r="",s=!1){let o=(u,d,m=s,f)=>{let v={relativePath:f===void 0?u.path||"":f,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(r)&&m)return;ln(v.relativePath.startsWith(r),`Absolute route path "${v.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(r.length)}let _=gi([r,v.relativePath]),y=t.concat(v);u.children&&u.children.length>0&&(ln(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),nN(u.children,e,y,_,m)),!(u.path==null&&!u.index)&&e.push({path:_,score:A8(_,u.index),routesMeta:y})};return n.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let m of rN(u.path))o(u,d,!0,m)}),e}function rN(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let u=rN(r.join("/")),d=[];return d.push(...u.map(m=>m===""?o:[o,m].join("/"))),s&&d.push(...u),d.map(m=>n.startsWith("/")&&m===""?"/":m)}function v8(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:S8(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var x8=/^:[\w-]+$/,_8=3,y8=2,E8=1,T8=10,w8=-2,Ew=n=>n==="*";function A8(n,e){let t=n.split("/"),r=t.length;return t.some(Ew)&&(r+=w8),e&&(r+=y8),t.filter(s=>!Ew(s)).reduce((s,o)=>s+(x8.test(o)?_8:o===""?E8:T8),r)}function S8(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function b8(n,e,t=!1){let{routesMeta:r}=n,s={},o="/",u=[];for(let d=0;d<r.length;++d){let m=r[d],f=d===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=im({path:m.relativePath,caseSensitive:m.caseSensitive,end:f},v),y=m.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=im({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:gi([o,_.pathname]),pathnameBase:j8(gi([o,_.pathnameBase])),route:y}),_.pathnameBase!=="/"&&(o=gi([o,_.pathnameBase]))}return u}function im(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=N8(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((f,{paramName:v,isOptional:_},y)=>{if(v==="*"){let b=d[y]||"";u=o.slice(0,o.length-b.length).replace(/(.)\/+$/,"$1")}const E=d[y];return _&&!E?f[v]=void 0:f[v]=(E||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:u,pattern:n}}function N8(n,e=!1,t=!0){La(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,m)=>(r.push({paramName:d,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function C8(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return La(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function I8(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?yu(n):n;return{pathname:t?t.startsWith("/")?t:R8(t,e):e,search:k8(r),hash:O8(s)}}function R8(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Sv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function D8(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ix(n){let e=D8(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Rx(n,e,t,r=!1){let s;typeof n=="string"?s=yu(n):(s={...n},ln(!s.pathname||!s.pathname.includes("?"),Sv("?","pathname","search",s)),ln(!s.pathname||!s.pathname.includes("#"),Sv("#","pathname","hash",s)),ln(!s.search||!s.search.includes("#"),Sv("#","search","hash",s)));let o=n===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let y=u.split("/");for(;y[0]==="..";)y.shift(),_-=1;s.pathname=y.join("/")}d=_>=0?e[_]:"/"}let m=I8(s,d),f=u&&u!=="/"&&u.endsWith("/"),v=(o||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(f||v)&&(m.pathname+="/"),m}var gi=n=>n.join("/").replace(/\/\/+/g,"/"),j8=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),k8=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,O8=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function M8(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var aN=["POST","PUT","PATCH","DELETE"];new Set(aN);var P8=["GET",...aN];new Set(P8);var Eu=P.createContext(null);Eu.displayName="DataRouter";var Ym=P.createContext(null);Ym.displayName="DataRouterState";P.createContext(!1);var sN=P.createContext({isTransitioning:!1});sN.displayName="ViewTransition";var F8=P.createContext(new Map);F8.displayName="Fetchers";var L8=P.createContext(null);L8.displayName="Await";var cs=P.createContext(null);cs.displayName="Navigation";var Od=P.createContext(null);Od.displayName="Location";var us=P.createContext({outlet:null,matches:[],isDataRoute:!1});us.displayName="Route";var Dx=P.createContext(null);Dx.displayName="RouteError";function V8(n,{relative:e}={}){ln(Tu(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=P.useContext(cs),{hash:s,pathname:o,search:u}=Md(n,{relative:e}),d=o;return t!=="/"&&(d=o==="/"?t:gi([t,o])),r.createHref({pathname:d,search:u,hash:s})}function Tu(){return P.useContext(Od)!=null}function Ri(){return ln(Tu(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(Od).location}var iN="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function oN(n){P.useContext(cs).static||P.useLayoutEffect(n)}function Or(){let{isDataRoute:n}=P.useContext(us);return n?J8():U8()}function U8(){ln(Tu(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(Eu),{basename:e,navigator:t}=P.useContext(cs),{matches:r}=P.useContext(us),{pathname:s}=Ri(),o=JSON.stringify(Ix(r)),u=P.useRef(!1);return oN(()=>{u.current=!0}),P.useCallback((m,f={})=>{if(La(u.current,iN),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=Rx(m,JSON.parse(o),s,f.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:gi([e,v.pathname])),(f.replace?t.replace:t.push)(v,f.state,f)},[e,t,o,s,n])}P.createContext(null);function ur(){let{matches:n}=P.useContext(us),e=n[n.length-1];return e?e.params:{}}function Md(n,{relative:e}={}){let{matches:t}=P.useContext(us),{pathname:r}=Ri(),s=JSON.stringify(Ix(t));return P.useMemo(()=>Rx(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function B8(n,e){return lN(n,e)}function lN(n,e,t,r,s){ln(Tu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=P.useContext(cs),{matches:u}=P.useContext(us),d=u[u.length-1],m=d?d.params:{},f=d?d.pathname:"/",v=d?d.pathnameBase:"/",_=d&&d.route;{let D=_&&_.path||"";cN(f,!_||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let y=Ri(),E;if(e){let D=typeof e=="string"?yu(e):e;ln(v==="/"||D.pathname?.startsWith(v),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${D.pathname}" was given in the \`location\` prop.`),E=D}else E=y;let b=E.pathname||"/",w=b;if(v!=="/"){let D=v.replace(/^\//,"").split("/");w="/"+b.replace(/^\//,"").split("/").slice(D.length).join("/")}let S=tN(n,{pathname:w});La(_||S!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),La(S==null||S[S.length-1].route.element!==void 0||S[S.length-1].route.Component!==void 0||S[S.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=$8(S&&S.map(D=>Object.assign({},D,{params:Object.assign({},m,D.params),pathname:gi([v,o.encodeLocation?o.encodeLocation(D.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?v:gi([v,o.encodeLocation?o.encodeLocation(D.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:D.pathnameBase])})),u,t,r,s);return e&&k?P.createElement(Od.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},k):k}function z8(){let n=Q8(),e=M8(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:o},"ErrorBoundary")," or"," ",P.createElement("code",{style:o},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),t?P.createElement("pre",{style:s},t):null,u)}var q8=P.createElement(z8,null),H8=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.unstable_onError?this.props.unstable_onError(n,e):console.error("React Router caught the following error during render",n)}render(){return this.state.error!==void 0?P.createElement(us.Provider,{value:this.props.routeContext},P.createElement(Dx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function G8({routeContext:n,match:e,children:t}){let r=P.useContext(Eu);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(us.Provider,{value:n},t)}function $8(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,u=t?.errors;if(u!=null){let f=o.findIndex(v=>v.route.id&&u?.[v.route.id]!==void 0);ln(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,f+1))}let d=!1,m=-1;if(t)for(let f=0;f<o.length;f++){let v=o[f];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=f),v.route.id){let{loaderData:_,errors:y}=t,E=v.route.loader&&!_.hasOwnProperty(v.route.id)&&(!y||y[v.route.id]===void 0);if(v.route.lazy||E){d=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((f,v,_)=>{let y,E=!1,b=null,w=null;t&&(y=u&&v.route.id?u[v.route.id]:void 0,b=v.route.errorElement||q8,d&&(m<0&&_===0?(cN("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),E=!0,w=null):m===_&&(E=!0,w=v.route.hydrateFallbackElement||null)));let S=e.concat(o.slice(0,_+1)),k=()=>{let D;return y?D=b:E?D=w:v.route.Component?D=P.createElement(v.route.Component,null):v.route.element?D=v.route.element:D=f,P.createElement(G8,{match:v,routeContext:{outlet:f,matches:S,isDataRoute:t!=null},children:D})};return t&&(v.route.ErrorBoundary||v.route.errorElement||_===0)?P.createElement(H8,{location:t.location,revalidation:t.revalidation,component:b,error:y,children:k(),routeContext:{outlet:null,matches:S,isDataRoute:!0},unstable_onError:r}):k()},null)}function jx(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function K8(n){let e=P.useContext(Eu);return ln(e,jx(n)),e}function W8(n){let e=P.useContext(Ym);return ln(e,jx(n)),e}function X8(n){let e=P.useContext(us);return ln(e,jx(n)),e}function kx(n){let e=X8(n),t=e.matches[e.matches.length-1];return ln(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Y8(){return kx("useRouteId")}function Q8(){let n=P.useContext(Dx),e=W8("useRouteError"),t=kx("useRouteError");return n!==void 0?n:e.errors?.[t]}function J8(){let{router:n}=K8("useNavigate"),e=kx("useNavigate"),t=P.useRef(!1);return oN(()=>{t.current=!0}),P.useCallback(async(s,o={})=>{La(t.current,iN),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...o}))},[n,e])}var Tw={};function cN(n,e,t){!e&&!Tw[n]&&(Tw[n]=!0,La(!1,t))}P.memo(Z8);function Z8({routes:n,future:e,state:t,unstable_onError:r}){return lN(n,void 0,t,r,e)}function Ox({to:n,replace:e,state:t,relative:r}){ln(Tu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(cs);La(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=P.useContext(us),{pathname:u}=Ri(),d=Or(),m=Rx(n,Ix(o),u,r==="path"),f=JSON.stringify(m);return P.useEffect(()=>{d(JSON.parse(f),{replace:e,state:t,relative:r})},[d,f,r,e,t]),null}function nn(n){ln(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function eP({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:o=!1}){ln(!Tu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),d=P.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof t=="string"&&(t=yu(t));let{pathname:m="/",search:f="",hash:v="",state:_=null,key:y="default"}=t,E=P.useMemo(()=>{let b=bi(m,u);return b==null?null:{location:{pathname:b,search:f,hash:v,state:_,key:y},navigationType:r}},[u,m,f,v,_,y,r]);return La(E!=null,`<Router basename="${u}"> is not able to match the URL "${m}${f}${v}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:P.createElement(cs.Provider,{value:d},P.createElement(Od.Provider,{children:e,value:E}))}function tP({children:n,location:e}){return B8(m1(n),e)}function m1(n,e=[]){let t=[];return P.Children.forEach(n,(r,s)=>{if(!P.isValidElement(r))return;let o=[...e,s];if(r.type===P.Fragment){t.push.apply(t,m1(r.props.children,o));return}ln(r.type===nn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ln(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=m1(r.props.children,o)),t.push(u)}),t}var F0="get",L0="application/x-www-form-urlencoded";function Qm(n){return n!=null&&typeof n.tagName=="string"}function nP(n){return Qm(n)&&n.tagName.toLowerCase()==="button"}function rP(n){return Qm(n)&&n.tagName.toLowerCase()==="form"}function aP(n){return Qm(n)&&n.tagName.toLowerCase()==="input"}function sP(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function iP(n,e){return n.button===0&&(!e||e==="_self")&&!sP(n)}function p1(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(s=>[t,s]):[[t,r]])},[]))}function oP(n,e){let t=p1(n);return e&&e.forEach((r,s)=>{t.has(s)||e.getAll(s).forEach(o=>{t.append(s,o)})}),t}var g0=null;function lP(){if(g0===null)try{new FormData(document.createElement("form"),0),g0=!1}catch{g0=!0}return g0}var cP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bv(n){return n!=null&&!cP.has(n)?(La(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${L0}"`),null):n}function uP(n,e){let t,r,s,o,u;if(rP(n)){let d=n.getAttribute("action");r=d?bi(d,e):null,t=n.getAttribute("method")||F0,s=bv(n.getAttribute("enctype"))||L0,o=new FormData(n)}else if(nP(n)||aP(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||d.getAttribute("action");if(r=m?bi(m,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||F0,s=bv(n.getAttribute("formenctype"))||bv(d.getAttribute("enctype"))||L0,o=new FormData(d,n),!lP()){let{name:f,type:v,value:_}=n;if(v==="image"){let y=f?`${f}.`:"";o.append(`${y}x`,"0"),o.append(`${y}y`,"0")}else f&&o.append(f,_)}}else{if(Qm(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=F0,r=null,s=L0,u=n}return o&&s==="text/plain"&&(u=o,o=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Mx(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function hP(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&bi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function dP(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function fP(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function mP(n,e,t){let r=await Promise.all(n.map(async s=>{let o=e.routes[s.route.id];if(o){let u=await dP(o,t);return u.links?u.links():[]}return[]}));return xP(r.flat(1).filter(fP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function ww(n,e,t,r,s,o){let u=(m,f)=>t[f]?m.route.id!==t[f].route.id:!0,d=(m,f)=>t[f].pathname!==m.pathname||t[f].route.path?.endsWith("*")&&t[f].params["*"]!==m.params["*"];return o==="assets"?e.filter((m,f)=>u(m,f)||d(m,f)):o==="data"?e.filter((m,f)=>{let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,f)||d(m,f))return!0;if(m.route.shouldRevalidate){let _=m.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:t[0]?.params||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof _=="boolean")return _}return!0}):[]}function pP(n,e,{includeHydrateFallback:t}={}){return gP(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function gP(n){return[...new Set(n)]}function vP(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function xP(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let o=JSON.stringify(vP(s));return t.has(o)||(t.add(o),r.push({key:o,link:s})),r},[])}function uN(){let n=P.useContext(Eu);return Mx(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function _P(){let n=P.useContext(Ym);return Mx(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Px=P.createContext(void 0);Px.displayName="FrameworkContext";function hN(){let n=P.useContext(Px);return Mx(n,"You must render this element inside a <HydratedRouter> element"),n}function yP(n,e){let t=P.useContext(Px),[r,s]=P.useState(!1),[o,u]=P.useState(!1),{onFocus:d,onBlur:m,onMouseEnter:f,onMouseLeave:v,onTouchStart:_}=e,y=P.useRef(null);P.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let w=k=>{k.forEach(D=>{u(D.isIntersecting)})},S=new IntersectionObserver(w,{threshold:.5});return y.current&&S.observe(y.current),()=>{S.disconnect()}}},[n]),P.useEffect(()=>{if(r){let w=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(w)}}},[r]);let E=()=>{s(!0)},b=()=>{s(!1),u(!1)};return t?n!=="intent"?[o,y,{}]:[o,y,{onFocus:bh(d,E),onBlur:bh(m,b),onMouseEnter:bh(f,E),onMouseLeave:bh(v,b),onTouchStart:bh(_,E)}]:[!1,y,{}]}function bh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function EP({page:n,...e}){let{router:t}=uN(),r=P.useMemo(()=>tN(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?P.createElement(wP,{page:n,matches:r,...e}):null}function TP(n){let{manifest:e,routeModules:t}=hN(),[r,s]=P.useState([]);return P.useEffect(()=>{let o=!1;return mP(n,e,t).then(u=>{o||s(u)}),()=>{o=!0}},[n,e,t]),r}function wP({page:n,matches:e,...t}){let r=Ri(),{manifest:s,routeModules:o}=hN(),{basename:u}=uN(),{loaderData:d,matches:m}=_P(),f=P.useMemo(()=>ww(n,e,m,s,r,"data"),[n,e,m,s,r]),v=P.useMemo(()=>ww(n,e,m,s,r,"assets"),[n,e,m,s,r]),_=P.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let b=new Set,w=!1;if(e.forEach(k=>{let D=s.routes[k.route.id];!D||!D.hasLoader||(!f.some(j=>j.route.id===k.route.id)&&k.route.id in d&&o[k.route.id]?.shouldRevalidate||D.hasClientLoader?w=!0:b.add(k.route.id))}),b.size===0)return[];let S=hP(n,u,"data");return w&&b.size>0&&S.searchParams.set("_routes",e.filter(k=>b.has(k.route.id)).map(k=>k.route.id).join(",")),[S.pathname+S.search]},[u,d,r,s,f,e,n,o]),y=P.useMemo(()=>pP(v,s),[v,s]),E=TP(v);return P.createElement(P.Fragment,null,_.map(b=>P.createElement("link",{key:b,rel:"prefetch",as:"fetch",href:b,...t})),y.map(b=>P.createElement("link",{key:b,rel:"modulepreload",href:b,...t})),E.map(({key:b,link:w})=>P.createElement("link",{key:b,nonce:t.nonce,...w})))}function AP(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var dN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dN&&(window.__reactRouterVersion="7.9.4")}catch{}function SP({basename:n,children:e,window:t}){let r=P.useRef();r.current==null&&(r.current=d8({window:t,v5Compat:!0}));let s=r.current,[o,u]=P.useState({action:s.action,location:s.location}),d=P.useCallback(m=>{P.startTransition(()=>u(m))},[u]);return P.useLayoutEffect(()=>s.listen(d),[s,d]),P.createElement(eP,{basename:n,children:e,location:o.location,navigationType:o.action,navigator:s})}var fN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Jm=P.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:o,replace:u,state:d,target:m,to:f,preventScrollReset:v,viewTransition:_,...y},E){let{basename:b}=P.useContext(cs),w=typeof f=="string"&&fN.test(f),S,k=!1;if(typeof f=="string"&&w&&(S=f,dN))try{let N=new URL(window.location.href),F=f.startsWith("//")?new URL(N.protocol+f):new URL(f),U=bi(F.pathname,b);F.origin===N.origin&&U!=null?f=U+F.search+F.hash:k=!0}catch{La(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=V8(f,{relative:s}),[j,X,te]=yP(r,y),ie=CP(f,{replace:u,state:d,target:m,preventScrollReset:v,relative:s,viewTransition:_});function I(N){e&&e(N),N.defaultPrevented||ie(N)}let R=P.createElement("a",{...y,...te,href:S||D,onClick:k||o?e:I,ref:AP(E,X),target:m,"data-discover":!w&&t==="render"?"true":void 0});return j&&!w?P.createElement(P.Fragment,null,R,P.createElement(EP,{page:D})):R});Jm.displayName="Link";var mN=P.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:o,to:u,viewTransition:d,children:m,...f},v){let _=Md(u,{relative:f.relative}),y=Ri(),E=P.useContext(Ym),{navigator:b,basename:w}=P.useContext(cs),S=E!=null&&kP(_)&&d===!0,k=b.encodeLocation?b.encodeLocation(_).pathname:_.pathname,D=y.pathname,j=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;t||(D=D.toLowerCase(),j=j?j.toLowerCase():null,k=k.toLowerCase()),j&&w&&(j=bi(j,w)||j);const X=k!=="/"&&k.endsWith("/")?k.length-1:k.length;let te=D===k||!s&&D.startsWith(k)&&D.charAt(X)==="/",ie=j!=null&&(j===k||!s&&j.startsWith(k)&&j.charAt(k.length)==="/"),I={isActive:te,isPending:ie,isTransitioning:S},R=te?e:void 0,N;typeof r=="function"?N=r(I):N=[r,te?"active":null,ie?"pending":null,S?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(I):o;return P.createElement(Jm,{...f,"aria-current":R,className:N,ref:v,style:F,to:u,viewTransition:d},typeof m=="function"?m(I):m)});mN.displayName="NavLink";var bP=P.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:o,method:u=F0,action:d,onSubmit:m,relative:f,preventScrollReset:v,viewTransition:_,...y},E)=>{let b=DP(),w=jP(d,{relative:f}),S=u.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&fN.test(d),D=j=>{if(m&&m(j),j.defaultPrevented)return;j.preventDefault();let X=j.nativeEvent.submitter,te=X?.getAttribute("formmethod")||u;b(X||j.currentTarget,{fetcherKey:e,method:te,navigate:t,replace:s,state:o,relative:f,preventScrollReset:v,viewTransition:_})};return P.createElement("form",{ref:E,method:S,action:w,onSubmit:r?m:D,...y,"data-discover":!k&&n==="render"?"true":void 0})});bP.displayName="Form";function NP(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pN(n){let e=P.useContext(Eu);return ln(e,NP(n)),e}function CP(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=Or(),m=Ri(),f=Md(n,{relative:o});return P.useCallback(v=>{if(iP(v,e)){v.preventDefault();let _=t!==void 0?t:ud(m)===ud(f);d(n,{replace:_,state:r,preventScrollReset:s,relative:o,viewTransition:u})}},[m,d,f,t,r,e,n,s,o,u])}function gN(n){La(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=P.useRef(p1(n)),t=P.useRef(!1),r=Ri(),s=P.useMemo(()=>oP(r.search,t.current?null:e.current),[r.search]),o=Or(),u=P.useCallback((d,m)=>{const f=p1(typeof d=="function"?d(new URLSearchParams(s)):d);t.current=!0,o("?"+f,m)},[o,s]);return[s,u]}var IP=0,RP=()=>`__${String(++IP)}__`;function DP(){let{router:n}=pN("useSubmit"),{basename:e}=P.useContext(cs),t=Y8();return P.useCallback(async(r,s={})=>{let{action:o,method:u,encType:d,formData:m,body:f}=uP(r,e);if(s.navigate===!1){let v=s.fetcherKey||RP();await n.fetch(v,t,s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await n.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:m,body:f,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function jP(n,{relative:e}={}){let{basename:t}=P.useContext(cs),r=P.useContext(us);ln(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),o={...Md(n||".",{relative:e})},u=Ri();if(n==null){o.search=u.search;let d=new URLSearchParams(o.search),m=d.getAll("index");if(m.some(v=>v==="")){d.delete("index"),m.filter(_=>_).forEach(_=>d.append("index",_));let v=d.toString();o.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(o.pathname=o.pathname==="/"?t:gi([t,o.pathname])),ud(o)}function kP(n,{relative:e}={}){let t=P.useContext(sN);ln(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=pN("useViewTransitionState"),s=Md(n,{relative:e});if(!t.isTransitioning)return!1;let o=bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return im(s.pathname,u)!=null||im(s.pathname,o)!=null}var hd=mA();const fi={home:"/",login:"/login",register:"/register",dashboard:"/dashboard"},wu=()=>{const n=P.useContext(eN);if(n===void 0)throw new Error("useAuth deve ser usado dentro de um AuthProvider");return n};function Vn({children:n}){const{user:e,loading:t}=wu();return e?t?null:l.jsx(l.Fragment,{children:n}):l.jsx(Ox,{to:fi.login})}/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OP=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),MP=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase()),Aw=n=>{const e=MP(n);return e.charAt(0).toUpperCase()+e.slice(1)},vN=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim(),PP=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var FP={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=P.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:u,...d},m)=>P.createElement("svg",{ref:m,...FP,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:vN("lucide",s),...!o&&!PP(d)&&{"aria-hidden":"true"},...d},[...u.map(([f,v])=>P.createElement(f,v)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Je=(n,e)=>{const t=P.forwardRef(({className:r,...s},o)=>P.createElement(LP,{ref:o,iconNode:e,className:vN(`lucide-${OP(Aw(n))}`,`lucide-${n}`,r),...s}));return t.displayName=Aw(n),t};/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VP=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],UP=Je("activity",VP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BP=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],hu=Je("arrow-left",BP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Sw=Je("box",zP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Os=Je("building-2",qP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HP=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Vh=Je("building",HP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GP=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],om=Je("calendar",GP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $P=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],KP=Je("chart-pie",$P);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WP=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Mc=Je("check",WP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XP=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],YP=Je("chevron-left",XP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QP=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],JP=Je("chevron-right",QP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZP=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],It=Je("circle-alert",ZP);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$r=Je("circle-check-big",e5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],V0=Je("circle-x",t5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n5=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Ml=Je("clipboard-check",n5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r5=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],g1=Je("clock",r5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a5=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],dd=Je("dollar-sign",a5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s5=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],ql=Je("ellipsis-vertical",s5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i5=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],xN=Je("external-link",i5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o5=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],v1=Je("eye-off",o5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],du=Je("eye",l5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c5=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],bw=Je("factory",c5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],h5=Je("file-down",u5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],_N=Je("file-spreadsheet",d5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f5=[["path",{d:"M11 21a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-8a1 1 0 0 1 1-1",key:"likhh7"}],["path",{d:"M16 16a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1",key:"17ky3x"}],["path",{d:"M21 6a2 2 0 0 0-.586-1.414l-2-2A2 2 0 0 0 17 2h-3a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1z",key:"1hyeo0"}]],m5=Je("file-stack",f5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p5=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ni=Je("file-text",p5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g5=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],v5=Je("funnel",g5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x5=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],_5=Je("git-branch",x5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y5=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],E5=Je("house",y5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],w5=Je("info",T5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Fx=Je("layers",A5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S5=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],b5=Je("layout-grid",S5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],C5=Je("list",N5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bt=Je("loader-circle",I5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],x1=Je("lock",R5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],j5=Je("log-out",D5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k5=[["path",{d:"M22 13V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v12c0 1.1.9 2 2 2h8",key:"12jkf8"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}],["path",{d:"m16 19 2 2 4-4",key:"1b14m6"}]],O5=Je("mail-check",k5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M5=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Zm=Je("mail",M5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],F5=Je("map-pin",P5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],yN=Je("map",L5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V5=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],ko=Je("package",V5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],_1=Je("pen",U5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B5=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],z5=Je("pencil",B5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q5=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],hn=Je("plus",q5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H5=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nv=Je("refresh-cw",H5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G5=[["path",{d:"M21.3 15.3a2.4 2.4 0 0 1 0 3.4l-2.6 2.6a2.4 2.4 0 0 1-3.4 0L2.7 8.7a2.41 2.41 0 0 1 0-3.4l2.6-2.6a2.41 2.41 0 0 1 3.4 0Z",key:"icamh8"}],["path",{d:"m14.5 12.5 2-2",key:"inckbg"}],["path",{d:"m11.5 9.5 2-2",key:"fmmyf7"}],["path",{d:"m8.5 6.5 2-2",key:"vc6u1g"}],["path",{d:"m17.5 15.5 2-2",key:"wo5hmg"}]],fd=Je("ruler",G5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $5=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],K5=Je("search",$5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W5=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X5=Je("settings",W5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y5=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],EN=Je("square-check-big",Y5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q5=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ep=Je("square-pen",Q5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J5=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ga=Je("trash-2",J5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z5=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],TN=Je("trending-up",Z5);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eF=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ns=Je("triangle-alert",eF);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tF=[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]],nF=Je("truck",tF);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rF=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],aF=Je("upload",rF);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sF=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Lx=Je("user",sF);/**
 * @license lucide-react v0.546.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iF=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],dn=Je("x",iF),Nw=()=>{const[n,e]=P.useState(""),[t,r]=P.useState(""),[s,o]=P.useState(!1),{login:u,loading:d,error:m,clearError:f}=wu(),v=Or(),_=async y=>{if(y.preventDefault(),f(),!(!n||!t))try{await u({email:n,password:t}),v(fi.dashboard)}catch(E){console.error("Erro no login:",E)}};return l.jsx("div",{className:"login-container",children:l.jsxs("div",{className:"login-content",children:[l.jsxs("div",{className:"login-left",children:[l.jsxs("div",{className:"login-brand",children:[l.jsx("div",{className:"brand-icon",children:l.jsx(Os,{size:32})}),l.jsx("h1",{children:"Gesto de Obras"}),l.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),l.jsxs("div",{className:"login-features",children:[l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx(UP,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{children:"Controle Total"}),l.jsx("p",{children:"Gerencie vages, custos e estoque em tempo real"})]})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx(b5,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{children:"Gesto de Contratos"}),l.jsx("p",{children:"Acompanhe medies, kits e checklists"})]})]}),l.jsxs("div",{className:"feature-item",children:[l.jsx("div",{className:"feature-icon",children:l.jsx(dd,{size:24})}),l.jsxs("div",{children:[l.jsx("h3",{children:"Anlise Financeira"}),l.jsx("p",{children:"Relatrios detalhados de custos e produo"})]})]})]})]}),l.jsx("div",{className:"login-right",children:l.jsxs("div",{className:"login-form-wrapper",children:[l.jsxs("div",{className:"login-header",children:[l.jsx("h2",{children:"Bem-vindo de volta"}),l.jsx("p",{children:"Entre com suas credenciais para acessar o sistema"})]}),m&&l.jsxs("div",{className:"error-message",children:[l.jsx(It,{size:20}),l.jsx("span",{children:m})]}),l.jsxs("form",{onSubmit:_,className:"login-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"E-mail"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(Zm,{className:"input-icon",size:20}),l.jsx("input",{type:"email",id:"email",value:n,onChange:y=>e(y.target.value),placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:d})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Senha"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(x1,{className:"input-icon",size:20}),l.jsx("input",{type:s?"text":"password",id:"password",value:t,onChange:y=>r(y.target.value),placeholder:"",required:!0,autoComplete:"current-password",disabled:d}),l.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!s),tabIndex:-1,children:s?l.jsx(v1,{size:20}):l.jsx(du,{size:20})})]})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:d,children:d?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner"}),"Entrando..."]}):"Entrar"})]}),l.jsx("div",{className:"login-footer",children:l.jsxs("p",{children:["No tem uma conta?"," ",l.jsx(Jm,{to:fi.register,className:"link-primary",children:"Cadastre-se"})]})})]})})]})})},oF=n=>n==="admin@gmail.com"?"admin":"user",lF=()=>{const[n,e]=P.useState({name:"",email:"",password:"",confirmPassword:"",role:"user"}),[t,r]=P.useState(!1),[s,o]=P.useState(!1),[u,d]=P.useState(""),{register:m,loading:f,error:v,clearError:_}=wu(),y=Or(),E=k=>{const{name:D,value:j}=k.target;e(X=>({...X,[D]:j})),d(""),_()},b=()=>!n.name||!n.email||!n.password||!n.confirmPassword?(d("Todos os campos so obrigatrios"),!1):n.name.length<3?(d("O nome deve ter pelo menos 3 caracteres"),!1):/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n.email)?n.password.length<6?(d("A senha deve ter pelo menos 6 caracteres"),!1):n.password!==n.confirmPassword?(d("As senhas no coincidem"),!1):!0:(d("Digite um e-mail vlido"),!1),w=async k=>{if(k.preventDefault(),_(),d(""),!!b())try{await m({name:n.name,email:n.email,password:n.password,role:oF(n.email)}),y(fi.dashboard)}catch(D){console.error("Erro no registro:",D)}},S=u||v;return l.jsx("div",{className:"register-container",children:l.jsxs("div",{className:"register-content",children:[l.jsxs("div",{className:"register-left",children:[l.jsxs("div",{className:"register-brand",children:[l.jsx("div",{className:"brand-icon",children:l.jsx(Os,{size:32})}),l.jsx("h1",{children:"Gesto de Obras"}),l.jsx("p",{children:"Sistema Integrado de Controle e Gerenciamento"})]}),l.jsxs("div",{className:"register-benefits",children:[l.jsx("h3",{children:"Ao criar sua conta, voc ter acesso a:"}),l.jsxs("ul",{className:"benefits-list",children:[l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Controle completo de vages e equipamentos"})]}),l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Gesto de custos e oramentos em tempo real"})]}),l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Controle de estoque e materiais"})]}),l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Gerenciamento de contratos e documentos"})]}),l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Acompanhamento de medies e produo"})]}),l.jsxs("li",{children:[l.jsx(Mc,{size:20}),l.jsx("span",{children:"Relatrios e anlises detalhadas"})]})]})]})]}),l.jsx("div",{className:"register-right",children:l.jsxs("div",{className:"register-form-wrapper",children:[l.jsxs("div",{className:"register-header",children:[l.jsx("h2",{children:"Criar nova conta"}),l.jsx("p",{children:"Preencha os dados abaixo para comear"})]}),S&&l.jsxs("div",{className:"error-message",children:[l.jsx(It,{size:20}),l.jsx("span",{children:S})]}),l.jsxs("form",{onSubmit:w,className:"register-form",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"name",children:"Nome completo"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(Lx,{className:"input-icon",size:20}),l.jsx("input",{type:"text",id:"name",name:"name",value:n.name,onChange:E,placeholder:"Seu nome completo",required:!0,autoComplete:"name",disabled:f})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"email",children:"E-mail"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(Zm,{className:"input-icon",size:20}),l.jsx("input",{type:"email",id:"email",name:"email",value:n.email,onChange:E,placeholder:"seu@email.com",required:!0,autoComplete:"email",disabled:f})]})]}),l.jsxs("div",{className:"form-row",children:[l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"password",children:"Senha"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(x1,{className:"input-icon",size:20}),l.jsx("input",{type:t?"text":"password",id:"password",name:"password",value:n.password,onChange:E,placeholder:"",required:!0,autoComplete:"new-password",disabled:f}),l.jsx("button",{type:"button",className:"password-toggle",onClick:()=>r(!t),tabIndex:-1,children:t?l.jsx(v1,{size:20}):l.jsx(du,{size:20})})]})]}),l.jsxs("div",{className:"form-group",children:[l.jsx("label",{htmlFor:"confirmPassword",children:"Confirmar senha"}),l.jsxs("div",{className:"input-wrapper",children:[l.jsx(x1,{className:"input-icon",size:20}),l.jsx("input",{type:s?"text":"password",id:"confirmPassword",name:"confirmPassword",value:n.confirmPassword,onChange:E,placeholder:"",required:!0,autoComplete:"new-password",disabled:f}),l.jsx("button",{type:"button",className:"password-toggle",onClick:()=>o(!s),tabIndex:-1,children:s?l.jsx(v1,{size:20}):l.jsx(du,{size:20})})]})]})]}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:f,children:f?l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"spinner"}),"Criando conta..."]}):"Criar conta"})]}),l.jsx("div",{className:"register-footer",children:l.jsxs("p",{children:["J tem uma conta?"," ",l.jsx(Jm,{to:fi.login,className:"link-primary",children:"Faa login"})]})})]})})]})})},Nh="obras",Cv={async createObra(n,e){try{const t={nome:n.nome,numeroPavimentos:n.numeroPavimentos,numeroTorres:n.numeroTorres,userId:e,status:"ativa",createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,Nh),t)).id,...t,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar obra:",t),new Error("No foi possvel criar a obra. Tente novamente.")}},async getObrasByUser(n){try{const e=_r(Zt(Qe,Nh),xr("userId","==",n),Fa("createdAt","desc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,nome:o.nome,numeroPavimentos:o.numeroPavimentos,numeroTorres:o.numeroTorres,userId:o.userId,status:o.status,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar obras:",e),new Error("No foi possvel carregar as obras. Tente novamente.")}},async updateObra(n,e){try{const t=Et(Qe,Nh,n);await pa(t,{...e,updatedAt:Ke.now()})}catch(t){throw console.error("Erro ao atualizar obra:",t),new Error("No foi possvel atualizar a obra. Tente novamente.")}},async deleteObra(n){try{await ls(Et(Qe,Nh,n))}catch(e){throw console.error("Erro ao deletar obra:",e),new Error("No foi possvel deletar a obra. Tente novamente.")}},async updateObraStatus(n,e){try{const t=Et(Qe,Nh,n);await pa(t,{status:e,updatedAt:Ke.now()})}catch(t){throw console.error("Erro ao atualizar status:",t),new Error("No foi possvel atualizar o status. Tente novamente.")}}},cF=()=>{const{user:n,logout:e}=wu(),t=Or(),[r,s]=P.useState([]),[o,u]=P.useState([]),[d,m]=P.useState(""),[f,v]=P.useState("todas"),[_,y]=P.useState(!0),[E,b]=P.useState(null),[w,S]=P.useState(!1),[k,D]=P.useState(!1),[j,X]=P.useState(null),[te,ie]=P.useState({nome:"",numeroPavimentos:1,numeroTorres:1}),I=P.useCallback(async()=>{if(n)try{y(!0),b(null);const J=await Cv.getObrasByUser(n.uid);s(J),u(J)}catch(J){b(J instanceof Error?J.message:"Erro ao carregar obras")}finally{y(!1)}},[n]),R=P.useCallback(()=>{let J=[...r];d&&(J=J.filter(Ee=>Ee.nome.toLowerCase().includes(d.toLowerCase()))),f!=="todas"&&(J=J.filter(Ee=>Ee.status===f)),u(J)},[r,d,f]);P.useEffect(()=>{I()},[I]),P.useEffect(()=>{R()},[R]);const N=async J=>{if(J.preventDefault(),!!n)try{D(!0),b(null),await Cv.createObra(te,n.uid),S(!1),ie({nome:"",numeroPavimentos:1,numeroTorres:1}),await I()}catch(Ee){b(Ee instanceof Error?Ee.message:"Erro ao criar obra")}finally{D(!1)}},F=async()=>{try{await e(),t("/login")}catch(J){console.error("Erro ao fazer logout:",J)}},U=async J=>{if(confirm("Tem certeza que deseja excluir esta obra?"))try{await Cv.deleteObra(J),await I(),X(null)}catch(Ee){b(Ee instanceof Error?Ee.message:"Erro ao deletar obra")}},M=J=>{switch(J){case"ativa":return"status-ativa";case"pausada":return"status-pausada";case"concluida":return"status-concluida";default:return""}},B=J=>{switch(J){case"ativa":return"Ativa";case"pausada":return"Pausada";case"concluida":return"Concluda";default:return J}};return l.jsxs("div",{className:"dashboard-container",children:[l.jsx("header",{className:"dashboard-header",children:l.jsxs("div",{className:"header-content",children:[l.jsxs("div",{className:"header-left",children:[l.jsx("div",{className:"header-icon",children:l.jsx(Os,{size:28})}),l.jsxs("div",{className:"header-info",children:[l.jsx("h1",{children:"Gesto de Obras"}),l.jsxs("p",{children:["Bem-vindo, ",n?.name]})]})]}),l.jsx("div",{className:"header-right",children:l.jsxs("button",{onClick:F,className:"btn-logout",children:[l.jsx(j5,{size:20}),l.jsx("span",{children:"Sair"})]})})]})}),l.jsx("main",{className:"dashboard-main",children:l.jsxs("div",{className:"dashboard-content",children:[l.jsxs("div",{className:"toolbar",children:[l.jsxs("div",{className:"toolbar-left",children:[l.jsxs("div",{className:"search-box",children:[l.jsx(K5,{size:20}),l.jsx("input",{type:"text",placeholder:"Buscar obra...",value:d,onChange:J=>m(J.target.value)})]}),l.jsxs("div",{className:"filter-box",children:[l.jsx(v5,{size:20}),l.jsxs("select",{value:f,onChange:J=>v(J.target.value),children:[l.jsx("option",{value:"todas",children:"Todas"}),l.jsx("option",{value:"ativa",children:"Ativas"}),l.jsx("option",{value:"pausada",children:"Pausadas"}),l.jsx("option",{value:"concluida",children:"Concludas"})]})]})]}),l.jsx("div",{className:"toolbar-right",children:l.jsxs("button",{onClick:()=>S(!0),className:"btn-primary-action",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Nova Obra"})]})})]}),E&&l.jsxs("div",{className:"error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:E}),l.jsx("button",{onClick:()=>b(null),children:l.jsx(dn,{size:18})})]}),_?l.jsxs("div",{className:"loading-state",children:[l.jsx(Bt,{size:48,className:"dashboard-spinner-large"}),l.jsx("p",{children:"Carregando obras..."})]}):o.length===0?l.jsxs("div",{className:"empty-state",children:[l.jsx(Os,{size:64}),l.jsx("h2",{children:"Nenhuma obra encontrada"}),l.jsx("p",{children:d||f!=="todas"?"Tente ajustar os filtros de busca":"Comece criando sua primeira obra"}),!d&&f==="todas"&&l.jsxs("button",{onClick:()=>S(!0),className:"btn-primary-action",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Criar Primeira Obra"})]})]}):l.jsx("div",{className:"obras-grid",children:o.map(J=>l.jsxs("div",{className:"obra-card",children:[l.jsxs("div",{className:"obra-card-header",children:[l.jsx("div",{className:"obra-icon",children:l.jsx(Os,{size:24})}),l.jsxs("div",{className:"obra-menu",children:[l.jsx("button",{onClick:()=>X(j===J.id?null:J.id),className:"menu-button",children:l.jsx(ql,{size:20})}),j===J.id&&l.jsxs("div",{className:"dropdown-menu",children:[l.jsxs("button",{onClick:()=>{X(null)},children:[l.jsx(ep,{size:16}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{onClick:()=>U(J.id),className:"delete-action",children:[l.jsx(ga,{size:16}),l.jsx("span",{children:"Excluir"})]})]})]})]}),l.jsxs("div",{className:"obra-content",children:[l.jsx("h3",{children:J.nome}),l.jsxs("div",{className:"obra-details",children:[l.jsxs("div",{className:"detail-item",children:[l.jsx(Fx,{size:16}),l.jsxs("span",{children:[J.numeroPavimentos," ",J.numeroPavimentos===1?"Pavimento":"Pavimentos"]})]}),l.jsxs("div",{className:"detail-item",children:[l.jsx(E5,{size:16}),l.jsxs("span",{children:[J.numeroTorres," ",J.numeroTorres===1?"Torre":"Torres"]})]})]}),l.jsx("div",{className:"obra-status",children:l.jsx("span",{className:`status-badge ${M(J.status)}`,children:B(J.status)})})]}),l.jsx("div",{className:"obra-footer",children:l.jsx("button",{onClick:()=>t(`/obras/${J.id}`),className:"btn-view-obra",children:"Acessar Obra"})})]},J.id))})]})}),w&&l.jsx("div",{className:"dashboard-modal-overlay",onClick:()=>S(!1),children:l.jsxs("div",{className:"dashboard-modal-content",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"dashboard-modal-header",children:[l.jsx("h2",{children:"Nova Obra"}),l.jsx("button",{onClick:()=>S(!1),className:"dashboard-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{onSubmit:N,className:"dashboard-modal-form",children:[l.jsxs("div",{className:"dashboard-form-group",children:[l.jsx("label",{htmlFor:"nome",children:"Nome da Obra *"}),l.jsx("input",{type:"text",id:"nome",value:te.nome,onChange:J=>ie({...te,nome:J.target.value}),placeholder:"Ex: Residencial Sunset Boulevard",required:!0,disabled:k})]}),l.jsxs("div",{className:"dashboard-form-row",children:[l.jsxs("div",{className:"dashboard-form-group",children:[l.jsx("label",{htmlFor:"pavimentos",children:"N de Pavimentos *"}),l.jsx("input",{type:"number",id:"pavimentos",min:"1",value:te.numeroPavimentos,onChange:J=>ie({...te,numeroPavimentos:parseInt(J.target.value)||1}),required:!0,disabled:k})]}),l.jsxs("div",{className:"dashboard-form-group",children:[l.jsx("label",{htmlFor:"torres",children:"N de Torres *"}),l.jsx("input",{type:"number",id:"torres",min:"1",value:te.numeroTorres,onChange:J=>ie({...te,numeroTorres:parseInt(J.target.value)||1}),required:!0,disabled:k})]})]}),l.jsxs("div",{className:"dashboard-modal-actions",children:[l.jsx("button",{type:"button",onClick:()=>S(!1),className:"dashboard-btn-secondary",disabled:k,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"dashboard-btn-primary",disabled:k,children:k?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"dashboard-spinner-small"}),"Criando..."]}):"Criar Obra"})]})]})]})})]})},uF=({obraNome:n})=>{const e=Or(),{user:t}=wu();return l.jsx("header",{className:"obra-header",children:l.jsxs("div",{className:"obra-header-content",children:[l.jsxs("div",{className:"obra-header-left",children:[l.jsx("button",{onClick:()=>e("/dashboard"),className:"btn-back",title:"Voltar ao Dashboard",children:l.jsx(hu,{size:20})}),l.jsx("div",{className:"obra-header-divider"}),l.jsx("div",{className:"obra-header-icon",children:l.jsx(Os,{size:24})}),l.jsxs("div",{className:"obra-header-info",children:[l.jsx("h1",{children:n}),l.jsx("p",{children:"Gerenciamento de obra"})]})]}),l.jsxs("div",{className:"obra-header-right",children:[l.jsxs("div",{className:"obra-header-user",children:[l.jsx("div",{className:"user-avatar",children:t?.name.charAt(0).toUpperCase()}),l.jsx("span",{children:t?.name})]}),l.jsx("button",{className:"btn-settings",title:"Configuraes",children:l.jsx(X5,{size:20})})]})]})})},hF=()=>{const{obraId:n}=ur(),e=[{id:"vagoes",label:"Vages",icon:l.jsx(nF,{size:20}),path:`/obras/${n}/vagoes`},{id:"custo-vagoes",label:"Custo Orado dos Vages",icon:l.jsx(dd,{size:20}),path:`/obras/${n}/custo-vagoes`},{id:"estoque-insumos",label:"Estoque de Insumos",icon:l.jsx(ko,{size:20}),path:`/obras/${n}/estoque-insumos`},{id:"itens",label:"Itens",icon:l.jsx(C5,{size:20}),path:`/obras/${n}/itens`},{id:"contrato",label:"Contrato",icon:l.jsx(Ni,{size:20}),path:`/obras/${n}/contrato`},{id:"kits",label:"Kits",icon:l.jsx(Sw,{size:20}),path:`/obras/${n}/kits`},{id:"checklist-mensal",label:"Checklist Mensal",icon:l.jsx(EN,{size:20}),path:`/obras/${n}/checklist-mensal`},{id:"medicao",label:"Medio",icon:l.jsx(fd,{size:20}),path:`/obras/${n}/medicao`},{id:"producao",label:"Produo",icon:l.jsx(TN,{size:20}),path:`/obras/${n}/producao`},{id:"producao-faltante",label:"Produo Faltante",icon:l.jsx(ns,{size:20}),path:`/obras/${n}/producao-faltante`},{id:"estoque-kits",label:"Estoque de Kits",icon:l.jsx(Sw,{size:20}),path:`/obras/${n}/estoque-kits`},{id:"material-faltante",label:"Material Faltante",icon:l.jsx(It,{size:20}),path:`/obras/${n}/material-faltante`},{id:"mapa-restricoes",label:"Mapa de Restries",icon:l.jsx(F5,{size:20}),path:`/obras/${n}/mapa-restricoes`}];return l.jsx("aside",{className:"obra-sidebar",children:l.jsx("nav",{className:"sidebar-nav",children:l.jsxs("div",{className:"sidebar-section",children:[l.jsx("h3",{className:"sidebar-section-title",children:"Mdulos da Obra"}),l.jsx("ul",{className:"sidebar-menu",children:e.map((t,r)=>l.jsx("li",{style:{animationDelay:`${r*.05}s`},children:l.jsxs(mN,{to:t.path,className:({isActive:s})=>`sidebar-link ${s?"active":""}`,children:[l.jsx("span",{className:"sidebar-icon",children:t.icon}),l.jsx("span",{className:"sidebar-label",children:t.label})]})},t.id))})]})})})},Gn=({children:n})=>{const{obraId:e}=ur(),{user:t}=wu(),[r,s]=P.useState(null),[o,u]=P.useState(!0),[d,m]=P.useState(!1);return P.useEffect(()=>{(async()=>{if(!(!e||!t))try{u(!0);const v=await ma(Et(Qe,"obras",e));if(!v.exists()){m(!0);return}const _=v.data();if(_.userId!==t.uid){m(!0);return}s({id:v.id,..._,createdAt:_.createdAt?.toDate()||new Date,updatedAt:_.updatedAt?.toDate()||new Date})}catch(v){console.error("Erro ao carregar obra:",v),m(!0)}finally{u(!1)}})()},[e,t]),o?l.jsxs("div",{className:"obra-layout-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando obra..."})]}):d||!r?l.jsx(Ox,{to:"/dashboard",replace:!0}):l.jsxs("div",{className:"obra-layout",children:[l.jsx(uF,{obraNome:r.nome}),l.jsxs("div",{className:"obra-layout-body",children:[l.jsx(hF,{}),l.jsx("main",{className:"obra-layout-content",children:n})]})]})},Pc="vagoes",Ma={async createVagao(n,e){try{const t={obraId:n,numero:e.numero,predecessorId:e.predecessorId,dataInicio:Ke.fromDate(e.dataInicio),dataFim:Ke.fromDate(e.dataFim),numeroApartamentos:e.numeroApartamentos,createdAt:Ke.now(),updatedAt:Ke.now()},r=await Ls(Zt(Qe,Pc),t);let s;if(e.predecessorId){const o=await ma(Et(Qe,Pc,e.predecessorId));o.exists()&&(s=o.data().numero)}return{id:r.id,obraId:n,numero:e.numero,predecessorId:e.predecessorId,predecessorNumero:s,dataInicio:e.dataInicio,dataFim:e.dataFim,numeroApartamentos:e.numeroApartamentos,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar vago:",t),new Error("No foi possvel criar o vago. Tente novamente.")}},async getVagoesByObra(n){try{const e=_r(Zt(Qe,Pc),xr("obraId","==",n),Fa("numero","asc")),t=await jr(e),r=[];for(const s of t.docs){const o=s.data();let u;if(o.predecessorId){const d=await ma(Et(Qe,Pc,o.predecessorId));d.exists()&&(u=d.data().numero)}r.push({id:s.id,obraId:o.obraId,numero:o.numero,predecessorId:o.predecessorId||null,predecessorNumero:u,dataInicio:o.dataInicio?.toDate()||new Date,dataFim:o.dataFim?.toDate()||new Date,numeroApartamentos:o.numeroApartamentos,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}return r}catch(e){throw console.error("Erro ao buscar vages:",e),new Error("No foi possvel carregar os vages. Tente novamente.")}},async updateVagao(n,e){try{const t={updatedAt:Ke.now()};e.predecessorId!==void 0&&(t.predecessorId=e.predecessorId),e.dataInicio&&(t.dataInicio=Ke.fromDate(e.dataInicio)),e.dataFim&&(t.dataFim=Ke.fromDate(e.dataFim)),e.numeroApartamentos!==void 0&&(t.numeroApartamentos=e.numeroApartamentos);const r=Et(Qe,Pc,n);await pa(r,t)}catch(t){throw console.error("Erro ao atualizar vago:",t),new Error("No foi possvel atualizar o vago. Tente novamente.")}},async deleteVagao(n){try{await ls(Et(Qe,Pc,n))}catch(e){throw console.error("Erro ao deletar vago:",e),new Error("No foi possvel deletar o vago. Tente novamente.")}}},dF=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState(!0),[o,u]=P.useState(null),[d,m]=P.useState(!1),[f,v]=P.useState(!1),[_,y]=P.useState(!1),[E,b]=P.useState(null),[w,S]=P.useState(null),[k,D]=P.useState(null),[j,X]=P.useState({numero:1,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1}),te=P.useCallback(async()=>{if(n)try{s(!0),u(null);const M=await Ma.getVagoesByObra(n);t(M)}catch(M){u(M instanceof Error?M.message:"Erro ao carregar vages")}finally{s(!1)}},[n]);P.useEffect(()=>{te()},[te]);const ie=M=>{if(M)b(M),X({numero:M.numero,predecessorId:M.predecessorId,dataInicio:M.dataInicio,dataFim:M.dataFim,numeroApartamentos:M.numeroApartamentos});else{b(null);const B=e.length>0?Math.max(...e.map(J=>J.numero))+1:1;X({numero:B,predecessorId:null,dataInicio:new Date,dataFim:new Date,numeroApartamentos:1})}m(!0),S(null)},I=async M=>{if(M.preventDefault(),!!n)try{y(!0),u(null),E?await Ma.updateVagao(E.id,{predecessorId:j.predecessorId,dataInicio:j.dataInicio,dataFim:j.dataFim,numeroApartamentos:j.numeroApartamentos}):await Ma.createVagao(n,j),m(!1),b(null),await te()}catch(B){u(B instanceof Error?B.message:"Erro ao salvar vago")}finally{y(!1)}},R=async M=>{if(confirm("Tem certeza que deseja excluir este vago?"))try{await Ma.deleteVagao(M),await te(),S(null)}catch(B){u(B instanceof Error?B.message:"Erro ao deletar vago")}},N=M=>new Date(M).toLocaleDateString("pt-BR"),F=(M,B)=>{const J=new Date(B).getTime()-new Date(M).getTime();return Math.ceil(J/(1e3*60*60*24))},U=async(M,B,J)=>{try{await Ma.updateVagao(M.id,{dataInicio:B,dataFim:J}),await te(),D(null)}catch(Ee){u(Ee instanceof Error?Ee.message:"Erro ao atualizar datas")}};return l.jsxs("div",{className:"vagoes-container",children:[l.jsxs("div",{className:"vagoes-header",children:[l.jsxs("div",{className:"vagoes-header-left",children:[l.jsx("h1",{children:"Vages"}),l.jsx("p",{children:"Gerencie os vages e suas atividades"})]}),l.jsxs("div",{className:"vagoes-header-right",children:[l.jsxs("button",{onClick:()=>v(!0),className:"btn-timeline",disabled:e.length===0,children:[l.jsx(g1,{size:20}),l.jsx("span",{children:"Linha do Tempo"})]}),l.jsxs("button",{onClick:()=>ie(),className:"btn-add-vagao",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Novo Vago"})]})]})]}),o&&l.jsxs("div",{className:"vagoes-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:o}),l.jsx("button",{onClick:()=>u(null),children:l.jsx(dn,{size:18})})]}),r?l.jsxs("div",{className:"vagoes-loading",children:[l.jsx(Bt,{size:48,className:"vagoes-spinner"}),l.jsx("p",{children:"Carregando vages..."})]}):e.length===0?l.jsxs("div",{className:"vagoes-empty",children:[l.jsx(Vh,{size:64}),l.jsx("h2",{children:"Nenhum vago cadastrado"}),l.jsx("p",{children:"Comece criando o primeiro vago desta obra"}),l.jsxs("button",{onClick:()=>ie(),className:"btn-add-vagao",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Criar Primeiro Vago"})]})]}):l.jsx("div",{className:"vagoes-grid",children:e.map(M=>l.jsxs("div",{className:"vagao-card",children:[l.jsxs("div",{className:"vagao-card-header",children:[l.jsxs("div",{className:"vagao-numero",children:[l.jsx(Vh,{size:20}),l.jsxs("span",{children:["Vago ",M.numero]})]}),l.jsxs("div",{className:"vagao-menu",children:[l.jsx("button",{onClick:()=>S(w===M.id?null:M.id),className:"vagao-menu-button",children:l.jsx(ql,{size:20})}),w===M.id&&l.jsxs("div",{className:"vagao-dropdown-menu",children:[l.jsxs("button",{onClick:()=>ie(M),children:[l.jsx(ep,{size:16}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{onClick:()=>R(M.id),className:"delete-action",children:[l.jsx(ga,{size:16}),l.jsx("span",{children:"Excluir"})]})]})]})]}),l.jsxs("div",{className:"vagao-card-body",children:[l.jsxs("div",{className:"vagao-info-row",children:[l.jsx(_5,{size:16}),l.jsx("span",{className:"vagao-label",children:"Predecessor:"}),l.jsx("span",{className:"vagao-value",children:M.predecessorNumero?`Vago ${M.predecessorNumero}`:"Nenhum"})]}),l.jsxs("div",{className:"vagao-info-row",children:[l.jsx(om,{size:16}),l.jsx("span",{className:"vagao-label",children:"Perodo:"}),l.jsxs("span",{className:"vagao-value",children:[N(M.dataInicio)," - ",N(M.dataFim)]})]}),l.jsxs("div",{className:"vagao-info-row",children:[l.jsx(g1,{size:16}),l.jsx("span",{className:"vagao-label",children:"Durao:"}),l.jsxs("span",{className:"vagao-value",children:[F(M.dataInicio,M.dataFim)," dias"]})]}),l.jsxs("div",{className:"vagao-info-row",children:[l.jsx(Vh,{size:16}),l.jsx("span",{className:"vagao-label",children:"Apartamentos:"}),l.jsx("span",{className:"vagao-value",children:M.numeroApartamentos})]})]})]},M.id))}),d&&l.jsx("div",{className:"vagoes-modal-overlay",onClick:()=>m(!1),children:l.jsxs("div",{className:"vagoes-modal-content",onClick:M=>M.stopPropagation(),children:[l.jsxs("div",{className:"vagoes-modal-header",children:[l.jsx("h2",{children:E?"Editar Vago":"Novo Vago"}),l.jsx("button",{onClick:()=>m(!1),className:"vagoes-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{onSubmit:I,className:"vagoes-modal-form",children:[l.jsxs("div",{className:"vagoes-form-group",children:[l.jsx("label",{htmlFor:"numero",children:"Nmero do Vago *"}),l.jsx("input",{type:"number",id:"numero",min:"1",value:j.numero,onChange:M=>X({...j,numero:parseInt(M.target.value)||1}),required:!0,disabled:_||!!E})]}),l.jsxs("div",{className:"vagoes-form-group",children:[l.jsx("label",{htmlFor:"predecessor",children:"Predecessor"}),l.jsxs("select",{id:"predecessor",value:j.predecessorId||"",onChange:M=>X({...j,predecessorId:M.target.value||null}),disabled:_,children:[l.jsx("option",{value:"",children:"Nenhum"}),e.filter(M=>M.id!==E?.id).map(M=>l.jsxs("option",{value:M.id,children:["Vago ",M.numero]},M.id))]})]}),l.jsxs("div",{className:"vagoes-form-row",children:[l.jsxs("div",{className:"vagoes-form-group",children:[l.jsx("label",{htmlFor:"dataInicio",children:"Data de Incio *"}),l.jsx("input",{type:"date",id:"dataInicio",value:j.dataInicio instanceof Date?j.dataInicio.toISOString().split("T")[0]:"",onChange:M=>X({...j,dataInicio:new Date(M.target.value)}),required:!0,disabled:_})]}),l.jsxs("div",{className:"vagoes-form-group",children:[l.jsx("label",{htmlFor:"dataFim",children:"Data de Fim *"}),l.jsx("input",{type:"date",id:"dataFim",value:j.dataFim instanceof Date?j.dataFim.toISOString().split("T")[0]:"",onChange:M=>X({...j,dataFim:new Date(M.target.value)}),required:!0,disabled:_})]})]}),l.jsxs("div",{className:"vagoes-form-group",children:[l.jsx("label",{htmlFor:"apartamentos",children:"Nmero de Apartamentos *"}),l.jsx("input",{type:"number",id:"apartamentos",min:"1",value:j.numeroApartamentos,onChange:M=>X({...j,numeroApartamentos:parseInt(M.target.value)||1}),required:!0,disabled:_})]}),l.jsxs("div",{className:"vagoes-modal-actions",children:[l.jsx("button",{type:"button",onClick:()=>m(!1),className:"vagoes-btn-secondary",disabled:_,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"vagoes-btn-primary",disabled:_,children:_?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"vagoes-spinner-small"}),"Salvando..."]}):E?"Salvar Alteraes":"Criar Vago"})]})]})]})}),f&&l.jsx("div",{className:"timeline-modal-overlay",onClick:()=>v(!1),children:l.jsxs("div",{className:"timeline-modal-content",onClick:M=>M.stopPropagation(),children:[l.jsxs("div",{className:"timeline-modal-header",children:[l.jsx("h2",{children:"Linha do Tempo - Linha de Balano"}),l.jsx("button",{onClick:()=>v(!1),className:"timeline-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("div",{className:"timeline-container",children:[l.jsx("div",{className:"timeline-legend",children:l.jsxs("div",{className:"timeline-legend-item",children:[l.jsx("div",{className:"timeline-legend-color timeline-color-active"}),l.jsx("span",{children:"Clique para editar datas"})]})}),l.jsx("div",{className:"timeline-content",children:e.map(M=>l.jsxs("div",{className:"timeline-row",children:[l.jsxs("div",{className:"timeline-row-label",children:[l.jsx(Vh,{size:16}),l.jsxs("span",{children:["Vago ",M.numero]}),M.predecessorNumero&&l.jsxs("span",{className:"timeline-predecessor",children:[" V",M.predecessorNumero]})]}),l.jsx("div",{className:"timeline-row-content",children:l.jsxs("div",{className:`timeline-bar ${k?.id===M.id?"editing":""}`,onClick:()=>D(M),title:"Clique para editar",children:[l.jsxs("span",{className:"timeline-bar-label",children:[N(M.dataInicio)," -"," ",N(M.dataFim)]}),l.jsxs("span",{className:"timeline-bar-duration",children:[F(M.dataInicio,M.dataFim),"d"]})]})})]},M.id))}),k&&l.jsxs("div",{className:"timeline-editor",children:[l.jsxs("h3",{children:["Editando Vago ",k.numero]}),l.jsxs("div",{className:"timeline-editor-form",children:[l.jsxs("div",{className:"timeline-editor-field",children:[l.jsx("label",{children:"Data de Incio:"}),l.jsx("input",{type:"date",value:k.dataInicio.toISOString().split("T")[0],onChange:M=>D({...k,dataInicio:new Date(M.target.value)})})]}),l.jsxs("div",{className:"timeline-editor-field",children:[l.jsx("label",{children:"Data de Fim:"}),l.jsx("input",{type:"date",value:k.dataFim.toISOString().split("T")[0],onChange:M=>D({...k,dataFim:new Date(M.target.value)})})]}),l.jsxs("div",{className:"timeline-editor-actions",children:[l.jsx("button",{onClick:()=>D(null),className:"timeline-btn-cancel",children:"Cancelar"}),l.jsx("button",{onClick:()=>U(k,k.dataInicio,k.dataFim),className:"timeline-btn-save",children:"Salvar Datas"})]})]})]})]})]})})]})},Ch="custos_vagoes",Ih={async createCusto(n,e,t){try{const r=e.custoMaterial+e.custoMaoObra,s={obraId:n,vagaoId:e.vagaoId,vagaoNumero:t,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:r,peso:0,createdAt:Ke.now(),updatedAt:Ke.now()},o=await Ls(Zt(Qe,Ch),s);return await this.recalcularPesos(n),{id:o.id,obraId:n,vagaoId:e.vagaoId,vagaoNumero:t,custoMaterial:e.custoMaterial,custoMaoObra:e.custoMaoObra,custoTotal:r,peso:0,createdAt:new Date,updatedAt:new Date}}catch(r){throw console.error("Erro ao criar custo:",r),new Error("No foi possvel criar o custo. Tente novamente.")}},async getCustosByObra(n){try{const e=_r(Zt(Qe,Ch),xr("obraId","==",n),Fa("vagaoNumero","asc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,custoMaterial:o.custoMaterial,custoMaoObra:o.custoMaoObra,custoTotal:o.custoTotal,peso:o.peso||0,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar custos:",e),new Error("No foi possvel carregar os custos. Tente novamente.")}},async updateCusto(n,e,t){try{const r={updatedAt:Ke.now()};t.custoMaterial!==void 0&&(r.custoMaterial=t.custoMaterial),t.custoMaoObra!==void 0&&(r.custoMaoObra=t.custoMaoObra);const s=Et(Qe,Ch,n),o=await ma(s);if(o.exists()){const u=o.data(),d=t.custoMaterial??u.custoMaterial,m=t.custoMaoObra??u.custoMaoObra;r.custoTotal=d+m}await pa(s,r),await this.recalcularPesos(e)}catch(r){throw console.error("Erro ao atualizar custo:",r),new Error("No foi possvel atualizar o custo. Tente novamente.")}},async deleteCusto(n,e){try{await ls(Et(Qe,Ch,n)),await this.recalcularPesos(e)}catch(t){throw console.error("Erro ao deletar custo:",t),new Error("No foi possvel deletar o custo. Tente novamente.")}},async recalcularPesos(n){try{const e=await this.getCustosByObra(n),t=e.reduce((s,o)=>s+o.custoTotal,0);if(t===0)return;const r=e.map(async s=>{const o=s.custoTotal/t*100,u=Et(Qe,Ch,s.id);return pa(u,{peso:o,updatedAt:Ke.now()})});await Promise.all(r)}catch(e){console.error("Erro ao recalcular pesos:",e)}},async gerarFluxoCaixa(n,e){try{const t=new Map;return n.forEach(s=>{const o=e.find(y=>y.vagaoId===s.id);if(!o)return;const u=new Date(s.dataInicio),d=new Date(s.dataFim),m=this.calcularMesesEntreDatas(u,d),f=o.custoMaterial/m.length,v=o.custoMaoObra/m.length,_=o.custoTotal/m.length;m.forEach(y=>{const E=`${y.ano}-${String(y.mes).padStart(2,"0")}`;t.has(E)||t.set(E,{mes:this.getNomeMes(y.mes),ano:y.ano,custoMaterial:0,custoMaoObra:0,custoTotal:0,vagoes:[]});const b=t.get(E);b.custoMaterial+=f,b.custoMaoObra+=v,b.custoTotal+=_,b.vagoes.push({numero:s.numero,custoMaterial:f,custoMaoObra:v,custoTotal:_})})}),Array.from(t.values()).sort((s,o)=>s.ano!==o.ano?s.ano-o.ano:this.getMesNumero(s.mes)-this.getMesNumero(o.mes))}catch(t){throw console.error("Erro ao gerar fluxo de caixa:",t),new Error("No foi possvel gerar o fluxo de caixa.")}},calcularMesesEntreDatas(n,e){const t=[],r=new Date(n);for(r.setDate(1);r<=e;)t.push({mes:r.getMonth()+1,ano:r.getFullYear()}),r.setMonth(r.getMonth()+1);return t},getNomeMes(n){return["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][n-1]},getMesNumero(n){return["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"].indexOf(n)+1}},fF=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState([]),[o,u]=P.useState(!0),[d,m]=P.useState(null),[f,v]=P.useState(!1),[_,y]=P.useState(!1),[E,b]=P.useState(!1),[w,S]=P.useState(null),[k,D]=P.useState(null),[j,X]=P.useState([]),[te,ie]=P.useState(!1),[I,R]=P.useState({vagaoId:"",custoMaterial:0,custoMaoObra:0}),N=P.useCallback(async()=>{if(n)try{u(!0),m(null);const[le,Le]=await Promise.all([Ma.getVagoesByObra(n),Ih.getCustosByObra(n)]);t(le),s(Le)}catch(le){m(le instanceof Error?le.message:"Erro ao carregar dados")}finally{u(!1)}},[n]);P.useEffect(()=>{N()},[N]);const F=le=>{le?(S(le),R({vagaoId:le.vagaoId,custoMaterial:le.custoMaterial,custoMaoObra:le.custoMaoObra})):(S(null),R({vagaoId:"",custoMaterial:0,custoMaoObra:0})),v(!0),D(null)},U=async le=>{if(le.preventDefault(),!!n)try{if(b(!0),m(null),w)await Ih.updateCusto(w.id,n,{custoMaterial:I.custoMaterial,custoMaoObra:I.custoMaoObra});else{const Le=e.find(Te=>Te.id===I.vagaoId);if(!Le)throw new Error("Vago no encontrado");await Ih.createCusto(n,I,Le.numero)}v(!1),S(null),await N()}catch(Le){m(Le instanceof Error?Le.message:"Erro ao salvar custo")}finally{b(!1)}},M=async le=>{if(!(!n||!confirm("Tem certeza que deseja excluir este custo?")))try{await Ih.deleteCusto(le,n),await N(),D(null)}catch(Le){m(Le instanceof Error?Le.message:"Erro ao deletar custo")}},B=async()=>{if(n)try{ie(!0),m(null);const le=await Ih.gerarFluxoCaixa(e,r);X(le),y(!0)}catch(le){m(le instanceof Error?le.message:"Erro ao gerar relatrio")}finally{ie(!1)}},J=le=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(le),Ee=r.reduce((le,Le)=>le+Le.custoTotal,0),re=r.map(le=>le.vagaoId),xe=e.filter(le=>!re.includes(le.id));return l.jsxs("div",{className:"custo-vagoes-container",children:[l.jsxs("div",{className:"custo-vagoes-header",children:[l.jsxs("div",{className:"custo-vagoes-header-left",children:[l.jsx("h1",{children:"Custo Orado dos Vages"}),l.jsx("p",{children:"Gerencie os custos de material e mo de obra"})]}),l.jsxs("div",{className:"custo-vagoes-header-right",children:[l.jsx("button",{onClick:B,className:"btn-relatorio",disabled:r.length===0||te,children:te?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:20,className:"custo-spinner-small"}),l.jsx("span",{children:"Gerando..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ni,{size:20}),l.jsx("span",{children:"Gerar Relatrio"})]})}),l.jsxs("button",{onClick:()=>F(),className:"btn-add-custo",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Adicionar Custo"})]})]})]}),d&&l.jsxs("div",{className:"custo-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:d}),l.jsx("button",{onClick:()=>m(null),children:l.jsx(dn,{size:18})})]}),l.jsxs("div",{className:"custo-resumo",children:[l.jsxs("div",{className:"custo-resumo-card",children:[l.jsx("div",{className:"custo-resumo-icon",children:l.jsx(dd,{size:24})}),l.jsxs("div",{className:"custo-resumo-info",children:[l.jsx("span",{className:"custo-resumo-label",children:"Custo Total da Obra"}),l.jsx("span",{className:"custo-resumo-value",children:J(Ee)})]})]}),l.jsxs("div",{className:"custo-resumo-card",children:[l.jsx("div",{className:"custo-resumo-icon custo-icon-success",children:l.jsx(KP,{size:24})}),l.jsxs("div",{className:"custo-resumo-info",children:[l.jsx("span",{className:"custo-resumo-label",children:"Vages com Custo"}),l.jsxs("span",{className:"custo-resumo-value",children:[r.length," / ",e.length]})]})]}),l.jsxs("div",{className:"custo-resumo-card",children:[l.jsx("div",{className:"custo-resumo-icon custo-icon-info",children:l.jsx(TN,{size:24})}),l.jsxs("div",{className:"custo-resumo-info",children:[l.jsx("span",{className:"custo-resumo-label",children:"Custo Mdio por Vago"}),l.jsx("span",{className:"custo-resumo-value",children:J(r.length>0?Ee/r.length:0)})]})]})]}),o?l.jsxs("div",{className:"custo-loading",children:[l.jsx(Bt,{size:48,className:"custo-spinner"}),l.jsx("p",{children:"Carregando custos..."})]}):r.length===0?l.jsxs("div",{className:"custo-empty",children:[l.jsx(dd,{size:64}),l.jsx("h2",{children:"Nenhum custo cadastrado"}),l.jsx("p",{children:"Comece adicionando o custo do primeiro vago"}),l.jsxs("button",{onClick:()=>F(),className:"btn-add-custo",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Adicionar Primeiro Custo"})]})]}):l.jsx("div",{className:"custo-table-container",children:l.jsxs("table",{className:"custo-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Vago"}),l.jsx("th",{children:"Material"}),l.jsx("th",{children:"Mo de Obra"}),l.jsx("th",{children:"Total"}),l.jsx("th",{children:"Peso (%)"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:r.map((le,Le)=>l.jsxs("tr",{style:{animationDelay:`${Le*.05}s`},children:[l.jsx("td",{children:l.jsxs("span",{className:"custo-vagao-numero",children:["Vago ",le.vagaoNumero]})}),l.jsx("td",{children:J(le.custoMaterial)}),l.jsx("td",{children:J(le.custoMaoObra)}),l.jsx("td",{children:l.jsx("strong",{children:J(le.custoTotal)})}),l.jsx("td",{children:l.jsxs("div",{className:"custo-peso",children:[l.jsx("div",{className:"custo-peso-bar",children:l.jsx("div",{className:"custo-peso-fill",style:{width:`${le.peso}%`}})}),l.jsxs("span",{children:[le.peso.toFixed(2),"%"]})]})}),l.jsx("td",{children:l.jsxs("div",{className:"custo-actions",children:[l.jsx("button",{onClick:()=>D(k===le.id?null:le.id),className:"custo-menu-button",children:l.jsx(ql,{size:20})}),k===le.id&&l.jsxs("div",{className:"custo-dropdown-menu",children:[l.jsxs("button",{onClick:()=>F(le),children:[l.jsx(ep,{size:16}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{onClick:()=>M(le.id),className:"delete-action",children:[l.jsx(ga,{size:16}),l.jsx("span",{children:"Excluir"})]})]})]})})]},le.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"TOTAL"})}),l.jsx("td",{children:l.jsx("strong",{children:J(r.reduce((le,Le)=>le+Le.custoMaterial,0))})}),l.jsx("td",{children:l.jsx("strong",{children:J(r.reduce((le,Le)=>le+Le.custoMaoObra,0))})}),l.jsx("td",{children:l.jsx("strong",{children:J(Ee)})}),l.jsx("td",{children:l.jsx("strong",{children:"100%"})}),l.jsx("td",{})]})})]})}),f&&l.jsx("div",{className:"custo-modal-overlay",onClick:()=>v(!1),children:l.jsxs("div",{className:"custo-modal-content",onClick:le=>le.stopPropagation(),children:[l.jsxs("div",{className:"custo-modal-header",children:[l.jsx("h2",{children:w?"Editar Custo":"Adicionar Custo"}),l.jsx("button",{onClick:()=>v(!1),className:"custo-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{onSubmit:U,className:"custo-modal-form",children:[l.jsxs("div",{className:"custo-form-group",children:[l.jsx("label",{htmlFor:"vagao",children:"Vago *"}),l.jsxs("select",{id:"vagao",value:I.vagaoId,onChange:le=>R({...I,vagaoId:le.target.value}),required:!0,disabled:E||!!w,children:[l.jsx("option",{value:"",children:"Selecione um vago"}),(w?e:xe).map(le=>l.jsxs("option",{value:le.id,children:["Vago ",le.numero]},le.id))]}),!w&&xe.length===0&&l.jsx("small",{className:"custo-form-hint",children:"Todos os vages j possuem custo cadastrado"})]}),l.jsxs("div",{className:"custo-form-group",children:[l.jsx("label",{htmlFor:"material",children:"Custo de Material (R$) *"}),l.jsx("input",{type:"number",id:"material",min:"0",step:"0.01",value:I.custoMaterial,onChange:le=>R({...I,custoMaterial:parseFloat(le.target.value)||0}),required:!0,disabled:E,placeholder:"0,00"})]}),l.jsxs("div",{className:"custo-form-group",children:[l.jsx("label",{htmlFor:"maoObra",children:"Custo de Mo de Obra (R$) *"}),l.jsx("input",{type:"number",id:"maoObra",min:"0",step:"0.01",value:I.custoMaoObra,onChange:le=>R({...I,custoMaoObra:parseFloat(le.target.value)||0}),required:!0,disabled:E,placeholder:"0,00"})]}),l.jsxs("div",{className:"custo-form-total",children:[l.jsx("span",{children:"Custo Total:"}),l.jsx("strong",{children:J(I.custoMaterial+I.custoMaoObra)})]}),l.jsxs("div",{className:"custo-modal-actions",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"custo-btn-secondary",disabled:E,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"custo-btn-primary",disabled:E,children:E?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"custo-spinner-small"}),"Salvando..."]}):w?"Salvar Alteraes":"Adicionar Custo"})]})]})]})}),_&&l.jsx("div",{className:"relatorio-modal-overlay",onClick:()=>y(!1),children:l.jsxs("div",{className:"relatorio-modal-content",onClick:le=>le.stopPropagation(),children:[l.jsxs("div",{className:"relatorio-modal-header",children:[l.jsx("h2",{children:"Relatrio de Fluxo de Caixa - Despesas Oradas"}),l.jsx("button",{onClick:()=>y(!1),className:"relatorio-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("div",{className:"relatorio-container",children:[l.jsx("div",{className:"relatorio-resumo",children:l.jsx("p",{children:"Previso de despesas mensais ao longo da execuo da obra, distribudas proporcionalmente ao perodo de cada vago."})}),l.jsx("div",{className:"relatorio-table-container",children:l.jsxs("table",{className:"relatorio-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Perodo"}),l.jsx("th",{children:"Material"}),l.jsx("th",{children:"Mo de Obra"}),l.jsx("th",{children:"Total"}),l.jsx("th",{children:"Vages Ativos"})]})}),l.jsx("tbody",{children:j.map((le,Le)=>l.jsxs("tr",{style:{animationDelay:`${Le*.03}s`},children:[l.jsx("td",{children:l.jsxs("strong",{children:[le.mes,"/",le.ano]})}),l.jsx("td",{children:J(le.custoMaterial)}),l.jsx("td",{children:J(le.custoMaoObra)}),l.jsx("td",{children:l.jsx("strong",{children:J(le.custoTotal)})}),l.jsx("td",{children:l.jsx("div",{className:"relatorio-vagoes",children:le.vagoes.map(Te=>l.jsxs("span",{className:"relatorio-vagao-badge",children:["V",Te.numero]},Te.numero))})})]},`${le.ano}-${le.mes}`))}),l.jsx("tfoot",{children:l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:"TOTAL"})}),l.jsx("td",{children:l.jsx("strong",{children:J(j.reduce((le,Le)=>le+Le.custoMaterial,0))})}),l.jsx("td",{children:l.jsx("strong",{children:J(j.reduce((le,Le)=>le+Le.custoMaoObra,0))})}),l.jsx("td",{children:l.jsx("strong",{children:J(j.reduce((le,Le)=>le+Le.custoTotal,0))})}),l.jsx("td",{})]})})]})})]})]})})]})},mF="https://us-central1-YOUR_PROJECT.cloudfunctions.net",pF={async getRetailStockLevel(n){try{const e=new URLSearchParams;n?.order&&n.order.forEach(s=>e.append("order",s)),n?.fields&&e.append("fields",n.fields),n?.page&&e.append("page",String(n.page)),n?.pageSize&&e.append("pageSize",String(n.pageSize));const t=`${mF}/getRetailStockLevel${e.toString()?`?${e.toString()}`:""}`,r=await fetch(t,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok){let s=`TOTVS API error: ${r.status}`;try{const o=await r.json();s=o.error||o.message||s}catch{const o=await r.text().catch(()=>"");o&&(s=o)}throw new Error(s)}return r.json()}catch(e){throw console.error("Error fetching retail stock level:",e),e}}},Rh="estoque_insumos",Za={async createEstoque(n,e){try{const t={obraId:n,nome:e.nome,unidade:e.unidade,quantidadeDisponivel:e.quantidadeDisponivel,createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,Rh),t)).id,obraId:n,nome:e.nome,unidade:e.unidade,quantidadeDisponivel:e.quantidadeDisponivel,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar estoque:",t),new Error("No foi possvel criar o estoque. Tente novamente.")}},async getEstoquesByObra(n){try{const e=_r(Zt(Qe,Rh),xr("obraId","==",n),Fa("nome","asc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,nome:o.nome,unidade:o.unidade,quantidadeDisponivel:o.quantidadeDisponivel,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar estoques:",e),new Error("No foi possvel carregar os estoques. Tente novamente.")}},async updateEstoque(n,e){try{const t={updatedAt:Ke.now()};e.nome!==void 0&&(t.nome=e.nome),e.unidade!==void 0&&(t.unidade=e.unidade),e.quantidadeDisponivel!==void 0&&(t.quantidadeDisponivel=e.quantidadeDisponivel);const r=Et(Qe,Rh,n);await pa(r,t)}catch(t){throw console.error("Erro ao atualizar estoque:",t),new Error("No foi possvel atualizar o estoque. Tente novamente.")}},async deleteEstoque(n){try{await ls(Et(Qe,Rh,n))}catch(e){throw console.error("Erro ao deletar estoque:",e),new Error("No foi possvel deletar o estoque. Tente novamente.")}},observeEstoquesByObra(n,e){try{const t=_r(Zt(Qe,Rh),xr("obraId","==",n),Fa("nome","asc"));return X6(t,r=>{const s=[];r.forEach(o=>{const u=o.data();s.push({id:o.id,obraId:u.obraId,nome:u.nome,unidade:u.unidade,quantidadeDisponivel:u.quantidadeDisponivel,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}),e(s)},r=>{console.error("Erro ao observar estoques:",r),e([])})}catch(t){return console.error("Erro ao configurar observador de estoques:",t),e([]),()=>{}}},analisarKits(n,e,t){const r=new Map;e.forEach(o=>{const u=`${o.nome.toLowerCase()}-${o.unidade.toLowerCase()}`;r.set(u,o.quantidadeDisponivel)});const s=[];for(const o of n){const u=t.get(o.id)||0,d=[];let m=!1;for(const f of o.materiais){const v=`${f.nome.toLowerCase()}-${f.unidade.toLowerCase()}`,_=f.quantidade*u,y=r.get(v)||0,E=Math.min(_,y),b=Math.max(0,_-y);r.set(v,Math.max(0,y-_)),d.push({nome:f.nome,unidade:f.unidade,quantidadePorUnidade:f.quantidade,quantidadeTotal:_,quantidadeAlocada:E,deficit:b,temAlerta:b>0}),b>0&&(m=!0)}s.push({kitId:o.id,kitNome:o.nome,vagaoNumero:o.vagaoNumero,producaoFaltante:u,insumos:d,temAlerta:m})}return s}},gF=()=>{const{obraId:n}=ur(),[e,t]=P.useState(!0),[r,s]=P.useState(null),[o,u]=P.useState([]),[d,m]=P.useState(0),[f,v]=P.useState([]),[_,y]=P.useState(null),[E,b]=P.useState(!1),[w,S]=P.useState(null),[k,D]=P.useState(!1),[j,X]=P.useState(null),[te,ie]=P.useState(null),[I,R]=P.useState({nome:"",unidade:"",quantidadeDisponivel:0}),N=async(J=!1)=>{J?b(!0):t(!0),s(null);try{const Ee=await pF.getRetailStockLevel({page:1,pageSize:100}),re=Ee.items||Ee.data||Ee||[],xe=Array.isArray(re)?re:[],le=Ee.total||xe.length||0;u(xe),m(le),S(new Date)}catch(Ee){const re=Ee instanceof Error?Ee.message:"Erro desconhecido";re.includes("Credenciais da API TOTVS no configuradas")||re.includes("Credenciais TOTVS no configuradas")||re.includes("TOTVS API error: 500")||re.includes("500")&&(re.includes("TOTVS")||re.includes("credenciais"))?s('As credenciais da API TOTVS no esto configuradas. Por favor, configure as credenciais no Firebase Functions para acessar os dados de estoque. Execute: firebase functions:config:set totvs.base_url="..." totvs.auth_token="..."'):re.includes("Failed to fetch")||re.includes("NetworkError")?s("Erro de conexo. Verifique sua internet e se o Firebase Functions est configurado corretamente."):s(`Erro ao carregar dados de estoque: ${re}`)}finally{J?b(!1):t(!1)}};P.useEffect(()=>{if(!n)return;y(null);const J=Za.observeEstoquesByObra(n,Ee=>{v(Ee),y(null)});return()=>{J()}},[n]),P.useEffect(()=>{N()},[]),P.useEffect(()=>{const J=setInterval(()=>{document.hidden||N(!0)},3e5);return()=>clearInterval(J)},[]),P.useEffect(()=>{const J=()=>{document.hidden||(w?Date.now()-w.getTime()>3e5&&N(!0):N(!0))};return document.addEventListener("visibilitychange",J),()=>{document.removeEventListener("visibilitychange",J)}},[w]),P.useEffect(()=>(k?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[k]);const F=J=>{J?(X(J),R({nome:J.nome,unidade:J.unidade,quantidadeDisponivel:J.quantidadeDisponivel})):(X(null),R({nome:"",unidade:"",quantidadeDisponivel:0})),D(!0),ie(null)},U=async J=>{if(J.preventDefault(),!!n){y(null);try{j?await Za.updateEstoque(j.id,I):await Za.createEstoque(n,I),D(!1),R({nome:"",unidade:"",quantidadeDisponivel:0})}catch(Ee){y(Ee instanceof Error?Ee.message:"Erro ao salvar estoque")}}},M=async J=>{if(window.confirm("Tem certeza que deseja excluir este insumo do estoque?"))try{await Za.deleteEstoque(J),ie(null)}catch(Ee){y(Ee instanceof Error?Ee.message:"Erro ao excluir estoque")}};if(e)return l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Estoque de Insumos"}),l.jsx("p",{children:"Consulta de saldo em estoque via TOTVS"})]}),n&&l.jsxs("button",{className:"btn-add-estoque-header",onClick:()=>F(),type:"button",children:[l.jsx(hn,{size:18}),"Cadastrar Insumo"]})]}),l.jsx("div",{className:"page-content",children:l.jsxs("div",{className:"estoque-loading",children:[l.jsx(Bt,{className:"spinner",size:48}),l.jsx("p",{children:"Carregando dados de estoque..."})]})})]});if(r)return l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Estoque de Insumos"}),l.jsx("p",{children:"Consulta de saldo em estoque via TOTVS"})]}),n&&l.jsxs("button",{className:"btn-add-estoque-header",onClick:()=>F(),type:"button",children:[l.jsx(hn,{size:18}),"Cadastrar Insumo"]})]}),l.jsx("div",{className:"page-content",children:l.jsxs("div",{className:"estoque-error",children:[l.jsx(It,{className:"error-icon",size:48}),l.jsx("h3",{children:"Erro ao carregar estoque"}),l.jsx("p",{children:r}),l.jsxs("button",{className:"btn-retry",onClick:()=>N(!1),type:"button",children:[l.jsx(Nv,{size:16}),"Tentar novamente"]})]})})]});if(o.length===0)return l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Estoque de Insumos"}),l.jsx("p",{children:"Consulta de saldo em estoque via TOTVS"})]}),n&&l.jsxs("button",{className:"btn-add-estoque-header",onClick:()=>F(),type:"button",children:[l.jsx(hn,{size:18}),"Cadastrar Insumo"]})]}),l.jsx("div",{className:"page-content",children:l.jsxs("div",{className:"estoque-empty",children:[l.jsx(ko,{size:48}),l.jsx("p",{children:"Nenhum item de estoque encontrado."}),l.jsxs("button",{className:"btn-retry",onClick:()=>N(!1),type:"button",children:[l.jsx(Nv,{size:16}),"Atualizar"]})]})})]});const B=Object.keys(o[0]||{});return l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Estoque de Insumos"}),l.jsx("p",{children:"Consulta de saldo em estoque via TOTVS"})]}),n&&l.jsxs("button",{className:"btn-add-estoque-header",onClick:()=>F(),type:"button",children:[l.jsx(hn,{size:18}),"Cadastrar Insumo"]})]}),l.jsxs("div",{className:"page-content",children:[l.jsxs("div",{className:"estoque-header",children:[l.jsxs("div",{className:"estoque-info",children:[l.jsxs("span",{className:"total-items",children:["Total de itens (TOTVS): ",l.jsx("strong",{children:d})]}),f.length>0&&l.jsxs("span",{className:"total-items",children:["| Insumos cadastrados: ",l.jsx("strong",{children:f.length})]})]}),l.jsxs("div",{className:"estoque-header-actions",children:[w&&l.jsxs("span",{className:"last-update-text",children:["ltima atualizao: ",w.toLocaleTimeString("pt-BR")]}),l.jsxs("button",{className:"btn-refresh",onClick:()=>N(!1),type:"button",disabled:e||E,title:"Atualizar dados da TOTVS",children:[l.jsx(Nv,{size:16,className:e||E?"spinning":""}),E?"Atualizando...":"Atualizar TOTVS"]})]})]}),_&&l.jsxs("div",{className:"estoque-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:_}),l.jsx("button",{onClick:()=>{y(null)},type:"button",children:l.jsx(dn,{size:16})})]}),f.length>0&&l.jsxs("div",{className:"estoque-local-section",children:[l.jsxs("div",{className:"section-header-with-indicator",children:[l.jsx("h2",{children:"Insumos Cadastrados Localmente"}),l.jsxs("span",{className:"realtime-indicator",title:"Atualizao em tempo real",children:[l.jsx("span",{className:"realtime-dot"}),"Tempo real"]})]}),l.jsx("div",{className:"estoque-local-grid",children:f.map(J=>l.jsxs("div",{className:"estoque-local-card",children:[l.jsxs("div",{className:"estoque-local-card-header",children:[l.jsx("h3",{children:J.nome}),l.jsxs("div",{className:"estoque-local-card-menu",children:[l.jsx("button",{onClick:()=>ie(te===J.id?null:J.id),type:"button",children:l.jsx(ql,{size:18})}),te===J.id&&l.jsxs("div",{className:"estoque-dropdown-menu",children:[l.jsxs("button",{onClick:()=>F(J),children:[l.jsx(_1,{size:16}),"Editar"]}),l.jsxs("button",{onClick:()=>M(J.id),children:[l.jsx(ga,{size:16}),"Excluir"]})]})]})]}),l.jsxs("div",{className:"estoque-local-card-body",children:[l.jsx("span",{className:"estoque-quantidade",children:J.quantidadeDisponivel.toLocaleString("pt-BR")}),l.jsx("span",{className:"estoque-unidade",children:J.unidade})]})]},J.id))})]}),l.jsxs("div",{className:"estoque-totvs-section",children:[l.jsx("h2",{children:"Dados de Estoque - TOTVS"}),l.jsx("div",{className:"estoque-table-container",children:l.jsxs("table",{className:"estoque-table",children:[l.jsx("thead",{children:l.jsx("tr",{children:B.map(J=>l.jsx("th",{children:J.replace(/([A-Z])/g," $1").replace(/^./,Ee=>Ee.toUpperCase()).trim()},J))})}),l.jsx("tbody",{children:o.map((J,Ee)=>l.jsx("tr",{children:B.map(re=>l.jsx("td",{children:J[re]!==null&&J[re]!==void 0?String(J[re]):"-"},re))},Ee))})]})})]}),k&&hd.createPortal(l.jsx("div",{className:"estoque-modal-overlay",onClick:()=>D(!1),children:l.jsxs("div",{className:"estoque-modal-content",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"estoque-modal-header",children:[l.jsxs("h2",{children:[j?"Editar":"Cadastrar"," Insumo no Estoque"]}),l.jsx("button",{className:"estoque-modal-close",onClick:()=>D(!1),type:"button",children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{className:"estoque-modal-form",onSubmit:U,children:[l.jsxs("div",{className:"estoque-form-row",children:[l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Nome do insumo *"}),l.jsx("input",{type:"text",value:I.nome,onChange:J=>R({...I,nome:J.target.value}),required:!0,placeholder:"Ex: Cimento, Areia, Tijolo..."})]}),l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Unidade *"}),l.jsx("input",{type:"text",value:I.unidade,onChange:J=>R({...I,unidade:J.target.value}),required:!0,placeholder:"m, kg, pea..."})]})]}),l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Quantidade disponvel *"}),l.jsx("input",{type:"number",min:0,step:"0.01",value:I.quantidadeDisponivel,onChange:J=>R({...I,quantidadeDisponivel:parseFloat(J.target.value)||0}),required:!0})]}),l.jsxs("div",{className:"estoque-modal-actions",children:[l.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>D(!1),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary-modal",children:j?"Atualizar":"Cadastrar"})]})]})]})}),document.body)]})]})},v0="itens_vagoes",Ss={async createItem(n,e,t,r){if(t.quantidade+r>e.numeroApartamentos)throw new Error("Quantidade excede o limite orado do vago.");try{const s={obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,empresa:t.empresa,servico:t.servico,quantidade:t.quantidade,quantidadeMaxima:e.numeroApartamentos,createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,v0),s)).id,obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,empresa:t.empresa,servico:t.servico,quantidade:t.quantidade,quantidadeMaxima:e.numeroApartamentos,createdAt:new Date,updatedAt:new Date}}catch(s){throw console.error("Erro ao criar item:",s),new Error("No foi possvel criar o item. Tente novamente.")}},async getItensByObra(n){try{const e=_r(Zt(Qe,v0),xr("obraId","==",n),Fa("vagaoNumero","asc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,empresa:o.empresa,servico:o.servico,quantidade:o.quantidade,quantidadeMaxima:o.quantidadeMaxima,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar itens:",e),new Error("No foi possvel carregar os itens. Tente novamente.")}},async updateItem(n,e,t,r,s){if((t.quantidade!==void 0?t.quantidade:s)+(r-s)>e.numeroApartamentos)throw new Error("Quantidade excede o limite orado do vago.");try{const u={updatedAt:Ke.now()};t.empresa!==void 0&&(u.empresa=t.empresa),t.servico!==void 0&&(u.servico=t.servico),t.quantidade!==void 0&&(u.quantidade=t.quantidade);const d=Et(Qe,v0,n);await pa(d,u)}catch(u){throw console.error("Erro ao atualizar item:",u),new Error("No foi possvel atualizar o item. Tente novamente.")}},async deleteItem(n){try{await ls(Et(Qe,v0,n))}catch(e){throw console.error("Erro ao deletar item:",e),new Error("No foi possvel deletar o item. Tente novamente.")}},somarQuantidadePorVagao(n,e){return n.filter(t=>t.vagaoId===e).reduce((t,r)=>t+r.quantidade,0)}},vF=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState([]),[o,u]=P.useState(!0),[d,m]=P.useState(null),[f,v]=P.useState(!1),[_,y]=P.useState(!1),[E,b]=P.useState(null),[w,S]=P.useState(null),[k,D]=P.useState({vagaoId:"",empresa:"",servico:"",quantidade:0}),j=P.useCallback(async()=>{if(n)try{u(!0),m(null);const[N,F]=await Promise.all([Ma.getVagoesByObra(n),Ss.getItensByObra(n)]);t(N),s(F)}catch(N){m(N instanceof Error?N.message:"Erro ao carregar dados")}finally{u(!1)}},[n]);P.useEffect(()=>{j()},[j]);const X=N=>Ss.somarQuantidadePorVagao(r,N),te=N=>{N?(b(N),D({vagaoId:N.vagaoId,empresa:N.empresa,servico:N.servico,quantidade:N.quantidade})):(b(null),D({vagaoId:"",empresa:"",servico:"",quantidade:0})),v(!0),S(null)},ie=async N=>{if(N.preventDefault(),!!n)try{y(!0),m(null);const F=e.find(M=>M.id===k.vagaoId);if(!F)throw new Error("Vago no encontrado");const U=X(k.vagaoId);E?await Ss.updateItem(E.id,F,{...k},U,E.quantidade):await Ss.createItem(n,F,k,U),v(!1),b(null),await j()}catch(F){m(F instanceof Error?F.message:"Erro ao salvar item")}finally{y(!1)}},I=async N=>{if(confirm("Tem certeza que deseja excluir este item?"))try{await Ss.deleteItem(N),await j(),S(null)}catch(F){m(F instanceof Error?F.message:"Erro ao deletar item")}},R=N=>{const F=e.find(U=>U.id===N);return F?{atual:X(N),max:F.numeroApartamentos}:{atual:0,max:0}};return l.jsxs("div",{className:"itens-container",children:[l.jsxs("div",{className:"itens-header",children:[l.jsxs("div",{className:"itens-header-left",children:[l.jsx("h1",{children:"Itens por Vago"}),l.jsx("p",{children:"Cadastre fornecedores e servios vinculados a cada vago"})]}),l.jsx("div",{className:"itens-header-right",children:l.jsxs("button",{onClick:()=>te(),className:"btn-add-item",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Novo Item"})]})})]}),d&&l.jsxs("div",{className:"itens-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:d}),l.jsx("button",{onClick:()=>m(null),children:l.jsx(dn,{size:18})})]}),o?l.jsxs("div",{className:"itens-loading",children:[l.jsx(Bt,{size:48,className:"itens-spinner"}),l.jsx("p",{children:"Carregando itens..."})]}):r.length===0?l.jsxs("div",{className:"itens-empty",children:[l.jsx(bw,{size:64}),l.jsx("h2",{children:"Nenhum item cadastrado"}),l.jsx("p",{children:"Comece adicionando servios para os vages"}),l.jsxs("button",{onClick:()=>te(),className:"btn-add-item",children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Adicionar Primeiro Item"})]})]}):l.jsx("div",{className:"itens-grid",children:r.map((N,F)=>l.jsxs("div",{className:"item-card",style:{animationDelay:`${F*.05}s`},children:[l.jsxs("div",{className:"item-card-header",children:[l.jsxs("div",{className:"item-vagao",children:[l.jsx(Vh,{size:20}),l.jsxs("span",{children:["Vago ",N.vagaoNumero]})]}),l.jsxs("div",{className:"item-menu",children:[l.jsx("button",{onClick:()=>S(w===N.id?null:N.id),className:"item-menu-button",children:l.jsx(ql,{size:20})}),w===N.id&&l.jsxs("div",{className:"item-dropdown-menu",children:[l.jsxs("button",{onClick:()=>te(N),children:[l.jsx(ep,{size:16}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{onClick:()=>I(N.id),className:"delete-action",children:[l.jsx(ga,{size:16}),l.jsx("span",{children:"Excluir"})]})]})]})]}),l.jsxs("div",{className:"item-body",children:[l.jsxs("div",{className:"item-info-row",children:[l.jsx(bw,{size:16}),l.jsxs("div",{children:[l.jsx("span",{className:"item-label",children:"Empresa"}),l.jsx("p",{className:"item-value",children:N.empresa})]})]}),l.jsxs("div",{className:"item-info-row",children:[l.jsx(Fx,{size:16}),l.jsxs("div",{children:[l.jsx("span",{className:"item-label",children:"Servio"}),l.jsx("p",{className:"item-value",children:N.servico})]})]}),l.jsxs("div",{className:"item-progress",children:[l.jsxs("div",{className:"item-progress-header",children:[l.jsx("span",{children:"Quantidade"}),l.jsxs("strong",{children:[N.quantidade," / ",N.quantidadeMaxima]})]}),l.jsx("div",{className:"item-progress-bar",children:l.jsx("div",{className:`item-progress-fill ${N.quantidade===N.quantidadeMaxima?"complete":""}`,style:{width:`${N.quantidade/N.quantidadeMaxima*100}%`}})}),N.quantidade===N.quantidadeMaxima&&l.jsx("span",{className:"item-progress-status",children:"Limite do Vago atingido"})]})]})]},N.id))}),f&&l.jsx("div",{className:"itens-modal-overlay",onClick:()=>v(!1),children:l.jsxs("div",{className:"itens-modal-content",onClick:N=>N.stopPropagation(),children:[l.jsxs("div",{className:"itens-modal-header",children:[l.jsx("h2",{children:E?"Editar Item":"Novo Item"}),l.jsx("button",{onClick:()=>v(!1),className:"itens-modal-close",children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{onSubmit:ie,className:"itens-modal-form",children:[l.jsxs("div",{className:"itens-form-group",children:[l.jsx("label",{htmlFor:"vagao",children:"Vago *"}),l.jsxs("select",{id:"vagao",value:k.vagaoId,onChange:N=>D({...k,vagaoId:N.target.value}),required:!0,disabled:_||!!E,children:[l.jsx("option",{value:"",children:"Selecione um vago"}),e.map(N=>{const F=R(N.id),U=N.numeroApartamentos-F.atual;return!E&&U<=0?null:l.jsx("option",{value:N.id,children:`Vago ${N.numero} (Disponvel: ${U})`},N.id)})]})]}),l.jsxs("div",{className:"itens-form-group",children:[l.jsx("label",{htmlFor:"empresa",children:"Empresa Fornecedora*"}),l.jsx("input",{type:"text",id:"empresa",value:k.empresa,onChange:N=>D({...k,empresa:N.target.value}),required:!0,disabled:_,placeholder:"Ex: Construtora XYZ"})]}),l.jsxs("div",{className:"itens-form-group",children:[l.jsx("label",{htmlFor:"servico",children:"Servio Negociado *"}),l.jsx("input",{type:"text",id:"servico",value:k.servico,onChange:N=>D({...k,servico:N.target.value}),required:!0,disabled:_,placeholder:"Ex: Instalao eltrica"})]}),l.jsxs("div",{className:"itens-form-group",children:[l.jsx("label",{htmlFor:"quantidade",children:"Quantidade *"}),l.jsx("input",{type:"number",id:"quantidade",min:"0",step:"1",value:k.quantidade,onChange:N=>D({...k,quantidade:parseInt(N.target.value)||0}),required:!0,disabled:_}),k.vagaoId&&(()=>{const N=R(k.vagaoId),F=N.max-N.atual;return(E?N.atual-E.quantidade+k.quantidade:N.atual+k.quantidade)>N.max?l.jsxs("div",{className:"itens-form-warning",children:[l.jsx(It,{size:16}),l.jsxs("span",{children:["Quantidade excede o limite! Disponvel:"," ",F+(E?E.quantidade:0)," ","unidades"]})]}):F===0&&!E?l.jsxs("div",{className:"itens-form-warning",children:[l.jsx(It,{size:16}),l.jsx("span",{children:"Este vago j atingiu sua capacidade mxima!"})]}):null})()]}),l.jsxs("div",{className:"itens-modal-actions",children:[l.jsx("button",{type:"button",onClick:()=>v(!1),className:"itens-btn-secondary",disabled:_,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"itens-btn-primary",disabled:_,children:_?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"itens-spinner-small"}),"Salvando..."]}):E?"Salvar Alteraes":"Adicionar Item"})]})]})]})})]})},Fc="contratos",xF=()=>`${Date.now()}-${Math.random().toString(36).slice(2,11)}`,rs={async createContrato(n,e){try{const t=await this.getContratosByFornecedor(n,e.fornecedor),r=t.length>0,s=r?t[0].id:void 0,o=e.itens.reduce((f,v)=>f+v.valorTotal,0),u=xF(),d={obraId:n,fornecedor:e.fornecedor,tipo:r?"aditivo":"contrato",contratoOriginalId:s||null,numeroContrato:e.numeroContrato,itens:e.itens,valorTotal:o,status:"pendente",aprovadorId:e.aprovadorId,aprovadorNome:e.aprovadorNome,aprovadorEmail:e.aprovadorEmail,tokenAprovacao:u,dataAprovacao:null,observacoesAprovacao:null,createdAt:Ke.now(),updatedAt:Ke.now()},m=await Ls(Zt(Qe,Fc),d);return await this.enviarEmailAprovacao({contratoId:m.id,fornecedor:e.fornecedor,numeroContrato:e.numeroContrato,valorTotal:o,aprovadorEmail:e.aprovadorEmail,aprovadorNome:e.aprovadorNome,tokenAprovacao:u,tipo:r?"aditivo":"contrato"}),{id:m.id,obraId:n,fornecedor:e.fornecedor,tipo:r?"aditivo":"contrato",contratoOriginalId:s,numeroContrato:e.numeroContrato,itens:e.itens,valorTotal:o,status:"pendente",aprovadorId:e.aprovadorId,aprovadorNome:e.aprovadorNome,aprovadorEmail:e.aprovadorEmail,tokenAprovacao:u,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar contrato:",t),new Error("No foi possvel criar o contrato. Tente novamente.")}},async enviarEmailAprovacao(n){try{console.warn("URL do Power Automate no configurada");return}catch(e){console.error("Erro ao enviar e-mail de aprovao:",e)}},async getContratosByObra(n){try{const e=_r(Zt(Qe,Fc),xr("obraId","==",n),Fa("createdAt","desc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,fornecedor:o.fornecedor,tipo:o.tipo,contratoOriginalId:o.contratoOriginalId,numeroContrato:o.numeroContrato,itens:o.itens||[],valorTotal:o.valorTotal,status:o.status,aprovadorId:o.aprovadorId,aprovadorNome:o.aprovadorNome,aprovadorEmail:o.aprovadorEmail,tokenAprovacao:o.tokenAprovacao,dataAprovacao:o.dataAprovacao?.toDate(),observacoesAprovacao:o.observacoesAprovacao,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar contratos:",e),new Error("No foi possvel carregar os contratos. Tente novamente.")}},async getContratosByFornecedor(n,e){try{const t=_r(Zt(Qe,Fc),xr("obraId","==",n),xr("fornecedor","==",e),Fa("createdAt","desc")),r=await jr(t),s=[];return r.forEach(o=>{const u=o.data();s.push({id:o.id,obraId:u.obraId,fornecedor:u.fornecedor,tipo:u.tipo,contratoOriginalId:u.contratoOriginalId,numeroContrato:u.numeroContrato,itens:u.itens||[],valorTotal:u.valorTotal,status:u.status,aprovadorId:u.aprovadorId,aprovadorNome:u.aprovadorNome,aprovadorEmail:u.aprovadorEmail,tokenAprovacao:u.tokenAprovacao,dataAprovacao:u.dataAprovacao?.toDate(),observacoesAprovacao:u.observacoesAprovacao,createdAt:u.createdAt?.toDate()||new Date,updatedAt:u.updatedAt?.toDate()||new Date})}),s}catch(t){throw console.error("Erro ao buscar contratos por fornecedor:",t),new Error("No foi possvel carregar os contratos.")}},async getContratoById(n){try{const e=Et(Qe,Fc,n),t=await ma(e);if(!t.exists())return null;const r=t.data();return{id:t.id,obraId:r.obraId,fornecedor:r.fornecedor,tipo:r.tipo,contratoOriginalId:r.contratoOriginalId,numeroContrato:r.numeroContrato,itens:r.itens||[],valorTotal:r.valorTotal,status:r.status,aprovadorId:r.aprovadorId,aprovadorNome:r.aprovadorNome,aprovadorEmail:r.aprovadorEmail,tokenAprovacao:r.tokenAprovacao,dataAprovacao:r.dataAprovacao?.toDate(),observacoesAprovacao:r.observacoesAprovacao,createdAt:r.createdAt?.toDate()||new Date,updatedAt:r.updatedAt?.toDate()||new Date}}catch(e){throw console.error("Erro ao buscar contrato:",e),new Error("No foi possvel carregar o contrato.")}},async aprovarContrato(n){try{const e=await this.getContratoById(n.contratoId);if(!e)throw new Error("Contrato no encontrado");if(e.tokenAprovacao!==n.token)throw new Error("Token de aprovao invlido");if(e.status!=="pendente")throw new Error("Este contrato j foi processado");const t=Et(Qe,Fc,n.contratoId);await pa(t,{status:n.aprovado?"aprovado":"rejeitado",dataAprovacao:Ke.now(),observacoesAprovacao:n.observacoes||null,updatedAt:Ke.now()})}catch(e){throw console.error("Erro ao aprovar contrato:",e),e}},async deleteContrato(n){try{await ls(Et(Qe,Fc,n))}catch(e){throw console.error("Erro ao deletar contrato:",e),new Error("No foi possvel deletar o contrato. Tente novamente.")}},createItemId(){return`${Date.now()}-${Math.random().toString(36).slice(2,9)}`}},_F=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState(!0),[o,u]=P.useState(""),[d,m]=P.useState(!1),[f,v]=P.useState(!1),[_,y]=P.useState(null),[E,b]=P.useState({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),[w,S]=P.useState([]),[k,D]=P.useState({descricao:"",unidade:"",quantidade:0,valorUnitario:0}),[j,X]=P.useState([]),[te,ie]=P.useState(""),[I,R]=P.useState(!1),[N,F]=P.useState(""),[U,M]=P.useState(null),B=P.useMemo(()=>{const se=new Set;return j.forEach(Xe=>{Xe.empresa&&se.add(Xe.empresa)}),Array.from(se).sort()},[j]),J=P.useMemo(()=>j.map(se=>({id:se.id,label:`Vago ${se.vagaoNumero}  ${se.servico} (${se.empresa})`})),[j]),Ee=P.useMemo(()=>j.find(se=>se.id===te),[j,te]),re=P.useCallback(async()=>{if(n){s(!0),u("");try{const se=await rs.getContratosByObra(n);t(se)}catch(se){u(se instanceof Error?se.message:"Erro ao carregar contratos")}finally{s(!1)}}},[n]),xe=P.useCallback(async()=>{if(n)try{const se=await Ss.getItensByObra(n);X(se)}catch(se){console.error("Erro ao carregar itens da Tela 4:",se)}},[n]);P.useEffect(()=>{n&&(re(),xe())},[n,re,xe]),P.useEffect(()=>(d||f?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[d,f]);const le=se=>{if(b(tt=>({...tt,fornecedor:se})),!se){M(null);return}const Xe=e.find(tt=>tt.fornecedor.toLowerCase()===se.toLowerCase());M(Xe?{tipo:"aditivo",contratoNumero:Xe.numeroContrato}:{tipo:"contrato"})},Le=se=>{if(ie(se),!se)return;const Xe=j.find(tt=>tt.id===se);Xe&&(D(tt=>({...tt,descricao:Xe.servico,unidade:tt.unidade||"un",quantidade:Xe.quantidade})),le(Xe.empresa))},Te=()=>{b({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),S([]),ie(""),M(null),F(""),m(!0)},W=()=>{F("");const se=k.descricao.trim()||Ee?.servico?.trim()||"",Xe=k.unidade.trim()||"un",tt=k.quantidade>0?k.quantidade:Ee&&Ee.quantidade>0?Ee.quantidade:0;if(!se){F("Selecione um servio cadastrado ou informe a descrio manualmente.");return}if(tt<=0){F("Defina uma quantidade maior que zero.");return}if(k.valorUnitario<=0){F("Informe o valor unitrio do item.");return}const an={id:rs.createItemId(),descricao:se,unidade:Xe,quantidade:tt,valorUnitario:k.valorUnitario,valorTotal:tt*k.valorUnitario};S([...w,an]),D({descricao:"",unidade:"",quantidade:0,valorUnitario:0}),F("")},V=se=>{S(w.filter(Xe=>Xe.id!==se))},Z=async se=>{if(se.preventDefault(),!!n&&!I){if(w.length===0){u("Adicione pelo menos um item ao contrato");return}u(""),R(!0);try{await rs.createContrato(n,{...E,itens:w,aprovadorId:"aprovador-id"}),await re(),m(!1),b({fornecedor:"",numeroContrato:"",aprovadorNome:"",aprovadorEmail:""}),S([])}catch(Xe){u(Xe instanceof Error?Xe.message:"Erro ao criar contrato")}finally{R(!1)}}},Q=se=>{y(se),v(!0)},ee=async se=>{if(window.confirm("Tem certeza que deseja excluir este contrato?"))try{await rs.deleteContrato(se),await re()}catch(Xe){u(Xe instanceof Error?Xe.message:"Erro ao excluir contrato")}},pe=se=>{switch(se){case"aprovado":return l.jsx($r,{size:20,className:"status-icon aprovado"});case"rejeitado":return l.jsx(V0,{size:20,className:"status-icon rejeitado"});default:return l.jsx(g1,{size:20,className:"status-icon pendente"})}},De=se=>{switch(se){case"aprovado":return"Aprovado";case"rejeitado":return"Rejeitado";default:return"Pendente"}},Be=se=>[{id:"criado",label:"Criao",state:"completed"},{id:"email",label:"E-mail enviado",state:"completed"},{id:"aguardando",label:"Aguardando aprovao",state:se==="pendente"?"current":"completed"},{id:"conclusao",label:se==="aprovado"?"Aprovado":se==="rejeitado"?"Rejeitado":"Concluso",state:se==="pendente"?"upcoming":"completed",highlight:se==="pendente"?void 0:se==="aprovado"?"aprovado":"rejeitado"}],Me=w.reduce((se,Xe)=>se+Xe.valorTotal,0);return r?l.jsx("div",{className:"contrato-container",children:l.jsx("div",{className:"contrato-loading",children:"Carregando contratos..."})}):l.jsxs("div",{className:"contrato-container",children:[l.jsxs("div",{className:"contrato-header",children:[l.jsxs("div",{className:"contrato-header-left",children:[l.jsx(Ni,{size:32}),l.jsx("h1",{children:"Contratos"})]}),l.jsxs("button",{className:"btn-add-contrato",onClick:Te,children:[l.jsx(hn,{size:20}),"Novo Contrato"]})]}),l.jsxs("div",{className:"contrato-highlights",children:[l.jsxs("div",{className:"highlight-card",children:[l.jsx("strong",{children:"Dependncia  Tela 4 (Itens)"}),l.jsx("p",{children:"Os contratos aproveitam fornecedores e servios j aprovados na tela de Itens. Vincule o servio antes de definir valores contratuais."})]}),l.jsxs("div",{className:"highlight-card",children:[l.jsx("strong",{children:"Workflow de Aprovao"}),l.jsx("p",{children:"Aps a criao, o aprovador recebe um link via Power Automate para aprovar ou rejeitar o contrato/aditivo."})]})]}),o&&l.jsxs("div",{className:"contrato-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:o}),l.jsx("button",{onClick:()=>u(""),children:l.jsx(dn,{size:16})})]}),e.length===0?l.jsxs("div",{className:"contrato-empty",children:[l.jsx(Ni,{size:48}),l.jsx("h2",{children:"Nenhum contrato cadastrado"}),l.jsx("p",{children:"Crie um novo contrato para comear"})]}):l.jsx("div",{className:"contrato-list",children:e.map(se=>l.jsxs("div",{className:"contrato-card",children:[l.jsxs("div",{className:"contrato-card-header",children:[l.jsxs("div",{className:"contrato-card-info",children:[l.jsx("div",{className:"contrato-tipo-badge",children:se.tipo==="aditivo"?"Aditivo":"Contrato"}),l.jsx("h3",{children:se.fornecedor}),l.jsxs("span",{className:"contrato-numero",children:["N ",se.numeroContrato]})]}),l.jsxs("div",{className:"contrato-card-status",children:[pe(se.status),l.jsx("span",{className:`status-text ${se.status}`,children:De(se.status)})]})]}),l.jsxs("div",{className:"contrato-card-body",children:[l.jsxs("div",{className:"contrato-info-row",children:[l.jsx("span",{className:"info-label",children:"Valor Total:"}),l.jsx("span",{className:"info-value",children:se.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]}),l.jsxs("div",{className:"contrato-info-row",children:[l.jsx("span",{className:"info-label",children:"Aprovador:"}),l.jsx("span",{className:"info-value",children:se.aprovadorNome})]}),l.jsxs("div",{className:"contrato-info-row",children:[l.jsx("span",{className:"info-label",children:"Itens:"}),l.jsx("span",{className:"info-value",children:se.itens.length})]}),l.jsx("div",{className:"contrato-approval-timeline",children:Be(se.status).map(Xe=>l.jsxs("div",{className:`timeline-step ${Xe.state} ${Xe.highlight?`timeline-${Xe.highlight}`:""}`,children:[l.jsx("div",{className:"timeline-dot"}),l.jsx("span",{children:Xe.label})]},`${se.id}-${Xe.id}`))})]}),l.jsxs("div",{className:"contrato-card-footer",children:[l.jsxs("button",{className:"btn-view",onClick:()=>Q(se),children:[l.jsx(du,{size:16}),"Visualizar"]}),se.status==="pendente"&&l.jsxs("button",{className:"btn-delete",onClick:()=>ee(se.id),children:[l.jsx(ga,{size:16}),"Excluir"]})]})]},se.id))}),d&&hd.createPortal(l.jsx("div",{className:"contrato-modal-overlay",onClick:()=>m(!1),children:l.jsxs("div",{className:"contrato-modal-content",onClick:se=>se.stopPropagation(),children:[l.jsxs("div",{className:"contrato-modal-header",children:[l.jsx("h2",{children:"Novo Contrato"}),l.jsx("button",{className:"contrato-modal-close",onClick:()=>m(!1),children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{className:"contrato-modal-form",onSubmit:Z,children:[l.jsxs("div",{className:"contrato-form-section",children:[l.jsx("h3",{children:"Dados do Contrato"}),l.jsxs("div",{className:"contrato-form-row",children:[l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Fornecedor *"}),l.jsx("input",{type:"text",list:"fornecedoresOptions",value:E.fornecedor,onChange:se=>le(se.target.value),placeholder:"Ex: Fornecedor de Cimento",required:!0}),B.length>0&&l.jsx("datalist",{id:"fornecedoresOptions",children:B.map(se=>l.jsx("option",{value:se},se))}),U&&l.jsxs("div",{className:`fornecedor-alert ${U.tipo}`,children:[l.jsx(w5,{size:16}),U.tipo==="aditivo"?l.jsxs("span",{children:["Fornecedor j possui contrato N"," ",U.contratoNumero,". Este registro ser tratado como aditivo automaticamente."]}):l.jsx("span",{children:"Nenhum contrato anterior encontrado. Este ser um novo contrato base."})]})]}),l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Nmero do Contrato *"}),l.jsx("input",{type:"text",value:E.numeroContrato,onChange:se=>b({...E,numeroContrato:se.target.value}),placeholder:"Ex: 1234567890",required:!0})]}),l.jsxs("div",{className:"contrato-info-banner",children:[l.jsx(O5,{size:20}),l.jsxs("div",{children:[l.jsx("strong",{children:"Power Automate"}),l.jsx("p",{children:"Ao salvar, um e-mail automtico com link seguro de aprovao ser enviado para o aprovador informado."})]})]})]}),l.jsxs("div",{className:"contrato-form-row",children:[l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Nome do Aprovador *"}),l.jsx("input",{type:"text",value:E.aprovadorNome,onChange:se=>b({...E,aprovadorNome:se.target.value}),placeholder:"Ex: Joo da Silva",required:!0})]}),l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"E-mail do Aprovador *"}),l.jsx("input",{type:"email",value:E.aprovadorEmail,onChange:se=>b({...E,aprovadorEmail:se.target.value}),placeholder:"Ex: joao@gmail.com",required:!0})]})]})]}),l.jsxs("div",{className:"contrato-form-section",children:[l.jsx("h3",{children:"Adicionar Itens"}),l.jsxs("div",{className:"contrato-form-group full-width",children:[l.jsx("label",{children:"Servio cadastrado (Tela 4)"}),l.jsxs("select",{value:te,onChange:se=>Le(se.target.value),children:[l.jsx("option",{value:"",children:"Selecione um servio existente para vincular"}),J.map(se=>l.jsx("option",{value:se.id,children:se.label},se.id))]}),Ee&&l.jsxs("div",{className:"contrato-base-item",children:[l.jsxs("span",{children:["Fornecedor:"," ",l.jsx("strong",{children:Ee.empresa})]}),l.jsxs("span",{children:["Vago: ",l.jsx("strong",{children:Ee.vagaoNumero})]}),l.jsxs("span",{children:["Qtde orada:"," ",l.jsxs("strong",{children:[Ee.quantidade,"/",Ee.quantidadeMaxima]})]})]})]}),l.jsxs("div",{className:"item-form-grid",children:[l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Descrio"}),l.jsx("input",{type:"text",value:k.descricao,onChange:se=>D({...k,descricao:se.target.value}),placeholder:"Ex: Cimento Portland",required:!0})]}),l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Unidade"}),l.jsx("input",{type:"text",value:k.unidade,onChange:se=>D({...k,unidade:se.target.value}),placeholder:"m, kg, un...",required:!0})]}),l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Quantidade"}),l.jsx("input",{type:"number",min:0,step:"0.01",value:k.quantidade,onChange:se=>D({...k,quantidade:parseFloat(se.target.value)||0}),placeholder:"Ex: 100",required:!0})]}),l.jsxs("div",{className:"contrato-form-group",children:[l.jsx("label",{children:"Valor Unitrio"}),l.jsx("input",{type:"number",min:0,step:"0.01",value:k.valorUnitario,onChange:se=>D({...k,valorUnitario:parseFloat(se.target.value)||0}),placeholder:"Ex: 100.00",required:!0})]}),l.jsx("div",{className:"contrato-form-group add-button",children:l.jsxs("button",{type:"button",onClick:W,disabled:I,children:[l.jsx(hn,{size:16}),I?"Aguarde...":"Adicionar"]})})]}),N&&l.jsxs("div",{className:"contrato-item-error",children:[l.jsx(It,{size:16}),l.jsx("span",{children:N})]}),w.length>0&&l.jsx("div",{className:"itens-list",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Descrio"}),l.jsx("th",{children:"Unidade"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Valor Unit."}),l.jsx("th",{children:"Total"}),l.jsx("th",{})]})}),l.jsx("tbody",{children:w.map(se=>l.jsxs("tr",{children:[l.jsx("td",{children:se.descricao}),l.jsx("td",{children:se.unidade}),l.jsx("td",{children:se.quantidade}),l.jsx("td",{children:se.valorUnitario.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:se.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:l.jsx("button",{type:"button",className:"btn-remove-item",onClick:()=>V(se.id),children:l.jsx(ga,{size:16})})})]},se.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:4,style:{textAlign:"right"},children:l.jsx("strong",{children:"Total:"})}),l.jsx("td",{children:l.jsx("strong",{children:Me.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})}),l.jsx("td",{})]})})]})})]}),l.jsxs("div",{className:"contrato-modal-actions",children:[l.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>m(!1),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary-modal",disabled:I,children:I?"Criando...":"Criar Contrato"})]})]})]})}),document.body),f&&_&&hd.createPortal(l.jsx("div",{className:"contrato-modal-overlay",onClick:()=>v(!1),children:l.jsxs("div",{className:"contrato-modal-content",onClick:se=>se.stopPropagation(),children:[l.jsxs("div",{className:"contrato-modal-header",children:[l.jsx("h2",{children:"Detalhes do Contrato"}),l.jsx("button",{className:"contrato-modal-close",onClick:()=>v(!1),children:l.jsx(dn,{size:24})})]}),l.jsxs("div",{className:"contrato-view-content",children:[l.jsxs("div",{className:"contrato-view-section",children:[l.jsx("h3",{children:"Informaes Gerais"}),l.jsxs("div",{className:"contrato-view-grid",children:[l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Tipo:"}),l.jsx("span",{className:"view-value",children:_.tipo==="aditivo"?"Aditivo":"Contrato"})]}),l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Fornecedor:"}),l.jsx("span",{className:"view-value",children:_.fornecedor})]}),l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Nmero:"}),l.jsx("span",{className:"view-value",children:_.numeroContrato})]}),l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Status:"}),l.jsx("span",{className:`view-value status ${_.status}`,children:De(_.status)})]}),l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Aprovador:"}),l.jsx("span",{className:"view-value",children:_.aprovadorNome})]}),l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"E-mail:"}),l.jsx("span",{className:"view-value",children:_.aprovadorEmail})]})]})]}),l.jsxs("div",{className:"contrato-view-section",children:[l.jsx("h3",{children:"Itens do Contrato"}),l.jsx("div",{className:"itens-list",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Descrio"}),l.jsx("th",{children:"Unidade"}),l.jsx("th",{children:"Qtd"}),l.jsx("th",{children:"Valor Unit."}),l.jsx("th",{children:"Total"})]})}),l.jsx("tbody",{children:_.itens.map(se=>l.jsxs("tr",{children:[l.jsx("td",{children:se.descricao}),l.jsx("td",{children:se.unidade}),l.jsx("td",{children:se.quantidade}),l.jsx("td",{children:se.valorUnitario.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}),l.jsx("td",{children:se.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})]},se.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:4,style:{textAlign:"right"},children:l.jsx("strong",{children:"Total:"})}),l.jsx("td",{children:l.jsx("strong",{children:_.valorTotal.toLocaleString("pt-BR",{style:"currency",currency:"BRL"})})})]})})]})})]}),_.dataAprovacao&&l.jsxs("div",{className:"contrato-view-section",children:[l.jsx("h3",{children:"Informaes de Aprovao"}),l.jsxs("div",{className:"contrato-view-grid",children:[l.jsxs("div",{className:"contrato-view-item",children:[l.jsx("span",{className:"view-label",children:"Data de Aprovao:"}),l.jsx("span",{className:"view-value",children:_.dataAprovacao.toLocaleDateString("pt-BR")})]}),_.observacoesAprovacao&&l.jsxs("div",{className:"contrato-view-item full-width",children:[l.jsx("span",{className:"view-label",children:"Observaes:"}),l.jsx("span",{className:"view-value",children:_.observacoesAprovacao})]})]})]})]})]})}),document.body)]})},_l="checklistsMensais",yF=()=>`${Date.now()}-${Math.random().toString(36).slice(2,11)}`;async function Iv(n,e){{console.log("Webhook do Power Automate no configurado. Continuando normalmente.");return}}const vi={async createChecklist(n,e){try{let t="",r="",s="";if(e.pdfFile){s=`checklistsMensais/${n}/${Date.now()}_${e.pdfFile.name}`;const f=Tv(wv,s);await a8(f,e.pdfFile),t=await s8(f),r=e.pdfFile.name}const o=e.aprovadorEmail?yF():void 0,u={obraId:n,mes:e.mes,ano:e.ano,observacoes:e.observacoes,pdfUrl:t||"",pdfFileName:r||null,pdfStoragePath:s||null,status:"pendente",aprovadorNome:e.aprovadorNome||null,aprovadorEmail:e.aprovadorEmail||null,tokenAprovacao:o||null,dataAprovacao:null,observacoesAprovacao:null,createdAt:Ke.now(),updatedAt:Ke.now()},d=await Ls(Zt(Qe,"obras",n,_l),u),m={id:d.id,obraId:n,mes:e.mes,ano:e.ano,observacoes:e.observacoes,pdfUrl:t||"",pdfFileName:r||void 0,status:"pendente",aprovadorNome:e.aprovadorNome,aprovadorEmail:e.aprovadorEmail,tokenAprovacao:o,createdAt:new Date,updatedAt:new Date};return await Iv("novo_checklist",{obraId:n,checklistId:d.id,pdfUrl:t}),m}catch(t){throw console.error("Erro ao criar checklist:",t),new Error("No foi possvel criar o checklist. Tente novamente.")}},async getChecklistsByObra(n){try{const e=_r(Zt(Qe,"obras",n,_l),Fa("createdAt","desc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,mes:o.mes,ano:o.ano,observacoes:o.observacoes||"",pdfUrl:o.pdfUrl,pdfFileName:o.pdfFileName,status:o.status||"pendente",aprovadorNome:o.aprovadorNome,aprovadorEmail:o.aprovadorEmail,tokenAprovacao:o.tokenAprovacao,dataAprovacao:o.dataAprovacao?.toDate(),observacoesAprovacao:o.observacoesAprovacao,createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()})}),r}catch(e){throw console.error("Erro ao buscar checklists:",e),new Error("No foi possvel carregar os checklists. Tente novamente.")}},async getChecklistById(n,e){try{const t=Et(Qe,"obras",n,_l,e),r=await ma(t);if(!r.exists())return null;const s=r.data();return{id:r.id,obraId:s.obraId,mes:s.mes,ano:s.ano,observacoes:s.observacoes||"",pdfUrl:s.pdfUrl,pdfFileName:s.pdfFileName,status:s.status||"pendente",aprovadorNome:s.aprovadorNome,aprovadorEmail:s.aprovadorEmail,tokenAprovacao:s.tokenAprovacao,dataAprovacao:s.dataAprovacao?.toDate(),observacoesAprovacao:s.observacoesAprovacao,createdAt:s.createdAt?.toDate()||new Date,updatedAt:s.updatedAt?.toDate()}}catch(t){throw console.error("Erro ao buscar checklist:",t),new Error("No foi possvel carregar o checklist. Tente novamente.")}},async updateChecklistStatus(n,e,t){try{const r=Et(Qe,"obras",n,_l,e),s=await this.getChecklistById(n,e);if(!s)throw new Error("Checklist no encontrado");await pa(r,{status:t.status,observacoesAprovacao:t.observacoes||null,dataAprovacao:Ke.now(),updatedAt:Ke.now()}),await Iv("aprovacao",{obraId:n,checklistId:e,status:t.status,pdfUrl:s.pdfUrl})}catch(r){throw console.error("Erro ao atualizar status do checklist:",r),new Error("No foi possvel atualizar o status do checklist. Tente novamente.")}},async deleteChecklist(n,e){try{const t=await this.getChecklistById(n,e);if(!t)throw new Error("Checklist no encontrado");try{const s=(await ma(Et(Qe,"obras",n,_l,e))).data()?.pdfStoragePath;if(s){const o=Tv(wv,s);await xw(o)}else{const o=t.pdfUrl,d=new URL(o).pathname.match(/\/o\/(.+)/);if(d){const m=decodeURIComponent(d[1].split("?")[0]),f=Tv(wv,m);await xw(f)}}}catch(r){console.error("Erro ao deletar arquivo do Storage:",r)}await ls(Et(Qe,"obras",n,_l,e))}catch(t){throw console.error("Erro ao deletar checklist:",t),new Error("No foi possvel deletar o checklist. Tente novamente.")}},async aprovarChecklist(n){try{const e=await this.getChecklistById(n.obraId,n.checklistId);if(!e)throw new Error("Checklist no encontrado");if(e.tokenAprovacao!==n.token)throw new Error("Token de aprovao invlido");if(e.status!=="pendente")throw new Error("Este checklist j foi processado");const t=Et(Qe,"obras",n.obraId,_l,n.checklistId);await pa(t,{status:n.aprovado?"aprovado":"aprovado_com_restricao",dataAprovacao:Ke.now(),observacoesAprovacao:n.observacoes||null,updatedAt:Ke.now()}),await Iv("aprovacao",{obraId:n.obraId,checklistId:n.checklistId,status:n.aprovado?"aprovado":"aprovado_com_restricao",pdfUrl:e.pdfUrl})}catch(e){throw console.error("Erro ao aprovar checklist:",e),e}}},EF=()=>{const{obraId:n}=ur(),e=Or(),[t,r]=P.useState([]),[s,o]=P.useState(!0),[u,d]=P.useState(null),[m,f]=P.useState(null),[v,_]=P.useState(!1),y=P.useCallback(async()=>{if(n)try{o(!0),d(null);const D=await vi.getChecklistsByObra(n);r(D)}catch(D){d(D instanceof Error?D.message:"Erro ao carregar checklists mensais")}finally{o(!1)}},[n]);P.useEffect(()=>{y()},[y]);const E=async D=>{if(n)try{_(!0),await vi.deleteChecklist(n,D),f(null),await y()}catch(j){d(j instanceof Error?j.message:"Erro ao excluir checklist")}finally{_(!1)}},b=D=>{switch(D){case"pendente":return"Aguardando aprovao";case"aprovado":return"Aprovado";case"aprovado_com_restricao":return"Aprovado com restrio";default:return D}},w=D=>{switch(D){case"pendente":return"status-pendente";case"aprovado":return"status-aprovado";case"aprovado_com_restricao":return"status-aprovado-restricao";default:return""}},S=D=>typeof D=="string"?new Date(D).toLocaleDateString("pt-BR"):D.toLocaleDateString("pt-BR"),k=D=>["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][D-1]||D.toString();return s?l.jsxs("div",{className:"checklist-list-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando checklists mensais..."})]}):l.jsxs("div",{className:"checklist-list-container",children:[l.jsxs("div",{className:"checklist-list-header",children:[l.jsxs("div",{className:"checklist-list-header-left",children:[l.jsx(Ml,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Checklist Mensal"}),l.jsx("p",{children:"Gerencie os checklists mensais da obra"})]})]}),l.jsxs("button",{className:"btn-novo-checklist",onClick:()=>e(`/obras/${n}/checklist-mensal/novo`),children:[l.jsx(hn,{size:20}),"Criar Novo Checklist"]})]}),u&&l.jsxs("div",{className:"checklist-list-error",children:[l.jsx(It,{size:20}),l.jsx("span",{children:u})]}),t.length===0?l.jsxs("div",{className:"checklist-list-empty",children:[l.jsx(Ml,{size:64}),l.jsx("h2",{children:"Nenhum checklist cadastrado"}),l.jsx("p",{children:"Comece criando o primeiro checklist mensal desta obra"}),l.jsxs("button",{className:"btn-novo-checklist",onClick:()=>e(`/obras/${n}/checklist-mensal/novo`),children:[l.jsx(hn,{size:20}),"Criar Primeiro Checklist"]})]}):l.jsx("div",{className:"checklist-list-table-container",children:l.jsxs("table",{className:"checklist-list-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Ms/Ano"}),l.jsx("th",{children:"Status"}),l.jsx("th",{children:"Arquivo PDF"}),l.jsx("th",{children:"Data de Criao"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:t.map(D=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("strong",{children:[k(D.mes),"/",D.ano]})}),l.jsx("td",{children:l.jsx("span",{className:`status-badge ${w(D.status)}`,children:b(D.status)})}),l.jsx("td",{children:D.pdfFileName||"checklist.pdf"}),l.jsx("td",{children:S(D.createdAt)}),l.jsx("td",{children:l.jsxs("div",{className:"checklist-list-actions",children:[l.jsx("button",{className:"btn-action btn-action-view",onClick:()=>e(`/obras/${n}/checklist-mensal/${D.id}`),title:"Ver detalhes",children:l.jsx(du,{size:18})}),l.jsx("button",{className:"btn-action btn-action-delete",onClick:()=>f(D.id),title:"Excluir",children:l.jsx(ga,{size:18})})]})})]},D.id))})]})}),m&&l.jsx("div",{className:"checklist-list-modal-overlay",children:l.jsxs("div",{className:"checklist-list-modal",children:[l.jsx("h3",{children:"Confirmar Excluso"}),l.jsx("p",{children:"Tem certeza que deseja excluir este checklist? Esta ao no pode ser desfeita e o arquivo PDF tambm ser removido."}),l.jsxs("div",{className:"checklist-list-modal-actions",children:[l.jsx("button",{className:"btn-modal btn-modal-cancel",onClick:()=>f(null),disabled:v,children:"Cancelar"}),l.jsx("button",{className:"btn-modal btn-modal-confirm",onClick:()=>E(m),disabled:v,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:16,className:"spinner-rotate"}),"Excluindo..."]}):"Excluir"})]})]})})]})},TF=()=>{const{obraId:n}=ur(),e=Or(),[t,r]=P.useState(!1),[s,o]=P.useState(null),[u,d]=P.useState(null),[m,f]=P.useState(null),[v,_]=P.useState({mes:new Date().getMonth()+1,ano:new Date().getFullYear(),observacoes:"",aprovadorNome:"",aprovadorEmail:""}),y=[{value:1,label:"Janeiro"},{value:2,label:"Fevereiro"},{value:3,label:"Maro"},{value:4,label:"Abril"},{value:5,label:"Maio"},{value:6,label:"Junho"},{value:7,label:"Julho"},{value:8,label:"Agosto"},{value:9,label:"Setembro"},{value:10,label:"Outubro"},{value:11,label:"Novembro"},{value:12,label:"Dezembro"}],E=new Date().getFullYear(),b=Array.from({length:6},(D,j)=>E-2+j),w=D=>{const j=D.target.files?.[0];if(j){if(j.type!=="application/pdf"){o("Por favor, selecione apenas arquivos PDF.");return}if(j.size>10*1024*1024){o("O arquivo PDF deve ter no mximo 10MB.");return}d(j),o(null),f(j.name)}},S=()=>{d(null),f(null)},k=async D=>{if(D.preventDefault(),!!n)try{r(!0),o(null),await vi.createChecklist(n,{mes:v.mes,ano:v.ano,observacoes:v.observacoes,pdfFile:u||void 0,aprovadorNome:v.aprovadorNome||void 0,aprovadorEmail:v.aprovadorEmail||void 0}),e(`/obras/${n}/checklist-mensal`)}catch(j){o(j instanceof Error?j.message:"Erro ao criar checklist. Tente novamente.")}finally{r(!1)}};return l.jsxs("div",{className:"checklist-form-container",children:[l.jsxs("div",{className:"checklist-form-header",children:[l.jsxs("button",{className:"btn-back",onClick:()=>e(`/obras/${n}/checklist-mensal`),children:[l.jsx(hu,{size:20}),"Voltar"]}),l.jsxs("div",{className:"checklist-form-header-content",children:[l.jsx(Ml,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Criar Novo Checklist Mensal"}),l.jsx("p",{children:"Preencha os dados e anexe o documento PDF"})]})]})]}),l.jsxs("form",{onSubmit:k,className:"checklist-form",children:[s&&l.jsxs("div",{className:"checklist-form-error",children:[l.jsx(It,{size:20}),l.jsx("span",{children:s})]}),l.jsxs("div",{className:"checklist-form-section",children:[l.jsx("h2",{children:"Dados do Checklist"}),l.jsxs("div",{className:"checklist-form-grid",children:[l.jsxs("div",{className:"checklist-form-group",children:[l.jsxs("label",{htmlFor:"mes",children:["Ms ",l.jsx("span",{className:"required",children:"*"})]}),l.jsx("select",{id:"mes",value:v.mes,onChange:D=>_(j=>({...j,mes:parseInt(D.target.value)})),required:!0,children:y.map(D=>l.jsx("option",{value:D.value,children:D.label},D.value))})]}),l.jsxs("div",{className:"checklist-form-group",children:[l.jsxs("label",{htmlFor:"ano",children:["Ano ",l.jsx("span",{className:"required",children:"*"})]}),l.jsx("select",{id:"ano",value:v.ano,onChange:D=>_(j=>({...j,ano:parseInt(D.target.value)})),required:!0,children:b.map(D=>l.jsx("option",{value:D,children:D},D))})]}),l.jsxs("div",{className:"checklist-form-group",children:[l.jsx("label",{htmlFor:"aprovadorNome",children:"Nome do Aprovador (opcional)"}),l.jsx("input",{id:"aprovadorNome",type:"text",value:v.aprovadorNome,onChange:D=>_(j=>({...j,aprovadorNome:D.target.value})),placeholder:"Ex: Joo da Silva"}),l.jsx("small",{children:"Campo opcional para registro do aprovador"})]}),l.jsxs("div",{className:"checklist-form-group",children:[l.jsx("label",{htmlFor:"aprovadorEmail",children:"E-mail do Aprovador (opcional)"}),l.jsx("input",{id:"aprovadorEmail",type:"email",value:v.aprovadorEmail,onChange:D=>_(j=>({...j,aprovadorEmail:D.target.value})),placeholder:"Ex: joao@email.com"}),l.jsx("small",{children:"Campo opcional para registro do e-mail do aprovador"})]}),l.jsxs("div",{className:"checklist-form-group checklist-form-group-full",children:[l.jsx("label",{htmlFor:"observacoes",children:"Observaes"}),l.jsx("textarea",{id:"observacoes",value:v.observacoes,onChange:D=>_(j=>({...j,observacoes:D.target.value})),placeholder:"Adicione observaes relevantes sobre este checklist...",rows:4})]})]})]}),l.jsxs("div",{className:"checklist-form-section",children:[l.jsx("h2",{children:"Upload de Arquivo PDF (Opcional)"}),l.jsx("div",{className:"checklist-form-upload",children:u?l.jsxs("div",{className:"checklist-file-preview",children:[l.jsxs("div",{className:"checklist-file-info",children:[l.jsx(Ni,{size:32}),l.jsxs("div",{children:[l.jsx("strong",{children:m}),l.jsxs("p",{children:[(u.size/1024/1024).toFixed(2)," MB"]})]})]}),l.jsx("button",{type:"button",className:"btn-remove-file",onClick:S,children:l.jsx(dn,{size:20})})]}):l.jsxs("label",{htmlFor:"pdf-upload",className:"checklist-upload-area",children:[l.jsx(aF,{size:48}),l.jsxs("div",{children:[l.jsx("strong",{children:"Clique para selecionar ou arraste o arquivo PDF"}),l.jsx("p",{children:"Formato aceito: PDF (mximo 10MB)"})]}),l.jsx("input",{id:"pdf-upload",type:"file",accept:".pdf",onChange:w,style:{display:"none"}})]})})]}),l.jsxs("div",{className:"checklist-form-actions",children:[l.jsx("button",{type:"button",className:"btn-cancel",onClick:()=>e(`/obras/${n}/checklist-mensal`),disabled:t,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-submit",disabled:t,children:t?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:20,className:"spinner-rotate"}),"Criando..."]}):l.jsxs(l.Fragment,{children:[l.jsx(Ml,{size:20}),"Criar Checklist"]})})]})]})]})},wF=()=>{const{obraId:n,checklistId:e}=ur(),t=Or(),[r,s]=P.useState(null),[o,u]=P.useState(!0),[d,m]=P.useState(null),[f,v]=P.useState(!1),[_,y]=P.useState(null);P.useEffect(()=>{(async()=>{if(!(!n||!e))try{u(!0),m(null);const te=await vi.getChecklistById(n,e);if(!te){m("Checklist no encontrado");return}s(te)}catch(te){m(te instanceof Error?te.message:"Erro ao carregar checklist")}finally{u(!1)}})()},[n,e]);const[E,b]=P.useState(""),w=async X=>{if(!(!n||!e))try{v(!0),m(null),await vi.updateChecklistStatus(n,e,{status:X,observacoes:E.trim()||void 0});const te=await vi.getChecklistById(n,e);te&&s(te),y(null),b("")}catch(te){m(te instanceof Error?te.message:"Erro ao aprovar checklist. Tente novamente.")}finally{v(!1)}},S=X=>{switch(X){case"pendente":return"Aguardando aprovao";case"aprovado":return"Aprovado";case"aprovado_com_restricao":return"Aprovado com restrio";default:return X}},k=X=>{switch(X){case"pendente":return"status-pendente";case"aprovado":return"status-aprovado";case"aprovado_com_restricao":return"status-aprovado-restricao";default:return""}},D=X=>typeof X=="string"?new Date(X).toLocaleDateString("pt-BR"):X.toLocaleDateString("pt-BR"),j=X=>["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][X-1]||X.toString();return o?l.jsxs("div",{className:"checklist-details-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando detalhes do checklist..."})]}):d||!r?l.jsx("div",{className:"checklist-details-container",children:l.jsxs("div",{className:"checklist-details-error",children:[l.jsx(It,{size:48}),l.jsx("h2",{children:"Erro ao carregar checklist"}),l.jsx("p",{children:d||"Checklist no encontrado"}),l.jsxs("button",{className:"btn-back",onClick:()=>t(`/obras/${n}/checklist-mensal`),children:[l.jsx(hu,{size:20}),"Voltar para lista"]})]})}):l.jsxs("div",{className:"checklist-details-container",children:[l.jsxs("div",{className:"checklist-details-header",children:[l.jsxs("button",{className:"btn-back",onClick:()=>t(`/obras/${n}/checklist-mensal`),children:[l.jsx(hu,{size:20}),"Voltar"]}),l.jsxs("div",{className:"checklist-details-header-content",children:[l.jsx(Ml,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Detalhes do Checklist Mensal"}),l.jsxs("p",{children:[j(r.mes),"/",r.ano]})]})]})]}),d&&l.jsxs("div",{className:"checklist-details-error-message",children:[l.jsx(It,{size:20}),l.jsx("span",{children:d})]}),l.jsxs("div",{className:"checklist-details-content",children:[l.jsxs("div",{className:"checklist-details-section",children:[l.jsx("h2",{children:"Informaes do Checklist"}),l.jsxs("div",{className:"checklist-details-grid",children:[l.jsxs("div",{className:"checklist-details-item",children:[l.jsx("span",{className:"checklist-details-label",children:"Ms/Ano:"}),l.jsxs("span",{className:"checklist-details-value",children:[j(r.mes),"/",r.ano]})]}),l.jsxs("div",{className:"checklist-details-item",children:[l.jsx("span",{className:"checklist-details-label",children:"Status:"}),l.jsx("span",{className:`status-badge ${k(r.status)}`,children:S(r.status)})]}),l.jsxs("div",{className:"checklist-details-item",children:[l.jsx("span",{className:"checklist-details-label",children:"Data de Criao:"}),l.jsx("span",{className:"checklist-details-value",children:D(r.createdAt)})]}),r.updatedAt&&l.jsxs("div",{className:"checklist-details-item",children:[l.jsx("span",{className:"checklist-details-label",children:"ltima Atualizao:"}),l.jsx("span",{className:"checklist-details-value",children:D(r.updatedAt)})]}),l.jsxs("div",{className:"checklist-details-item checklist-details-item-full",children:[l.jsx("span",{className:"checklist-details-label",children:"Observaes:"}),l.jsx("span",{className:"checklist-details-value",children:r.observacoes||"Nenhuma observao registrada."})]})]})]}),l.jsxs("div",{className:"checklist-details-section",children:[l.jsx("h2",{children:"Documento PDF"}),l.jsxs("div",{className:"checklist-details-pdf",children:[l.jsxs("div",{className:"checklist-pdf-info",children:[l.jsx(Ni,{size:32}),l.jsxs("div",{children:[l.jsx("strong",{children:r.pdfFileName||"checklist.pdf"}),l.jsx("p",{children:"Arquivo PDF do checklist mensal"})]})]}),l.jsxs("a",{href:r.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-view-pdf",children:[l.jsx(xN,{size:20}),"Abrir PDF"]})]})]}),r.status==="pendente"&&l.jsxs("div",{className:"checklist-details-section",children:[l.jsx("h2",{children:"Aprovao"}),l.jsx("p",{className:"checklist-approval-description",children:"Revise o checklist e o documento PDF. Aps a anlise, voc pode aprovar normalmente ou aprovar com restrio."}),_&&l.jsxs("div",{className:"checklist-approval-confirm",children:[l.jsx("p",{children:_==="aprovado"?"Deseja aprovar este checklist?":"Deseja aprovar este checklist com restrio?"}),l.jsxs("div",{className:"checklist-approval-observations",children:[l.jsxs("label",{htmlFor:"observacoes-aprovacao",children:["Observaes ",_==="aprovado_com_restricao"&&"(recomendado)"]}),l.jsx("textarea",{id:"observacoes-aprovacao",value:E,onChange:X=>b(X.target.value),placeholder:_==="aprovado_com_restricao"?"Descreva as restries ou observaes sobre este checklist...":"Adicione observaes sobre sua deciso (opcional)...",rows:4,disabled:f})]}),l.jsxs("div",{className:"checklist-approval-confirm-actions",children:[l.jsx("button",{className:"btn-cancel",onClick:()=>{y(null),b("")},disabled:f,children:"Cancelar"}),l.jsx("button",{className:`btn-approve ${_==="aprovado_com_restricao"?"btn-approve-restriction":""}`,onClick:()=>w(_),disabled:f,children:f?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:16,className:"spinner-rotate"}),"Processando..."]}):l.jsxs(l.Fragment,{children:[l.jsx($r,{size:16}),"Confirmar"]})})]})]}),!_&&l.jsxs("div",{className:"checklist-approval-actions",children:[l.jsxs("button",{className:"btn-approve btn-approve-normal",onClick:()=>y("aprovado"),disabled:f,children:[l.jsx($r,{size:20}),"Aprovar Checklist"]}),l.jsxs("button",{className:"btn-approve btn-approve-restriction",onClick:()=>y("aprovado_com_restricao"),disabled:f,children:[l.jsx(ns,{size:20}),"Aprovar com Restrio"]})]})]}),r.status!=="pendente"&&l.jsxs("div",{className:"checklist-details-section",children:[l.jsx("h2",{children:"Status de Aprovao"}),l.jsxs("div",{className:"checklist-approval-status",children:[l.jsxs("div",{className:`status-badge-large ${k(r.status)}`,children:[r.status==="aprovado"?l.jsx($r,{size:24}):l.jsx(ns,{size:24}),l.jsx("span",{children:S(r.status)})]}),l.jsxs("p",{children:["Este checklist foi"," ",r.status==="aprovado"?"aprovado":"aprovado com restrio"," ","em ",D(r.updatedAt||r.createdAt),"."]})]})]})]})]})},x0="medicoes",md={async createMedicao(n,e){try{const t={obraId:n,numero:e.numero,data:e.data,fornecedorId:e.fornecedorId,contratoId:e.contratoId,aditivosIds:e.aditivosIds,vagaoId:e.vagaoId,itemsIds:e.itemsIds,unidades:e.unidades,createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,"obras",n,x0),t)).id,obraId:n,numero:e.numero,data:e.data,fornecedorId:e.fornecedorId,contratoId:e.contratoId,aditivosIds:e.aditivosIds,vagaoId:e.vagaoId,itemsIds:e.itemsIds,unidades:e.unidades,createdAt:new Date,updatedAt:new Date}}catch(t){throw console.error("Erro ao criar medio:",t),new Error("No foi possvel criar a medio. Tente novamente.")}},async getMedicoesByObra(n){try{const e=_r(Zt(Qe,"obras",n,x0),Fa("createdAt","desc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,numero:o.numero,data:o.data,fornecedorId:o.fornecedorId,contratoId:o.contratoId,aditivosIds:o.aditivosIds||[],vagaoId:o.vagaoId,itemsIds:o.itemsIds||[],unidades:o.unidades||[],createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar medies:",e),new Error("No foi possvel carregar as medies. Tente novamente.")}},async getMedicaoById(n,e){try{const t=Et(Qe,"obras",n,x0,e),r=await ma(t);if(!r.exists())return null;const s=r.data();return{id:r.id,obraId:s.obraId,numero:s.numero,data:s.data,fornecedorId:s.fornecedorId,contratoId:s.contratoId,aditivosIds:s.aditivosIds||[],vagaoId:s.vagaoId,itemsIds:s.itemsIds||[],unidades:s.unidades||[],createdAt:s.createdAt?.toDate()||new Date,updatedAt:s.updatedAt?.toDate()||new Date}}catch(t){throw console.error("Erro ao buscar medio:",t),new Error("No foi possvel carregar a medio. Tente novamente.")}},async deleteMedicao(n,e){try{await ls(Et(Qe,"obras",n,x0,e))}catch(t){throw console.error("Erro ao deletar medio:",t),new Error("No foi possvel deletar a medio. Tente novamente.")}}},AF=()=>{const{obraId:n}=ur(),e=Or(),[t,r]=P.useState([]),[s,o]=P.useState(!0),[u,d]=P.useState(null),[m,f]=P.useState(null),[v,_]=P.useState(!1),[y,E]=P.useState([]),[b,w]=P.useState([]),S=P.useCallback(async()=>{if(n)try{o(!0),d(null);const[te,ie,I]=await Promise.all([md.getMedicoesByObra(n),rs.getContratosByObra(n),Ma.getVagoesByObra(n)]);r(te),E(ie),w(I)}catch(te){d(te instanceof Error?te.message:"Erro ao carregar medies")}finally{o(!1)}},[n]);P.useEffect(()=>{S()},[S]);const k=async te=>{if(n)try{_(!0),await md.deleteMedicao(n,te),f(null),await S()}catch(ie){d(ie instanceof Error?ie.message:"Erro ao excluir medio")}finally{_(!1)}},D=te=>y.find(I=>I.id===te)?.numeroContrato||"-",j=te=>{const ie=b.find(I=>I.id===te);return ie?`Vago ${ie.numero}`:"-"},X=te=>typeof te=="string"?new Date(te).toLocaleDateString("pt-BR"):te.toLocaleDateString("pt-BR");return s?l.jsxs("div",{className:"medicao-list-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando medies..."})]}):l.jsxs("div",{className:"medicao-list-container",children:[l.jsxs("div",{className:"medicao-list-header",children:[l.jsxs("div",{className:"medicao-list-header-left",children:[l.jsx(fd,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Medies"}),l.jsx("p",{children:"Gerencie as medies da obra"})]})]}),l.jsxs("button",{className:"btn-nova-medicao",onClick:()=>e(`/obras/${n}/medicao/nova`),children:[l.jsx(hn,{size:20}),"Nova Medio"]})]}),u&&l.jsxs("div",{className:"medicao-list-error",children:[l.jsx(It,{size:20}),l.jsx("span",{children:u})]}),t.length===0?l.jsxs("div",{className:"medicao-list-empty",children:[l.jsx(fd,{size:64}),l.jsx("h2",{children:"Nenhuma medio cadastrada"}),l.jsx("p",{children:"Comece criando a primeira medio desta obra"}),l.jsxs("button",{className:"btn-nova-medicao",onClick:()=>e(`/obras/${n}/medicao/nova`),children:[l.jsx(hn,{size:20}),"Criar Primeira Medio"]})]}):l.jsx("div",{className:"medicao-list-table-container",children:l.jsxs("table",{className:"medicao-list-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"N da Medio"}),l.jsx("th",{children:"Data"}),l.jsx("th",{children:"Fornecedor"}),l.jsx("th",{children:"Contrato"}),l.jsx("th",{children:"Vago"}),l.jsx("th",{children:"Itens"}),l.jsx("th",{children:"Unidades"}),l.jsx("th",{children:"Data de Criao"}),l.jsx("th",{children:"Aes"})]})}),l.jsx("tbody",{children:t.map(te=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:te.numero})}),l.jsx("td",{children:X(te.data)}),l.jsx("td",{children:te.fornecedorId}),l.jsx("td",{children:D(te.contratoId)}),l.jsx("td",{children:j(te.vagaoId)}),l.jsx("td",{children:te.itemsIds.length}),l.jsx("td",{children:te.unidades.length}),l.jsx("td",{children:X(te.createdAt)}),l.jsx("td",{children:l.jsxs("div",{className:"medicao-list-actions",children:[l.jsx("button",{className:"btn-action btn-action-view",onClick:()=>e(`/obras/${n}/medicao/${te.id}`),title:"Ver detalhes",children:l.jsx(du,{size:18})}),l.jsx("button",{className:"btn-action btn-action-delete",onClick:()=>f(te.id),title:"Excluir",children:l.jsx(ga,{size:18})})]})})]},te.id))})]})}),m&&l.jsx("div",{className:"medicao-list-modal-overlay",children:l.jsxs("div",{className:"medicao-list-modal",children:[l.jsx("h3",{children:"Confirmar Excluso"}),l.jsx("p",{children:"Tem certeza que deseja excluir esta medio? Esta ao no pode ser desfeita."}),l.jsxs("div",{className:"medicao-list-modal-actions",children:[l.jsx("button",{className:"btn-modal btn-modal-cancel",onClick:()=>f(null),disabled:v,children:"Cancelar"}),l.jsx("button",{className:"btn-modal btn-modal-confirm",onClick:()=>k(m),disabled:v,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:16,className:"spinner-rotate"}),"Excluindo..."]}):"Excluir"})]})]})})]})},Rv=[{id:1,label:"Dados Iniciais",icon:Ni},{id:2,label:"Seleo de Itens",icon:ko},{id:3,label:"Mapa de Unidades",icon:yN},{id:4,label:"Finalizao",icon:EN}],SF=()=>{const{obraId:n}=ur(),e=Or(),[t,r]=P.useState(1),[s,o]=P.useState(!1),[u,d]=P.useState(!1),[m,f]=P.useState(null),[v,_]=P.useState(!1),[y,E]=P.useState({numero:"",data:new Date().toISOString().split("T")[0],fornecedorId:"",contratoId:"",aditivosIds:[],vagaoId:"",itemsIds:[],unidades:[]}),[b,w]=P.useState([]),[S,k]=P.useState([]),[D,j]=P.useState([]),[X,te]=P.useState([]),[ie,I]=P.useState(null),R=P.useMemo(()=>y.numero!==""||y.fornecedorId!==""||y.contratoId!==""||y.vagaoId!==""||y.itemsIds.length>0||y.unidades.length>0,[y]);P.useEffect(()=>{const Te=W=>{R&&(W.preventDefault(),W.returnValue="")};return window.addEventListener("beforeunload",Te),()=>window.removeEventListener("beforeunload",Te)},[R]),P.useEffect(()=>{(async()=>{if(n)try{o(!0);const[W,V]=await Promise.all([Ma.getVagoesByObra(n),Ss.getItensByObra(n)]);j(W);const Z=new Set;V.forEach(ee=>{ee.empresa&&Z.add(ee.empresa)}),w(Array.from(Z).sort());const Q=await ma(Et(Qe,"obras",n));Q.exists()&&I({numeroPavimentos:Q.data().numeroPavimentos})}catch(W){f(W instanceof Error?W.message:"Erro ao carregar dados")}finally{o(!1)}})()},[n]),P.useEffect(()=>{(async()=>{if(!n||!y.fornecedorId){k([]);return}try{const W=await rs.getContratosByFornecedor(n,y.fornecedorId);k(W)}catch(W){console.error("Erro ao carregar contratos:",W)}})()},[n,y.fornecedorId]),P.useEffect(()=>{(async()=>{if(!n||!y.vagaoId||!y.fornecedorId){te([]);return}try{const V=(await Ss.getItensByObra(n)).filter(Z=>{const Q=Z.vagaoId===y.vagaoId,ee=Z.empresa===y.fornecedorId;return Q&&ee});te(V)}catch(W){console.error("Erro ao carregar itens:",W)}})()},[n,y.vagaoId,y.fornecedorId]);const N=P.useMemo(()=>{if(!y.contratoId)return[];const Te=S.find(W=>W.id===y.contratoId&&W.tipo==="contrato");return Te?S.filter(W=>W.tipo==="aditivo"&&W.contratoOriginalId===Te.id):[]},[S,y.contratoId]),F=Te=>{switch(Te){case 1:return!!(y.numero&&y.data&&y.fornecedorId&&y.contratoId&&y.vagaoId);case 2:return y.itemsIds.length>0;case 3:return y.unidades.length>0;case 4:return F(1)&&F(2)&&F(3);default:return!1}},U=()=>{F(t)?(r(Te=>Math.min(Te+1,4)),f(null)):f("Preencha todos os campos obrigatrios antes de avanar.")},M=()=>{r(Te=>Math.max(Te-1,1)),f(null)},B=async()=>{if(!n||!F(4)){f("Preencha todos os campos obrigatrios antes de salvar.");return}try{d(!0),f(null),await md.createMedicao(n,y),E({numero:"",data:new Date().toISOString().split("T")[0],fornecedorId:"",contratoId:"",aditivosIds:[],vagaoId:"",itemsIds:[],unidades:[]}),r(1),e(`/obras/${n}/medicao`)}catch(Te){f(Te instanceof Error?Te.message:"Erro ao salvar medio")}finally{d(!1)}},J=()=>{E({numero:"",data:new Date().toISOString().split("T")[0],fornecedorId:"",contratoId:"",aditivosIds:[],vagaoId:"",itemsIds:[],unidades:[]}),r(1),_(!1)},Ee=()=>{R?_(!0):e(`/obras/${n}/medicao`)},re=()=>{J(),e(`/obras/${n}/medicao`)},xe=P.useCallback(()=>{if(!ie||!y.vagaoId)return[];const Te=D.find(pe=>pe.id===y.vagaoId);if(!Te)return[];const W=[],V=ie.numeroPavimentos,Z=Te.numeroApartamentos,Q=Math.ceil(Z/V);let ee=1;for(let pe=V;pe>=1;pe--)for(let De=1;De<=Q&&ee<=Z;De++){const Be=`${pe}${De.toString().padStart(2,"0")}`;W.push(Be),ee++}return W},[ie,y.vagaoId,D]),le=P.useMemo(()=>xe(),[xe]),Le=Te=>{E(W=>({...W,unidades:W.unidades.includes(Te)?W.unidades.filter(V=>V!==Te):[...W.unidades,Te]}))};return s&&!b.length?l.jsxs("div",{className:"medicao-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando dados..."})]}):l.jsxs("div",{className:"medicao-container",children:[l.jsxs("div",{className:"medicao-header",children:[l.jsxs("div",{className:"medicao-header-left",children:[l.jsx(fd,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Medio"}),l.jsx("p",{children:"Registre a execuo real dos servios realizados"})]})]}),l.jsxs("button",{className:"btn-cancel",onClick:Ee,children:[l.jsx(dn,{size:20}),"Cancelar"]})]}),l.jsx("div",{className:"medicao-stepper",children:Rv.map((Te,W)=>{const V=Te.icon,Z=t===Te.id,Q=t>Te.id;return l.jsxs("div",{className:`stepper-step ${Z?"active":""} ${Q?"completed":""}`,children:[l.jsx("div",{className:"stepper-step-icon",children:Q?l.jsx($r,{size:24}):l.jsx(V,{size:24})}),l.jsx("div",{className:"stepper-step-label",children:Te.label}),W<Rv.length-1&&l.jsx("div",{className:"stepper-step-connector"})]},Te.id)})}),l.jsxs("div",{className:"medicao-content",children:[m&&l.jsxs("div",{className:"medicao-error",children:[l.jsx(It,{size:20}),l.jsx("span",{children:m})]}),t===1&&l.jsxs("div",{className:"medicao-step-content",children:[l.jsx("h2",{children:"Dados Iniciais da Medio"}),l.jsxs("div",{className:"medicao-form-grid",children:[l.jsxs("div",{className:"medicao-form-group",children:[l.jsx("label",{htmlFor:"numero",children:"Nmero da Medio *"}),l.jsx("input",{id:"numero",type:"text",value:y.numero,onChange:Te=>E(W=>({...W,numero:Te.target.value})),placeholder:"Ex: MED-001"})]}),l.jsxs("div",{className:"medicao-form-group",children:[l.jsx("label",{htmlFor:"data",children:"Data da Medio *"}),l.jsx("input",{id:"data",type:"date",value:y.data,onChange:Te=>E(W=>({...W,data:Te.target.value}))})]}),l.jsxs("div",{className:"medicao-form-group",children:[l.jsx("label",{htmlFor:"fornecedor",children:"Fornecedor *"}),l.jsxs("select",{id:"fornecedor",value:y.fornecedorId,onChange:Te=>E(W=>({...W,fornecedorId:Te.target.value,contratoId:"",aditivosIds:[]})),children:[l.jsx("option",{value:"",children:"Selecione um fornecedor"}),b.map(Te=>l.jsx("option",{value:Te,children:Te},Te))]})]}),l.jsxs("div",{className:"medicao-form-group",children:[l.jsx("label",{htmlFor:"contrato",children:"Contrato *"}),l.jsxs("select",{id:"contrato",value:y.contratoId,onChange:Te=>E(W=>({...W,contratoId:Te.target.value,aditivosIds:[]})),disabled:!y.fornecedorId,children:[l.jsx("option",{value:"",children:"Selecione um contrato"}),S.filter(Te=>Te.tipo==="contrato").map(Te=>l.jsx("option",{value:Te.id,children:Te.numeroContrato},Te.id))]})]}),N.length>0&&l.jsxs("div",{className:"medicao-form-group medicao-form-group-full",children:[l.jsx("label",{children:"Aditivos"}),l.jsx("div",{className:"medicao-checkboxes",children:N.map(Te=>l.jsxs("label",{className:"medicao-checkbox",children:[l.jsx("input",{type:"checkbox",checked:y.aditivosIds.includes(Te.id),onChange:W=>E(V=>({...V,aditivosIds:W.target.checked?[...V.aditivosIds,Te.id]:V.aditivosIds.filter(Z=>Z!==Te.id)}))}),l.jsx("span",{children:Te.numeroContrato})]},Te.id))})]}),l.jsxs("div",{className:"medicao-form-group",children:[l.jsx("label",{htmlFor:"vagao",children:"Vago *"}),l.jsxs("select",{id:"vagao",value:y.vagaoId,onChange:Te=>E(W=>({...W,vagaoId:Te.target.value,itemsIds:[],unidades:[]})),children:[l.jsx("option",{value:"",children:"Selecione um vago"}),D.map(Te=>l.jsxs("option",{value:Te.id,children:["Vago ",Te.numero]},Te.id))]})]})]})]}),t===2&&l.jsxs("div",{className:"medicao-step-content",children:[l.jsx("h2",{children:"Seleo de Itens da Medio"}),X.length===0?l.jsxs("div",{className:"medicao-empty-state",children:[l.jsx(ko,{size:48}),l.jsx("p",{children:"Nenhum item disponvel para este vago e contrato."})]}):l.jsx("div",{className:"medicao-items-list",children:X.map(Te=>l.jsxs("label",{className:"medicao-item-checkbox",children:[l.jsx("input",{type:"checkbox",checked:y.itemsIds.includes(Te.id),onChange:W=>E(V=>({...V,itemsIds:W.target.checked?[...V.itemsIds,Te.id]:V.itemsIds.filter(Z=>Z!==Te.id)}))}),l.jsxs("div",{className:"medicao-item-info",children:[l.jsx("span",{className:"medicao-item-servico",children:Te.servico}),l.jsx("span",{className:"medicao-item-empresa",children:Te.empresa}),l.jsxs("span",{className:"medicao-item-quantidade",children:["Quantidade: ",Te.quantidade]})]})]},Te.id))})]}),t===3&&l.jsxs("div",{className:"medicao-step-content",children:[l.jsx("h2",{children:"Mapa de Unidades"}),l.jsx("p",{className:"medicao-subtitle",children:"Marque os apartamentos que foram executados nesta medio"}),le.length===0?l.jsxs("div",{className:"medicao-empty-state",children:[l.jsx(yN,{size:48}),l.jsx("p",{children:"Selecione um vago na etapa anterior para ver o mapa de unidades."})]}):l.jsx("div",{className:"medicao-unidades-map",children:Array.from(new Set(le.map(Te=>{const W=Te.match(/^(\d+)/);return W?W[1]:Te}))).sort((Te,W)=>Number(W)-Number(Te)).map(Te=>l.jsxs("div",{className:"medicao-unidades-floor",children:[l.jsxs("div",{className:"medicao-unidades-floor-label",children:["Andar ",Te]}),l.jsx("div",{className:"medicao-unidades-floor-apts",children:le.filter(W=>W.startsWith(Te)).sort().map(W=>{const V=y.unidades.includes(W);return l.jsx("button",{type:"button",className:`medicao-unidade-btn ${V?"selected":""}`,onClick:()=>Le(W),children:W},W)})})]},Te))})]}),t===4&&l.jsxs("div",{className:"medicao-step-content",children:[l.jsx("h2",{children:"Resumo da Medio"}),l.jsxs("div",{className:"medicao-summary",children:[l.jsxs("div",{className:"medicao-summary-section",children:[l.jsx("h3",{children:"Dados Bsicos"}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Nmero:"}),l.jsx("span",{className:"medicao-summary-value",children:y.numero})]}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Data:"}),l.jsx("span",{className:"medicao-summary-value",children:new Date(y.data).toLocaleDateString("pt-BR")})]})]}),l.jsxs("div",{className:"medicao-summary-section",children:[l.jsx("h3",{children:"Fornecedor e Contrato"}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Fornecedor:"}),l.jsx("span",{className:"medicao-summary-value",children:y.fornecedorId})]}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Contrato:"}),l.jsx("span",{className:"medicao-summary-value",children:S.find(Te=>Te.id===y.contratoId)?.numeroContrato})]}),y.aditivosIds.length>0&&l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Aditivos:"}),l.jsxs("span",{className:"medicao-summary-value",children:[y.aditivosIds.length," aditivo(s)"]})]})]}),l.jsxs("div",{className:"medicao-summary-section",children:[l.jsx("h3",{children:"Vago"}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Vago:"}),l.jsxs("span",{className:"medicao-summary-value",children:["Vago"," ",D.find(Te=>Te.id===y.vagaoId)?.numero]})]})]}),l.jsxs("div",{className:"medicao-summary-section",children:[l.jsx("h3",{children:"Itens Selecionados"}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Quantidade:"}),l.jsxs("span",{className:"medicao-summary-value",children:[y.itemsIds.length," item(ns)"]})]}),l.jsx("ul",{className:"medicao-summary-list",children:X.filter(Te=>y.itemsIds.includes(Te.id)).map(Te=>l.jsxs("li",{children:[Te.servico," (",Te.empresa,")"]},Te.id))})]}),l.jsxs("div",{className:"medicao-summary-section",children:[l.jsx("h3",{children:"Unidades Marcadas"}),l.jsxs("div",{className:"medicao-summary-item",children:[l.jsx("span",{className:"medicao-summary-label",children:"Total:"}),l.jsxs("span",{className:"medicao-summary-value",children:[y.unidades.length," unidade(s)"]})]})]})]})]})]}),l.jsxs("div",{className:"medicao-navigation",children:[l.jsxs("button",{className:"btn-nav btn-nav-back",onClick:M,disabled:t===1,children:[l.jsx(YP,{size:20}),"Voltar"]}),l.jsxs("div",{className:"medicao-navigation-steps",children:[t," de ",Rv.length]}),t<4?l.jsxs("button",{className:"btn-nav btn-nav-next",onClick:U,children:["Prximo",l.jsx(JP,{size:20})]}):l.jsx("button",{className:"btn-nav btn-nav-save",onClick:B,disabled:u||!F(4),children:u?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:20,className:"spinner-rotate"}),"Salvando..."]}):l.jsxs(l.Fragment,{children:[l.jsx($r,{size:20}),"Gerar Medio"]})})]}),v&&l.jsx("div",{className:"medicao-modal-overlay",children:l.jsxs("div",{className:"medicao-modal",children:[l.jsx("h3",{children:"Descartar Medio?"}),l.jsx("p",{children:"Se sair agora, perder esta medio. Deseja continuar?"}),l.jsxs("div",{className:"medicao-modal-actions",children:[l.jsx("button",{className:"btn-modal btn-modal-cancel",onClick:()=>_(!1),children:"Cancelar"}),l.jsx("button",{className:"btn-modal btn-modal-confirm",onClick:re,children:"Sim, descartar"})]})]})})]})},bF=()=>{const{obraId:n,medicaoId:e}=ur(),t=Or(),[r,s]=P.useState(null),[o,u]=P.useState(!0),[d,m]=P.useState(null),[f,v]=P.useState(null),[_,y]=P.useState([]),[E,b]=P.useState(null),[w,S]=P.useState([]);P.useEffect(()=>{(async()=>{if(!(!n||!e))try{u(!0),m(null);const j=await md.getMedicaoById(n,e);if(!j){m("Medio no encontrada");return}s(j);const[X,te,ie,I]=await Promise.all([rs.getContratoById(j.contratoId),Ma.getVagoesByObra(n).then(R=>R.find(N=>N.id===j.vagaoId)),Ss.getItensByObra(n).then(R=>R.filter(N=>j.itemsIds.includes(N.id))),rs.getContratosByObra(n)]);if(v(X),b(te||null),X){const R=I.filter(N=>N.tipo==="aditivo"&&N.contratoOriginalId===X.id&&j.aditivosIds.includes(N.id));y(R)}S(ie)}catch(j){m(j instanceof Error?j.message:"Erro ao carregar medio")}finally{u(!1)}})()},[n,e]);const k=D=>typeof D=="string"?new Date(D).toLocaleDateString("pt-BR"):D.toLocaleDateString("pt-BR");return o?l.jsxs("div",{className:"medicao-details-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando detalhes da medio..."})]}):d||!r?l.jsx("div",{className:"medicao-details-container",children:l.jsxs("div",{className:"medicao-details-error",children:[l.jsx(It,{size:48}),l.jsx("h2",{children:"Erro ao carregar medio"}),l.jsx("p",{children:d||"Medio no encontrada"}),l.jsxs("button",{className:"btn-back",onClick:()=>t(`/obras/${n}/medicao`),children:[l.jsx(hu,{size:20}),"Voltar para lista"]})]})}):l.jsxs("div",{className:"medicao-details-container",children:[l.jsxs("div",{className:"medicao-details-header",children:[l.jsxs("button",{className:"btn-back",onClick:()=>t(`/obras/${n}/medicao`),children:[l.jsx(hu,{size:20}),"Voltar"]}),l.jsxs("div",{className:"medicao-details-header-content",children:[l.jsx(fd,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Detalhes da Medio"}),l.jsxs("p",{children:["Medio ",r.numero]})]})]})]}),l.jsxs("div",{className:"medicao-details-content",children:[l.jsxs("div",{className:"medicao-details-section",children:[l.jsx("h2",{children:"Dados Bsicos"}),l.jsxs("div",{className:"medicao-details-grid",children:[l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Nmero da Medio:"}),l.jsx("span",{className:"medicao-details-value",children:r.numero})]}),l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Data da Medio:"}),l.jsx("span",{className:"medicao-details-value",children:k(r.data)})]}),l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Data de Criao:"}),l.jsx("span",{className:"medicao-details-value",children:k(r.createdAt)})]})]})]}),l.jsxs("div",{className:"medicao-details-section",children:[l.jsx("h2",{children:"Fornecedor e Contrato"}),l.jsxs("div",{className:"medicao-details-grid",children:[l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Fornecedor:"}),l.jsx("span",{className:"medicao-details-value",children:r.fornecedorId})]}),l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Contrato:"}),l.jsx("span",{className:"medicao-details-value",children:f?.numeroContrato||"-"})]}),_.length>0&&l.jsxs("div",{className:"medicao-details-item medicao-details-item-full",children:[l.jsx("span",{className:"medicao-details-label",children:"Aditivos:"}),l.jsx("div",{className:"medicao-details-aditivos",children:_.map(D=>l.jsx("span",{className:"medicao-details-aditivo-tag",children:D.numeroContrato},D.id))})]})]})]}),l.jsxs("div",{className:"medicao-details-section",children:[l.jsx("h2",{children:"Vago"}),l.jsx("div",{className:"medicao-details-grid",children:l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Vago:"}),l.jsx("span",{className:"medicao-details-value",children:E?`Vago ${E.numero}`:"-"})]})})]}),l.jsxs("div",{className:"medicao-details-section",children:[l.jsx("h2",{children:"Itens da Medio"}),w.length===0?l.jsx("p",{className:"medicao-details-empty",children:"Nenhum item selecionado"}):l.jsx("div",{className:"medicao-details-items",children:w.map(D=>l.jsxs("div",{className:"medicao-details-item-card",children:[l.jsxs("div",{className:"medicao-details-item-header",children:[l.jsx("span",{className:"medicao-details-item-servico",children:D.servico}),l.jsx("span",{className:"medicao-details-item-empresa",children:D.empresa})]}),l.jsx("div",{className:"medicao-details-item-info",children:l.jsxs("span",{children:["Quantidade: ",D.quantidade]})})]},D.id))})]}),l.jsxs("div",{className:"medicao-details-section",children:[l.jsx("h2",{children:"Unidades Medidas"}),l.jsxs("div",{className:"medicao-details-unidades-info",children:[l.jsxs("div",{className:"medicao-details-item",children:[l.jsx("span",{className:"medicao-details-label",children:"Total de Unidades:"}),l.jsxs("span",{className:"medicao-details-value",children:[r.unidades.length," unidade(s)"]})]}),r.unidades.length>0&&l.jsx("div",{className:"medicao-details-unidades-list",children:r.unidades.sort().map(D=>l.jsx("span",{className:"medicao-details-unidade-tag",children:D},D))})]})]})]})]})},NF=()=>l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsx("h1",{children:"Produo"}),l.jsx("p",{children:"Acompanhamento da produo"})]}),l.jsx("div",{className:"page-content",children:l.jsx("p",{children:"Contedo do mdulo de Produo ser implementado aqui."})})]}),CF="producoes",IF={async getProducoesByObra(n){try{const e=_r(Zt(Qe,"obras",n,CF),Fa("createdAt","desc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,vagaoId:o.vagaoId,unidades:o.unidades||[],createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar produes:",e),new Error("No foi possvel carregar as produes. Tente novamente.")}}},RF=n=>{const[e,t]=P.useState([]),[r,s]=P.useState(!0),[o,u]=P.useState(null),d=P.useCallback((f,v,_)=>f.map(y=>{const E=y.numeroApartamentos,b=v.filter(I=>I.vagaoId===y.id),w=new Set;b.forEach(I=>{I.unidades.forEach(R=>{w.add(R)})});const S=w.size,k=_.filter(I=>I.vagaoId===y.id),D=new Set;k.forEach(I=>{I.unidades.forEach(R=>{D.add(R)})});const j=D.size,X=S-j,te=E-S,ie=E-j;return{vagaoId:y.id,vagaoNumero:y.numero,total:E,produzido:S,medido:j,aComprometer:X,faltanteProduzir:te,faltanteMedir:ie}}),[]),m=P.useCallback(async()=>{if(n)try{s(!0),u(null);const[f,v,_]=await Promise.all([Ma.getVagoesByObra(n),IF.getProducoesByObra(n),md.getMedicoesByObra(n)]),y=d(f,v,_);t(y)}catch(f){u(f instanceof Error?f.message:"Erro ao carregar dados de produo faltante")}finally{s(!1)}},[n,d]);return P.useEffect(()=>{m()},[m]),{dados:e,loading:r,error:o,reload:m}},DF=(n,e="producao_faltante")=>{const t=["Vago","Total","Produzido","Medido","A Comprometer","Faltante a Produzir","Faltante a Medir"],r=n.map(f=>[`Vago ${f.vagaoNumero}`,f.total.toString(),f.produzido.toString(),f.medido.toString(),f.aComprometer.toString(),f.faltanteProduzir.toString(),f.faltanteMedir.toString()]),s=[t.join(","),...r.map(f=>f.join(","))].join(`
`),o="\uFEFF",u=new Blob([o+s],{type:"text/csv;charset=utf-8;"}),d=URL.createObjectURL(u),m=document.createElement("a");m.href=d,m.download=`${e}_${new Date().toISOString().split("T")[0]}.xlsx`,document.body.appendChild(m),m.click(),document.body.removeChild(m),URL.revokeObjectURL(d)},jF=()=>{const{obraId:n}=ur(),{dados:e,loading:t,error:r}=RF(n),s=()=>{if(e.length===0){alert("No h dados para exportar.");return}DF(e,"producao_faltante")};return t?l.jsxs("div",{className:"producao-faltante-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando dados de produo faltante..."})]}):r?l.jsxs("div",{className:"producao-faltante-error",children:[l.jsx(It,{size:48}),l.jsx("h2",{children:"Erro ao carregar dados"}),l.jsx("p",{children:r})]}):l.jsxs("div",{className:"producao-faltante-container",children:[l.jsxs("div",{className:"producao-faltante-header",children:[l.jsxs("div",{className:"producao-faltante-header-left",children:[l.jsx(ko,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Produo Faltante"}),l.jsx("p",{children:"Situao de produo e medio por vago"})]})]}),l.jsxs("button",{className:"btn-export-excel",onClick:s,disabled:e.length===0,children:[l.jsx(h5,{size:20}),"Gerar Excel"]})]}),e.length===0?l.jsxs("div",{className:"producao-faltante-empty",children:[l.jsx(ko,{size:64}),l.jsx("h2",{children:"Nenhum vago cadastrado"}),l.jsx("p",{children:"Cadastre vages para visualizar a produo faltante."})]}):l.jsx("div",{className:"producao-faltante-table-container",children:l.jsxs("table",{className:"producao-faltante-table",children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Vago"}),l.jsx("th",{children:"Total"}),l.jsx("th",{children:"Produzido"}),l.jsx("th",{children:"Medido"}),l.jsx("th",{children:"A Comprometer"}),l.jsx("th",{children:"Faltante a Produzir"}),l.jsx("th",{children:"Faltante a Medir"})]})}),l.jsx("tbody",{children:e.map(o=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsxs("strong",{children:["Vago ",o.vagaoNumero]})}),l.jsx("td",{children:o.total}),l.jsx("td",{children:o.produzido}),l.jsx("td",{children:o.medido}),l.jsx("td",{className:o.aComprometer<0?"negative":"",children:o.aComprometer}),l.jsx("td",{className:o.faltanteProduzir>0?"warning":"",children:o.faltanteProduzir}),l.jsx("td",{className:o.faltanteMedir>0?"warning":"",children:o.faltanteMedir})]},o.vagaoId))})]})})]})},Dh="kits",kF=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`,bl={async createKit(n,e,t){try{const r={obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,nome:t.nome,maoDeObra:t.maoDeObra,materiais:t.materiais,createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,Dh),r)).id,obraId:n,vagaoId:t.vagaoId,vagaoNumero:e.numero,nome:t.nome,maoDeObra:t.maoDeObra,materiais:t.materiais,createdAt:new Date,updatedAt:new Date}}catch(r){throw console.error("Erro ao criar kit:",r),new Error("No foi possvel criar o kit. Tente novamente.")}},async getKitsByObra(n){try{const e=_r(Zt(Qe,Dh),xr("obraId","==",n),Fa("vagaoNumero","asc")),t=await jr(e),r=[];return t.forEach(s=>{const o=s.data();r.push({id:s.id,obraId:o.obraId,vagaoId:o.vagaoId,vagaoNumero:o.vagaoNumero,nome:o.nome,maoDeObra:o.maoDeObra||[],materiais:o.materiais||[],createdAt:o.createdAt?.toDate()||new Date,updatedAt:o.updatedAt?.toDate()||new Date})}),r}catch(e){throw console.error("Erro ao buscar kits:",e),new Error("No foi possvel carregar os kits. Tente novamente.")}},async deleteKit(n){try{await ls(Et(Qe,Dh,n))}catch(e){throw console.error("Erro ao deletar kit:",e),new Error("No foi possvel deletar o kit. Tente novamente.")}},async addMaoDeObraEntry(n,e){try{const t=Et(Qe,Dh,n),r=await ma(t);if(!r.exists())throw new Error("Kit no encontrado");const o=[...r.data().maoDeObra||[],e];await pa(t,{maoDeObra:o,updatedAt:Ke.now()})}catch(t){throw console.error("Erro ao adicionar mo de obra:",t),new Error("No foi possvel adicionar a mo de obra.")}},async addMaterialEntry(n,e){try{const t=Et(Qe,Dh,n),r=await ma(t);if(!r.exists())throw new Error("Kit no encontrado");const o=[...r.data().materiais||[],e];await pa(t,{materiais:o,updatedAt:Ke.now()})}catch(t){throw console.error("Erro ao adicionar material:",t),new Error("No foi possvel adicionar o material.")}},createEntryId:kF},OF=({activeTab:n,onChange:e})=>l.jsxs("div",{className:"kit-tabs",children:[l.jsx("button",{type:"button",className:`kit-tab ${n==="mao-de-obra"?"active":""}`,onClick:()=>e("mao-de-obra"),children:"Mao de Obra"}),l.jsx("button",{type:"button",className:`kit-tab ${n==="materiais"?"active":""}`,onClick:()=>e("materiais"),children:"Materiais"})]}),MF=({itens:n,entries:e,onAdd:t,onRemove:r})=>{const[s,o]=P.useState(""),[u,d]=P.useState(0),[m,f]=P.useState(""),v=()=>{const _=n.find(E=>E.id===s);if(!_){f("Item no encontrado");return}if(u<=0){f("Quantidade deve ser maior que 0");return}if(u>_.quantidade){f("Quantidade disponvel insuficiente");return}const y={id:bl.createEntryId(),itemId:_.id,itemNome:`${_.empresa} - ${_.servico}`,quantidade:u};t(y),o(""),d(0),f("")};return l.jsxs("div",{className:"kit-maoobra-form",children:[l.jsxs("div",{className:"kit-form-row",children:[l.jsxs("div",{className:"kit-form-group",children:[l.jsx("label",{children:"Item cadastrado *"}),l.jsxs("select",{value:s,onChange:_=>o(_.target.value),children:[l.jsx("option",{value:"",children:"Selecione um item"}),n.map(_=>l.jsx("option",{value:_.id,children:`Vago ${_.vagaoNumero}  ${_.empresa}  ${_.servico} (Qtd: ${_.quantidade})`},_.id))]})]}),l.jsxs("div",{className:"kit-form-group",children:[l.jsx("label",{children:"Quantidade *"}),l.jsx("input",{type:"number",min:0,value:u,onChange:_=>d(parseInt(_.target.value)||0)})]}),l.jsx("div",{className:"kit-form-group add-button",children:l.jsxs("button",{type:"button",onClick:v,children:[l.jsx(hn,{size:16}),l.jsx("span",{children:"Adicionar"})]})})]}),m&&l.jsxs("div",{className:"kit-form-warning",children:[l.jsx(It,{size:16}),l.jsx("span",{children:m})]}),l.jsx("div",{className:"kit-entries-list",children:e.length===0?l.jsx("p",{className:"kit-entries-empty",children:"Nenhum item adicionado ainda"}):e.map(_=>l.jsxs("div",{className:"kit-entry",children:[l.jsxs("div",{children:[l.jsx("strong",{children:_.itemNome}),l.jsxs("strong",{children:[_.quantidade," profissionais"]})]}),l.jsx("button",{type:"button",onClick:()=>r(_.id),children:l.jsx(ga,{size:16})})]},_.id))})]})},PF=({entries:n,onAdd:e,onRemove:t})=>{const[r,s]=P.useState(""),[o,u]=P.useState(0),[d,m]=P.useState(""),f=()=>{if(!r||!d||o<=0)return;const v={id:bl.createEntryId(),nome:r,unidade:d,quantidade:o};e(v),s(""),u(0),m("")};return l.jsxs("div",{className:"kit-materiais-form",children:[l.jsxs("div",{className:"kit-form-row",children:[l.jsxs("div",{className:"kit-form-group",children:[l.jsx("label",{children:"Nome do insumo *"}),l.jsx("input",{type:"text",value:r,onChange:v=>s(v.target.value),placeholder:"Ex: Concreto usinado"})]}),l.jsxs("div",{className:"kit-form-group",children:[l.jsx("label",{children:"Unidade *"}),l.jsx("input",{type:"text",value:d,onChange:v=>m(v.target.value),placeholder:"m3, kg, pea..."})]}),l.jsxs("div",{className:"kit-form-group",children:[l.jsx("label",{children:"Quantidade *"}),l.jsx("input",{type:"number",min:0,value:o,onChange:v=>u(parseFloat(v.target.value)||0)})]}),l.jsx("div",{className:"kit-form-group add-button",children:l.jsxs("button",{type:"button",onClick:f,children:[l.jsx(hn,{size:16}),l.jsx("span",{children:"Adicionar"})]})})]}),l.jsx("div",{className:"kit-entries-list",children:n.length===0?l.jsx("p",{className:"kit-entries-empty",children:"Nenhum insumo adicionado ainda"}):n.map(v=>l.jsxs("div",{className:"kit-entry",children:[l.jsxs("div",{children:[l.jsx("strong",{children:v.nome}),l.jsxs("span",{children:[v.quantidade," ",v.unidade]})]}),l.jsx("button",{type:"button",onClick:()=>t(v.id),children:l.jsx(ga,{size:16})})]},v.id))})]})},FF=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState([]),[o,u]=P.useState([]),[d,m]=P.useState(!0),[f,v]=P.useState(null),[_,y]=P.useState(!1),[E,b]=P.useState(!1),[w,S]=P.useState("mao-de-obra"),[k,D]=P.useState({vagaoId:"",nome:""}),[j,X]=P.useState([]),[te,ie]=P.useState([]),[I,R]=P.useState(null),N=P.useCallback(async()=>{if(n)try{m(!0),v(null);const[re,xe,le]=await Promise.all([Ma.getVagoesByObra(n),Ss.getItensByObra(n),bl.getKitsByObra(n)]);t(re),s(xe),u(le)}catch(re){v(re instanceof Error?re.message:"Erro ao carregar dados.")}finally{m(!1)}},[n]);P.useEffect(()=>{N()},[N]),P.useEffect(()=>{const re=xe=>{xe.target.closest(".kit-menu-container")||R(null)};if(I)return document.addEventListener("mousedown",re),()=>document.removeEventListener("mousedown",re)},[I]);const F=()=>{D({vagaoId:"",nome:""}),X([]),ie([]),S("mao-de-obra"),y(!0)},U=async re=>{if(re.preventDefault(),!!n)try{b(!0),v(null);const xe=e.find(le=>le.id===k.vagaoId);if(!xe)throw new Error("Vago no encontrado");await bl.createKit(n,xe,{vagaoId:k.vagaoId,nome:k.nome,maoDeObra:j,materiais:te}),y(!1),await N()}catch(xe){v(xe instanceof Error?xe.message:"Erro ao salvar kit.")}finally{b(!1)}},M=async re=>{if(R(null),!!confirm("Deseja realmente excluir este kit?"))try{await bl.deleteKit(re),await N()}catch(xe){v(xe instanceof Error?xe.message:"Erro ao deletar kit.")}},B=re=>{R(null),console.log("Editar kit:",re)},J=re=>{R(I===re?null:re)},Ee=r.filter(re=>re.vagaoId===k.vagaoId);return l.jsxs("div",{className:"kits-container",children:[l.jsxs("div",{className:"kits-header",children:[l.jsxs("div",{children:[l.jsx("h1",{children:"Kits"}),l.jsx("p",{children:"Cadastre kits de mo de obra e materiais por vago"})]}),l.jsxs("button",{className:"btn-add-kit",onClick:F,children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Novo Kit"})]})]}),f&&l.jsxs("div",{className:"kits-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:f}),l.jsx("button",{onClick:()=>v(null),children:l.jsx(dn,{size:18})})]}),d?l.jsxs("div",{className:"kits-loading",children:[l.jsx(Bt,{size:48,className:"kits-spinner"}),l.jsx("p",{children:"Carregando kits..."})]}):o.length===0?l.jsxs("div",{className:"kits-empty",children:[l.jsx(Fx,{size:64}),l.jsx("h2",{children:"Nenhum kit cadastrado"}),l.jsx("p",{children:"Comece criando o primeiro kit para os seus vages"}),l.jsxs("button",{className:"btn-add-kit",onClick:F,children:[l.jsx(hn,{size:20}),l.jsx("span",{children:"Criar Kit"})]})]}):l.jsx("div",{className:"kits-grid",children:o.map(re=>l.jsxs("div",{className:"kit-card",children:[l.jsxs("div",{className:"kit-card-header",children:[l.jsx("div",{children:l.jsxs("span",{className:"kit-vagao",children:[l.jsx(Os,{size:18}),"Vago ",re.vagaoNumero]})}),l.jsxs("div",{className:"kit-menu-container",children:[l.jsx("button",{title:"Opes",onClick:xe=>{xe.stopPropagation(),J(re.id)},children:l.jsx(ql,{size:18})}),I===re.id&&l.jsxs("div",{className:"kit-dropdown-menu",children:[l.jsxs("button",{className:"kit-menu-item kit-menu-item-edit",onClick:xe=>{xe.stopPropagation(),B(re)},children:[l.jsx(z5,{size:16}),l.jsx("span",{children:"Editar"})]}),l.jsxs("button",{className:"kit-menu-item kit-menu-item-delete",onClick:xe=>{xe.stopPropagation(),M(re.id)},children:[l.jsx(ga,{size:16}),l.jsx("span",{children:"Excluir"})]})]})]})]}),l.jsxs("div",{className:"kit-card-body",children:[l.jsxs("div",{children:[l.jsx(Os,{size:20}),l.jsxs("div",{children:[l.jsx("strong",{children:"Mo de Obra"}),l.jsxs("p",{children:[re.maoDeObra.length," registro(s)"]})]})]}),l.jsxs("div",{children:[l.jsx(m5,{size:20}),l.jsxs("div",{children:[l.jsx("strong",{children:"Materiais"}),l.jsxs("p",{children:[re.materiais.length," registro(s)"]})]})]})]})]},re.id))}),_&&l.jsx("div",{className:"kits-modal-overlay",onClick:()=>y(!1),children:l.jsxs("div",{className:"kits-modal-content",onClick:re=>re.stopPropagation(),children:[l.jsxs("div",{className:"kits-modal-header",children:[l.jsx("h2",{children:"Criar Kit"}),l.jsx("button",{onClick:()=>y(!1),className:"kits-modal-close",children:l.jsx(dn,{size:20})})]}),l.jsxs("form",{className:"kits-modal-form",onSubmit:U,children:[l.jsxs("div",{className:"kits-form-row",children:[l.jsxs("div",{className:"kits-form-group",children:[l.jsx("label",{htmlFor:"nome",children:"Nome do Kit *"}),l.jsx("input",{id:"nome",value:k.nome,onChange:re=>D({...k,nome:re.target.value}),required:!0,placeholder:"Ex: Kit Estrutura"})]}),l.jsxs("div",{className:"kits-form-group",children:[l.jsx("label",{htmlFor:"vagaoId",children:"Vago *"}),l.jsxs("select",{id:"vagaoId",value:k.vagaoId,onChange:re=>D({...k,vagaoId:re.target.value}),required:!0,children:[l.jsx("option",{value:"",children:"Selecione um vago"}),e.map(re=>l.jsx("option",{value:re.id,children:`Vago ${re.numero}`},re.id))]})]})]}),l.jsx(OF,{activeTab:w,onChange:S}),w==="mao-de-obra"?l.jsx(MF,{itens:Ee,entries:j,onAdd:re=>X(xe=>[...xe,re]),onRemove:re=>X(xe=>xe.filter(le=>le.id!==re))}):l.jsx(PF,{entries:te,onAdd:re=>ie(xe=>[...xe,re]),onRemove:re=>ie(xe=>xe.filter(le=>le.id!==re))}),l.jsxs("div",{className:"kits-modal-actions",children:[l.jsx("button",{type:"button",className:"kits-btn-secondary",onClick:()=>y(!1),disabled:E,children:"Cancelar"}),l.jsx("button",{type:"submit",className:"kits-btn-primary",disabled:E,children:E?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"kits-spinner-small"}),"Salvando..."]}):"Salvar Kit"})]})]})]})})]})},Lc="producao_faltante",y1={async saveProducaoFaltante(n,e){try{const t=_r(Zt(Qe,Lc),xr("obraId","==",n),xr("kitId","==",e.kitId)),r=await jr(t);if(r.empty){const s={obraId:n,kitId:e.kitId,quantidade:e.quantidade,createdAt:Ke.now(),updatedAt:Ke.now()};return{id:(await Ls(Zt(Qe,Lc),s)).id,obraId:n,kitId:e.kitId,quantidade:e.quantidade,createdAt:new Date,updatedAt:new Date}}else{const s=r.docs[0].ref;await pa(s,{quantidade:e.quantidade,updatedAt:Ke.now()});const o=r.docs[0].data();return{id:s.id,obraId:o.obraId,kitId:o.kitId,quantidade:e.quantidade,createdAt:o.createdAt?.toDate()||new Date,updatedAt:new Date}}}catch(t){throw console.error("Erro ao salvar produo faltante:",t),new Error("No foi possvel salvar a produo faltante. Tente novamente.")}},async saveProducoesFaltantes(n,e){try{const t=[];e.forEach((r,s)=>{t.push(this.saveProducaoFaltante(n,{kitId:s,quantidade:r}))}),await Promise.all(t)}catch(t){throw console.error("Erro ao salvar produes faltantes:",t),new Error("No foi possvel salvar as produes faltantes. Tente novamente.")}},async getProducoesFaltantesByObra(n){try{const e=_r(Zt(Qe,Lc),xr("obraId","==",n)),t=await jr(e),r=new Map;return t.forEach(s=>{const o=s.data();r.set(o.kitId,o.quantidade||0)}),r}catch(e){throw console.error("Erro ao buscar produes faltantes:",e),new Error("No foi possvel carregar as produes faltantes. Tente novamente.")}},async getProducaoFaltanteByKit(n,e){try{const t=_r(Zt(Qe,Lc),xr("obraId","==",n),xr("kitId","==",e)),r=await jr(t);return r.empty?0:r.docs[0].data().quantidade||0}catch(t){return console.error("Erro ao buscar produo faltante:",t),0}},async deleteProducaoFaltante(n){try{await ls(Et(Qe,Lc,n))}catch(e){throw console.error("Erro ao deletar produo faltante:",e),new Error("No foi possvel deletar a produo faltante. Tente novamente.")}},async deleteProducoesFaltantesByObra(n){try{const e=_r(Zt(Qe,Lc),xr("obraId","==",n)),r=(await jr(e)).docs.map(s=>ls(s.ref));await Promise.all(r)}catch(e){throw console.error("Erro ao deletar produes faltantes:",e),new Error("No foi possvel deletar as produes faltantes. Tente novamente.")}}};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var lm={};lm.version="0.18.5";var wN=1252,LF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],AN=function(n){LF.indexOf(n)!=-1&&(wN=n)};function VF(){AN(1252)}var pd=function(n){AN(n)};function UF(){pd(1200),VF()}var _0=function(e){return String.fromCharCode(e)},Cw=function(e){return String.fromCharCode(e)},cm,yo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function gd(n){for(var e="",t=0,r=0,s=0,o=0,u=0,d=0,m=0,f=0;f<n.length;)t=n.charCodeAt(f++),o=t>>2,r=n.charCodeAt(f++),u=(t&3)<<4|r>>4,s=n.charCodeAt(f++),d=(r&15)<<2|s>>6,m=s&63,isNaN(r)?d=m=64:isNaN(s)&&(m=64),e+=yo.charAt(o)+yo.charAt(u)+yo.charAt(d)+yo.charAt(m);return e}function Ci(n){var e="",t=0,r=0,s=0,o=0,u=0,d=0,m=0;n=n.replace(/[^\w\+\/\=]/g,"");for(var f=0;f<n.length;)o=yo.indexOf(n.charAt(f++)),u=yo.indexOf(n.charAt(f++)),t=o<<2|u>>4,e+=String.fromCharCode(t),d=yo.indexOf(n.charAt(f++)),r=(u&15)<<4|d>>2,d!==64&&(e+=String.fromCharCode(r)),m=yo.indexOf(n.charAt(f++)),s=(d&3)<<6|m,m!==64&&(e+=String.fromCharCode(s));return e}var Ct=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Di=(function(){if(typeof Buffer<"u"){var n=!Buffer.from;if(!n)try{Buffer.from("foo","utf8")}catch{n=!0}return n?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Pl(n){return Ct?Buffer.alloc?Buffer.alloc(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}function Iw(n){return Ct?Buffer.allocUnsafe?Buffer.allocUnsafe(n):new Buffer(n):typeof Uint8Array<"u"?new Uint8Array(n):new Array(n)}var es=function(e){return Ct?Di(e,"binary"):e.split("").map(function(t){return t.charCodeAt(0)&255})};function tp(n){if(typeof ArrayBuffer>"u")return es(n);for(var e=new ArrayBuffer(n.length),t=new Uint8Array(e),r=0;r!=n.length;++r)t[r]=n.charCodeAt(r)&255;return e}function Pd(n){if(Array.isArray(n))return n.map(function(r){return String.fromCharCode(r)}).join("");for(var e=[],t=0;t<n.length;++t)e[t]=String.fromCharCode(n[t]);return e.join("")}function BF(n){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(n)}var sr=Ct?function(n){return Buffer.concat(n.map(function(e){return Buffer.isBuffer(e)?e:Di(e)}))}:function(n){if(typeof Uint8Array<"u"){var e=0,t=0;for(e=0;e<n.length;++e)t+=n[e].length;var r=new Uint8Array(t),s=0;for(e=0,t=0;e<n.length;t+=s,++e)if(s=n[e].length,n[e]instanceof Uint8Array)r.set(n[e],t);else{if(typeof n[e]=="string")throw"wtf";r.set(new Uint8Array(n[e]),t)}return r}return[].concat.apply([],n.map(function(o){return Array.isArray(o)?o:[].slice.call(o)}))};function zF(n){for(var e=[],t=0,r=n.length+250,s=Pl(n.length+255),o=0;o<n.length;++o){var u=n.charCodeAt(o);if(u<128)s[t++]=u;else if(u<2048)s[t++]=192|u>>6&31,s[t++]=128|u&63;else if(u>=55296&&u<57344){u=(u&1023)+64;var d=n.charCodeAt(++o)&1023;s[t++]=240|u>>8&7,s[t++]=128|u>>2&63,s[t++]=128|d>>6&15|(u&3)<<4,s[t++]=128|d&63}else s[t++]=224|u>>12&15,s[t++]=128|u>>6&63,s[t++]=128|u&63;t>r&&(e.push(s.slice(0,t)),t=0,s=Pl(65535),r=65530)}return e.push(s.slice(0,t)),sr(e)}var Wh=/\u0000/g,y0=/[\u0001-\u0006]/g;function eu(n){for(var e="",t=n.length-1;t>=0;)e+=n.charAt(t--);return e}function as(n,e){var t=""+n;return t.length>=e?t:vn("0",e-t.length)+t}function Vx(n,e){var t=""+n;return t.length>=e?t:vn(" ",e-t.length)+t}function um(n,e){var t=""+n;return t.length>=e?t:t+vn(" ",e-t.length)}function qF(n,e){var t=""+Math.round(n);return t.length>=e?t:vn("0",e-t.length)+t}function HF(n,e){var t=""+n;return t.length>=e?t:vn("0",e-t.length)+t}var Rw=Math.pow(2,32);function Vc(n,e){if(n>Rw||n<-Rw)return qF(n,e);var t=Math.round(n);return HF(t,e)}function hm(n,e){return e=e||0,n.length>=7+e&&(n.charCodeAt(e)|32)===103&&(n.charCodeAt(e+1)|32)===101&&(n.charCodeAt(e+2)|32)===110&&(n.charCodeAt(e+3)|32)===101&&(n.charCodeAt(e+4)|32)===114&&(n.charCodeAt(e+5)|32)===97&&(n.charCodeAt(e+6)|32)===108}var Dw=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Dv=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function GF(n){return n||(n={}),n[0]="General",n[1]="0",n[2]="0.00",n[3]="#,##0",n[4]="#,##0.00",n[9]="0%",n[10]="0.00%",n[11]="0.00E+00",n[12]="# ?/?",n[13]="# ??/??",n[14]="m/d/yy",n[15]="d-mmm-yy",n[16]="d-mmm",n[17]="mmm-yy",n[18]="h:mm AM/PM",n[19]="h:mm:ss AM/PM",n[20]="h:mm",n[21]="h:mm:ss",n[22]="m/d/yy h:mm",n[37]="#,##0 ;(#,##0)",n[38]="#,##0 ;[Red](#,##0)",n[39]="#,##0.00;(#,##0.00)",n[40]="#,##0.00;[Red](#,##0.00)",n[45]="mm:ss",n[46]="[h]:mm:ss",n[47]="mmss.0",n[48]="##0.0E+0",n[49]="@",n[56]='"/ "hh""mm""ss" "',n}var _n={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},jw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$F={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function dm(n,e,t){for(var r=n<0?-1:1,s=n*r,o=0,u=1,d=0,m=1,f=0,v=0,_=Math.floor(s);f<e&&(_=Math.floor(s),d=_*u+o,v=_*f+m,!(s-_<5e-8));)s=1/(s-_),o=u,u=d,m=f,f=v;if(v>e&&(f>e?(v=m,d=o):(v=f,d=u)),!t)return[0,r*d,v];var y=Math.floor(r*d/v);return[y,r*d-y*v,v]}function E0(n,e,t){if(n>2958465||n<0)return null;var r=n|0,s=Math.floor(86400*(n-r)),o=0,u=[],d={D:r,T:s,u:86400*(n-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(d.u)<1e-6&&(d.u=0),e&&e.date1904&&(r+=1462),d.u>.9999&&(d.u=0,++s==86400&&(d.T=s=0,++r,++d.D)),r===60)u=t?[1317,10,29]:[1900,2,29],o=3;else if(r===0)u=t?[1317,8,29]:[1900,1,0],o=6;else{r>60&&--r;var m=new Date(1900,0,1);m.setDate(m.getDate()+r-1),u=[m.getFullYear(),m.getMonth()+1,m.getDate()],o=m.getDay(),r<60&&(o=(o+6)%7),t&&(o=ZF(m,u))}return d.y=u[0],d.m=u[1],d.d=u[2],d.S=s%60,s=Math.floor(s/60),d.M=s%60,s=Math.floor(s/60),d.H=s,d.q=o,d}var SN=new Date(1899,11,31,0,0,0),KF=SN.getTime(),WF=new Date(1900,2,1,0,0,0);function bN(n,e){var t=n.getTime();return e?t-=1461*24*60*60*1e3:n>=WF&&(t+=1440*60*1e3),(t-(KF+(n.getTimezoneOffset()-SN.getTimezoneOffset())*6e4))/(1440*60*1e3)}function Ux(n){return n.indexOf(".")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function XF(n){return n.indexOf("E")==-1?n:n.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function YF(n){var e=n<0?12:11,t=Ux(n.toFixed(12));return t.length<=e||(t=n.toPrecision(10),t.length<=e)?t:n.toExponential(5)}function QF(n){var e=Ux(n.toFixed(11));return e.length>(n<0?12:11)||e==="0"||e==="-0"?n.toPrecision(6):e}function JF(n){var e=Math.floor(Math.log(Math.abs(n))*Math.LOG10E),t;return e>=-4&&e<=-1?t=n.toPrecision(10+e):Math.abs(e)<=9?t=YF(n):e===10?t=n.toFixed(10).substr(0,12):t=QF(n),Ux(XF(t.toUpperCase()))}function E1(n,e){switch(typeof n){case"string":return n;case"boolean":return n?"TRUE":"FALSE";case"number":return(n|0)===n?n.toString(10):JF(n);case"undefined":return"";case"object":if(n==null)return"";if(n instanceof Date)return Oo(14,bN(n,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+n)}function ZF(n,e){e[0]-=581;var t=n.getDay();return n<60&&(t=(t+6)%7),t}function eL(n,e,t,r){var s="",o=0,u=0,d=t.y,m,f=0;switch(n){case 98:d=t.y+543;case 121:switch(e.length){case 1:case 2:m=d%100,f=2;break;default:m=d%1e4,f=4;break}break;case 109:switch(e.length){case 1:case 2:m=t.m,f=e.length;break;case 3:return Dv[t.m-1][1];case 5:return Dv[t.m-1][0];default:return Dv[t.m-1][2]}break;case 100:switch(e.length){case 1:case 2:m=t.d,f=e.length;break;case 3:return Dw[t.q][0];default:return Dw[t.q][1]}break;case 104:switch(e.length){case 1:case 2:m=1+(t.H+11)%12,f=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:m=t.H,f=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:m=t.M,f=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return t.u===0&&(e=="s"||e=="ss")?as(t.S,e.length):(r>=2?u=r===3?1e3:100:u=r===1?10:1,o=Math.round(u*(t.S+t.u)),o>=60*u&&(o=0),e==="s"?o===0?"0":""+o/u:(s=as(o,2+r),e==="ss"?s.substr(0,2):"."+s.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":m=t.D*24+t.H;break;case"[m]":case"[mm]":m=(t.D*24+t.H)*60+t.M;break;case"[s]":case"[ss]":m=((t.D*24+t.H)*60+t.M)*60+Math.round(t.S+t.u);break;default:throw"bad abstime format: "+e}f=e.length===3?1:2;break;case 101:m=d,f=1;break}var v=f>0?as(m,f):"";return v}function Eo(n){var e=3;if(n.length<=e)return n;for(var t=n.length%e,r=n.substr(0,t);t!=n.length;t+=e)r+=(r.length>0?",":"")+n.substr(t,e);return r}var NN=/%/g;function tL(n,e,t){var r=e.replace(NN,""),s=e.length-r.length;return xi(n,r,t*Math.pow(10,2*s))+vn("%",s)}function nL(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return xi(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function CN(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+CN(n,-e);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),t=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),t.indexOf("e")===-1){var u=Math.floor(Math.log(e)*Math.LOG10E);for(t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(u-t.length+o):t+="E+"+(u-o);t.substr(0,2)==="0.";)t=t.charAt(0)+t.substr(2,s)+"."+t.substr(2+s),t=t.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,m,f,v){return m+f+v.substr(0,(s+o)%s)+"."+v.substr(o)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}var IN=/# (\?+)( ?)\/( ?)(\d+)/;function rL(n,e,t){var r=parseInt(n[4],10),s=Math.round(e*r),o=Math.floor(s/r),u=s-o*r,d=r;return t+(o===0?"":""+o)+" "+(u===0?vn(" ",n[1].length+1+n[4].length):Vx(u,n[1].length)+n[2]+"/"+n[3]+as(d,n[4].length))}function aL(n,e,t){return t+(e===0?"":""+e)+vn(" ",n[1].length+2+n[4].length)}var RN=/^#*0*\.([0#]+)/,DN=/\).*[0#]/,jN=/\(###\) ###\\?-####/;function Rr(n){for(var e="",t,r=0;r!=n.length;++r)switch(t=n.charCodeAt(r)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(t)}return e}function kw(n,e){var t=Math.pow(10,e);return""+Math.round(n*t)/t}function Ow(n,e){var t=n-Math.floor(n),r=Math.pow(10,e);return e<(""+Math.round(t*r)).length?0:Math.round(t*r)}function sL(n,e){return e<(""+Math.round((n-Math.floor(n))*Math.pow(10,e))).length?1:0}function iL(n){return n<2147483647&&n>-2147483648?""+(n>=0?n|0:n-1|0):""+Math.floor(n)}function ja(n,e,t){if(n.charCodeAt(0)===40&&!e.match(DN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?ja("n",r,t):"("+ja("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return nL(n,e,t);if(e.indexOf("%")!==-1)return tL(n,e,t);if(e.indexOf("E")!==-1)return CN(e,t);if(e.charCodeAt(0)===36)return"$"+ja(n,e.substr(e.charAt(1)==" "?2:1),t);var s,o,u,d,m=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+Vc(m,e.length);if(e.match(/^[#?]+$/))return s=Vc(t,0),s==="0"&&(s=""),s.length>e.length?s:Rr(e.substr(0,e.length-s.length))+s;if(o=e.match(IN))return rL(o,m,f);if(e.match(/^#+0+$/))return f+Vc(m,e.length-e.indexOf("0"));if(o=e.match(RN))return s=kw(t,o[1].length).replace(/^([^\.]+)$/,"$1."+Rr(o[1])).replace(/\.$/,"."+Rr(o[1])).replace(/\.(\d*)$/,function(b,w){return"."+w+vn("0",Rr(o[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+kw(m,o[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Eo(Vc(m,0));if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+ja(n,e,-t):Eo(""+(Math.floor(t)+sL(t,o[1].length)))+"."+as(Ow(t,o[1].length),o[1].length);if(o=e.match(/^#,#*,#0/))return ja(n,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=eu(ja(n,e.replace(/[\\-]/g,""),t)),u=0,eu(eu(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return u<s.length?s.charAt(u++):b==="0"?"0":""}));if(e.match(jN))return s=ja(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var v="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(o[4].length,7),d=dm(m,Math.pow(10,u)-1,!1),s=""+f,v=xi("n",o[1],d[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),s+=v+o[2]+"/"+o[3],v=um(d[2],u),v.length<o[4].length&&(v=Rr(o[4].substr(o[4].length-v.length))+v),s+=v,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(o[1].length,o[4].length),7),d=dm(m,Math.pow(10,u)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Vx(d[1],u)+o[2]+"/"+o[3]+um(d[2],u):vn(" ",2*u+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=Vc(t,0),e.length<=s.length?s:Rr(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0?]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),u=s.indexOf(".");var _=e.indexOf(".")-u,y=e.length-s.length-_;return Rr(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return u=Ow(t,o[1].length),t<0?"-"+ja(n,e,-t):Eo(iL(t)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?as(0,3-b.length):"")+b})+"."+as(u,o[1].length);switch(e){case"###,##0.00":return ja(n,"#,##0.00",t);case"###,###":case"##,###":case"#,###":var E=Eo(Vc(m,0));return E!=="0"?f+E:"";case"###,###.00":return ja(n,"###,##0.00",t).replace(/^0\./,".");case"#,###.00":return ja(n,"#,##0.00",t).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function oL(n,e,t){for(var r=e.length-1;e.charCodeAt(r-1)===44;)--r;return xi(n,e.substr(0,r),t/Math.pow(10,3*(e.length-r)))}function lL(n,e,t){var r=e.replace(NN,""),s=e.length-r.length;return xi(n,r,t*Math.pow(10,2*s))+vn("%",s)}function kN(n,e){var t,r=n.indexOf("E")-n.indexOf(".")-1;if(n.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+kN(n,-e);var s=n.indexOf(".");s===-1&&(s=n.indexOf("E"));var o=Math.floor(Math.log(e)*Math.LOG10E)%s;if(o<0&&(o+=s),t=(e/Math.pow(10,o)).toPrecision(r+1+(s+o)%s),!t.match(/[Ee]/)){var u=Math.floor(Math.log(e)*Math.LOG10E);t.indexOf(".")===-1?t=t.charAt(0)+"."+t.substr(1)+"E+"+(u-t.length+o):t+="E+"+(u-o),t=t.replace(/\+-/,"-")}t=t.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(d,m,f,v){return m+f+v.substr(0,(s+o)%s)+"."+v.substr(o)+"E"})}else t=e.toExponential(r);return n.match(/E\+00$/)&&t.match(/e[+-]\d$/)&&(t=t.substr(0,t.length-1)+"0"+t.charAt(t.length-1)),n.match(/E\-/)&&t.match(/e\+/)&&(t=t.replace(/e\+/,"e")),t.replace("e","E")}function Ts(n,e,t){if(n.charCodeAt(0)===40&&!e.match(DN)){var r=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return t>=0?Ts("n",r,t):"("+Ts("n",r,-t)+")"}if(e.charCodeAt(e.length-1)===44)return oL(n,e,t);if(e.indexOf("%")!==-1)return lL(n,e,t);if(e.indexOf("E")!==-1)return kN(e,t);if(e.charCodeAt(0)===36)return"$"+Ts(n,e.substr(e.charAt(1)==" "?2:1),t);var s,o,u,d,m=Math.abs(t),f=t<0?"-":"";if(e.match(/^00+$/))return f+as(m,e.length);if(e.match(/^[#?]+$/))return s=""+t,t===0&&(s=""),s.length>e.length?s:Rr(e.substr(0,e.length-s.length))+s;if(o=e.match(IN))return aL(o,m,f);if(e.match(/^#+0+$/))return f+as(m,e.length-e.indexOf("0"));if(o=e.match(RN))return s=(""+t).replace(/^([^\.]+)$/,"$1."+Rr(o[1])).replace(/\.$/,"."+Rr(o[1])),s=s.replace(/\.(\d*)$/,function(b,w){return"."+w+vn("0",Rr(o[1]).length-w.length)}),e.indexOf("0.")!==-1?s:s.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),o=e.match(/^(0*)\.(#*)$/))return f+(""+m).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,o[1].length?"0.":".");if(o=e.match(/^#{1,3},##0(\.?)$/))return f+Eo(""+m);if(o=e.match(/^#,##0\.([#0]*0)$/))return t<0?"-"+Ts(n,e,-t):Eo(""+t)+"."+vn("0",o[1].length);if(o=e.match(/^#,#*,#0/))return Ts(n,e.replace(/^#,#*,/,""),t);if(o=e.match(/^([0#]+)(\\?-([0#]+))+$/))return s=eu(Ts(n,e.replace(/[\\-]/g,""),t)),u=0,eu(eu(e.replace(/\\/g,"")).replace(/[0#]/g,function(b){return u<s.length?s.charAt(u++):b==="0"?"0":""}));if(e.match(jN))return s=Ts(n,"##########",t),"("+s.substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var v="";if(o=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(o[4].length,7),d=dm(m,Math.pow(10,u)-1,!1),s=""+f,v=xi("n",o[1],d[1]),v.charAt(v.length-1)==" "&&(v=v.substr(0,v.length-1)+"0"),s+=v+o[2]+"/"+o[3],v=um(d[2],u),v.length<o[4].length&&(v=Rr(o[4].substr(o[4].length-v.length))+v),s+=v,s;if(o=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return u=Math.min(Math.max(o[1].length,o[4].length),7),d=dm(m,Math.pow(10,u)-1,!0),f+(d[0]||(d[1]?"":"0"))+" "+(d[1]?Vx(d[1],u)+o[2]+"/"+o[3]+um(d[2],u):vn(" ",2*u+1+o[2].length+o[3].length));if(o=e.match(/^[#0?]+$/))return s=""+t,e.length<=s.length?s:Rr(e.substr(0,e.length-s.length))+s;if(o=e.match(/^([#0]+)\.([#0]+)$/)){s=""+t.toFixed(Math.min(o[2].length,10)).replace(/([^0])0+$/,"$1"),u=s.indexOf(".");var _=e.indexOf(".")-u,y=e.length-s.length-_;return Rr(e.substr(0,_)+s+e.substr(e.length-y))}if(o=e.match(/^00,000\.([#0]*0)$/))return t<0?"-"+Ts(n,e,-t):Eo(""+t).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(b){return"00,"+(b.length<3?as(0,3-b.length):"")+b})+"."+as(0,o[1].length);switch(e){case"###,###":case"##,###":case"#,###":var E=Eo(""+m);return E!=="0"?f+E:"";default:if(e.match(/\.[0#?]*$/))return Ts(n,e.slice(0,e.lastIndexOf(".")),t)+Rr(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function xi(n,e,t){return(t|0)===t?Ts(n,e,t):ja(n,e,t)}function cL(n){for(var e=[],t=!1,r=0,s=0;r<n.length;++r)switch(n.charCodeAt(r)){case 34:t=!t;break;case 95:case 42:case 92:++r;break;case 59:e[e.length]=n.substr(s,r-s),s=r+1}if(e[e.length]=n.substr(s),t===!0)throw new Error("Format |"+n+"| unterminated string ");return e}var ON=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function MN(n){for(var e=0,t="",r="";e<n.length;)switch(t=n.charAt(e)){case"G":hm(n,e)&&(e+=6),e++;break;case'"':for(;n.charCodeAt(++e)!==34&&e<n.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(n.charAt(e+1)==="1"||n.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(n.substr(e,3).toUpperCase()==="A/P"||n.substr(e,5).toUpperCase()==="AM/PM"||n.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(r=t;n.charAt(e++)!=="]"&&e<n.length;)r+=n.charAt(e);if(r.match(ON))return!0;break;case".":case"0":case"#":for(;e<n.length&&("0#?.,E+-%".indexOf(t=n.charAt(++e))>-1||t=="\\"&&n.charAt(e+1)=="-"&&"0#".indexOf(n.charAt(e+2))>-1););break;case"?":for(;n.charAt(++e)===t;);break;case"*":++e,(n.charAt(e)==" "||n.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<n.length&&"0123456789".indexOf(n.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function uL(n,e,t,r){for(var s=[],o="",u=0,d="",m="t",f,v,_,y="H";u<n.length;)switch(d=n.charAt(u)){case"G":if(!hm(n,u))throw new Error("unrecognized character "+d+" in "+n);s[s.length]={t:"G",v:"General"},u+=7;break;case'"':for(o="";(_=n.charCodeAt(++u))!==34&&u<n.length;)o+=String.fromCharCode(_);s[s.length]={t:"t",v:o},++u;break;case"\\":var E=n.charAt(++u),b=E==="("||E===")"?E:"t";s[s.length]={t:b,v:E},++u;break;case"_":s[s.length]={t:"t",v:" "},u+=2;break;case"@":s[s.length]={t:"T",v:e},++u;break;case"B":case"b":if(n.charAt(u+1)==="1"||n.charAt(u+1)==="2"){if(f==null&&(f=E0(e,t,n.charAt(u+1)==="2"),f==null))return"";s[s.length]={t:"X",v:n.substr(u,2)},m=d,u+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||f==null&&(f=E0(e,t),f==null))return"";for(o=d;++u<n.length&&n.charAt(u).toLowerCase()===d;)o+=d;d==="m"&&m.toLowerCase()==="h"&&(d="M"),d==="h"&&(d=y),s[s.length]={t:d,v:o},m=d;break;case"A":case"a":case"":var w={t:d,v:d};if(f==null&&(f=E0(e,t)),n.substr(u,3).toUpperCase()==="A/P"?(f!=null&&(w.v=f.H>=12?"P":"A"),w.t="T",y="h",u+=3):n.substr(u,5).toUpperCase()==="AM/PM"?(f!=null&&(w.v=f.H>=12?"PM":"AM"),w.t="T",u+=5,y="h"):n.substr(u,5).toUpperCase()==="/"?(f!=null&&(w.v=f.H>=12?"":""),w.t="T",u+=5,y="h"):(w.t="t",++u),f==null&&w.t==="T")return"";s[s.length]=w,m=d;break;case"[":for(o=d;n.charAt(u++)!=="]"&&u<n.length;)o+=n.charAt(u);if(o.slice(-1)!=="]")throw'unterminated "[" block: |'+o+"|";if(o.match(ON)){if(f==null&&(f=E0(e,t),f==null))return"";s[s.length]={t:"Z",v:o.toLowerCase()},m=o.charAt(1)}else o.indexOf("$")>-1&&(o=(o.match(/\$([^-\[\]]*)/)||[])[1]||"$",MN(n)||(s[s.length]={t:"t",v:o}));break;case".":if(f!=null){for(o=d;++u<n.length&&(d=n.charAt(u))==="0";)o+=d;s[s.length]={t:"s",v:o};break}case"0":case"#":for(o=d;++u<n.length&&"0#?.,E+-%".indexOf(d=n.charAt(u))>-1;)o+=d;s[s.length]={t:"n",v:o};break;case"?":for(o=d;n.charAt(++u)===d;)o+=d;s[s.length]={t:d,v:o},m=d;break;case"*":++u,(n.charAt(u)==" "||n.charAt(u)=="*")&&++u;break;case"(":case")":s[s.length]={t:r===1?"t":d,v:d},++u;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(o=d;u<n.length&&"0123456789".indexOf(n.charAt(++u))>-1;)o+=n.charAt(u);s[s.length]={t:"D",v:o};break;case" ":s[s.length]={t:d,v:d},++u;break;case"$":s[s.length]={t:"t",v:"$"},++u;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(d)===-1)throw new Error("unrecognized character "+d+" in "+n);s[s.length]={t:"t",v:d},++u;break}var S=0,k=0,D;for(u=s.length-1,m="t";u>=0;--u)switch(s[u].t){case"h":case"H":s[u].t=y,m="h",S<1&&(S=1);break;case"s":(D=s[u].v.match(/\.0+$/))&&(k=Math.max(k,D[0].length-1)),S<3&&(S=3);case"d":case"y":case"M":case"e":m=s[u].t;break;case"m":m==="s"&&(s[u].t="M",S<2&&(S=2));break;case"X":break;case"Z":S<1&&s[u].v.match(/[Hh]/)&&(S=1),S<2&&s[u].v.match(/[Mm]/)&&(S=2),S<3&&s[u].v.match(/[Ss]/)&&(S=3)}switch(S){case 0:break;case 1:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M),f.M>=60&&(f.M=0,++f.H);break;case 2:f.u>=.5&&(f.u=0,++f.S),f.S>=60&&(f.S=0,++f.M);break}var j="",X;for(u=0;u<s.length;++u)switch(s[u].t){case"t":case"T":case" ":case"D":break;case"X":s[u].v="",s[u].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":s[u].v=eL(s[u].t.charCodeAt(0),s[u].v,f,k),s[u].t="t";break;case"n":case"?":for(X=u+1;s[X]!=null&&((d=s[X].t)==="?"||d==="D"||(d===" "||d==="t")&&s[X+1]!=null&&(s[X+1].t==="?"||s[X+1].t==="t"&&s[X+1].v==="/")||s[u].t==="("&&(d===" "||d==="n"||d===")")||d==="t"&&(s[X].v==="/"||s[X].v===" "&&s[X+1]!=null&&s[X+1].t=="?"));)s[u].v+=s[X].v,s[X]={v:"",t:";"},++X;j+=s[u].v,u=X-1;break;case"G":s[u].t="t",s[u].v=E1(e,t);break}var te="",ie,I;if(j.length>0){j.charCodeAt(0)==40?(ie=e<0&&j.charCodeAt(0)===45?-e:e,I=xi("n",j,ie)):(ie=e<0&&r>1?-e:e,I=xi("n",j,ie),ie<0&&s[0]&&s[0].t=="t"&&(I=I.substr(1),s[0].v="-"+s[0].v)),X=I.length-1;var R=s.length;for(u=0;u<s.length;++u)if(s[u]!=null&&s[u].t!="t"&&s[u].v.indexOf(".")>-1){R=u;break}var N=s.length;if(R===s.length&&I.indexOf("E")===-1){for(u=s.length-1;u>=0;--u)s[u]==null||"n?".indexOf(s[u].t)===-1||(X>=s[u].v.length-1?(X-=s[u].v.length,s[u].v=I.substr(X+1,s[u].v.length)):X<0?s[u].v="":(s[u].v=I.substr(0,X+1),X=-1),s[u].t="t",N=u);X>=0&&N<s.length&&(s[N].v=I.substr(0,X+1)+s[N].v)}else if(R!==s.length&&I.indexOf("E")===-1){for(X=I.indexOf(".")-1,u=R;u>=0;--u)if(!(s[u]==null||"n?".indexOf(s[u].t)===-1)){for(v=s[u].v.indexOf(".")>-1&&u===R?s[u].v.indexOf(".")-1:s[u].v.length-1,te=s[u].v.substr(v+1);v>=0;--v)X>=0&&(s[u].v.charAt(v)==="0"||s[u].v.charAt(v)==="#")&&(te=I.charAt(X--)+te);s[u].v=te,s[u].t="t",N=u}for(X>=0&&N<s.length&&(s[N].v=I.substr(0,X+1)+s[N].v),X=I.indexOf(".")+1,u=R;u<s.length;++u)if(!(s[u]==null||"n?(".indexOf(s[u].t)===-1&&u!==R)){for(v=s[u].v.indexOf(".")>-1&&u===R?s[u].v.indexOf(".")+1:0,te=s[u].v.substr(0,v);v<s[u].v.length;++v)X<I.length&&(te+=I.charAt(X++));s[u].v=te,s[u].t="t",N=u}}}for(u=0;u<s.length;++u)s[u]!=null&&"n?".indexOf(s[u].t)>-1&&(ie=r>1&&e<0&&u>0&&s[u-1].v==="-"?-e:e,s[u].v=xi(s[u].t,s[u].v,ie),s[u].t="t");var F="";for(u=0;u!==s.length;++u)s[u]!=null&&(F+=s[u].v);return F}var Mw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Pw(n,e){if(e==null)return!1;var t=parseFloat(e[2]);switch(e[1]){case"=":if(n==t)return!0;break;case">":if(n>t)return!0;break;case"<":if(n<t)return!0;break;case"<>":if(n!=t)return!0;break;case">=":if(n>=t)return!0;break;case"<=":if(n<=t)return!0;break}return!1}function hL(n,e){var t=cL(n),r=t.length,s=t[r-1].indexOf("@");if(r<4&&s>-1&&--r,t.length>4)throw new Error("cannot find right format for |"+t.join("|")+"|");if(typeof e!="number")return[4,t.length===4||s>-1?t[t.length-1]:"@"];switch(t.length){case 1:t=s>-1?["General","General","General",t[0]]:[t[0],t[0],t[0],"@"];break;case 2:t=s>-1?[t[0],t[0],t[0],t[1]]:[t[0],t[1],t[0],"@"];break;case 3:t=s>-1?[t[0],t[1],t[0],t[2]]:[t[0],t[1],t[2],"@"];break}var o=e>0?t[0]:e<0?t[1]:t[2];if(t[0].indexOf("[")===-1&&t[1].indexOf("[")===-1)return[r,o];if(t[0].match(/\[[=<>]/)!=null||t[1].match(/\[[=<>]/)!=null){var u=t[0].match(Mw),d=t[1].match(Mw);return Pw(e,u)?[r,t[0]]:Pw(e,d)?[r,t[1]]:[r,t[u!=null&&d!=null?2:1]]}return[r,o]}function Oo(n,e,t){t==null&&(t={});var r="";switch(typeof n){case"string":n=="m/d/yy"&&t.dateNF?r=t.dateNF:r=n;break;case"number":n==14&&t.dateNF?r=t.dateNF:r=(t.table!=null?t.table:_n)[n],r==null&&(r=t.table&&t.table[jw[n]]||_n[jw[n]]),r==null&&(r=$F[n]||"General");break}if(hm(r,0))return E1(e,t);e instanceof Date&&(e=bN(e,t.date1904));var s=hL(r,e);if(hm(s[1]))return E1(e,t);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return uL(s[1],e,t,s[0])}function PN(n,e){if(typeof e!="number"){e=+e||-1;for(var t=0;t<392;++t){if(_n[t]==null){e<0&&(e=t);continue}if(_n[t]==n){e=t;break}}e<0&&(e=391)}return _n[e]=n,e}function np(n){for(var e=0;e!=392;++e)n[e]!==void 0&&PN(n[e],e)}function rp(){_n=GF()}var FN=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function dL(n){var e=typeof n=="number"?_n[n]:n;return e=e.replace(FN,"(\\d+)"),new RegExp("^"+e+"$")}function fL(n,e,t){var r=-1,s=-1,o=-1,u=-1,d=-1,m=-1;(e.match(FN)||[]).forEach(function(_,y){var E=parseInt(t[y+1],10);switch(_.toLowerCase().charAt(0)){case"y":r=E;break;case"d":o=E;break;case"h":u=E;break;case"s":m=E;break;case"m":u>=0?d=E:s=E;break}}),m>=0&&d==-1&&s>=0&&(d=s,s=-1);var f=(""+(r>=0?r:new Date().getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(o>=1?o:1)).slice(-2);f.length==7&&(f="0"+f),f.length==8&&(f="20"+f);var v=("00"+(u>=0?u:0)).slice(-2)+":"+("00"+(d>=0?d:0)).slice(-2)+":"+("00"+(m>=0?m:0)).slice(-2);return u==-1&&d==-1&&m==-1?f:r==-1&&s==-1&&o==-1?v:f+"T"+v}var mL=(function(){var n={};n.version="1.2.0";function e(){for(var I=0,R=new Array(256),N=0;N!=256;++N)I=N,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,I=I&1?-306674912^I>>>1:I>>>1,R[N]=I;return typeof Int32Array<"u"?new Int32Array(R):R}var t=e();function r(I){var R=0,N=0,F=0,U=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)U[F]=I[F];for(F=0;F!=256;++F)for(N=I[F],R=256+F;R<4096;R+=256)N=U[R]=N>>>8^I[N&255];var M=[];for(F=1;F!=16;++F)M[F-1]=typeof Int32Array<"u"?U.subarray(F*256,F*256+256):U.slice(F*256,F*256+256);return M}var s=r(t),o=s[0],u=s[1],d=s[2],m=s[3],f=s[4],v=s[5],_=s[6],y=s[7],E=s[8],b=s[9],w=s[10],S=s[11],k=s[12],D=s[13],j=s[14];function X(I,R){for(var N=R^-1,F=0,U=I.length;F<U;)N=N>>>8^t[(N^I.charCodeAt(F++))&255];return~N}function te(I,R){for(var N=R^-1,F=I.length-15,U=0;U<F;)N=j[I[U++]^N&255]^D[I[U++]^N>>8&255]^k[I[U++]^N>>16&255]^S[I[U++]^N>>>24]^w[I[U++]]^b[I[U++]]^E[I[U++]]^y[I[U++]]^_[I[U++]]^v[I[U++]]^f[I[U++]]^m[I[U++]]^d[I[U++]]^u[I[U++]]^o[I[U++]]^t[I[U++]];for(F+=15;U<F;)N=N>>>8^t[(N^I[U++])&255];return~N}function ie(I,R){for(var N=R^-1,F=0,U=I.length,M=0,B=0;F<U;)M=I.charCodeAt(F++),M<128?N=N>>>8^t[(N^M)&255]:M<2048?(N=N>>>8^t[(N^(192|M>>6&31))&255],N=N>>>8^t[(N^(128|M&63))&255]):M>=55296&&M<57344?(M=(M&1023)+64,B=I.charCodeAt(F++)&1023,N=N>>>8^t[(N^(240|M>>8&7))&255],N=N>>>8^t[(N^(128|M>>2&63))&255],N=N>>>8^t[(N^(128|B>>6&15|(M&3)<<4))&255],N=N>>>8^t[(N^(128|B&63))&255]):(N=N>>>8^t[(N^(224|M>>12&15))&255],N=N>>>8^t[(N^(128|M>>6&63))&255],N=N>>>8^t[(N^(128|M&63))&255]);return~N}return n.table=t,n.bstr=X,n.buf=te,n.str=ie,n})(),Kt=(function(){var e={};e.version="1.2.1";function t(O,K){for(var z=O.split("/"),H=K.split("/"),G=0,Y=0,he=Math.min(z.length,H.length);G<he;++G){if(Y=z[G].length-H[G].length)return Y;if(z[G]!=H[G])return z[G]<H[G]?-1:1}return z.length-H.length}function r(O){if(O.charAt(O.length-1)=="/")return O.slice(0,-1).indexOf("/")===-1?O:r(O.slice(0,-1));var K=O.lastIndexOf("/");return K===-1?O:O.slice(0,K+1)}function s(O){if(O.charAt(O.length-1)=="/")return s(O.slice(0,-1));var K=O.lastIndexOf("/");return K===-1?O:O.slice(K+1)}function o(O,K){typeof K=="string"&&(K=new Date(K));var z=K.getHours();z=z<<6|K.getMinutes(),z=z<<5|K.getSeconds()>>>1,O.write_shift(2,z);var H=K.getFullYear()-1980;H=H<<4|K.getMonth()+1,H=H<<5|K.getDate(),O.write_shift(2,H)}function u(O){var K=O.read_shift(2)&65535,z=O.read_shift(2)&65535,H=new Date,G=z&31;z>>>=5;var Y=z&15;z>>>=4,H.setMilliseconds(0),H.setFullYear(z+1980),H.setMonth(Y-1),H.setDate(G);var he=K&31;K>>>=5;var Ae=K&63;return K>>>=6,H.setHours(K),H.setMinutes(Ae),H.setSeconds(he<<1),H}function d(O){la(O,0);for(var K={},z=0;O.l<=O.length-4;){var H=O.read_shift(2),G=O.read_shift(2),Y=O.l+G,he={};switch(H){case 21589:z=O.read_shift(1),z&1&&(he.mtime=O.read_shift(4)),G>5&&(z&2&&(he.atime=O.read_shift(4)),z&4&&(he.ctime=O.read_shift(4))),he.mtime&&(he.mt=new Date(he.mtime*1e3));break}O.l=Y,K[H]=he}return K}var m;function f(){return m||(m={})}function v(O,K){if(O[0]==80&&O[1]==75)return Yr(O,K);if((O[0]|32)==109&&(O[1]|32)==105)return qs(O,K);if(O.length<512)throw new Error("CFB file size "+O.length+" < 512");var z=3,H=512,G=0,Y=0,he=0,Ae=0,de=0,ge=[],me=O.slice(0,512);la(me,0);var ke=_(me);switch(z=ke[0],z){case 3:H=512;break;case 4:H=4096;break;case 0:if(ke[1]==0)return Yr(O,K);default:throw new Error("Major Version: Expected 3 or 4 saw "+z)}H!==512&&(me=O.slice(0,H),la(me,28));var Oe=O.slice(0,H);y(me,z);var ze=me.read_shift(4,"i");if(z===3&&ze!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ze);me.l+=4,he=me.read_shift(4,"i"),me.l+=4,me.chk("00100000","Mini Stream Cutoff Size: "),Ae=me.read_shift(4,"i"),G=me.read_shift(4,"i"),de=me.read_shift(4,"i"),Y=me.read_shift(4,"i");for(var je=-1,Ue=0;Ue<109&&(je=me.read_shift(4,"i"),!(je<0));++Ue)ge[Ue]=je;var We=E(O,H);S(de,Y,We,H,ge);var kt=D(We,he,ge,H);kt[he].name="!Directory",G>0&&Ae!==B&&(kt[Ae].name="!MiniFAT"),kt[ge[0]].name="!FAT",kt.fat_addrs=ge,kt.ssz=H;var Ot={},Xt=[],dr=[],Ba=[];j(he,kt,We,Xt,G,Ot,dr,Ae),b(dr,Ba,Xt),Xt.shift();var za={FileIndex:dr,FullPaths:Ba};return K&&K.raw&&(za.raw={header:Oe,sectors:We}),za}function _(O){if(O[O.l]==80&&O[O.l+1]==75)return[0,0];O.chk(J,"Header Signature: "),O.l+=16;var K=O.read_shift(2,"u");return[O.read_shift(2,"u"),K]}function y(O,K){var z=9;switch(O.l+=2,z=O.read_shift(2)){case 9:if(K!=3)throw new Error("Sector Shift: Expected 9 saw "+z);break;case 12:if(K!=4)throw new Error("Sector Shift: Expected 12 saw "+z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+z)}O.chk("0600","Mini Sector Shift: "),O.chk("000000000000","Reserved: ")}function E(O,K){for(var z=Math.ceil(O.length/K)-1,H=[],G=1;G<z;++G)H[G-1]=O.slice(G*K,(G+1)*K);return H[z-1]=O.slice(z*K),H}function b(O,K,z){for(var H=0,G=0,Y=0,he=0,Ae=0,de=z.length,ge=[],me=[];H<de;++H)ge[H]=me[H]=H,K[H]=z[H];for(;Ae<me.length;++Ae)H=me[Ae],G=O[H].L,Y=O[H].R,he=O[H].C,ge[H]===H&&(G!==-1&&ge[G]!==G&&(ge[H]=ge[G]),Y!==-1&&ge[Y]!==Y&&(ge[H]=ge[Y])),he!==-1&&(ge[he]=H),G!==-1&&H!=ge[H]&&(ge[G]=ge[H],me.lastIndexOf(G)<Ae&&me.push(G)),Y!==-1&&H!=ge[H]&&(ge[Y]=ge[H],me.lastIndexOf(Y)<Ae&&me.push(Y));for(H=1;H<de;++H)ge[H]===H&&(Y!==-1&&ge[Y]!==Y?ge[H]=ge[Y]:G!==-1&&ge[G]!==G&&(ge[H]=ge[G]));for(H=1;H<de;++H)if(O[H].type!==0){if(Ae=H,Ae!=ge[Ae])do Ae=ge[Ae],K[H]=K[Ae]+"/"+K[H];while(Ae!==0&&ge[Ae]!==-1&&Ae!=ge[Ae]);ge[H]=-1}for(K[0]+="/",H=1;H<de;++H)O[H].type!==2&&(K[H]+="/")}function w(O,K,z){for(var H=O.start,G=O.size,Y=[],he=H;z&&G>0&&he>=0;)Y.push(K.slice(he*M,he*M+M)),G-=M,he=El(z,he*4);return Y.length===0?we(0):sr(Y).slice(0,O.size)}function S(O,K,z,H,G){var Y=B;if(O===B){if(K!==0)throw new Error("DIFAT chain shorter than expected")}else if(O!==-1){var he=z[O],Ae=(H>>>2)-1;if(!he)return;for(var de=0;de<Ae&&(Y=El(he,de*4))!==B;++de)G.push(Y);S(El(he,H-4),K-1,z,H,G)}}function k(O,K,z,H,G){var Y=[],he=[];G||(G=[]);var Ae=H-1,de=0,ge=0;for(de=K;de>=0;){G[de]=!0,Y[Y.length]=de,he.push(O[de]);var me=z[Math.floor(de*4/H)];if(ge=de*4&Ae,H<4+ge)throw new Error("FAT boundary crossed: "+de+" 4 "+H);if(!O[me])break;de=El(O[me],ge)}return{nodes:Y,data:Hw([he])}}function D(O,K,z,H){var G=O.length,Y=[],he=[],Ae=[],de=[],ge=H-1,me=0,ke=0,Oe=0,ze=0;for(me=0;me<G;++me)if(Ae=[],Oe=me+K,Oe>=G&&(Oe-=G),!he[Oe]){de=[];var je=[];for(ke=Oe;ke>=0;){je[ke]=!0,he[ke]=!0,Ae[Ae.length]=ke,de.push(O[ke]);var Ue=z[Math.floor(ke*4/H)];if(ze=ke*4&ge,H<4+ze)throw new Error("FAT boundary crossed: "+ke+" 4 "+H);if(!O[Ue]||(ke=El(O[Ue],ze),je[ke]))break}Y[Oe]={nodes:Ae,data:Hw([de])}}return Y}function j(O,K,z,H,G,Y,he,Ae){for(var de=0,ge=H.length?2:0,me=K[O].data,ke=0,Oe=0,ze;ke<me.length;ke+=128){var je=me.slice(ke,ke+128);la(je,64),Oe=je.read_shift(2),ze=Gx(je,0,Oe-ge),H.push(ze);var Ue={name:ze,type:je.read_shift(1),color:je.read_shift(1),L:je.read_shift(4,"i"),R:je.read_shift(4,"i"),C:je.read_shift(4,"i"),clsid:je.read_shift(16),state:je.read_shift(4,"i"),start:0,size:0},We=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);We!==0&&(Ue.ct=X(je,je.l-8));var kt=je.read_shift(2)+je.read_shift(2)+je.read_shift(2)+je.read_shift(2);kt!==0&&(Ue.mt=X(je,je.l-8)),Ue.start=je.read_shift(4,"i"),Ue.size=je.read_shift(4,"i"),Ue.size<0&&Ue.start<0&&(Ue.size=Ue.type=0,Ue.start=B,Ue.name=""),Ue.type===5?(de=Ue.start,G>0&&de!==B&&(K[de].name="!StreamData")):Ue.size>=4096?(Ue.storage="fat",K[Ue.start]===void 0&&(K[Ue.start]=k(z,Ue.start,K.fat_addrs,K.ssz)),K[Ue.start].name=Ue.name,Ue.content=K[Ue.start].data.slice(0,Ue.size)):(Ue.storage="minifat",Ue.size<0?Ue.size=0:de!==B&&Ue.start!==B&&K[de]&&(Ue.content=w(Ue,K[de].data,(K[Ae]||{}).data))),Ue.content&&la(Ue.content,0),Y[ze]=Ue,he.push(Ue)}}function X(O,K){return new Date((ua(O,K+4)/1e7*Math.pow(2,32)+ua(O,K)/1e7-11644473600)*1e3)}function te(O,K){return f(),v(m.readFileSync(O),K)}function ie(O,K){var z=K&&K.type;switch(z||Ct&&Buffer.isBuffer(O)&&(z="buffer"),z||"base64"){case"file":return te(O,K);case"base64":return v(es(Ci(O)),K);case"binary":return v(es(O),K)}return v(O,K)}function I(O,K){var z=K||{},H=z.root||"Root Entry";if(O.FullPaths||(O.FullPaths=[]),O.FileIndex||(O.FileIndex=[]),O.FullPaths.length!==O.FileIndex.length)throw new Error("inconsistent CFB structure");O.FullPaths.length===0&&(O.FullPaths[0]=H+"/",O.FileIndex[0]={name:H,type:5}),z.CLSID&&(O.FileIndex[0].clsid=z.CLSID),R(O)}function R(O){var K="Sh33tJ5";if(!Kt.find(O,"/"+K)){var z=we(4);z[0]=55,z[1]=z[3]=50,z[2]=54,O.FileIndex.push({name:K,type:2,content:z,size:4,L:69,R:69,C:69}),O.FullPaths.push(O.FullPaths[0]+K),N(O)}}function N(O,K){I(O);for(var z=!1,H=!1,G=O.FullPaths.length-1;G>=0;--G){var Y=O.FileIndex[G];switch(Y.type){case 0:H?z=!0:(O.FileIndex.pop(),O.FullPaths.pop());break;case 1:case 2:case 5:H=!0,isNaN(Y.R*Y.L*Y.C)&&(z=!0),Y.R>-1&&Y.L>-1&&Y.R==Y.L&&(z=!0);break;default:z=!0;break}}if(!(!z&&!K)){var he=new Date(1987,1,19),Ae=0,de=Object.create?Object.create(null):{},ge=[];for(G=0;G<O.FullPaths.length;++G)de[O.FullPaths[G]]=!0,O.FileIndex[G].type!==0&&ge.push([O.FullPaths[G],O.FileIndex[G]]);for(G=0;G<ge.length;++G){var me=r(ge[G][0]);H=de[me],H||(ge.push([me,{name:s(me).replace("/",""),type:1,clsid:re,ct:he,mt:he,content:null}]),de[me]=!0)}for(ge.sort(function(ze,je){return t(ze[0],je[0])}),O.FullPaths=[],O.FileIndex=[],G=0;G<ge.length;++G)O.FullPaths[G]=ge[G][0],O.FileIndex[G]=ge[G][1];for(G=0;G<ge.length;++G){var ke=O.FileIndex[G],Oe=O.FullPaths[G];if(ke.name=s(Oe).replace("/",""),ke.L=ke.R=ke.C=-(ke.color=1),ke.size=ke.content?ke.content.length:0,ke.start=0,ke.clsid=ke.clsid||re,G===0)ke.C=ge.length>1?1:-1,ke.size=0,ke.type=5;else if(Oe.slice(-1)=="/"){for(Ae=G+1;Ae<ge.length&&r(O.FullPaths[Ae])!=Oe;++Ae);for(ke.C=Ae>=ge.length?-1:Ae,Ae=G+1;Ae<ge.length&&r(O.FullPaths[Ae])!=r(Oe);++Ae);ke.R=Ae>=ge.length?-1:Ae,ke.type=1}else r(O.FullPaths[G+1]||"")==r(Oe)&&(ke.R=G+1),ke.type=2}}}function F(O,K){var z=K||{};if(z.fileType=="mad")return Ru(O,z);switch(N(O),z.fileType){case"zip":return mn(O,z)}var H=(function(ze){for(var je=0,Ue=0,We=0;We<ze.FileIndex.length;++We){var kt=ze.FileIndex[We];if(kt.content){var Ot=kt.content.length;Ot>0&&(Ot<4096?je+=Ot+63>>6:Ue+=Ot+511>>9)}}for(var Xt=ze.FullPaths.length+3>>2,dr=je+7>>3,Ba=je+127>>7,za=dr+Ue+Xt+Ba,Jr=za+127>>7,ki=Jr<=109?0:Math.ceil((Jr-109)/127);za+Jr+ki+127>>7>Jr;)ki=++Jr<=109?0:Math.ceil((Jr-109)/127);var fr=[1,ki,Jr,Ba,Xt,Ue,je,0];return ze.FileIndex[0].size=je<<6,fr[7]=(ze.FileIndex[0].start=fr[0]+fr[1]+fr[2]+fr[3]+fr[4]+fr[5])+(fr[6]+7>>3),fr})(O),G=we(H[7]<<9),Y=0,he=0;{for(Y=0;Y<8;++Y)G.write_shift(1,Ee[Y]);for(Y=0;Y<8;++Y)G.write_shift(2,0);for(G.write_shift(2,62),G.write_shift(2,3),G.write_shift(2,65534),G.write_shift(2,9),G.write_shift(2,6),Y=0;Y<3;++Y)G.write_shift(2,0);for(G.write_shift(4,0),G.write_shift(4,H[2]),G.write_shift(4,H[0]+H[1]+H[2]+H[3]-1),G.write_shift(4,0),G.write_shift(4,4096),G.write_shift(4,H[3]?H[0]+H[1]+H[2]-1:B),G.write_shift(4,H[3]),G.write_shift(-4,H[1]?H[0]-1:B),G.write_shift(4,H[1]),Y=0;Y<109;++Y)G.write_shift(-4,Y<H[2]?H[1]+Y:-1)}if(H[1])for(he=0;he<H[1];++he){for(;Y<236+he*127;++Y)G.write_shift(-4,Y<H[2]?H[1]+Y:-1);G.write_shift(-4,he===H[1]-1?B:he+1)}var Ae=function(ze){for(he+=ze;Y<he-1;++Y)G.write_shift(-4,Y+1);ze&&(++Y,G.write_shift(-4,B))};for(he=Y=0,he+=H[1];Y<he;++Y)G.write_shift(-4,xe.DIFSECT);for(he+=H[2];Y<he;++Y)G.write_shift(-4,xe.FATSECT);Ae(H[3]),Ae(H[4]);for(var de=0,ge=0,me=O.FileIndex[0];de<O.FileIndex.length;++de)me=O.FileIndex[de],me.content&&(ge=me.content.length,!(ge<4096)&&(me.start=he,Ae(ge+511>>9)));for(Ae(H[6]+7>>3);G.l&511;)G.write_shift(-4,xe.ENDOFCHAIN);for(he=Y=0,de=0;de<O.FileIndex.length;++de)me=O.FileIndex[de],me.content&&(ge=me.content.length,!(!ge||ge>=4096)&&(me.start=he,Ae(ge+63>>6)));for(;G.l&511;)G.write_shift(-4,xe.ENDOFCHAIN);for(Y=0;Y<H[4]<<2;++Y){var ke=O.FullPaths[Y];if(!ke||ke.length===0){for(de=0;de<17;++de)G.write_shift(4,0);for(de=0;de<3;++de)G.write_shift(4,-1);for(de=0;de<12;++de)G.write_shift(4,0);continue}me=O.FileIndex[Y],Y===0&&(me.start=me.size?me.start-1:B);var Oe=Y===0&&z.root||me.name;if(ge=2*(Oe.length+1),G.write_shift(64,Oe,"utf16le"),G.write_shift(2,ge),G.write_shift(1,me.type),G.write_shift(1,me.color),G.write_shift(-4,me.L),G.write_shift(-4,me.R),G.write_shift(-4,me.C),me.clsid)G.write_shift(16,me.clsid,"hex");else for(de=0;de<4;++de)G.write_shift(4,0);G.write_shift(4,me.state||0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,0),G.write_shift(4,me.start),G.write_shift(4,me.size),G.write_shift(4,0)}for(Y=1;Y<O.FileIndex.length;++Y)if(me=O.FileIndex[Y],me.size>=4096)if(G.l=me.start+1<<9,Ct&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+511&-512;else{for(de=0;de<me.size;++de)G.write_shift(1,me.content[de]);for(;de&511;++de)G.write_shift(1,0)}for(Y=1;Y<O.FileIndex.length;++Y)if(me=O.FileIndex[Y],me.size>0&&me.size<4096)if(Ct&&Buffer.isBuffer(me.content))me.content.copy(G,G.l,0,me.size),G.l+=me.size+63&-64;else{for(de=0;de<me.size;++de)G.write_shift(1,me.content[de]);for(;de&63;++de)G.write_shift(1,0)}if(Ct)G.l=G.length;else for(;G.l<G.length;)G.write_shift(1,0);return G}function U(O,K){var z=O.FullPaths.map(function(de){return de.toUpperCase()}),H=z.map(function(de){var ge=de.split("/");return ge[ge.length-(de.slice(-1)=="/"?2:1)]}),G=!1;K.charCodeAt(0)===47?(G=!0,K=z[0].slice(0,-1)+K):G=K.indexOf("/")!==-1;var Y=K.toUpperCase(),he=G===!0?z.indexOf(Y):H.indexOf(Y);if(he!==-1)return O.FileIndex[he];var Ae=!Y.match(y0);for(Y=Y.replace(Wh,""),Ae&&(Y=Y.replace(y0,"!")),he=0;he<z.length;++he)if((Ae?z[he].replace(y0,"!"):z[he]).replace(Wh,"")==Y||(Ae?H[he].replace(y0,"!"):H[he]).replace(Wh,"")==Y)return O.FileIndex[he];return null}var M=64,B=-2,J="d0cf11e0a1b11ae1",Ee=[208,207,17,224,161,177,26,225],re="00000000000000000000000000000000",xe={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:B,FREESECT:-1,HEADER_SIGNATURE:J,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:re,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function le(O,K,z){f();var H=F(O,z);m.writeFileSync(K,H)}function Le(O){for(var K=new Array(O.length),z=0;z<O.length;++z)K[z]=String.fromCharCode(O[z]);return K.join("")}function Te(O,K){var z=F(O,K);switch(K&&K.type||"buffer"){case"file":return f(),m.writeFileSync(K.filename,z),z;case"binary":return typeof z=="string"?z:Le(z);case"base64":return gd(typeof z=="string"?z:Le(z));case"buffer":if(Ct)return Buffer.isBuffer(z)?z:Di(z);case"array":return typeof z=="string"?es(z):z}return z}var W;function V(O){try{var K=O.InflateRaw,z=new K;if(z._processChunk(new Uint8Array([3,0]),z._finishFlushFlag),z.bytesRead)W=O;else throw new Error("zlib does not expose bytesRead")}catch(H){console.error("cannot use native zlib: "+(H.message||H))}}function Z(O,K){if(!W)return Bs(O,K);var z=W.InflateRaw,H=new z,G=H._processChunk(O.slice(O.l),H._finishFlushFlag);return O.l+=H.bytesRead,G}function Q(O){return W?W.deflateRawSync(O):Ho(O)}var ee=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],pe=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],De=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function Be(O){var K=(O<<1|O<<11)&139536|(O<<5|O<<15)&558144;return(K>>16|K>>8|K)&255}for(var Me=typeof Uint8Array<"u",se=Me?new Uint8Array(256):[],Xe=0;Xe<256;++Xe)se[Xe]=Be(Xe);function tt(O,K){var z=se[O&255];return K<=8?z>>>8-K:(z=z<<8|se[O>>8&255],K<=16?z>>>16-K:(z=z<<8|se[O>>16&255],z>>>24-K))}function an(O,K){var z=K&7,H=K>>>3;return(O[H]|(z<=6?0:O[H+1]<<8))>>>z&3}function ut(O,K){var z=K&7,H=K>>>3;return(O[H]|(z<=5?0:O[H+1]<<8))>>>z&7}function wr(O,K){var z=K&7,H=K>>>3;return(O[H]|(z<=4?0:O[H+1]<<8))>>>z&15}function Rt(O,K){var z=K&7,H=K>>>3;return(O[H]|(z<=3?0:O[H+1]<<8))>>>z&31}function He(O,K){var z=K&7,H=K>>>3;return(O[H]|(z<=1?0:O[H+1]<<8))>>>z&127}function zn(O,K,z){var H=K&7,G=K>>>3,Y=(1<<z)-1,he=O[G]>>>H;return z<8-H||(he|=O[G+1]<<8-H,z<16-H)||(he|=O[G+2]<<16-H,z<24-H)||(he|=O[G+3]<<24-H),he&Y}function Dt(O,K,z){var H=K&7,G=K>>>3;return H<=5?O[G]|=(z&7)<<H:(O[G]|=z<<H&255,O[G+1]=(z&7)>>8-H),K+3}function Wt(O,K,z){var H=K&7,G=K>>>3;return z=(z&1)<<H,O[G]|=z,K+1}function Ar(O,K,z){var H=K&7,G=K>>>3;return z<<=H,O[G]|=z&255,z>>>=8,O[G+1]=z,K+8}function Xl(O,K,z){var H=K&7,G=K>>>3;return z<<=H,O[G]|=z&255,z>>>=8,O[G+1]=z&255,O[G+2]=z>>>8,K+16}function ji(O,K){var z=O.length,H=2*z>K?2*z:K+5,G=0;if(z>=K)return O;if(Ct){var Y=Iw(H);if(O.copy)O.copy(Y);else for(;G<O.length;++G)Y[G]=O[G];return Y}else if(Me){var he=new Uint8Array(H);if(he.set)he.set(O);else for(;G<z;++G)he[G]=O[G];return he}return O.length=H,O}function Qt(O){for(var K=new Array(O),z=0;z<O;++z)K[z]=0;return K}function xa(O,K,z){var H=1,G=0,Y=0,he=0,Ae=0,de=O.length,ge=Me?new Uint16Array(32):Qt(32);for(Y=0;Y<32;++Y)ge[Y]=0;for(Y=de;Y<z;++Y)O[Y]=0;de=O.length;var me=Me?new Uint16Array(de):Qt(de);for(Y=0;Y<de;++Y)ge[G=O[Y]]++,H<G&&(H=G),me[Y]=0;for(ge[0]=0,Y=1;Y<=H;++Y)ge[Y+16]=Ae=Ae+ge[Y-1]<<1;for(Y=0;Y<de;++Y)Ae=O[Y],Ae!=0&&(me[Y]=ge[Ae+16]++);var ke=0;for(Y=0;Y<de;++Y)if(ke=O[Y],ke!=0)for(Ae=tt(me[Y],H)>>H-ke,he=(1<<H+4-ke)-1;he>=0;--he)K[Ae|he<<ke]=ke&15|Y<<4;return H}var Vs=Me?new Uint16Array(512):Qt(512),Us=Me?new Uint16Array(32):Qt(32);if(!Me){for(var hr=0;hr<512;++hr)Vs[hr]=0;for(hr=0;hr<32;++hr)Us[hr]=0}(function(){for(var O=[],K=0;K<32;K++)O.push(5);xa(O,Us,32);var z=[];for(K=0;K<=143;K++)z.push(8);for(;K<=255;K++)z.push(9);for(;K<=279;K++)z.push(7);for(;K<=287;K++)z.push(8);xa(z,Vs,288)})();var Cu=(function(){for(var K=Me?new Uint8Array(32768):[],z=0,H=0;z<De.length-1;++z)for(;H<De[z+1];++H)K[H]=z;for(;H<32768;++H)K[H]=29;var G=Me?new Uint8Array(259):[];for(z=0,H=0;z<pe.length-1;++z)for(;H<pe[z+1];++H)G[H]=z;function Y(Ae,de){for(var ge=0;ge<Ae.length;){var me=Math.min(65535,Ae.length-ge),ke=ge+me==Ae.length;for(de.write_shift(1,+ke),de.write_shift(2,me),de.write_shift(2,~me&65535);me-- >0;)de[de.l++]=Ae[ge++]}return de.l}function he(Ae,de){for(var ge=0,me=0,ke=Me?new Uint16Array(32768):[];me<Ae.length;){var Oe=Math.min(65535,Ae.length-me);if(Oe<10){for(ge=Dt(de,ge,+(me+Oe==Ae.length)),ge&7&&(ge+=8-(ge&7)),de.l=ge/8|0,de.write_shift(2,Oe),de.write_shift(2,~Oe&65535);Oe-- >0;)de[de.l++]=Ae[me++];ge=de.l*8;continue}ge=Dt(de,ge,+(me+Oe==Ae.length)+2);for(var ze=0;Oe-- >0;){var je=Ae[me];ze=(ze<<5^je)&32767;var Ue=-1,We=0;if((Ue=ke[ze])&&(Ue|=me&-32768,Ue>me&&(Ue-=32768),Ue<me))for(;Ae[Ue+We]==Ae[me+We]&&We<250;)++We;if(We>2){je=G[We],je<=22?ge=Ar(de,ge,se[je+1]>>1)-1:(Ar(de,ge,3),ge+=5,Ar(de,ge,se[je-23]>>5),ge+=3);var kt=je<8?0:je-4>>2;kt>0&&(Xl(de,ge,We-pe[je]),ge+=kt),je=K[me-Ue],ge=Ar(de,ge,se[je]>>3),ge-=3;var Ot=je<4?0:je-2>>1;Ot>0&&(Xl(de,ge,me-Ue-De[je]),ge+=Ot);for(var Xt=0;Xt<We;++Xt)ke[ze]=me&32767,ze=(ze<<5^Ae[me])&32767,++me;Oe-=We-1}else je<=143?je=je+48:ge=Wt(de,ge,1),ge=Ar(de,ge,se[je]),ke[ze]=me&32767,++me}ge=Ar(de,ge,0)-1}return de.l=(ge+7)/8|0,de.l}return function(de,ge){return de.length<8?Y(de,ge):he(de,ge)}})();function Ho(O){var K=we(50+Math.floor(O.length*1.1)),z=Cu(O,K);return K.slice(0,z)}var Go=Me?new Uint16Array(32768):Qt(32768),$o=Me?new Uint16Array(32768):Qt(32768),Mr=Me?new Uint16Array(128):Qt(128),bn=1,Sr=1;function un(O,K){var z=Rt(O,K)+257;K+=5;var H=Rt(O,K)+1;K+=5;var G=wr(O,K)+4;K+=4;for(var Y=0,he=Me?new Uint8Array(19):Qt(19),Ae=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],de=1,ge=Me?new Uint8Array(8):Qt(8),me=Me?new Uint8Array(8):Qt(8),ke=he.length,Oe=0;Oe<G;++Oe)he[ee[Oe]]=Y=ut(O,K),de<Y&&(de=Y),ge[Y]++,K+=3;var ze=0;for(ge[0]=0,Oe=1;Oe<=de;++Oe)me[Oe]=ze=ze+ge[Oe-1]<<1;for(Oe=0;Oe<ke;++Oe)(ze=he[Oe])!=0&&(Ae[Oe]=me[ze]++);var je=0;for(Oe=0;Oe<ke;++Oe)if(je=he[Oe],je!=0){ze=se[Ae[Oe]]>>8-je;for(var Ue=(1<<7-je)-1;Ue>=0;--Ue)Mr[ze|Ue<<je]=je&7|Oe<<3}var We=[];for(de=1;We.length<z+H;)switch(ze=Mr[He(O,K)],K+=ze&7,ze>>>=3){case 16:for(Y=3+an(O,K),K+=2,ze=We[We.length-1];Y-- >0;)We.push(ze);break;case 17:for(Y=3+ut(O,K),K+=3;Y-- >0;)We.push(0);break;case 18:for(Y=11+He(O,K),K+=7;Y-- >0;)We.push(0);break;default:We.push(ze),de<ze&&(de=ze);break}var kt=We.slice(0,z),Ot=We.slice(z);for(Oe=z;Oe<286;++Oe)kt[Oe]=0;for(Oe=H;Oe<30;++Oe)Ot[Oe]=0;return bn=xa(kt,Go,286),Sr=xa(Ot,$o,30),K}function Yl(O,K){if(O[0]==3&&!(O[1]&3))return[Pl(K),2];for(var z=0,H=0,G=Iw(K||1<<18),Y=0,he=G.length>>>0,Ae=0,de=0;(H&1)==0;){if(H=ut(O,z),z+=3,H>>>1)H>>1==1?(Ae=9,de=5):(z=un(O,z),Ae=bn,de=Sr);else{z&7&&(z+=8-(z&7));var ge=O[z>>>3]|O[(z>>>3)+1]<<8;if(z+=32,ge>0)for(!K&&he<Y+ge&&(G=ji(G,Y+ge),he=G.length);ge-- >0;)G[Y++]=O[z>>>3],z+=8;continue}for(;;){!K&&he<Y+32767&&(G=ji(G,Y+32767),he=G.length);var me=zn(O,z,Ae),ke=H>>>1==1?Vs[me]:Go[me];if(z+=ke&15,ke>>>=4,(ke>>>8&255)===0)G[Y++]=ke;else{if(ke==256)break;ke-=257;var Oe=ke<8?0:ke-4>>2;Oe>5&&(Oe=0);var ze=Y+pe[ke];Oe>0&&(ze+=zn(O,z,Oe),z+=Oe),me=zn(O,z,de),ke=H>>>1==1?Us[me]:$o[me],z+=ke&15,ke>>>=4;var je=ke<4?0:ke-2>>1,Ue=De[ke];for(je>0&&(Ue+=zn(O,z,je),z+=je),!K&&he<ze&&(G=ji(G,ze+100),he=G.length);Y<ze;)G[Y]=G[Y-Ue],++Y}}}return K?[G,z+7>>>3]:[G.slice(0,Y),z+7>>>3]}function Bs(O,K){var z=O.slice(O.l||0),H=Yl(z,K);return O.l+=H[1],H[0]}function Ko(O,K){if(O)typeof console<"u"&&console.error(K);else throw new Error(K)}function Yr(O,K){var z=O;la(z,0);var H=[],G=[],Y={FileIndex:H,FullPaths:G};I(Y,{root:K.root});for(var he=z.length-4;(z[he]!=80||z[he+1]!=75||z[he+2]!=5||z[he+3]!=6)&&he>=0;)--he;z.l=he+4,z.l+=4;var Ae=z.read_shift(2);z.l+=6;var de=z.read_shift(4);for(z.l=de,he=0;he<Ae;++he){z.l+=20;var ge=z.read_shift(4),me=z.read_shift(4),ke=z.read_shift(2),Oe=z.read_shift(2),ze=z.read_shift(2);z.l+=8;var je=z.read_shift(4),Ue=d(z.slice(z.l+ke,z.l+ke+Oe));z.l+=ke+Oe+ze;var We=z.l;z.l=je+4,zs(z,ge,me,Y,Ue),z.l=We}return Y}function zs(O,K,z,H,G){O.l+=2;var Y=O.read_shift(2),he=O.read_shift(2),Ae=u(O);if(Y&8257)throw new Error("Unsupported ZIP encryption");for(var de=O.read_shift(4),ge=O.read_shift(4),me=O.read_shift(4),ke=O.read_shift(2),Oe=O.read_shift(2),ze="",je=0;je<ke;++je)ze+=String.fromCharCode(O[O.l++]);if(Oe){var Ue=d(O.slice(O.l,O.l+Oe));(Ue[21589]||{}).mt&&(Ae=Ue[21589].mt),((G||{})[21589]||{}).mt&&(Ae=G[21589].mt)}O.l+=Oe;var We=O.slice(O.l,O.l+ge);switch(he){case 8:We=Z(O,me);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+he)}var kt=!1;Y&8&&(de=O.read_shift(4),de==134695760&&(de=O.read_shift(4),kt=!0),ge=O.read_shift(4),me=O.read_shift(4)),ge!=K&&Ko(kt,"Bad compressed size: "+K+" != "+ge),me!=z&&Ko(kt,"Bad uncompressed size: "+z+" != "+me),Gs(H,ze,We,{unsafe:!0,mt:Ae})}function mn(O,K){var z=K||{},H=[],G=[],Y=we(1),he=z.compression?8:0,Ae=0,de=0,ge=0,me=0,ke=0,Oe=O.FullPaths[0],ze=Oe,je=O.FileIndex[0],Ue=[],We=0;for(de=1;de<O.FullPaths.length;++de)if(ze=O.FullPaths[de].slice(Oe.length),je=O.FileIndex[de],!(!je.size||!je.content||ze=="Sh33tJ5")){var kt=me,Ot=we(ze.length);for(ge=0;ge<ze.length;++ge)Ot.write_shift(1,ze.charCodeAt(ge)&127);Ot=Ot.slice(0,Ot.l),Ue[ke]=mL.buf(je.content,0);var Xt=je.content;he==8&&(Xt=Q(Xt)),Y=we(30),Y.write_shift(4,67324752),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,he),je.mt?o(Y,je.mt):Y.write_shift(4,0),Y.write_shift(-4,Ue[ke]),Y.write_shift(4,Xt.length),Y.write_shift(4,je.content.length),Y.write_shift(2,Ot.length),Y.write_shift(2,0),me+=Y.length,H.push(Y),me+=Ot.length,H.push(Ot),me+=Xt.length,H.push(Xt),Y=we(46),Y.write_shift(4,33639248),Y.write_shift(2,0),Y.write_shift(2,20),Y.write_shift(2,Ae),Y.write_shift(2,he),Y.write_shift(4,0),Y.write_shift(-4,Ue[ke]),Y.write_shift(4,Xt.length),Y.write_shift(4,je.content.length),Y.write_shift(2,Ot.length),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(4,0),Y.write_shift(4,kt),We+=Y.l,G.push(Y),We+=Ot.length,G.push(Ot),++ke}return Y=we(22),Y.write_shift(4,101010256),Y.write_shift(2,0),Y.write_shift(2,0),Y.write_shift(2,ke),Y.write_shift(2,ke),Y.write_shift(4,We),Y.write_shift(4,me),Y.write_shift(2,0),sr([sr(H),sr(G),Y])}var br={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function _a(O,K){if(O.ctype)return O.ctype;var z=O.name||"",H=z.match(/\.([^\.]+)$/);return H&&br[H[1]]||K&&(H=(z=K).match(/[\.\\]([^\.\\])+$/),H&&br[H[1]])?br[H[1]]:"application/octet-stream"}function Qr(O){for(var K=gd(O),z=[],H=0;H<K.length;H+=76)z.push(K.slice(H,H+76));return z.join(`\r
`)+`\r
`}function Iu(O){var K=O.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(ge){var me=ge.charCodeAt(0).toString(16).toUpperCase();return"="+(me.length==1?"0"+me:me)});K=K.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),K.charAt(0)==`
`&&(K="=0D"+K.slice(1)),K=K.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var z=[],H=K.split(`\r
`),G=0;G<H.length;++G){var Y=H[G];if(Y.length==0){z.push("");continue}for(var he=0;he<Y.length;){var Ae=76,de=Y.slice(he,he+Ae);de.charAt(Ae-1)=="="?Ae--:de.charAt(Ae-2)=="="?Ae-=2:de.charAt(Ae-3)=="="&&(Ae-=3),de=Y.slice(he,he+Ae),he+=Ae,he<Y.length&&(de+="="),z.push(de)}}return z.join(`\r
`)}function Ql(O){for(var K=[],z=0;z<O.length;++z){for(var H=O[z];z<=O.length&&H.charAt(H.length-1)=="=";)H=H.slice(0,H.length-1)+O[++z];K.push(H)}for(var G=0;G<K.length;++G)K[G]=K[G].replace(/[=][0-9A-Fa-f]{2}/g,function(Y){return String.fromCharCode(parseInt(Y.slice(1),16))});return es(K.join(`\r
`))}function ya(O,K,z){for(var H="",G="",Y="",he,Ae=0;Ae<10;++Ae){var de=K[Ae];if(!de||de.match(/^\s*$/))break;var ge=de.match(/^(.*?):\s*([^\s].*)$/);if(ge)switch(ge[1].toLowerCase()){case"content-location":H=ge[2].trim();break;case"content-type":Y=ge[2].trim();break;case"content-transfer-encoding":G=ge[2].trim();break}}switch(++Ae,G.toLowerCase()){case"base64":he=es(Ci(K.slice(Ae).join("")));break;case"quoted-printable":he=Ql(K.slice(Ae));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+G)}var me=Gs(O,H.slice(z.length),he,{unsafe:!0});Y&&(me.ctype=Y)}function qs(O,K){if(Le(O.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var z=K&&K.root||"",H=(Ct&&Buffer.isBuffer(O)?O.toString("binary"):Le(O)).split(`\r
`),G=0,Y="";for(G=0;G<H.length;++G)if(Y=H[G],!!/^Content-Location:/i.test(Y)&&(Y=Y.slice(Y.indexOf("file")),z||(z=Y.slice(0,Y.lastIndexOf("/")+1)),Y.slice(0,z.length)!=z))for(;z.length>0&&(z=z.slice(0,z.length-1),z=z.slice(0,z.lastIndexOf("/")+1),Y.slice(0,z.length)!=z););var he=(H[1]||"").match(/boundary="(.*?)"/);if(!he)throw new Error("MAD cannot find boundary");var Ae="--"+(he[1]||""),de=[],ge=[],me={FileIndex:de,FullPaths:ge};I(me);var ke,Oe=0;for(G=0;G<H.length;++G){var ze=H[G];ze!==Ae&&ze!==Ae+"--"||(Oe++&&ya(me,H.slice(ke,G),z),ke=G)}return me}function Ru(O,K){var z=K||{},H=z.boundary||"SheetJS";H="------="+H;for(var G=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+H.slice(2)+'"',"","",""],Y=O.FullPaths[0],he=Y,Ae=O.FileIndex[0],de=1;de<O.FullPaths.length;++de)if(he=O.FullPaths[de].slice(Y.length),Ae=O.FileIndex[de],!(!Ae.size||!Ae.content||he=="Sh33tJ5")){he=he.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(We){return"_x"+We.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(We){return"_u"+We.charCodeAt(0).toString(16)+"_"});for(var ge=Ae.content,me=Ct&&Buffer.isBuffer(ge)?ge.toString("binary"):Le(ge),ke=0,Oe=Math.min(1024,me.length),ze=0,je=0;je<=Oe;++je)(ze=me.charCodeAt(je))>=32&&ze<128&&++ke;var Ue=ke>=Oe*4/5;G.push(H),G.push("Content-Location: "+(z.root||"file:///C:/SheetJS/")+he),G.push("Content-Transfer-Encoding: "+(Ue?"quoted-printable":"base64")),G.push("Content-Type: "+_a(Ae,he)),G.push(""),G.push(Ue?Iu(me):Qr(me))}return G.push(H+`--\r
`),G.join(`\r
`)}function Hs(O){var K={};return I(K,O),K}function Gs(O,K,z,H){var G=H&&H.unsafe;G||I(O);var Y=!G&&Kt.find(O,K);if(!Y){var he=O.FullPaths[0];K.slice(0,he.length)==he?he=K:(he.slice(-1)!="/"&&(he+="/"),he=(he+K).replace("//","/")),Y={name:s(K),type:2},O.FileIndex.push(Y),O.FullPaths.push(he),G||Kt.utils.cfb_gc(O)}return Y.content=z,Y.size=z?z.length:0,H&&(H.CLSID&&(Y.clsid=H.CLSID),H.mt&&(Y.mt=H.mt),H.ct&&(Y.ct=H.ct)),Y}function Wo(O,K){I(O);var z=Kt.find(O,K);if(z){for(var H=0;H<O.FileIndex.length;++H)if(O.FileIndex[H]==z)return O.FileIndex.splice(H,1),O.FullPaths.splice(H,1),!0}return!1}function $s(O,K,z){I(O);var H=Kt.find(O,K);if(H){for(var G=0;G<O.FileIndex.length;++G)if(O.FileIndex[G]==H)return O.FileIndex[G].name=s(z),O.FullPaths[G]=z,!0}return!1}function Ua(O){N(O,!0)}return e.find=U,e.read=ie,e.parse=v,e.write=Te,e.writeFile=le,e.utils={cfb_new:Hs,cfb_add:Gs,cfb_del:Wo,cfb_mov:$s,cfb_gc:Ua,ReadShift:Yh,CheckField:tC,prep_blob:la,bconcat:sr,use_zlib:V,_deflateRaw:Ho,_inflateRaw:Bs,consts:xe},e})();function pL(n){return typeof n=="string"?tp(n):Array.isArray(n)?BF(n):n}function Fd(n,e,t){if(typeof Deno<"u"){if(t&&typeof e=="string")switch(t){case"utf8":e=new TextEncoder(t).encode(e);break;case"binary":e=tp(e);break;default:throw new Error("Unsupported encoding "+t)}return Deno.writeFileSync(n,e)}var r=t=="utf8"?xd(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(r,n);if(typeof Blob<"u"){var s=new Blob([pL(r)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(s,n);if(typeof saveAs<"u")return saveAs(s,n);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var o=URL.createObjectURL(s);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),chrome.downloads.download({url:o,filename:n,saveAs:!0});var u=document.createElement("a");if(u.download!=null)return u.download=n,u.href=o,document.body.appendChild(u),u.click(),document.body.removeChild(u),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(o)},6e4),o}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var d=File(n);return d.open("w"),d.encoding="binary",Array.isArray(e)&&(e=Pd(e)),d.write(e),d.close(),e}catch(m){if(!m.message||!m.message.match(/onstruct/))throw m}throw new Error("cannot save file "+n)}function cr(n){for(var e=Object.keys(n),t=[],r=0;r<e.length;++r)Object.prototype.hasOwnProperty.call(n,e[r])&&t.push(e[r]);return t}function Fw(n,e){for(var t=[],r=cr(n),s=0;s!==r.length;++s)t[n[r[s]][e]]==null&&(t[n[r[s]][e]]=r[s]);return t}function Bx(n){for(var e=[],t=cr(n),r=0;r!==t.length;++r)e[n[t[r]]]=t[r];return e}function ap(n){for(var e=[],t=cr(n),r=0;r!==t.length;++r)e[n[t[r]]]=parseInt(t[r],10);return e}function gL(n){for(var e=[],t=cr(n),r=0;r!==t.length;++r)e[n[t[r]]]==null&&(e[n[t[r]]]=[]),e[n[t[r]]].push(t[r]);return e}var fm=new Date(1899,11,30,0,0,0);function Wr(n,e){var t=n.getTime(),r=fm.getTime()+(n.getTimezoneOffset()-fm.getTimezoneOffset())*6e4;return(t-r)/(1440*60*1e3)}var LN=new Date,vL=fm.getTime()+(LN.getTimezoneOffset()-fm.getTimezoneOffset())*6e4,Lw=LN.getTimezoneOffset();function VN(n){var e=new Date;return e.setTime(n*24*60*60*1e3+vL),e.getTimezoneOffset()!==Lw&&e.setTime(e.getTime()+(e.getTimezoneOffset()-Lw)*6e4),e}var Vw=new Date("2017-02-19T19:06:09.000Z"),UN=isNaN(Vw.getFullYear())?new Date("2/19/17"):Vw,xL=UN.getFullYear()==2017;function kr(n,e){var t=new Date(n);if(xL)return e>0?t.setTime(t.getTime()+t.getTimezoneOffset()*60*1e3):e<0&&t.setTime(t.getTime()-t.getTimezoneOffset()*60*1e3),t;if(n instanceof Date)return n;if(UN.getFullYear()==1917&&!isNaN(t.getFullYear())){var r=t.getFullYear();return n.indexOf(""+r)>-1||t.setFullYear(t.getFullYear()+100),t}var s=n.match(/\d+/g)||["2017","2","19","0","0","0"],o=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return n.indexOf("Z")>-1&&(o=new Date(o.getTime()-o.getTimezoneOffset()*60*1e3)),o}function sp(n,e){if(Ct&&Buffer.isBuffer(n))return n.toString("binary");if(typeof TextDecoder<"u")try{var t={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(n)&&(n=new Uint8Array(n)),new TextDecoder("latin1").decode(n).replace(/[]/g,function(o){return t[o]||o})}catch{}for(var r=[],s=0;s!=n.length;++s)r.push(String.fromCharCode(n[s]));return r.join("")}function Xr(n){if(typeof JSON<"u"&&!Array.isArray(n))return JSON.parse(JSON.stringify(n));if(typeof n!="object"||n==null)return n;if(n instanceof Date)return new Date(n.getTime());var e={};for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=Xr(n[t]));return e}function vn(n,e){for(var t="";t.length<e;)t+=n;return t}function _i(n){var e=Number(n);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(n))return e;var t=1,r=n.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return t*=100,""});return!isNaN(e=Number(r))||(r=r.replace(/[(](.*)[)]/,function(s,o){return t=-t,o}),!isNaN(e=Number(r)))?e/t:e}var _L=["january","february","march","april","may","june","july","august","september","october","november","december"];function vd(n){var e=new Date(n),t=new Date(NaN),r=e.getYear(),s=e.getMonth(),o=e.getDate();if(isNaN(o))return t;var u=n.toLowerCase();if(u.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(u=u.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),u.length>3&&_L.indexOf(u)==-1)return t}else if(u.match(/[a-z]/))return t;return r<0||r>8099?t:(s>0||o>1)&&r!=101?e:n.match(/[^-0-9:,\/\\]/)?t:e}function dt(n,e,t){if(n.FullPaths){if(typeof t=="string"){var r;return Ct?r=Di(t):r=zF(t),Kt.utils.cfb_add(n,e,r)}Kt.utils.cfb_add(n,e,t)}else n.file(e,t)}function zx(){return Kt.utils.cfb_new()}var Fn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yL={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},qx=Bx(yL),Hx=/[&<>'"]/g,EL=/[\u0000-\u0008\u000b-\u001f]/g;function Ut(n){var e=n+"";return e.replace(Hx,function(t){return qx[t]}).replace(EL,function(t){return"_x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Uw(n){return Ut(n).replace(/ /g,"_x0020_")}var BN=/[\u0000-\u001f]/g;function TL(n){var e=n+"";return e.replace(Hx,function(t){return qx[t]}).replace(/\n/g,"<br/>").replace(BN,function(t){return"&#x"+("000"+t.charCodeAt(0).toString(16)).slice(-4)+";"})}function wL(n){var e=n+"";return e.replace(Hx,function(t){return qx[t]}).replace(BN,function(t){return"&#x"+t.charCodeAt(0).toString(16).toUpperCase()+";"})}function AL(n){return n.replace(/(\r\n|[\r\n])/g,"&#10;")}function SL(n){switch(n){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function jv(n){for(var e="",t=0,r=0,s=0,o=0,u=0,d=0;t<n.length;){if(r=n.charCodeAt(t++),r<128){e+=String.fromCharCode(r);continue}if(s=n.charCodeAt(t++),r>191&&r<224){u=(r&31)<<6,u|=s&63,e+=String.fromCharCode(u);continue}if(o=n.charCodeAt(t++),r<240){e+=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63);continue}u=n.charCodeAt(t++),d=((r&7)<<18|(s&63)<<12|(o&63)<<6|u&63)-65536,e+=String.fromCharCode(55296+(d>>>10&1023)),e+=String.fromCharCode(56320+(d&1023))}return e}function Bw(n){var e=Pl(2*n.length),t,r,s=1,o=0,u=0,d;for(r=0;r<n.length;r+=s)s=1,(d=n.charCodeAt(r))<128?t=d:d<224?(t=(d&31)*64+(n.charCodeAt(r+1)&63),s=2):d<240?(t=(d&15)*4096+(n.charCodeAt(r+1)&63)*64+(n.charCodeAt(r+2)&63),s=3):(s=4,t=(d&7)*262144+(n.charCodeAt(r+1)&63)*4096+(n.charCodeAt(r+2)&63)*64+(n.charCodeAt(r+3)&63),t-=65536,u=55296+(t>>>10&1023),t=56320+(t&1023)),u!==0&&(e[o++]=u&255,e[o++]=u>>>8,u=0),e[o++]=t%256,e[o++]=t>>>8;return e.slice(0,o).toString("ucs2")}function zw(n){return Di(n,"binary").toString("utf8")}var T0="foo bar baz",Xh=Ct&&(zw(T0)==jv(T0)&&zw||Bw(T0)==jv(T0)&&Bw)||jv,xd=Ct?function(n){return Di(n,"utf8").toString("binary")}:function(n){for(var e=[],t=0,r=0,s=0;t<n.length;)switch(r=n.charCodeAt(t++),!0){case r<128:e.push(String.fromCharCode(r));break;case r<2048:e.push(String.fromCharCode(192+(r>>6))),e.push(String.fromCharCode(128+(r&63)));break;case(r>=55296&&r<57344):r-=55296,s=n.charCodeAt(t++)-56320+(r<<10),e.push(String.fromCharCode(240+(s>>18&7))),e.push(String.fromCharCode(144+(s>>12&63))),e.push(String.fromCharCode(128+(s>>6&63))),e.push(String.fromCharCode(128+(s&63)));break;default:e.push(String.fromCharCode(224+(r>>12))),e.push(String.fromCharCode(128+(r>>6&63))),e.push(String.fromCharCode(128+(r&63)))}return e.join("")},bL=(function(){var n=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var r=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),s=0;s<n.length;++s)r=r.replace(n[s][0],n[s][1]);return r}})(),zN=/(^\s|\s$|\n)/;function ir(n,e){return"<"+n+(e.match(zN)?' xml:space="preserve"':"")+">"+e+"</"+n+">"}function _d(n){return cr(n).map(function(e){return" "+e+'="'+n[e]+'"'}).join("")}function Pe(n,e,t){return"<"+n+(t!=null?_d(t):"")+(e!=null?(e.match(zN)?' xml:space="preserve"':"")+">"+e+"</"+n:"/")+">"}function T1(n,e){try{return n.toISOString().replace(/\.\d*/,"")}catch(t){if(e)throw t}return""}function NL(n,e){switch(typeof n){case"string":var t=Pe("vt:lpwstr",Ut(n));return t=t.replace(/&quot;/g,"_x0022_"),t;case"number":return Pe((n|0)==n?"vt:i4":"vt:r8",Ut(String(n)));case"boolean":return Pe("vt:bool",n?"true":"false")}if(n instanceof Date)return Pe("vt:filetime",T1(n));throw new Error("Unable to serialize "+n)}var Kn={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Au=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],ca={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function CL(n,e){for(var t=1-2*(n[e+7]>>>7),r=((n[e+7]&127)<<4)+(n[e+6]>>>4&15),s=n[e+6]&15,o=5;o>=0;--o)s=s*256+n[e+o];return r==2047?s==0?t*(1/0):NaN:(r==0?r=-1022:(r-=1023,s+=Math.pow(2,52)),t*Math.pow(2,r-52)*s)}function IL(n,e,t){var r=(e<0||1/e==-1/0?1:0)<<7,s=0,o=0,u=r?-e:e;isFinite(u)?u==0?s=o=0:(s=Math.floor(Math.log(u)/Math.LN2),o=u*Math.pow(2,52-s),s<=-1023&&(!isFinite(o)||o<Math.pow(2,52))?s=-1022:(o-=Math.pow(2,52),s+=1023)):(s=2047,o=isNaN(e)?26985:0);for(var d=0;d<=5;++d,o/=256)n[t+d]=o&255;n[t+6]=(s&15)<<4|o&15,n[t+7]=s>>4|r}var qw=function(n){for(var e=[],t=10240,r=0;r<n[0].length;++r)if(n[0][r])for(var s=0,o=n[0][r].length;s<o;s+=t)e.push.apply(e,n[0][r].slice(s,s+t));return e},Hw=Ct?function(n){return n[0].length>0&&Buffer.isBuffer(n[0][0])?Buffer.concat(n[0].map(function(e){return Buffer.isBuffer(e)?e:Di(e)})):qw(n)}:qw,Gw=function(n,e,t){for(var r=[],s=e;s<t;s+=2)r.push(String.fromCharCode(Uh(n,s)));return r.join("").replace(Wh,"")},Gx=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("utf16le",e,t).replace(Wh,""):Gw(n,e,t)}:Gw,$w=function(n,e,t){for(var r=[],s=e;s<e+t;++s)r.push(("0"+n[s].toString(16)).slice(-2));return r.join("")},qN=Ct?function(n,e,t){return Buffer.isBuffer(n)?n.toString("hex",e,e+t):$w(n,e,t)}:$w,Kw=function(n,e,t){for(var r=[],s=e;s<t;s++)r.push(String.fromCharCode($c(n,s)));return r.join("")},Ld=Ct?function(e,t,r){return Buffer.isBuffer(e)?e.toString("utf8",t,r):Kw(e,t,r)}:Kw,HN=function(n,e){var t=ua(n,e);return t>0?Ld(n,e+4,e+4+t-1):""},GN=HN,$N=function(n,e){var t=ua(n,e);return t>0?Ld(n,e+4,e+4+t-1):""},KN=$N,WN=function(n,e){var t=2*ua(n,e);return t>0?Ld(n,e+4,e+4+t-1):""},XN=WN,YN=function(e,t){var r=ua(e,t);return r>0?Gx(e,t+4,t+4+r):""},QN=YN,JN=function(n,e){var t=ua(n,e);return t>0?Ld(n,e+4,e+4+t):""},ZN=JN,eC=function(n,e){return CL(n,e)},mm=eC,$x=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};Ct&&(GN=function(e,t){if(!Buffer.isBuffer(e))return HN(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},KN=function(e,t){if(!Buffer.isBuffer(e))return $N(e,t);var r=e.readUInt32LE(t);return r>0?e.toString("utf8",t+4,t+4+r-1):""},XN=function(e,t){if(!Buffer.isBuffer(e))return WN(e,t);var r=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r-1)},QN=function(e,t){if(!Buffer.isBuffer(e))return YN(e,t);var r=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+r)},ZN=function(e,t){if(!Buffer.isBuffer(e))return JN(e,t);var r=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+r)},mm=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):eC(e,t)},$x=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var $c=function(n,e){return n[e]},Uh=function(n,e){return n[e+1]*256+n[e]},RL=function(n,e){var t=n[e+1]*256+n[e];return t<32768?t:(65535-t+1)*-1},ua=function(n,e){return n[e+3]*(1<<24)+(n[e+2]<<16)+(n[e+1]<<8)+n[e]},El=function(n,e){return n[e+3]<<24|n[e+2]<<16|n[e+1]<<8|n[e]},DL=function(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]};function Yh(n,e){var t="",r,s,o=[],u,d,m,f;switch(e){case"dbcs":if(f=this.l,Ct&&Buffer.isBuffer(this))t=this.slice(this.l,this.l+2*n).toString("utf16le");else for(m=0;m<n;++m)t+=String.fromCharCode(Uh(this,f)),f+=2;n*=2;break;case"utf8":t=Ld(this,this.l,this.l+n);break;case"utf16le":n*=2,t=Gx(this,this.l,this.l+n);break;case"wstr":return Yh.call(this,n,"dbcs");case"lpstr-ansi":t=GN(this,this.l),n=4+ua(this,this.l);break;case"lpstr-cp":t=KN(this,this.l),n=4+ua(this,this.l);break;case"lpwstr":t=XN(this,this.l),n=4+2*ua(this,this.l);break;case"lpp4":n=4+ua(this,this.l),t=QN(this,this.l),n&2&&(n+=2);break;case"8lpp4":n=4+ua(this,this.l),t=ZN(this,this.l),n&3&&(n+=4-(n&3));break;case"cstr":for(n=0,t="";(u=$c(this,this.l+n++))!==0;)o.push(_0(u));t=o.join("");break;case"_wstr":for(n=0,t="";(u=Uh(this,this.l+n))!==0;)o.push(_0(u)),n+=2;n+=2,t=o.join("");break;case"dbcs-cont":for(t="",f=this.l,m=0;m<n;++m){if(this.lens&&this.lens.indexOf(f)!==-1)return u=$c(this,f),this.l=f+1,d=Yh.call(this,n-m,u?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(_0(Uh(this,f))),f+=2}t=o.join(""),n*=2;break;case"cpstr":case"sbcs-cont":for(t="",f=this.l,m=0;m!=n;++m){if(this.lens&&this.lens.indexOf(f)!==-1)return u=$c(this,f),this.l=f+1,d=Yh.call(this,n-m,u?"dbcs-cont":"sbcs-cont"),o.join("")+d;o.push(_0($c(this,f))),f+=1}t=o.join("");break;default:switch(n){case 1:return r=$c(this,this.l),this.l++,r;case 2:return r=(e==="i"?RL:Uh)(this,this.l),this.l+=2,r;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(r=(n>0?El:DL)(this,this.l),this.l+=4,r):(s=ua(this,this.l),this.l+=4,s);case 8:case-8:if(e==="f")return n==8?s=mm(this,this.l):s=mm([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,s;n=8;case 16:t=qN(this,this.l,n);break}}return this.l+=n,t}var jL=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255,n[t+2]=e>>>16&255,n[t+3]=e>>>24&255},kL=function(n,e,t){n[t]=e&255,n[t+1]=e>>8&255,n[t+2]=e>>16&255,n[t+3]=e>>24&255},OL=function(n,e,t){n[t]=e&255,n[t+1]=e>>>8&255};function ML(n,e,t){var r=0,s=0;if(t==="dbcs"){for(s=0;s!=e.length;++s)OL(this,e.charCodeAt(s),this.l+2*s);r=2*e.length}else if(t==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=e.length;++s)this[this.l+s]=e.charCodeAt(s)&255;r=e.length}else if(t==="hex"){for(;s<n;++s)this[this.l++]=parseInt(e.slice(2*s,2*s+2),16)||0;return this}else if(t==="utf16le"){var o=Math.min(this.l+n,this.length);for(s=0;s<Math.min(e.length,n);++s){var u=e.charCodeAt(s);this[this.l++]=u&255,this[this.l++]=u>>8}for(;this.l<o;)this[this.l++]=0;return this}else switch(n){case 1:r=1,this[this.l]=e&255;break;case 2:r=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:r=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:r=4,jL(this,e,this.l);break;case 8:if(r=8,t==="f"){IL(this,e,this.l);break}case 16:break;case-4:r=4,kL(this,e,this.l);break}return this.l+=r,this}function tC(n,e){var t=qN(this,this.l,n.length>>1);if(t!==n)throw new Error(e+"Expected "+n+" saw "+t);this.l+=n.length>>1}function la(n,e){n.l=e,n.read_shift=Yh,n.chk=tC,n.write_shift=ML}function Ps(n,e){n.l+=e}function we(n){var e=Pl(n);return la(e,0),e}function Kr(){var n=[],e=Ct?256:2048,t=function(f){var v=we(f);return la(v,0),v},r=t(e),s=function(){r&&(r.length>r.l&&(r=r.slice(0,r.l),r.l=r.length),r.length>0&&n.push(r),r=null)},o=function(f){return r&&f<r.length-r.l?r:(s(),r=t(Math.max(f+1,e)))},u=function(){return s(),sr(n)},d=function(f){s(),r=f,r.l==null&&(r.l=r.length),o(e)};return{next:o,push:d,end:u,_bufs:n}}function Re(n,e,t,r){var s=+e,o;if(!isNaN(s)){r||(r=Cz[s].p||(t||[]).length||0),o=1+(s>=128?1:0)+1,r>=128&&++o,r>=16384&&++o,r>=2097152&&++o;var u=n.next(o);s<=127?u.write_shift(1,s):(u.write_shift(1,(s&127)+128),u.write_shift(1,s>>7));for(var d=0;d!=4;++d)if(r>=128)u.write_shift(1,(r&127)+128),r>>=7;else{u.write_shift(1,r);break}r>0&&$x(t)&&n.push(t)}}function Qh(n,e,t){var r=Xr(n);if(e.s?(r.cRel&&(r.c+=e.s.c),r.rRel&&(r.r+=e.s.r)):(r.cRel&&(r.c+=e.c),r.rRel&&(r.r+=e.r)),!t||t.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Ww(n,e,t){var r=Xr(n);return r.s=Qh(r.s,e.s,t),r.e=Qh(r.e,e.s,t),r}function Jh(n,e){if(n.cRel&&n.c<0)for(n=Xr(n);n.c<0;)n.c+=e>8?16384:256;if(n.rRel&&n.r<0)for(n=Xr(n);n.r<0;)n.r+=e>8?1048576:e>5?65536:16384;var t=zt(n);return!n.cRel&&n.cRel!=null&&(t=LL(t)),!n.rRel&&n.rRel!=null&&(t=PL(t)),t}function kv(n,e){return n.s.r==0&&!n.s.rRel&&n.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!n.e.rRel?(n.s.cRel?"":"$")+yr(n.s.c)+":"+(n.e.cRel?"":"$")+yr(n.e.c):n.s.c==0&&!n.s.cRel&&n.e.c==(e.biff>=12?16383:255)&&!n.e.cRel?(n.s.rRel?"":"$")+or(n.s.r)+":"+(n.e.rRel?"":"$")+or(n.e.r):Jh(n.s,e.biff)+":"+Jh(n.e,e.biff)}function Kx(n){return parseInt(FL(n),10)-1}function or(n){return""+(n+1)}function PL(n){return n.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function FL(n){return n.replace(/\$(\d+)$/,"$1")}function Wx(n){for(var e=VL(n),t=0,r=0;r!==e.length;++r)t=26*t+e.charCodeAt(r)-64;return t-1}function yr(n){if(n<0)throw new Error("invalid column "+n);var e="";for(++n;n;n=Math.floor((n-1)/26))e=String.fromCharCode((n-1)%26+65)+e;return e}function LL(n){return n.replace(/^([A-Z])/,"$$$1")}function VL(n){return n.replace(/^\$([A-Z])/,"$1")}function UL(n){return n.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Wn(n){for(var e=0,t=0,r=0;r<n.length;++r){var s=n.charCodeAt(r);s>=48&&s<=57?e=10*e+(s-48):s>=65&&s<=90&&(t=26*t+(s-64))}return{c:t-1,r:e-1}}function zt(n){for(var e=n.c+1,t="";e;e=(e-1)/26|0)t=String.fromCharCode((e-1)%26+65)+t;return t+(n.r+1)}function va(n){var e=n.indexOf(":");return e==-1?{s:Wn(n),e:Wn(n)}:{s:Wn(n.slice(0,e)),e:Wn(n.slice(e+1))}}function Pn(n,e){return typeof e>"u"||typeof e=="number"?Pn(n.s,n.e):(typeof n!="string"&&(n=zt(n)),typeof e!="string"&&(e=zt(e)),n==e?n:n+":"+e)}function rn(n){var e={s:{c:0,r:0},e:{c:0,r:0}},t=0,r=0,s=0,o=n.length;for(t=0;r<o&&!((s=n.charCodeAt(r)-64)<1||s>26);++r)t=26*t+s;for(e.s.c=--t,t=0;r<o&&!((s=n.charCodeAt(r)-48)<0||s>9);++r)t=10*t+s;if(e.s.r=--t,r===o||s!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++r,t=0;r!=o&&!((s=n.charCodeAt(r)-64)<1||s>26);++r)t=26*t+s;for(e.e.c=--t,t=0;r!=o&&!((s=n.charCodeAt(r)-48)<0||s>9);++r)t=10*t+s;return e.e.r=--t,e}function Xw(n,e){var t=n.t=="d"&&e instanceof Date;if(n.z!=null)try{return n.w=Oo(n.z,t?Wr(e):e)}catch{}try{return n.w=Oo((n.XF||{}).numFmtId||(t?14:0),t?Wr(e):e)}catch{return""+e}}function Ii(n,e,t){return n==null||n.t==null||n.t=="z"?"":n.w!==void 0?n.w:(n.t=="d"&&!n.z&&t&&t.dateNF&&(n.z=t.dateNF),n.t=="e"?Vd[n.v]||n.v:e==null?Xw(n,n.v):Xw(n,e))}function Hl(n,e){var t=e&&e.sheet?e.sheet:"Sheet1",r={};return r[t]=n,{SheetNames:[t],Sheets:r}}function nC(n,e,t){var r=t||{},s=n?Array.isArray(n):r.dense,o=n||(s?[]:{}),u=0,d=0;if(o&&r.origin!=null){if(typeof r.origin=="number")u=r.origin;else{var m=typeof r.origin=="string"?Wn(r.origin):r.origin;u=m.r,d=m.c}o["!ref"]||(o["!ref"]="A1:A1")}var f={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(o["!ref"]){var v=rn(o["!ref"]);f.s.c=v.s.c,f.s.r=v.s.r,f.e.c=Math.max(f.e.c,v.e.c),f.e.r=Math.max(f.e.r,v.e.r),u==-1&&(f.e.r=u=v.e.r+1)}for(var _=0;_!=e.length;++_)if(e[_]){if(!Array.isArray(e[_]))throw new Error("aoa_to_sheet expects an array of arrays");for(var y=0;y!=e[_].length;++y)if(!(typeof e[_][y]>"u")){var E={v:e[_][y]},b=u+_,w=d+y;if(f.s.r>b&&(f.s.r=b),f.s.c>w&&(f.s.c=w),f.e.r<b&&(f.e.r=b),f.e.c<w&&(f.e.c=w),e[_][y]&&typeof e[_][y]=="object"&&!Array.isArray(e[_][y])&&!(e[_][y]instanceof Date))E=e[_][y];else if(Array.isArray(E.v)&&(E.f=e[_][y][1],E.v=E.v[0]),E.v===null)if(E.f)E.t="n";else if(r.nullError)E.t="e",E.v=0;else if(r.sheetStubs)E.t="z";else continue;else typeof E.v=="number"?E.t="n":typeof E.v=="boolean"?E.t="b":E.v instanceof Date?(E.z=r.dateNF||_n[14],r.cellDates?(E.t="d",E.w=Oo(E.z,Wr(E.v))):(E.t="n",E.v=Wr(E.v),E.w=Oo(E.z,E.v))):E.t="s";if(s)o[b]||(o[b]=[]),o[b][w]&&o[b][w].z&&(E.z=o[b][w].z),o[b][w]=E;else{var S=zt({c:w,r:b});o[S]&&o[S].z&&(E.z=o[S].z),o[S]=E}}}return f.s.c<1e7&&(o["!ref"]=Pn(f)),o}function Su(n,e){return nC(null,n,e)}function BL(n){return n.read_shift(4,"i")}function ss(n,e){return e||(e=we(4)),e.write_shift(4,n),e}function Er(n){var e=n.read_shift(4);return e===0?"":n.read_shift(e,"dbcs")}function Xn(n,e){var t=!1;return e==null&&(t=!0,e=we(4+2*n.length)),e.write_shift(4,n.length),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}function zL(n){return{ich:n.read_shift(2),ifnt:n.read_shift(2)}}function qL(n,e){return e||(e=we(4)),e.write_shift(2,0),e.write_shift(2,0),e}function Xx(n,e){var t=n.l,r=n.read_shift(1),s=Er(n),o=[],u={t:s,h:s};if((r&1)!==0){for(var d=n.read_shift(4),m=0;m!=d;++m)o.push(zL(n));u.r=o}else u.r=[{ich:0,ifnt:0}];return n.l=t+e,u}function HL(n,e){var t=!1;return e==null&&(t=!0,e=we(15+4*n.t.length)),e.write_shift(1,0),Xn(n.t,e),t?e.slice(0,e.l):e}var GL=Xx;function $L(n,e){var t=!1;return e==null&&(t=!0,e=we(23+4*n.t.length)),e.write_shift(1,1),Xn(n.t,e),e.write_shift(4,1),qL({},e),t?e.slice(0,e.l):e}function Va(n){var e=n.read_shift(4),t=n.read_shift(2);return t+=n.read_shift(1)<<16,n.l++,{c:e,iStyleRef:t}}function Gl(n,e){return e==null&&(e=we(8)),e.write_shift(-4,n.c),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}function $l(n){var e=n.read_shift(2);return e+=n.read_shift(1)<<16,n.l++,{c:-1,iStyleRef:e}}function Kl(n,e){return e==null&&(e=we(4)),e.write_shift(3,n.iStyleRef||n.s),e.write_shift(1,0),e}var KL=Er,rC=Xn;function Yx(n){var e=n.read_shift(4);return e===0||e===4294967295?"":n.read_shift(e,"dbcs")}function pm(n,e){var t=!1;return e==null&&(t=!0,e=we(127)),e.write_shift(4,n.length>0?n.length:4294967295),n.length>0&&e.write_shift(0,n,"dbcs"),t?e.slice(0,e.l):e}var WL=Er,w1=Yx,Qx=pm;function aC(n){var e=n.slice(n.l,n.l+4),t=e[0]&1,r=e[0]&2;n.l+=4;var s=r===0?mm([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):El(e,0)>>2;return t?s/100:s}function sC(n,e){e==null&&(e=we(4));var t=0,r=0,s=n*100;if(n==(n|0)&&n>=-536870912&&n<1<<29?r=1:s==(s|0)&&s>=-536870912&&s<1<<29&&(r=1,t=1),r)e.write_shift(-4,((t?s:n)<<2)+(t+2));else throw new Error("unsupported RkNumber "+n)}function iC(n){var e={s:{},e:{}};return e.s.r=n.read_shift(4),e.e.r=n.read_shift(4),e.s.c=n.read_shift(4),e.e.c=n.read_shift(4),e}function XL(n,e){return e||(e=we(16)),e.write_shift(4,n.s.r),e.write_shift(4,n.e.r),e.write_shift(4,n.s.c),e.write_shift(4,n.e.c),e}var Wl=iC,bu=XL;function Nu(n){if(n.length-n.l<8)throw"XLS Xnum Buffer underflow";return n.read_shift(8,"f")}function Fl(n,e){return(e||we(8)).write_shift(8,n,"f")}function YL(n){var e={},t=n.read_shift(1),r=t>>>1,s=n.read_shift(1),o=n.read_shift(2,"i"),u=n.read_shift(1),d=n.read_shift(1),m=n.read_shift(1);switch(n.l++,r){case 0:e.auto=1;break;case 1:e.index=s;var f=s9[s];f&&(e.rgb=iA(f));break;case 2:e.rgb=iA([u,d,m]);break;case 3:e.theme=s;break}return o!=0&&(e.tint=o>0?o/32767:o/32768),e}function gm(n,e){if(e||(e=we(8)),!n||n.auto)return e.write_shift(4,0),e.write_shift(4,0),e;n.index!=null?(e.write_shift(1,2),e.write_shift(1,n.index)):n.theme!=null?(e.write_shift(1,6),e.write_shift(1,n.theme)):(e.write_shift(1,5),e.write_shift(1,0));var t=n.tint||0;if(t>0?t*=32767:t<0&&(t*=32768),e.write_shift(2,t),!n.rgb||n.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var r=n.rgb||"FFFFFF";typeof r=="number"&&(r=("000000"+r.toString(16)).slice(-6)),e.write_shift(1,parseInt(r.slice(0,2),16)),e.write_shift(1,parseInt(r.slice(2,4),16)),e.write_shift(1,parseInt(r.slice(4,6),16)),e.write_shift(1,255)}return e}function QL(n){var e=n.read_shift(1);n.l++;var t={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return t}function JL(n,e){e||(e=we(2));var t=(n.italic?2:0)|(n.strike?8:0)|(n.outline?16:0)|(n.shadow?32:0)|(n.condense?64:0)|(n.extend?128:0);return e.write_shift(1,t),e.write_shift(1,0),e}var oC=2,oa=3,w0=11,vm=19,A0=64,ZL=65,e9=71,t9=4108,n9=4126,nr=80,Yw={1:{n:"CodePage",t:oC},2:{n:"Category",t:nr},3:{n:"PresentationFormat",t:nr},4:{n:"ByteCount",t:oa},5:{n:"LineCount",t:oa},6:{n:"ParagraphCount",t:oa},7:{n:"SlideCount",t:oa},8:{n:"NoteCount",t:oa},9:{n:"HiddenCount",t:oa},10:{n:"MultimediaClipCount",t:oa},11:{n:"ScaleCrop",t:w0},12:{n:"HeadingPairs",t:t9},13:{n:"TitlesOfParts",t:n9},14:{n:"Manager",t:nr},15:{n:"Company",t:nr},16:{n:"LinksUpToDate",t:w0},17:{n:"CharacterCount",t:oa},19:{n:"SharedDoc",t:w0},22:{n:"HyperlinksChanged",t:w0},23:{n:"AppVersion",t:oa,p:"version"},24:{n:"DigSig",t:ZL},26:{n:"ContentType",t:nr},27:{n:"ContentStatus",t:nr},28:{n:"Language",t:nr},29:{n:"Version",t:nr},255:{},2147483648:{n:"Locale",t:vm},2147483651:{n:"Behavior",t:vm},1919054434:{}},Qw={1:{n:"CodePage",t:oC},2:{n:"Title",t:nr},3:{n:"Subject",t:nr},4:{n:"Author",t:nr},5:{n:"Keywords",t:nr},6:{n:"Comments",t:nr},7:{n:"Template",t:nr},8:{n:"LastAuthor",t:nr},9:{n:"RevNumber",t:nr},10:{n:"EditTime",t:A0},11:{n:"LastPrinted",t:A0},12:{n:"CreatedDate",t:A0},13:{n:"ModifiedDate",t:A0},14:{n:"PageCount",t:oa},15:{n:"WordCount",t:oa},16:{n:"CharCount",t:oa},17:{n:"Thumbnail",t:e9},18:{n:"Application",t:nr},19:{n:"DocSecurity",t:oa},255:{},2147483648:{n:"Locale",t:vm},2147483651:{n:"Behavior",t:vm},1919054434:{}};function r9(n){return n.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var a9=r9([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),s9=Xr(a9),Vd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},i9={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},S0={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function lC(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function cC(n,e){var t=gL(i9),r=[],s;r[r.length]=Fn,r[r.length]=Pe("Types",null,{xmlns:Kn.CT,"xmlns:xsd":Kn.xsd,"xmlns:xsi":Kn.xsi}),r=r.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(m){return Pe("Default",null,{Extension:m[0],ContentType:m[1]})}));var o=function(m){n[m]&&n[m].length>0&&(s=n[m][0],r[r.length]=Pe("Override",null,{PartName:(s[0]=="/"?"":"/")+s,ContentType:S0[m][e.bookType]||S0[m].xlsx}))},u=function(m){(n[m]||[]).forEach(function(f){r[r.length]=Pe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:S0[m][e.bookType]||S0[m].xlsx})})},d=function(m){(n[m]||[]).forEach(function(f){r[r.length]=Pe("Override",null,{PartName:(f[0]=="/"?"":"/")+f,ContentType:t[m][0]})})};return o("workbooks"),u("sheets"),u("charts"),d("themes"),["strs","styles"].forEach(o),["coreprops","extprops","custprops"].forEach(d),d("vba"),d("comments"),d("threadedcomments"),d("drawings"),u("metadata"),d("people"),r.length>2&&(r[r.length]="</Types>",r[1]=r[1].replace("/>",">")),r.join("")}var St={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function uC(n){var e=n.lastIndexOf("/");return n.slice(0,e+1)+"_rels/"+n.slice(e+1)+".rels"}function tu(n){var e=[Fn,Pe("Relationships",null,{xmlns:Kn.RELS})];return cr(n["!id"]).forEach(function(t){e[e.length]=Pe("Relationship",null,n["!id"][t])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function Vt(n,e,t,r,s,o){if(s||(s={}),n["!id"]||(n["!id"]={}),n["!idx"]||(n["!idx"]=1),e<0)for(e=n["!idx"];n["!id"]["rId"+e];++e);if(n["!idx"]=e+1,s.Id="rId"+e,s.Type=r,s.Target=t,[St.HLINK,St.XPATH,St.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),n["!id"][s.Id])throw new Error("Cannot rewrite rId "+e);return n["!id"][s.Id]=s,n[("/"+s.Target).replace("//","/")]=s,e}function o9(n){var e=[Fn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var t=0;t<n.length;++t)e.push('  <manifest:file-entry manifest:full-path="'+n[t][0]+'" manifest:media-type="'+n[t][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function Jw(n,e,t){return['  <rdf:Description rdf:about="'+n+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(t||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function l9(n,e){return['  <rdf:Description rdf:about="'+n+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function c9(n){var e=[Fn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var t=0;t!=n.length;++t)e.push(Jw(n[t][0],n[t][1])),e.push(l9("",n[t][0]));return e.push(Jw("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function hC(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+lm.version+"</meta:generator></office:meta></office:document-meta>"}var Nl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function Ov(n,e,t,r,s){s[n]!=null||e==null||e===""||(s[n]=e,e=Ut(e),r[r.length]=t?Pe(n,e,t):ir(n,e))}function dC(n,e){var t=e||{},r=[Fn,Pe("cp:coreProperties",null,{"xmlns:cp":Kn.CORE_PROPS,"xmlns:dc":Kn.dc,"xmlns:dcterms":Kn.dcterms,"xmlns:dcmitype":Kn.dcmitype,"xmlns:xsi":Kn.xsi})],s={};if(!n&&!t.Props)return r.join("");n&&(n.CreatedDate!=null&&Ov("dcterms:created",typeof n.CreatedDate=="string"?n.CreatedDate:T1(n.CreatedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),n.ModifiedDate!=null&&Ov("dcterms:modified",typeof n.ModifiedDate=="string"?n.ModifiedDate:T1(n.ModifiedDate,t.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var o=0;o!=Nl.length;++o){var u=Nl[o],d=t.Props&&t.Props[u[1]]!=null?t.Props[u[1]]:n?n[u[1]]:null;d===!0?d="1":d===!1?d="0":typeof d=="number"&&(d=String(d)),d!=null&&Ov(u[0],d,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var nu=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],fC=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function mC(n){var e=[],t=Pe;return n||(n={}),n.Application="SheetJS",e[e.length]=Fn,e[e.length]=Pe("Properties",null,{xmlns:Kn.EXT_PROPS,"xmlns:vt":Kn.vt}),nu.forEach(function(r){if(n[r[1]]!==void 0){var s;switch(r[2]){case"string":s=Ut(String(n[r[1]]));break;case"bool":s=n[r[1]]?"true":"false";break}s!==void 0&&(e[e.length]=t(r[0],s))}}),e[e.length]=t("HeadingPairs",t("vt:vector",t("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+t("vt:variant",t("vt:i4",String(n.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=t("TitlesOfParts",t("vt:vector",n.SheetNames.map(function(r){return"<vt:lpstr>"+Ut(r)+"</vt:lpstr>"}).join(""),{size:n.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function pC(n){var e=[Fn,Pe("Properties",null,{xmlns:Kn.CUST_PROPS,"xmlns:vt":Kn.vt})];if(!n)return e.join("");var t=1;return cr(n).forEach(function(s){++t,e[e.length]=Pe("property",NL(n[s]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:t,name:Ut(s)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Zw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function u9(n,e){var t=[];return cr(Zw).map(function(r){for(var s=0;s<Nl.length;++s)if(Nl[s][1]==r)return Nl[s];for(s=0;s<nu.length;++s)if(nu[s][1]==r)return nu[s];throw r}).forEach(function(r){if(n[r[1]]!=null){var s=e&&e.Props&&e.Props[r[1]]!=null?e.Props[r[1]]:n[r[1]];switch(r[2]){case"date":s=new Date(s).toISOString().replace(/\.\d*Z/,"Z");break}typeof s=="number"?s=String(s):s===!0||s===!1?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),t.push(ir(Zw[r[1]]||r[1],s))}}),Pe("DocumentProperties",t.join(""),{xmlns:ca.o})}function h9(n,e){var t=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return n&&cr(n).forEach(function(o){if(Object.prototype.hasOwnProperty.call(n,o)){for(var u=0;u<Nl.length;++u)if(o==Nl[u][1])return;for(u=0;u<nu.length;++u)if(o==nu[u][1])return;for(u=0;u<t.length;++u)if(o==t[u])return;var d=n[o],m="string";typeof d=="number"?(m="float",d=String(d)):d===!0||d===!1?(m="boolean",d=d?"1":"0"):d=String(d),s.push(Pe(Uw(o),d,{"dt:dt":m}))}}),e&&cr(e).forEach(function(o){if(Object.prototype.hasOwnProperty.call(e,o)&&!(n&&Object.prototype.hasOwnProperty.call(n,o))){var u=e[o],d="string";typeof u=="number"?(d="float",u=String(u)):u===!0||u===!1?(d="boolean",u=u?"1":"0"):u instanceof Date?(d="dateTime.tz",u=u.toISOString()):u=String(u),s.push(Pe(Uw(o),u,{"dt:dt":d}))}}),"<"+r+' xmlns="'+ca.o+'">'+s.join("")+"</"+r+">"}function d9(n){var e=typeof n=="string"?new Date(Date.parse(n)):n,t=e.getTime()/1e3+11644473600,r=t%Math.pow(2,32),s=(t-r)/Math.pow(2,32);r*=1e7,s*=1e7;var o=r/Math.pow(2,32)|0;o>0&&(r=r%Math.pow(2,32),s+=o);var u=we(8);return u.write_shift(4,r),u.write_shift(4,s),u}function eA(n,e){var t=we(4),r=we(4);switch(t.write_shift(4,n==80?31:n),n){case 3:r.write_shift(-4,e);break;case 5:r=we(8),r.write_shift(8,e,"f");break;case 11:r.write_shift(4,e?1:0);break;case 64:r=d9(e);break;case 31:case 80:for(r=we(4+2*(e.length+1)+(e.length%2?0:2)),r.write_shift(4,e.length+1),r.write_shift(0,e,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+n+" "+e)}return sr([t,r])}var gC=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function f9(n){switch(typeof n){case"boolean":return 11;case"number":return(n|0)==n?3:5;case"string":return 31;case"object":if(n instanceof Date)return 64;break}return-1}function tA(n,e,t){var r=we(8),s=[],o=[],u=8,d=0,m=we(8),f=we(8);if(m.write_shift(4,2),m.write_shift(4,1200),f.write_shift(4,1),o.push(m),s.push(f),u+=8+m.length,!e){f=we(8),f.write_shift(4,0),s.unshift(f);var v=[we(4)];for(v[0].write_shift(4,n.length),d=0;d<n.length;++d){var _=n[d][0];for(m=we(8+2*(_.length+1)+(_.length%2?0:2)),m.write_shift(4,d+2),m.write_shift(4,_.length+1),m.write_shift(0,_,"dbcs");m.l!=m.length;)m.write_shift(1,0);v.push(m)}m=sr(v),o.unshift(m),u+=8+m.length}for(d=0;d<n.length;++d)if(!(e&&!e[n[d][0]])&&!(gC.indexOf(n[d][0])>-1||fC.indexOf(n[d][0])>-1)&&n[d][1]!=null){var y=n[d][1],E=0;if(e){E=+e[n[d][0]];var b=t[E];if(b.p=="version"&&typeof y=="string"){var w=y.split(".");y=(+w[0]<<16)+(+w[1]||0)}m=eA(b.t,y)}else{var S=f9(y);S==-1&&(S=31,y=String(y)),m=eA(S,y)}o.push(m),f=we(8),f.write_shift(4,e?E:2+d),s.push(f),u+=8+m.length}var k=8*(o.length+1);for(d=0;d<o.length;++d)s[d].write_shift(4,k),k+=o[d].length;return r.write_shift(4,u),r.write_shift(4,o.length),sr([r].concat(s).concat(o))}function nA(n,e,t,r,s,o){var u=we(s?68:48),d=[u];u.write_shift(2,65534),u.write_shift(2,0),u.write_shift(4,842412599),u.write_shift(16,Kt.utils.consts.HEADER_CLSID,"hex"),u.write_shift(4,s?2:1),u.write_shift(16,e,"hex"),u.write_shift(4,s?68:48);var m=tA(n,t,r);if(d.push(m),s){var f=tA(s,null,null);u.write_shift(16,o,"hex"),u.write_shift(4,68+m.length),d.push(f)}return sr(d)}function m9(n,e){e||(e=we(n));for(var t=0;t<n;++t)e.write_shift(1,0);return e}function p9(n,e){return n.read_shift(e)===1}function Dr(n,e){return e||(e=we(2)),e.write_shift(2,+!!n),e}function vC(n){return n.read_shift(2,"u")}function ka(n,e){return e||(e=we(2)),e.write_shift(2,n),e}function xC(n,e,t){return t||(t=we(2)),t.write_shift(1,e=="e"?+n:+!!n),t.write_shift(1,e=="e"?1:0),t}function _C(n,e,t){var r=n.read_shift(t&&t.biff>=12?2:1),s="sbcs-cont";if(t&&t.biff>=8,!t||t.biff==8){var o=n.read_shift(1);o&&(s="dbcs-cont")}else t.biff==12&&(s="wstr");t.biff>=2&&t.biff<=5&&(s="cpstr");var u=r?n.read_shift(r,s):"";return u}function g9(n){var e=n.t||"",t=we(3);t.write_shift(2,e.length),t.write_shift(1,1);var r=we(2*e.length);r.write_shift(2*e.length,e,"utf16le");var s=[t,r];return sr(s)}function v9(n,e,t){var r;if(t){if(t.biff>=2&&t.biff<=5)return n.read_shift(e,"cpstr");if(t.biff>=12)return n.read_shift(e,"dbcs-cont")}var s=n.read_shift(1);return s===0?r=n.read_shift(e,"sbcs-cont"):r=n.read_shift(e,"dbcs-cont"),r}function x9(n,e,t){var r=n.read_shift(t&&t.biff==2?1:2);return r===0?(n.l++,""):v9(n,r,t)}function _9(n,e,t){if(t.biff>5)return x9(n,e,t);var r=n.read_shift(1);return r===0?(n.l++,""):n.read_shift(r,t.biff<=4||!n.lens?"cpstr":"sbcs-cont")}function yC(n,e,t){return t||(t=we(3+2*n.length)),t.write_shift(2,n.length),t.write_shift(1,1),t.write_shift(31,n,"utf16le"),t}function rA(n,e){e||(e=we(6+n.length*2)),e.write_shift(4,1+n.length);for(var t=0;t<n.length;++t)e.write_shift(2,n.charCodeAt(t));return e.write_shift(2,0),e}function y9(n){var e=we(512),t=0,r=n.Target;r.slice(0,7)=="file://"&&(r=r.slice(7));var s=r.indexOf("#"),o=s>-1?31:23;switch(r.charAt(0)){case"#":o=28;break;case".":o&=-3;break}e.write_shift(4,2),e.write_shift(4,o);var u=[8,6815827,6619237,4849780,83];for(t=0;t<u.length;++t)e.write_shift(4,u[t]);if(o==28)r=r.slice(1),rA(r,e);else if(o&2){for(u="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),t=0;t<u.length;++t)e.write_shift(1,parseInt(u[t],16));var d=s>-1?r.slice(0,s):r;for(e.write_shift(4,2*(d.length+1)),t=0;t<d.length;++t)e.write_shift(2,d.charCodeAt(t));e.write_shift(2,0),o&8&&rA(s>-1?r.slice(s+1):"",e)}else{for(u="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),t=0;t<u.length;++t)e.write_shift(1,parseInt(u[t],16));for(var m=0;r.slice(m*3,m*3+3)=="../"||r.slice(m*3,m*3+3)=="..\\";)++m;for(e.write_shift(2,m),e.write_shift(4,r.length-3*m+1),t=0;t<r.length-3*m;++t)e.write_shift(1,r.charCodeAt(t+3*m)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),t=0;t<6;++t)e.write_shift(4,0)}return e.slice(0,e.l)}function Ll(n,e,t,r){return r||(r=we(6)),r.write_shift(2,n),r.write_shift(2,e),r.write_shift(2,t||0),r}function E9(n,e,t){var r=t.biff>8?4:2,s=n.read_shift(r),o=n.read_shift(r,"i"),u=n.read_shift(r,"i");return[s,o,u]}function T9(n){var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(2),s=n.read_shift(2);return{s:{c:r,r:e},e:{c:s,r:t}}}function EC(n,e){return e||(e=we(8)),e.write_shift(2,n.s.r),e.write_shift(2,n.e.r),e.write_shift(2,n.s.c),e.write_shift(2,n.e.c),e}function Jx(n,e,t){var r=1536,s=16;switch(t.bookType){case"biff8":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var o=we(s);return o.write_shift(2,r),o.write_shift(2,e),s>4&&o.write_shift(2,29282),s>6&&o.write_shift(2,1997),s>8&&(o.write_shift(2,49161),o.write_shift(2,1),o.write_shift(2,1798),o.write_shift(2,0)),o}function w9(n,e){var t=!e||e.biff==8,r=we(t?112:54);for(r.write_shift(e.biff==8?2:1,7),t&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(t?0:536870912));r.l<r.length;)r.write_shift(1,t?0:32);return r}function A9(n,e){var t=!e||e.biff>=8?2:1,r=we(8+t*n.name.length);r.write_shift(4,n.pos),r.write_shift(1,n.hs||0),r.write_shift(1,n.dt),r.write_shift(1,n.name.length),e.biff>=8&&r.write_shift(1,1),r.write_shift(t*n.name.length,n.name,e.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function S9(n,e){var t=we(8);t.write_shift(4,n.Count),t.write_shift(4,n.Unique);for(var r=[],s=0;s<n.length;++s)r[s]=g9(n[s]);var o=sr([t].concat(r));return o.parts=[t.length].concat(r.map(function(u){return u.length})),o}function b9(){var n=we(18);return n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,29280),n.write_shift(2,17600),n.write_shift(2,56),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,1),n.write_shift(2,500),n}function N9(n){var e=we(18),t=1718;return n&&n.RTL&&(t|=64),e.write_shift(2,t),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function C9(n,e){var t=n.name||"Arial",r=e&&e.biff==5,s=r?15+t.length:16+2*t.length,o=we(s);return o.write_shift(2,n.sz*20),o.write_shift(4,0),o.write_shift(2,400),o.write_shift(4,0),o.write_shift(2,0),o.write_shift(1,t.length),r||o.write_shift(1,1),o.write_shift((r?1:2)*t.length,t,r?"sbcs":"utf16le"),o}function I9(n,e,t,r){var s=we(10);return Ll(n,e,r,s),s.write_shift(4,t),s}function R9(n,e,t,r,s){var o=!s||s.biff==8,u=we(8+ +o+(1+o)*t.length);return Ll(n,e,r,u),u.write_shift(2,t.length),o&&u.write_shift(1,1),u.write_shift((1+o)*t.length,t,o?"utf16le":"sbcs"),u}function D9(n,e,t,r){var s=t&&t.biff==5;r||(r=we(s?3+e.length:5+2*e.length)),r.write_shift(2,n),r.write_shift(s?1:2,e.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*e.length,e,s?"sbcs":"utf16le");var o=r.length>r.l?r.slice(0,r.l):r;return o.l==null&&(o.l=o.length),o}function j9(n,e){var t=e.biff==8||!e.biff?4:2,r=we(2*t+6);return r.write_shift(t,n.s.r),r.write_shift(t,n.e.r+1),r.write_shift(2,n.s.c),r.write_shift(2,n.e.c+1),r.write_shift(2,0),r}function aA(n,e,t,r){var s=t&&t.biff==5;r||(r=we(s?16:20)),r.write_shift(2,0),n.style?(r.write_shift(2,n.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,n.numFmtId||0),r.write_shift(2,e<<4));var o=0;return n.numFmtId>0&&s&&(o|=1024),r.write_shift(4,o),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function k9(n){var e=we(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function O9(n,e,t,r,s,o){var u=we(8);return Ll(n,e,r,u),xC(t,o,u),u}function M9(n,e,t,r){var s=we(14);return Ll(n,e,r,s),Fl(t,s),s}function P9(n,e,t){if(t.biff<8)return F9(n,e,t);for(var r=[],s=n.l+e,o=n.read_shift(t.biff>8?4:2);o--!==0;)r.push(E9(n,t.biff>8?12:6,t));if(n.l!=s)throw new Error("Bad ExternSheet: "+n.l+" != "+s);return r}function F9(n,e,t){n[n.l+1]==3&&n[n.l]++;var r=_C(n,e,t);return r.charCodeAt(0)==3?r.slice(1):r}function L9(n){var e=we(2+n.length*8);e.write_shift(2,n.length);for(var t=0;t<n.length;++t)EC(n[t],e);return e}function V9(n){var e=we(24),t=Wn(n[0]);e.write_shift(2,t.r),e.write_shift(2,t.r),e.write_shift(2,t.c),e.write_shift(2,t.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)e.write_shift(1,parseInt(r[s],16));return sr([e,y9(n[1])])}function U9(n){var e=n[1].Tooltip,t=we(10+2*(e.length+1));t.write_shift(2,2048);var r=Wn(n[0]);t.write_shift(2,r.r),t.write_shift(2,r.r),t.write_shift(2,r.c),t.write_shift(2,r.c);for(var s=0;s<e.length;++s)t.write_shift(2,e.charCodeAt(s));return t.write_shift(2,0),t}function B9(n){return n||(n=we(4)),n.write_shift(2,1),n.write_shift(2,1),n}function z9(n,e,t){if(!t.cellStyles)return Ps(n,e);var r=t&&t.biff>=12?4:2,s=n.read_shift(r),o=n.read_shift(r),u=n.read_shift(r),d=n.read_shift(r),m=n.read_shift(2);r==2&&(n.l+=2);var f={s,e:o,w:u,ixfe:d,flags:m};return(t.biff>=5||!t.biff)&&(f.level=m>>8&7),f}function q9(n,e){var t=we(12);t.write_shift(2,e),t.write_shift(2,e),t.write_shift(2,n.width*256),t.write_shift(2,0);var r=0;return n.hidden&&(r|=1),t.write_shift(1,r),r=n.level||0,t.write_shift(1,r),t.write_shift(2,0),t}function H9(n){for(var e=we(2*n),t=0;t<n;++t)e.write_shift(2,t+1);return e}function G9(n,e,t){var r=we(15);return Bd(r,n,e),r.write_shift(8,t,"f"),r}function $9(n,e,t){var r=we(9);return Bd(r,n,e),r.write_shift(2,t),r}var K9=(function(){var n={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=Bx({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function t(d,m){var f=[],v=Pl(1);switch(m.type){case"base64":v=es(Ci(d));break;case"binary":v=es(d);break;case"buffer":case"array":v=d;break}la(v,0);var _=v.read_shift(1),y=!!(_&136),E=!1,b=!1;switch(_){case 2:break;case 3:break;case 48:E=!0,y=!0;break;case 49:E=!0,y=!0;break;case 131:break;case 139:break;case 140:b=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+_.toString(16))}var w=0,S=521;_==2&&(w=v.read_shift(2)),v.l+=3,_!=2&&(w=v.read_shift(4)),w>1048576&&(w=1e6),_!=2&&(S=v.read_shift(2));var k=v.read_shift(2),D=m.codepage||1252;_!=2&&(v.l+=16,v.read_shift(1),v[v.l]!==0&&(D=n[v[v.l]]),v.l+=1,v.l+=2),b&&(v.l+=36);for(var j=[],X={},te=Math.min(v.length,_==2?521:S-10-(E?264:0)),ie=b?32:11;v.l<te&&v[v.l]!=13;)switch(X={},X.name=cm.utils.decode(D,v.slice(v.l,v.l+ie)).replace(/[\u0000\r\n].*$/g,""),v.l+=ie,X.type=String.fromCharCode(v.read_shift(1)),_!=2&&!b&&(X.offset=v.read_shift(4)),X.len=v.read_shift(1),_==2&&(X.offset=v.read_shift(2)),X.dec=v.read_shift(1),X.name.length&&j.push(X),_!=2&&(v.l+=b?13:14),X.type){case"B":(!E||X.len!=8)&&m.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"G":case"P":m.WTF&&console.log("Skipping "+X.name+":"+X.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+X.type)}if(v[v.l]!==13&&(v.l=S-1),v.read_shift(1)!==13)throw new Error("DBF Terminator not found "+v.l+" "+v[v.l]);v.l=S;var I=0,R=0;for(f[0]=[],R=0;R!=j.length;++R)f[0][R]=j[R].name;for(;w-- >0;){if(v[v.l]===42){v.l+=k;continue}for(++v.l,f[++I]=[],R=0,R=0;R!=j.length;++R){var N=v.slice(v.l,v.l+j[R].len);v.l+=j[R].len,la(N,0);var F=cm.utils.decode(D,N);switch(j[R].type){case"C":F.trim().length&&(f[I][R]=F.replace(/\s+$/,""));break;case"D":F.length===8?f[I][R]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):f[I][R]=F;break;case"F":f[I][R]=parseFloat(F.trim());break;case"+":case"I":f[I][R]=b?N.read_shift(-4,"i")^2147483648:N.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":f[I][R]=!0;break;case"N":case"F":f[I][R]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!y)throw new Error("DBF Unexpected MEMO for type "+_.toString(16));f[I][R]="##MEMO##"+(b?parseInt(F.trim(),10):N.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(f[I][R]=+F||0);break;case"@":f[I][R]=new Date(N.read_shift(-8,"f")-621356832e5);break;case"T":f[I][R]=new Date((N.read_shift(4)-2440588)*864e5+N.read_shift(4));break;case"Y":f[I][R]=N.read_shift(4,"i")/1e4+N.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":f[I][R]=-N.read_shift(-8,"f");break;case"B":if(E&&j[R].len==8){f[I][R]=N.read_shift(8,"f");break}case"G":case"P":N.l+=j[R].len;break;case"0":if(j[R].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+j[R].type)}}}if(_!=2&&v.l<v.length&&v[v.l++]!=26)throw new Error("DBF EOF Marker missing "+(v.l-1)+" of "+v.length+" "+v[v.l-1].toString(16));return m&&m.sheetRows&&(f=f.slice(0,m.sheetRows)),m.DBF=j,f}function r(d,m){var f=m||{};f.dateNF||(f.dateNF="yyyymmdd");var v=Su(t(d,f),f);return v["!cols"]=f.DBF.map(function(_){return{wch:_.len,DBF:_}}),delete f.DBF,v}function s(d,m){try{return Hl(r(d,m),m)}catch(f){if(m&&m.WTF)throw f}return{SheetNames:[],Sheets:{}}}var o={B:8,C:250,L:1,D:8,"?":0,"":0};function u(d,m){var f=m||{};if(+f.codepage>=0&&pd(+f.codepage),f.type=="string")throw new Error("Cannot write DBF to JS string");var v=Kr(),_=Tm(d,{header:1,raw:!0,cellDates:!0}),y=_[0],E=_.slice(1),b=d["!cols"]||[],w=0,S=0,k=0,D=1;for(w=0;w<y.length;++w){if(((b[w]||{}).DBF||{}).name){y[w]=b[w].DBF.name,++k;continue}if(y[w]!=null){if(++k,typeof y[w]=="number"&&(y[w]=y[w].toString(10)),typeof y[w]!="string")throw new Error("DBF Invalid column name "+y[w]+" |"+typeof y[w]+"|");if(y.indexOf(y[w])!==w){for(S=0;S<1024;++S)if(y.indexOf(y[w]+"_"+S)==-1){y[w]+="_"+S;break}}}}var j=rn(d["!ref"]),X=[],te=[],ie=[];for(w=0;w<=j.e.c-j.s.c;++w){var I="",R="",N=0,F=[];for(S=0;S<E.length;++S)E[S][w]!=null&&F.push(E[S][w]);if(F.length==0||y[w]==null){X[w]="?";continue}for(S=0;S<F.length;++S){switch(typeof F[S]){case"number":R="B";break;case"string":R="C";break;case"boolean":R="L";break;case"object":R=F[S]instanceof Date?"D":"C";break;default:R="C"}N=Math.max(N,String(F[S]).length),I=I&&I!=R?"C":R}N>250&&(N=250),R=((b[w]||{}).DBF||{}).type,R=="C"&&b[w].DBF.len>N&&(N=b[w].DBF.len),I=="B"&&R=="N"&&(I="N",ie[w]=b[w].DBF.dec,N=b[w].DBF.len),te[w]=I=="C"||R=="N"?N:o[I]||0,D+=te[w],X[w]=I}var U=v.next(32);for(U.write_shift(4,318902576),U.write_shift(4,E.length),U.write_shift(2,296+32*k),U.write_shift(2,D),w=0;w<4;++w)U.write_shift(4,0);for(U.write_shift(4,0|(+e[wN]||3)<<8),w=0,S=0;w<y.length;++w)if(y[w]!=null){var M=v.next(32),B=(y[w].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);M.write_shift(1,B,"sbcs"),M.write_shift(1,X[w]=="?"?"C":X[w],"sbcs"),M.write_shift(4,S),M.write_shift(1,te[w]||o[X[w]]||0),M.write_shift(1,ie[w]||0),M.write_shift(1,2),M.write_shift(4,0),M.write_shift(1,0),M.write_shift(4,0),M.write_shift(4,0),S+=te[w]||o[X[w]]||0}var J=v.next(264);for(J.write_shift(4,13),w=0;w<65;++w)J.write_shift(4,0);for(w=0;w<E.length;++w){var Ee=v.next(D);for(Ee.write_shift(1,0),S=0;S<y.length;++S)if(y[S]!=null)switch(X[S]){case"L":Ee.write_shift(1,E[w][S]==null?63:E[w][S]?84:70);break;case"B":Ee.write_shift(8,E[w][S]||0,"f");break;case"N":var re="0";for(typeof E[w][S]=="number"&&(re=E[w][S].toFixed(ie[S]||0)),k=0;k<te[S]-re.length;++k)Ee.write_shift(1,32);Ee.write_shift(1,re,"sbcs");break;case"D":E[w][S]?(Ee.write_shift(4,("0000"+E[w][S].getFullYear()).slice(-4),"sbcs"),Ee.write_shift(2,("00"+(E[w][S].getMonth()+1)).slice(-2),"sbcs"),Ee.write_shift(2,("00"+E[w][S].getDate()).slice(-2),"sbcs")):Ee.write_shift(8,"00000000","sbcs");break;case"C":var xe=String(E[w][S]!=null?E[w][S]:"").slice(0,te[S]);for(Ee.write_shift(1,xe,"sbcs"),k=0;k<te[S]-xe.length;++k)Ee.write_shift(1,32);break}}return v.next(1).write_shift(1,26),v.end()}return{to_workbook:s,to_sheet:r,from_sheet:u}})(),W9=(function(){var n={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+cr(n).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),t=function(y,E){var b=n[E];return typeof b=="number"?Cw(b):b},r=function(y,E,b){var w=E.charCodeAt(0)-32<<4|b.charCodeAt(0)-48;return w==59?y:Cw(w)};n["|"]=254;function s(y,E){switch(E.type){case"base64":return o(Ci(y),E);case"binary":return o(y,E);case"buffer":return o(Ct&&Buffer.isBuffer(y)?y.toString("binary"):Pd(y),E);case"array":return o(sp(y),E)}throw new Error("Unrecognized type "+E.type)}function o(y,E){var b=y.split(/[\n\r]+/),w=-1,S=-1,k=0,D=0,j=[],X=[],te=null,ie={},I=[],R=[],N=[],F=0,U;for(+E.codepage>=0&&pd(+E.codepage);k!==b.length;++k){F=0;var M=b[k].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(e,t),B=M.replace(/;;/g,"\0").split(";").map(function(ee){return ee.replace(/\u0000/g,";")}),J=B[0],Ee;if(M.length>0)switch(J){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":B[1].charAt(0)=="P"&&X.push(M.slice(3).replace(/;;/g,";"));break;case"C":var re=!1,xe=!1,le=!1,Le=!1,Te=-1,W=-1;for(D=1;D<B.length;++D)switch(B[D].charAt(0)){case"A":break;case"X":S=parseInt(B[D].slice(1))-1,xe=!0;break;case"Y":for(w=parseInt(B[D].slice(1))-1,xe||(S=0),U=j.length;U<=w;++U)j[U]=[];break;case"K":Ee=B[D].slice(1),Ee.charAt(0)==='"'?Ee=Ee.slice(1,Ee.length-1):Ee==="TRUE"?Ee=!0:Ee==="FALSE"?Ee=!1:isNaN(_i(Ee))?isNaN(vd(Ee).getDate())||(Ee=kr(Ee)):(Ee=_i(Ee),te!==null&&MN(te)&&(Ee=VN(Ee))),re=!0;break;case"E":Le=!0;var V=$7(B[D].slice(1),{r:w,c:S});j[w][S]=[j[w][S],V];break;case"S":le=!0,j[w][S]=[j[w][S],"S5S"];break;case"G":break;case"R":Te=parseInt(B[D].slice(1))-1;break;case"C":W=parseInt(B[D].slice(1))-1;break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+M)}if(re&&(j[w][S]&&j[w][S].length==2?j[w][S][0]=Ee:j[w][S]=Ee,te=null),le){if(Le)throw new Error("SYLK shared formula cannot have own formula");var Z=Te>-1&&j[Te][W];if(!Z||!Z[1])throw new Error("SYLK shared formula cannot find base");j[w][S][1]=K7(Z[1],{r:w-Te,c:S-W})}break;case"F":var Q=0;for(D=1;D<B.length;++D)switch(B[D].charAt(0)){case"X":S=parseInt(B[D].slice(1))-1,++Q;break;case"Y":for(w=parseInt(B[D].slice(1))-1,U=j.length;U<=w;++U)j[U]=[];break;case"M":F=parseInt(B[D].slice(1))/20;break;case"F":break;case"G":break;case"P":te=X[parseInt(B[D].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(N=B[D].slice(1).split(" "),U=parseInt(N[0],10);U<=parseInt(N[1],10);++U)F=parseInt(N[2],10),R[U-1]=F===0?{hidden:!0}:{wch:F},Zx(R[U-1]);break;case"C":S=parseInt(B[D].slice(1))-1,R[S]||(R[S]={});break;case"R":w=parseInt(B[D].slice(1))-1,I[w]||(I[w]={}),F>0?(I[w].hpt=F,I[w].hpx=bC(F)):F===0&&(I[w].hidden=!0);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+M)}Q<1&&(te=null);break;default:if(E&&E.WTF)throw new Error("SYLK bad record "+M)}}return I.length>0&&(ie["!rows"]=I),R.length>0&&(ie["!cols"]=R),E&&E.sheetRows&&(j=j.slice(0,E.sheetRows)),[j,ie]}function u(y,E){var b=s(y,E),w=b[0],S=b[1],k=Su(w,E);return cr(S).forEach(function(D){k[D]=S[D]}),k}function d(y,E){return Hl(u(y,E),E)}function m(y,E,b,w){var S="C;Y"+(b+1)+";X"+(w+1)+";K";switch(y.t){case"n":S+=y.v||0,y.f&&!y.F&&(S+=";E"+t_(y.f,{r:b,c:w}));break;case"b":S+=y.v?"TRUE":"FALSE";break;case"e":S+=y.w||y.v;break;case"d":S+='"'+(y.w||y.v)+'"';break;case"s":S+='"'+y.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return S}function f(y,E){E.forEach(function(b,w){var S="F;W"+(w+1)+" "+(w+1)+" ";b.hidden?S+="0":(typeof b.width=="number"&&!b.wpx&&(b.wpx=xm(b.width)),typeof b.wpx=="number"&&!b.wch&&(b.wch=_m(b.wpx)),typeof b.wch=="number"&&(S+=Math.round(b.wch))),S.charAt(S.length-1)!=" "&&y.push(S)})}function v(y,E){E.forEach(function(b,w){var S="F;";b.hidden?S+="M0;":b.hpt?S+="M"+20*b.hpt+";":b.hpx&&(S+="M"+20*ym(b.hpx)+";"),S.length>2&&y.push(S+"R"+(w+1))})}function _(y,E){var b=["ID;PWXL;N;E"],w=[],S=rn(y["!ref"]),k,D=Array.isArray(y),j=`\r
`;b.push("P;PGeneral"),b.push("F;P0;DG0G8;M255"),y["!cols"]&&f(b,y["!cols"]),y["!rows"]&&v(b,y["!rows"]),b.push("B;Y"+(S.e.r-S.s.r+1)+";X"+(S.e.c-S.s.c+1)+";D"+[S.s.c,S.s.r,S.e.c,S.e.r].join(" "));for(var X=S.s.r;X<=S.e.r;++X)for(var te=S.s.c;te<=S.e.c;++te){var ie=zt({r:X,c:te});k=D?(y[X]||[])[te]:y[ie],!(!k||k.v==null&&(!k.f||k.F))&&w.push(m(k,y,X,te))}return b.join(j)+j+w.join(j)+j+"E"+j}return{to_workbook:d,to_sheet:u,from_sheet:_}})(),X9=(function(){function n(o,u){switch(u.type){case"base64":return e(Ci(o),u);case"binary":return e(o,u);case"buffer":return e(Ct&&Buffer.isBuffer(o)?o.toString("binary"):Pd(o),u);case"array":return e(sp(o),u)}throw new Error("Unrecognized type "+u.type)}function e(o,u){for(var d=o.split(`
`),m=-1,f=-1,v=0,_=[];v!==d.length;++v){if(d[v].trim()==="BOT"){_[++m]=[],f=0;continue}if(!(m<0)){var y=d[v].trim().split(","),E=y[0],b=y[1];++v;for(var w=d[v]||"";(w.match(/["]/g)||[]).length&1&&v<d.length-1;)w+=`
`+d[++v];switch(w=w.trim(),+E){case-1:if(w==="BOT"){_[++m]=[],f=0;continue}else if(w!=="EOD")throw new Error("Unrecognized DIF special command "+w);break;case 0:w==="TRUE"?_[m][f]=!0:w==="FALSE"?_[m][f]=!1:isNaN(_i(b))?isNaN(vd(b).getDate())?_[m][f]=b:_[m][f]=kr(b):_[m][f]=_i(b),++f;break;case 1:w=w.slice(1,w.length-1),w=w.replace(/""/g,'"'),w&&w.match(/^=".*"$/)&&(w=w.slice(2,-1)),_[m][f++]=w!==""?w:null;break}if(w==="EOD")break}}return u&&u.sheetRows&&(_=_.slice(0,u.sheetRows)),_}function t(o,u){return Su(n(o,u),u)}function r(o,u){return Hl(t(o,u),u)}var s=(function(){var o=function(m,f,v,_,y){m.push(f),m.push(v+","+_),m.push('"'+y.replace(/"/g,'""')+'"')},u=function(m,f,v,_){m.push(f+","+v),m.push(f==1?'"'+_.replace(/"/g,'""')+'"':_)};return function(m){var f=[],v=rn(m["!ref"]),_,y=Array.isArray(m);o(f,"TABLE",0,1,"sheetjs"),o(f,"VECTORS",0,v.e.r-v.s.r+1,""),o(f,"TUPLES",0,v.e.c-v.s.c+1,""),o(f,"DATA",0,0,"");for(var E=v.s.r;E<=v.e.r;++E){u(f,-1,0,"BOT");for(var b=v.s.c;b<=v.e.c;++b){var w=zt({r:E,c:b});if(_=y?(m[E]||[])[b]:m[w],!_){u(f,1,0,"");continue}switch(_.t){case"n":var S=_.w;!S&&_.v!=null&&(S=_.v),S==null?_.f&&!_.F?u(f,1,0,"="+_.f):u(f,1,0,""):u(f,0,S,"V");break;case"b":u(f,0,_.v?1:0,_.v?"TRUE":"FALSE");break;case"s":u(f,1,0,isNaN(_.v)?_.v:'="'+_.v+'"');break;case"d":_.w||(_.w=Oo(_.z||_n[14],Wr(kr(_.v)))),u(f,0,_.w,"V");break;default:u(f,1,0,"")}}}u(f,-1,0,"EOD");var k=`\r
`,D=f.join(k);return D}})();return{to_workbook:r,to_sheet:t,from_sheet:s}})(),TC=(function(){function n(_){return _.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(_){return _.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function t(_,y){for(var E=_.split(`
`),b=-1,w=-1,S=0,k=[];S!==E.length;++S){var D=E[S].trim().split(":");if(D[0]==="cell"){var j=Wn(D[1]);if(k.length<=j.r)for(b=k.length;b<=j.r;++b)k[b]||(k[b]=[]);switch(b=j.r,w=j.c,D[2]){case"t":k[b][w]=n(D[3]);break;case"v":k[b][w]=+D[3];break;case"vtf":var X=D[D.length-1];case"vtc":switch(D[3]){case"nl":k[b][w]=!!+D[4];break;default:k[b][w]=+D[4];break}D[2]=="vtf"&&(k[b][w]=[k[b][w],X])}}}return y&&y.sheetRows&&(k=k.slice(0,y.sheetRows)),k}function r(_,y){return Su(t(_,y),y)}function s(_,y){return Hl(r(_,y),y)}var o=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),u=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,d=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),m="--SocialCalcSpreadsheetControlSave--";function f(_){if(!_||!_["!ref"])return"";for(var y=[],E=[],b,w="",S=va(_["!ref"]),k=Array.isArray(_),D=S.s.r;D<=S.e.r;++D)for(var j=S.s.c;j<=S.e.c;++j)if(w=zt({r:D,c:j}),b=k?(_[D]||[])[j]:_[w],!(!b||b.v==null||b.t==="z")){switch(E=["cell",w,"t"],b.t){case"s":case"str":E.push(e(b.v));break;case"n":b.f?(E[2]="vtf",E[3]="n",E[4]=b.v,E[5]=e(b.f)):(E[2]="v",E[3]=b.v);break;case"b":E[2]="vt"+(b.f?"f":"c"),E[3]="nl",E[4]=b.v?"1":"0",E[5]=e(b.f||(b.v?"TRUE":"FALSE"));break;case"d":var X=Wr(kr(b.v));E[2]="vtc",E[3]="nd",E[4]=""+X,E[5]=b.w||Oo(b.z||_n[14],X);break;case"e":continue}y.push(E.join(":"))}return y.push("sheet:c:"+(S.e.c-S.s.c+1)+":r:"+(S.e.r-S.s.r+1)+":tvf:1"),y.push("valueformat:1:text-wiki"),y.join(`
`)}function v(_){return[o,u,d,u,f(_),m].join(`
`)}return{to_workbook:s,to_sheet:r,from_sheet:v}})(),Y9=(function(){function n(v,_,y,E,b){b.raw?_[y][E]=v:v===""||(v==="TRUE"?_[y][E]=!0:v==="FALSE"?_[y][E]=!1:isNaN(_i(v))?isNaN(vd(v).getDate())?_[y][E]=v:_[y][E]=kr(v):_[y][E]=_i(v))}function e(v,_){var y=_||{},E=[];if(!v||v.length===0)return E;for(var b=v.split(/[\r\n]/),w=b.length-1;w>=0&&b[w].length===0;)--w;for(var S=10,k=0,D=0;D<=w;++D)k=b[D].indexOf(" "),k==-1?k=b[D].length:k++,S=Math.max(S,k);for(D=0;D<=w;++D){E[D]=[];var j=0;for(n(b[D].slice(0,S).trim(),E,D,j,y),j=1;j<=(b[D].length-S)/10+1;++j)n(b[D].slice(S+(j-1)*10,S+j*10).trim(),E,D,j,y)}return y.sheetRows&&(E=E.slice(0,y.sheetRows)),E}var t={44:",",9:"	",59:";",124:"|"},r={44:3,9:2,59:1,124:0};function s(v){for(var _={},y=!1,E=0,b=0;E<v.length;++E)(b=v.charCodeAt(E))==34?y=!y:!y&&b in t&&(_[b]=(_[b]||0)+1);b=[];for(E in _)Object.prototype.hasOwnProperty.call(_,E)&&b.push([_[E],E]);if(!b.length){_=r;for(E in _)Object.prototype.hasOwnProperty.call(_,E)&&b.push([_[E],E])}return b.sort(function(w,S){return w[0]-S[0]||r[w[1]]-r[S[1]]}),t[b.pop()[1]]||44}function o(v,_){var y=_||{},E="",b=y.dense?[]:{},w={s:{c:0,r:0},e:{c:0,r:0}};v.slice(0,4)=="sep="?v.charCodeAt(5)==13&&v.charCodeAt(6)==10?(E=v.charAt(4),v=v.slice(7)):v.charCodeAt(5)==13||v.charCodeAt(5)==10?(E=v.charAt(4),v=v.slice(6)):E=s(v.slice(0,1024)):y&&y.FS?E=y.FS:E=s(v.slice(0,1024));var S=0,k=0,D=0,j=0,X=0,te=E.charCodeAt(0),ie=!1,I=0,R=v.charCodeAt(0);v=v.replace(/\r\n/mg,`
`);var N=y.dateNF!=null?dL(y.dateNF):null;function F(){var U=v.slice(j,X),M={};if(U.charAt(0)=='"'&&U.charAt(U.length-1)=='"'&&(U=U.slice(1,-1).replace(/""/g,'"')),U.length===0)M.t="z";else if(y.raw)M.t="s",M.v=U;else if(U.trim().length===0)M.t="s",M.v=U;else if(U.charCodeAt(0)==61)U.charCodeAt(1)==34&&U.charCodeAt(U.length-1)==34?(M.t="s",M.v=U.slice(2,-1).replace(/""/g,'"')):W7(U)?(M.t="n",M.f=U.slice(1)):(M.t="s",M.v=U);else if(U=="TRUE")M.t="b",M.v=!0;else if(U=="FALSE")M.t="b",M.v=!1;else if(!isNaN(D=_i(U)))M.t="n",y.cellText!==!1&&(M.w=U),M.v=D;else if(!isNaN(vd(U).getDate())||N&&U.match(N)){M.z=y.dateNF||_n[14];var B=0;N&&U.match(N)&&(U=fL(U,y.dateNF,U.match(N)||[]),B=1),y.cellDates?(M.t="d",M.v=kr(U,B)):(M.t="n",M.v=Wr(kr(U,B))),y.cellText!==!1&&(M.w=Oo(M.z,M.v instanceof Date?Wr(M.v):M.v)),y.cellNF||delete M.z}else M.t="s",M.v=U;if(M.t=="z"||(y.dense?(b[S]||(b[S]=[]),b[S][k]=M):b[zt({c:k,r:S})]=M),j=X+1,R=v.charCodeAt(j),w.e.c<k&&(w.e.c=k),w.e.r<S&&(w.e.r=S),I==te)++k;else if(k=0,++S,y.sheetRows&&y.sheetRows<=S)return!0}e:for(;X<v.length;++X)switch(I=v.charCodeAt(X)){case 34:R===34&&(ie=!ie);break;case te:case 10:case 13:if(!ie&&F())break e;break}return X-j>0&&F(),b["!ref"]=Pn(w),b}function u(v,_){return!(_&&_.PRN)||_.FS||v.slice(0,4)=="sep="||v.indexOf("	")>=0||v.indexOf(",")>=0||v.indexOf(";")>=0?o(v,_):Su(e(v,_),_)}function d(v,_){var y="",E=_.type=="string"?[0,0,0,0]:lq(v,_);switch(_.type){case"base64":y=Ci(v);break;case"binary":y=v;break;case"buffer":_.codepage==65001?y=v.toString("utf8"):_.codepage&&typeof cm<"u"||(y=Ct&&Buffer.isBuffer(v)?v.toString("binary"):Pd(v));break;case"array":y=sp(v);break;case"string":y=v;break;default:throw new Error("Unrecognized type "+_.type)}return E[0]==239&&E[1]==187&&E[2]==191?y=Xh(y.slice(3)):_.type!="string"&&_.type!="buffer"&&_.codepage==65001?y=Xh(y):_.type=="binary"&&typeof cm<"u",y.slice(0,19)=="socialcalc:version:"?TC.to_sheet(_.type=="string"?y:Xh(y),_):u(y,_)}function m(v,_){return Hl(d(v,_),_)}function f(v){for(var _=[],y=rn(v["!ref"]),E,b=Array.isArray(v),w=y.s.r;w<=y.e.r;++w){for(var S=[],k=y.s.c;k<=y.e.c;++k){var D=zt({r:w,c:k});if(E=b?(v[w]||[])[k]:v[D],!E||E.v==null){S.push("          ");continue}for(var j=(E.w||(Ii(E),E.w)||"").slice(0,10);j.length<10;)j+=" ";S.push(j+(k===0?" ":""))}_.push(S.join(""))}return _.join(`
`)}return{to_workbook:m,to_sheet:d,from_sheet:f}})(),sA=(function(){function n(V,Z,Q){if(V){la(V,V.l||0);for(var ee=Q.Enum||Te;V.l<V.length;){var pe=V.read_shift(2),De=ee[pe]||ee[65535],Be=V.read_shift(2),Me=V.l+Be,se=De.f&&De.f(V,Be,Q);if(V.l=Me,Z(se,De,pe))return}}}function e(V,Z){switch(Z.type){case"base64":return t(es(Ci(V)),Z);case"binary":return t(es(V),Z);case"buffer":case"array":return t(V,Z)}throw"Unsupported type "+Z.type}function t(V,Z){if(!V)return V;var Q=Z||{},ee=Q.dense?[]:{},pe="Sheet1",De="",Be=0,Me={},se=[],Xe=[],tt={s:{r:0,c:0},e:{r:0,c:0}},an=Q.sheetRows||0;if(V[2]==0&&(V[3]==8||V[3]==9)&&V.length>=16&&V[14]==5&&V[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(V[2]==2)Q.Enum=Te,n(V,function(He,zn,Dt){switch(Dt){case 0:Q.vers=He,He>=4096&&(Q.qpro=!0);break;case 6:tt=He;break;case 204:He&&(De=He);break;case 222:De=He;break;case 15:case 51:Q.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Dt==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=Q.dateNF||_n[14],Q.cellDates&&(He[1].t="d",He[1].v=VN(He[1].v))),Q.qpro&&He[3]>Be&&(ee["!ref"]=Pn(tt),Me[pe]=ee,se.push(pe),ee=Q.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Be=He[3],pe=De||"Sheet"+(Be+1),De="");var Wt=Q.dense?(ee[He[0].r]||[])[He[0].c]:ee[zt(He[0])];if(Wt){Wt.t=He[1].t,Wt.v=He[1].v,He[1].z!=null&&(Wt.z=He[1].z),He[1].f!=null&&(Wt.f=He[1].f);break}Q.dense?(ee[He[0].r]||(ee[He[0].r]=[]),ee[He[0].r][He[0].c]=He[1]):ee[zt(He[0])]=He[1];break}},Q);else if(V[2]==26||V[2]==14)Q.Enum=W,V[2]==14&&(Q.qpro=!0,V.l=0),n(V,function(He,zn,Dt){switch(Dt){case 204:pe=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>Be&&(ee["!ref"]=Pn(tt),Me[pe]=ee,se.push(pe),ee=Q.dense?[]:{},tt={s:{r:0,c:0},e:{r:0,c:0}},Be=He[3],pe="Sheet"+(Be+1)),an>0&&He[0].r>=an)break;Q.dense?(ee[He[0].r]||(ee[He[0].r]=[]),ee[He[0].r][He[0].c]=He[1]):ee[zt(He[0])]=He[1],tt.e.c<He[0].c&&(tt.e.c=He[0].c),tt.e.r<He[0].r&&(tt.e.r=He[0].r);break;case 27:He[14e3]&&(Xe[He[14e3][0]]=He[14e3][1]);break;case 1537:Xe[He[0]]=He[1],He[0]==Be&&(pe=He[1]);break}},Q);else throw new Error("Unrecognized LOTUS BOF "+V[2]);if(ee["!ref"]=Pn(tt),Me[De||pe]=ee,se.push(De||pe),!Xe.length)return{SheetNames:se,Sheets:Me};for(var ut={},wr=[],Rt=0;Rt<Xe.length;++Rt)Me[se[Rt]]?(wr.push(Xe[Rt]||se[Rt]),ut[Xe[Rt]]=Me[Xe[Rt]]||Me[se[Rt]]):(wr.push(Xe[Rt]),ut[Xe[Rt]]={"!ref":"A1"});return{SheetNames:wr,Sheets:ut}}function r(V,Z){var Q=Z||{};if(+Q.codepage>=0&&pd(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK1 to JS string");var ee=Kr(),pe=rn(V["!ref"]),De=Array.isArray(V),Be=[];Fe(ee,0,o(1030)),Fe(ee,6,m(pe));for(var Me=Math.min(pe.e.r,8191),se=pe.s.r;se<=Me;++se)for(var Xe=or(se),tt=pe.s.c;tt<=pe.e.c;++tt){se===pe.s.r&&(Be[tt]=yr(tt));var an=Be[tt]+Xe,ut=De?(V[se]||[])[tt]:V[an];if(!(!ut||ut.t=="z"))if(ut.t=="n")(ut.v|0)==ut.v&&ut.v>=-32768&&ut.v<=32767?Fe(ee,13,E(se,tt,ut.v)):Fe(ee,14,w(se,tt,ut.v));else{var wr=Ii(ut);Fe(ee,15,_(se,tt,wr.slice(0,239)))}}return Fe(ee,1),ee.end()}function s(V,Z){var Q=Z||{};if(+Q.codepage>=0&&pd(+Q.codepage),Q.type=="string")throw new Error("Cannot write WK3 to JS string");var ee=Kr();Fe(ee,0,u(V));for(var pe=0,De=0;pe<V.SheetNames.length;++pe)(V.Sheets[V.SheetNames[pe]]||{})["!ref"]&&Fe(ee,27,Le(V.SheetNames[pe],De++));var Be=0;for(pe=0;pe<V.SheetNames.length;++pe){var Me=V.Sheets[V.SheetNames[pe]];if(!(!Me||!Me["!ref"])){for(var se=rn(Me["!ref"]),Xe=Array.isArray(Me),tt=[],an=Math.min(se.e.r,8191),ut=se.s.r;ut<=an;++ut)for(var wr=or(ut),Rt=se.s.c;Rt<=se.e.c;++Rt){ut===se.s.r&&(tt[Rt]=yr(Rt));var He=tt[Rt]+wr,zn=Xe?(Me[ut]||[])[Rt]:Me[He];if(!(!zn||zn.t=="z"))if(zn.t=="n")Fe(ee,23,F(ut,Rt,Be,zn.v));else{var Dt=Ii(zn);Fe(ee,22,I(ut,Rt,Be,Dt.slice(0,239)))}}++Be}}return Fe(ee,1),ee.end()}function o(V){var Z=we(2);return Z.write_shift(2,V),Z}function u(V){var Z=we(26);Z.write_shift(2,4096),Z.write_shift(2,4),Z.write_shift(4,0);for(var Q=0,ee=0,pe=0,De=0;De<V.SheetNames.length;++De){var Be=V.SheetNames[De],Me=V.Sheets[Be];if(!(!Me||!Me["!ref"])){++pe;var se=va(Me["!ref"]);Q<se.e.r&&(Q=se.e.r),ee<se.e.c&&(ee=se.e.c)}}return Q>8191&&(Q=8191),Z.write_shift(2,Q),Z.write_shift(1,pe),Z.write_shift(1,ee),Z.write_shift(2,0),Z.write_shift(2,0),Z.write_shift(1,1),Z.write_shift(1,2),Z.write_shift(4,0),Z.write_shift(4,0),Z}function d(V,Z,Q){var ee={s:{c:0,r:0},e:{c:0,r:0}};return Z==8&&Q.qpro?(ee.s.c=V.read_shift(1),V.l++,ee.s.r=V.read_shift(2),ee.e.c=V.read_shift(1),V.l++,ee.e.r=V.read_shift(2),ee):(ee.s.c=V.read_shift(2),ee.s.r=V.read_shift(2),Z==12&&Q.qpro&&(V.l+=2),ee.e.c=V.read_shift(2),ee.e.r=V.read_shift(2),Z==12&&Q.qpro&&(V.l+=2),ee.s.c==65535&&(ee.s.c=ee.e.c=ee.s.r=ee.e.r=0),ee)}function m(V){var Z=we(8);return Z.write_shift(2,V.s.c),Z.write_shift(2,V.s.r),Z.write_shift(2,V.e.c),Z.write_shift(2,V.e.r),Z}function f(V,Z,Q){var ee=[{c:0,r:0},{t:"n",v:0},0,0];return Q.qpro&&Q.vers!=20768?(ee[0].c=V.read_shift(1),ee[3]=V.read_shift(1),ee[0].r=V.read_shift(2),V.l+=2):(ee[2]=V.read_shift(1),ee[0].c=V.read_shift(2),ee[0].r=V.read_shift(2)),ee}function v(V,Z,Q){var ee=V.l+Z,pe=f(V,Z,Q);if(pe[1].t="s",Q.vers==20768){V.l++;var De=V.read_shift(1);return pe[1].v=V.read_shift(De,"utf8"),pe}return Q.qpro&&V.l++,pe[1].v=V.read_shift(ee-V.l,"cstr"),pe}function _(V,Z,Q){var ee=we(7+Q.length);ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,V),ee.write_shift(1,39);for(var pe=0;pe<ee.length;++pe){var De=Q.charCodeAt(pe);ee.write_shift(1,De>=128?95:De)}return ee.write_shift(1,0),ee}function y(V,Z,Q){var ee=f(V,Z,Q);return ee[1].v=V.read_shift(2,"i"),ee}function E(V,Z,Q){var ee=we(7);return ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,V),ee.write_shift(2,Q,"i"),ee}function b(V,Z,Q){var ee=f(V,Z,Q);return ee[1].v=V.read_shift(8,"f"),ee}function w(V,Z,Q){var ee=we(13);return ee.write_shift(1,255),ee.write_shift(2,Z),ee.write_shift(2,V),ee.write_shift(8,Q,"f"),ee}function S(V,Z,Q){var ee=V.l+Z,pe=f(V,Z,Q);if(pe[1].v=V.read_shift(8,"f"),Q.qpro)V.l=ee;else{var De=V.read_shift(2);X(V.slice(V.l,V.l+De),pe),V.l+=De}return pe}function k(V,Z,Q){var ee=Z&32768;return Z&=-32769,Z=(ee?V:0)+(Z>=8192?Z-16384:Z),(ee?"":"$")+(Q?yr(Z):or(Z))}var D={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},j=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function X(V,Z){la(V,0);for(var Q=[],ee=0,pe="",De="",Be="",Me="";V.l<V.length;){var se=V[V.l++];switch(se){case 0:Q.push(V.read_shift(8,"f"));break;case 1:De=k(Z[0].c,V.read_shift(2),!0),pe=k(Z[0].r,V.read_shift(2),!1),Q.push(De+pe);break;case 2:{var Xe=k(Z[0].c,V.read_shift(2),!0),tt=k(Z[0].r,V.read_shift(2),!1);De=k(Z[0].c,V.read_shift(2),!0),pe=k(Z[0].r,V.read_shift(2),!1),Q.push(Xe+tt+":"+De+pe)}break;case 3:if(V.l<V.length){console.error("WK1 premature formula end");return}break;case 4:Q.push("("+Q.pop()+")");break;case 5:Q.push(V.read_shift(2));break;case 6:{for(var an="";se=V[V.l++];)an+=String.fromCharCode(se);Q.push('"'+an.replace(/"/g,'""')+'"')}break;case 8:Q.push("-"+Q.pop());break;case 23:Q.push("+"+Q.pop());break;case 22:Q.push("NOT("+Q.pop()+")");break;case 20:case 21:Me=Q.pop(),Be=Q.pop(),Q.push(["AND","OR"][se-20]+"("+Be+","+Me+")");break;default:if(se<32&&j[se])Me=Q.pop(),Be=Q.pop(),Q.push(Be+j[se]+Me);else if(D[se]){if(ee=D[se][1],ee==69&&(ee=V[V.l++]),ee>Q.length){console.error("WK1 bad formula parse 0x"+se.toString(16)+":|"+Q.join("|")+"|");return}var ut=Q.slice(-ee);Q.length-=ee,Q.push(D[se][0]+"("+ut.join(",")+")")}else return se<=7?console.error("WK1 invalid opcode "+se.toString(16)):se<=24?console.error("WK1 unsupported op "+se.toString(16)):se<=30?console.error("WK1 invalid opcode "+se.toString(16)):se<=115?console.error("WK1 unsupported function opcode "+se.toString(16)):console.error("WK1 unrecognized opcode "+se.toString(16))}}Q.length==1?Z[1].f=""+Q[0]:console.error("WK1 bad formula parse |"+Q.join("|")+"|")}function te(V){var Z=[{c:0,r:0},{t:"n",v:0},0];return Z[0].r=V.read_shift(2),Z[3]=V[V.l++],Z[0].c=V[V.l++],Z}function ie(V,Z){var Q=te(V);return Q[1].t="s",Q[1].v=V.read_shift(Z-4,"cstr"),Q}function I(V,Z,Q,ee){var pe=we(6+ee.length);pe.write_shift(2,V),pe.write_shift(1,Q),pe.write_shift(1,Z),pe.write_shift(1,39);for(var De=0;De<ee.length;++De){var Be=ee.charCodeAt(De);pe.write_shift(1,Be>=128?95:Be)}return pe.write_shift(1,0),pe}function R(V,Z){var Q=te(V);Q[1].v=V.read_shift(2);var ee=Q[1].v>>1;if(Q[1].v&1)switch(ee&7){case 0:ee=(ee>>3)*5e3;break;case 1:ee=(ee>>3)*500;break;case 2:ee=(ee>>3)/20;break;case 3:ee=(ee>>3)/200;break;case 4:ee=(ee>>3)/2e3;break;case 5:ee=(ee>>3)/2e4;break;case 6:ee=(ee>>3)/16;break;case 7:ee=(ee>>3)/64;break}return Q[1].v=ee,Q}function N(V,Z){var Q=te(V),ee=V.read_shift(4),pe=V.read_shift(4),De=V.read_shift(2);if(De==65535)return ee===0&&pe===3221225472?(Q[1].t="e",Q[1].v=15):ee===0&&pe===3489660928?(Q[1].t="e",Q[1].v=42):Q[1].v=0,Q;var Be=De&32768;return De=(De&32767)-16446,Q[1].v=(1-Be*2)*(pe*Math.pow(2,De+32)+ee*Math.pow(2,De)),Q}function F(V,Z,Q,ee){var pe=we(14);if(pe.write_shift(2,V),pe.write_shift(1,Q),pe.write_shift(1,Z),ee==0)return pe.write_shift(4,0),pe.write_shift(4,0),pe.write_shift(2,65535),pe;var De=0,Be=0,Me=0,se=0;return ee<0&&(De=1,ee=-ee),Be=Math.log2(ee)|0,ee/=Math.pow(2,Be-31),se=ee>>>0,(se&2147483648)==0&&(ee/=2,++Be,se=ee>>>0),ee-=se,se|=2147483648,se>>>=0,ee*=Math.pow(2,32),Me=ee>>>0,pe.write_shift(4,Me),pe.write_shift(4,se),Be+=16383+(De?32768:0),pe.write_shift(2,Be),pe}function U(V,Z){var Q=N(V);return V.l+=Z-14,Q}function M(V,Z){var Q=te(V),ee=V.read_shift(4);return Q[1].v=ee>>6,Q}function B(V,Z){var Q=te(V),ee=V.read_shift(8,"f");return Q[1].v=ee,Q}function J(V,Z){var Q=B(V);return V.l+=Z-10,Q}function Ee(V,Z){return V[V.l+Z-1]==0?V.read_shift(Z,"cstr"):""}function re(V,Z){var Q=V[V.l++];Q>Z-1&&(Q=Z-1);for(var ee="";ee.length<Q;)ee+=String.fromCharCode(V[V.l++]);return ee}function xe(V,Z,Q){if(!(!Q.qpro||Z<21)){var ee=V.read_shift(1);V.l+=17,V.l+=1,V.l+=2;var pe=V.read_shift(Z-21,"cstr");return[ee,pe]}}function le(V,Z){for(var Q={},ee=V.l+Z;V.l<ee;){var pe=V.read_shift(2);if(pe==14e3){for(Q[pe]=[0,""],Q[pe][0]=V.read_shift(2);V[V.l];)Q[pe][1]+=String.fromCharCode(V[V.l]),V.l++;V.l++}}return Q}function Le(V,Z){var Q=we(5+V.length);Q.write_shift(2,14e3),Q.write_shift(2,Z);for(var ee=0;ee<V.length;++ee){var pe=V.charCodeAt(ee);Q[Q.l++]=pe>127?95:pe}return Q[Q.l++]=0,Q}var Te={0:{n:"BOF",f:vC},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:d},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:y},14:{n:"NUMBER",f:b},15:{n:"LABEL",f:v},16:{n:"FORMULA",f:S},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:v},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:Ee},222:{n:"SHEETNAMELP",f:re},65535:{n:""}},W={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:ie},23:{n:"NUMBER17",f:N},24:{n:"NUMBER18",f:R},25:{n:"FORMULA19",f:U},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:le},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:M},38:{n:"??"},39:{n:"NUMBER27",f:B},40:{n:"FORMULA28",f:J},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:Ee},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:xe},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:r,book_to_wk3:s,to_workbook:e}})(),Q9=/^\s|\s$|[\t\n\r]/;function wC(n,e){if(!e.bookSST)return"";var t=[Fn];t[t.length]=Pe("sst",null,{xmlns:Au[0],count:n.Count,uniqueCount:n.Unique});for(var r=0;r!=n.length;++r)if(n[r]!=null){var s=n[r],o="<si>";s.r?o+=s.r:(o+="<t",s.t||(s.t=""),s.t.match(Q9)&&(o+=' xml:space="preserve"'),o+=">"+Ut(s.t)+"</t>"),o+="</si>",t[t.length]=o}return t.length>2&&(t[t.length]="</sst>",t[1]=t[1].replace("/>",">")),t.join("")}function J9(n){return[n.read_shift(4),n.read_shift(4)]}function Z9(n,e){return e||(e=we(8)),e.write_shift(4,n.Count),e.write_shift(4,n.Unique),e}var e7=HL;function t7(n){var e=Kr();Re(e,159,Z9(n));for(var t=0;t<n.length;++t)Re(e,19,e7(n[t]));return Re(e,160),e.end()}function n7(n){for(var e=[],t=n.split(""),r=0;r<t.length;++r)e[r]=t[r].charCodeAt(0);return e}function AC(n){var e=0,t,r=n7(n),s=r.length+1,o,u,d,m,f;for(t=Pl(s),t[0]=r.length,o=1;o!=s;++o)t[o]=r[o-1];for(o=s-1;o>=0;--o)u=t[o],d=(e&16384)===0?0:1,m=e<<1&32767,f=d|m,e=f^u;return e^52811}var r7=(function(){function n(s,o){switch(o.type){case"base64":return e(Ci(s),o);case"binary":return e(s,o);case"buffer":return e(Ct&&Buffer.isBuffer(s)?s.toString("binary"):Pd(s),o);case"array":return e(sp(s),o)}throw new Error("Unrecognized type "+o.type)}function e(s,o){var u=o||{},d=u.dense?[]:{},m=s.match(/\\trowd.*?\\row\b/g);if(!m.length)throw new Error("RTF missing table");var f={s:{c:0,r:0},e:{c:0,r:m.length-1}};return m.forEach(function(v,_){Array.isArray(d)&&(d[_]=[]);for(var y=/\\\w+\b/g,E=0,b,w=-1;b=y.exec(v);){switch(b[0]){case"\\cell":var S=v.slice(E,y.lastIndex-b[0].length);if(S[0]==" "&&(S=S.slice(1)),++w,S.length){var k={v:S,t:"s"};Array.isArray(d)?d[_][w]=k:d[zt({r:_,c:w})]=k}break}E=y.lastIndex}w>f.e.c&&(f.e.c=w)}),d["!ref"]=Pn(f),d}function t(s,o){return Hl(n(s,o),o)}function r(s){for(var o=["{\\rtf1\\ansi"],u=rn(s["!ref"]),d,m=Array.isArray(s),f=u.s.r;f<=u.e.r;++f){o.push("\\trowd\\trautofit1");for(var v=u.s.c;v<=u.e.c;++v)o.push("\\cellx"+(v+1));for(o.push("\\pard\\intbl"),v=u.s.c;v<=u.e.c;++v){var _=zt({r:f,c:v});d=m?(s[f]||[])[v]:s[_],!(!d||d.v==null&&(!d.f||d.F))&&(o.push(" "+(d.w||(Ii(d),d.w))),o.push("\\cell"))}o.push("\\pard\\intbl\\row")}return o.join("")+"}"}return{to_workbook:t,to_sheet:n,from_sheet:r}})();function iA(n){for(var e=0,t=1;e!=3;++e)t=t*256+(n[e]>255?255:n[e]<0?0:n[e]);return t.toString(16).toUpperCase().slice(1)}var a7=6,yi=a7;function xm(n){return Math.floor((n+Math.round(128/yi)/256)*yi)}function _m(n){return Math.floor((n-5)/yi*100+.5)/100}function A1(n){return Math.round((n*yi+5)/yi*256)/256}function Zx(n){n.width?(n.wpx=xm(n.width),n.wch=_m(n.wpx),n.MDW=yi):n.wpx?(n.wch=_m(n.wpx),n.width=A1(n.wch),n.MDW=yi):typeof n.wch=="number"&&(n.width=A1(n.wch),n.wpx=xm(n.width),n.MDW=yi),n.customWidth&&delete n.customWidth}var s7=96,SC=s7;function ym(n){return n*96/SC}function bC(n){return n*SC/96}function i7(n){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(t){for(var r=t[0];r<=t[1];++r)n[r]!=null&&(e[e.length]=Pe("numFmt",null,{numFmtId:r,formatCode:Ut(n[r])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=Pe("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function o7(n){var e=[];return e[e.length]=Pe("cellXfs",null),n.forEach(function(t){e[e.length]=Pe("xf",null,t)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=Pe("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function NC(n,e){var t=[Fn,Pe("styleSheet",null,{xmlns:Au[0],"xmlns:vt":Kn.vt})],r;return n.SSF&&(r=i7(n.SSF))!=null&&(t[t.length]=r),t[t.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',t[t.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',t[t.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',t[t.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(r=o7(e.cellXfs))&&(t[t.length]=r),t[t.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',t[t.length]='<dxfs count="0"/>',t[t.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',t.length>2&&(t[t.length]="</styleSheet>",t[1]=t[1].replace("/>",">")),t.join("")}function l7(n,e){var t=n.read_shift(2),r=Er(n);return[t,r]}function c7(n,e,t){t||(t=we(6+4*e.length)),t.write_shift(2,n),Xn(e,t);var r=t.length>t.l?t.slice(0,t.l):t;return t.l==null&&(t.l=t.length),r}function u7(n,e,t){var r={};r.sz=n.read_shift(2)/20;var s=QL(n);s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1);var o=n.read_shift(2);switch(o===700&&(r.bold=1),n.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript";break}var u=n.read_shift(1);u!=0&&(r.underline=u);var d=n.read_shift(1);d>0&&(r.family=d);var m=n.read_shift(1);switch(m>0&&(r.charset=m),n.l++,r.color=YL(n),n.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor";break}return r.name=Er(n),r}function h7(n,e){e||(e=we(153)),e.write_shift(2,n.sz*20),JL(n,e),e.write_shift(2,n.bold?700:400);var t=0;n.vertAlign=="superscript"?t=1:n.vertAlign=="subscript"&&(t=2),e.write_shift(2,t),e.write_shift(1,n.underline||0),e.write_shift(1,n.family||0),e.write_shift(1,n.charset||0),e.write_shift(1,0),gm(n.color,e);var r=0;return r=2,e.write_shift(1,r),Xn(n.name,e),e.length>e.l?e.slice(0,e.l):e}var d7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Mv,f7=Ps;function oA(n,e){e||(e=we(84)),Mv||(Mv=Bx(d7));var t=Mv[n.patternType];t==null&&(t=40),e.write_shift(4,t);var r=0;if(t!=40)for(gm({auto:1},e),gm({auto:1},e);r<12;++r)e.write_shift(4,0);else{for(;r<4;++r)e.write_shift(4,0);for(;r<12;++r)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function m7(n,e){var t=n.l+e,r=n.read_shift(2),s=n.read_shift(2);return n.l=t,{ixfe:r,numFmtId:s}}function CC(n,e,t){t||(t=we(16)),t.write_shift(2,e||0),t.write_shift(2,n.numFmtId||0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);var r=0;return t.write_shift(1,r),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(1,0),t}function jh(n,e){return e||(e=we(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var p7=Ps;function g7(n,e){return e||(e=we(51)),e.write_shift(1,0),jh(null,e),jh(null,e),jh(null,e),jh(null,e),jh(null,e),e.length>e.l?e.slice(0,e.l):e}function v7(n,e){return e||(e=we(52)),e.write_shift(4,n.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),pm(n.name||"",e),e.length>e.l?e.slice(0,e.l):e}function x7(n,e,t){var r=we(2052);return r.write_shift(4,n),pm(e,r),pm(t,r),r.length>r.l?r.slice(0,r.l):r}function _7(n,e){if(e){var t=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&++t}),t!=0&&(Re(n,615,ss(t)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Re(n,44,c7(s,e[s]))}),Re(n,616))}}function y7(n){var e=1;Re(n,611,ss(e)),Re(n,43,h7({sz:12,color:{theme:1},name:"Calibri",family:2})),Re(n,612)}function E7(n){var e=2;Re(n,603,ss(e)),Re(n,45,oA({patternType:"none"})),Re(n,45,oA({patternType:"gray125"})),Re(n,604)}function T7(n){var e=1;Re(n,613,ss(e)),Re(n,46,g7()),Re(n,614)}function w7(n){var e=1;Re(n,626,ss(e)),Re(n,47,CC({numFmtId:0},65535)),Re(n,627)}function A7(n,e){Re(n,617,ss(e.length)),e.forEach(function(t){Re(n,47,CC(t,0))}),Re(n,618)}function S7(n){var e=1;Re(n,619,ss(e)),Re(n,48,v7({xfId:0,name:"Normal"})),Re(n,620)}function b7(n){var e=0;Re(n,505,ss(e)),Re(n,506)}function N7(n){var e=0;Re(n,508,x7(e,"TableStyleMedium9","PivotStyleMedium4")),Re(n,509)}function C7(n,e){var t=Kr();return Re(t,278),_7(t,n.SSF),y7(t),E7(t),T7(t),w7(t),A7(t,e.cellXfs),S7(t),b7(t),N7(t),Re(t,279),t.end()}function IC(n,e){if(e&&e.themeXLSX)return e.themeXLSX;if(n&&typeof n.raw=="string")return n.raw;var t=[Fn];return t[t.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',t[t.length]="<a:themeElements>",t[t.length]='<a:clrScheme name="Office">',t[t.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',t[t.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',t[t.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',t[t.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',t[t.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',t[t.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',t[t.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',t[t.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',t[t.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',t[t.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',t[t.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',t[t.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',t[t.length]="</a:clrScheme>",t[t.length]='<a:fontScheme name="Office">',t[t.length]="<a:majorFont>",t[t.length]='<a:latin typeface="Cambria"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Times New Roman"/>',t[t.length]='<a:font script="Hebr" typeface="Times New Roman"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="MoolBoran"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Times New Roman"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:majorFont>",t[t.length]="<a:minorFont>",t[t.length]='<a:latin typeface="Calibri"/>',t[t.length]='<a:ea typeface=""/>',t[t.length]='<a:cs typeface=""/>',t[t.length]='<a:font script="Jpan" typeface=" "/>',t[t.length]='<a:font script="Hang" typeface=" "/>',t[t.length]='<a:font script="Hans" typeface=""/>',t[t.length]='<a:font script="Hant" typeface=""/>',t[t.length]='<a:font script="Arab" typeface="Arial"/>',t[t.length]='<a:font script="Hebr" typeface="Arial"/>',t[t.length]='<a:font script="Thai" typeface="Tahoma"/>',t[t.length]='<a:font script="Ethi" typeface="Nyala"/>',t[t.length]='<a:font script="Beng" typeface="Vrinda"/>',t[t.length]='<a:font script="Gujr" typeface="Shruti"/>',t[t.length]='<a:font script="Khmr" typeface="DaunPenh"/>',t[t.length]='<a:font script="Knda" typeface="Tunga"/>',t[t.length]='<a:font script="Guru" typeface="Raavi"/>',t[t.length]='<a:font script="Cans" typeface="Euphemia"/>',t[t.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',t[t.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',t[t.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',t[t.length]='<a:font script="Thaa" typeface="MV Boli"/>',t[t.length]='<a:font script="Deva" typeface="Mangal"/>',t[t.length]='<a:font script="Telu" typeface="Gautami"/>',t[t.length]='<a:font script="Taml" typeface="Latha"/>',t[t.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',t[t.length]='<a:font script="Orya" typeface="Kalinga"/>',t[t.length]='<a:font script="Mlym" typeface="Kartika"/>',t[t.length]='<a:font script="Laoo" typeface="DokChampa"/>',t[t.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',t[t.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',t[t.length]='<a:font script="Viet" typeface="Arial"/>',t[t.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',t[t.length]='<a:font script="Geor" typeface="Sylfaen"/>',t[t.length]="</a:minorFont>",t[t.length]="</a:fontScheme>",t[t.length]='<a:fmtScheme name="Office">',t[t.length]="<a:fillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="1"/>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:lin ang="16200000" scaled="0"/>',t[t.length]="</a:gradFill>",t[t.length]="</a:fillStyleLst>",t[t.length]="<a:lnStyleLst>",t[t.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',t[t.length]="</a:lnStyleLst>",t[t.length]="<a:effectStyleLst>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]="</a:effectStyle>",t[t.length]="<a:effectStyle>",t[t.length]="<a:effectLst>",t[t.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',t[t.length]="</a:effectLst>",t[t.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',t[t.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',t[t.length]="</a:effectStyle>",t[t.length]="</a:effectStyleLst>",t[t.length]="<a:bgFillStyleLst>",t[t.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]='<a:gradFill rotWithShape="1">',t[t.length]="<a:gsLst>",t[t.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',t[t.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',t[t.length]="</a:gsLst>",t[t.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',t[t.length]="</a:gradFill>",t[t.length]="</a:bgFillStyleLst>",t[t.length]="</a:fmtScheme>",t[t.length]="</a:themeElements>",t[t.length]="<a:objectDefaults>",t[t.length]="<a:spDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',t[t.length]="</a:spDef>",t[t.length]="<a:lnDef>",t[t.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',t[t.length]="</a:lnDef>",t[t.length]="</a:objectDefaults>",t[t.length]="<a:extraClrSchemeLst/>",t[t.length]="</a:theme>",t.join("")}function I7(n,e){return{flags:n.read_shift(4),version:n.read_shift(4),name:Er(n)}}function R7(n){var e=we(12+2*n.name.length);return e.write_shift(4,n.flags),e.write_shift(4,n.version),Xn(n.name,e),e.slice(0,e.l)}function D7(n){for(var e=[],t=n.read_shift(4);t-- >0;)e.push([n.read_shift(4),n.read_shift(4)]);return e}function j7(n){var e=we(4+8*n.length);e.write_shift(4,n.length);for(var t=0;t<n.length;++t)e.write_shift(4,n[t][0]),e.write_shift(4,n[t][1]);return e}function k7(n,e){var t=we(8+2*e.length);return t.write_shift(4,n),Xn(e,t),t.slice(0,t.l)}function O7(n){return n.l+=4,n.read_shift(4)!=0}function M7(n,e){var t=we(8);return t.write_shift(4,n),t.write_shift(4,1),t}function P7(){var n=Kr();return Re(n,332),Re(n,334,ss(1)),Re(n,335,R7({name:"XLDAPR",version:12e4,flags:3496657072})),Re(n,336),Re(n,339,k7(1,"XLDAPR")),Re(n,52),Re(n,35,ss(514)),Re(n,4096,ss(0)),Re(n,4097,ka(1)),Re(n,36),Re(n,53),Re(n,340),Re(n,337,M7(1)),Re(n,51,j7([[1,0]])),Re(n,338),Re(n,333),n.end()}function RC(){var n=[Fn];return n.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),n.join("")}function F7(n){var e={};e.i=n.read_shift(4);var t={};t.r=n.read_shift(4),t.c=n.read_shift(4),e.r=zt(t);var r=n.read_shift(1);return r&2&&(e.l="1"),r&8&&(e.a="1"),e}var Wc=1024;function DC(n,e){for(var t=[21600,21600],r=["m0,0l0",t[1],t[0],t[1],t[0],"0xe"].join(","),s=[Pe("xml",null,{"xmlns:v":ca.v,"xmlns:o":ca.o,"xmlns:x":ca.x,"xmlns:mv":ca.mv}).replace(/\/>/,">"),Pe("o:shapelayout",Pe("o:idmap",null,{"v:ext":"edit",data:n}),{"v:ext":"edit"}),Pe("v:shapetype",[Pe("v:stroke",null,{joinstyle:"miter"}),Pe("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:t.join(","),path:r})];Wc<n*1e3;)Wc+=1e3;return e.forEach(function(o){var u=Wn(o[0]),d={color2:"#BEFF82",type:"gradient"};d.type=="gradient"&&(d.angle="-180");var m=d.type=="gradient"?Pe("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,f=Pe("v:fill",m,d),v={on:"t",obscured:"t"};++Wc,s=s.concat(["<v:shape"+_d({id:"_x0000_s"+Wc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(o[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",f,Pe("v:shadow",null,v),Pe("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ir("x:Anchor",[u.c+1,0,u.r+1,0,u.c+3,20,u.r+5,20].join(",")),ir("x:AutoFill","False"),ir("x:Row",String(u.r)),ir("x:Column",String(u.c)),o[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function jC(n){var e=[Fn,Pe("comments",null,{xmlns:Au[0]})],t=[];return e.push("<authors>"),n.forEach(function(r){r[1].forEach(function(s){var o=Ut(s.a);t.indexOf(o)==-1&&(t.push(o),e.push("<author>"+o+"</author>")),s.T&&s.ID&&t.indexOf("tc="+s.ID)==-1&&(t.push("tc="+s.ID),e.push("<author>tc="+s.ID+"</author>"))})}),t.length==0&&(t.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),n.forEach(function(r){var s=0,o=[];if(r[1][0]&&r[1][0].T&&r[1][0].ID?s=t.indexOf("tc="+r[1][0].ID):r[1].forEach(function(m){m.a&&(s=t.indexOf(Ut(m.a))),o.push(m.t||"")}),e.push('<comment ref="'+r[0]+'" authorId="'+s+'"><text>'),o.length<=1)e.push(ir("t",Ut(o[0]||"")));else{for(var u=`Comment:
    `+o[0]+`
`,d=1;d<o.length;++d)u+=`Reply:
    `+o[d]+`
`;e.push(ir("t",Ut(u)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function L7(n,e,t){var r=[Fn,Pe("ThreadedComments",null,{xmlns:Kn.TCMNT}).replace(/[\/]>/,">")];return n.forEach(function(s){var o="";(s[1]||[]).forEach(function(u,d){if(!u.T){delete u.ID;return}u.a&&e.indexOf(u.a)==-1&&e.push(u.a);var m={ref:s[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+t.tcid++).slice(-12)+"}"};d==0?o=m.id:m.parentId=o,u.ID=m.id,u.a&&(m.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(u.a)).slice(-12)+"}"),r.push(Pe("threadedComment",ir("text",u.t||""),m))})}),r.push("</ThreadedComments>"),r.join("")}function V7(n){var e=[Fn,Pe("personList",null,{xmlns:Kn.TCMNT,"xmlns:x":Au[0]}).replace(/[\/]>/,">")];return n.forEach(function(t,r){e.push(Pe("person",null,{displayName:t,id:"{54EE7950-7262-4200-6969-"+("000000000000"+r).slice(-12)+"}",userId:t,providerId:"None"}))}),e.push("</personList>"),e.join("")}function U7(n){var e={};e.iauthor=n.read_shift(4);var t=Wl(n);return e.rfx=t.s,e.ref=zt(t.s),n.l+=16,e}function B7(n,e){return e==null&&(e=we(36)),e.write_shift(4,n[1].iauthor),bu(n[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var z7=Er;function q7(n){return Xn(n.slice(0,54))}function H7(n){var e=Kr(),t=[];return Re(e,628),Re(e,630),n.forEach(function(r){r[1].forEach(function(s){t.indexOf(s.a)>-1||(t.push(s.a.slice(0,54)),Re(e,632,q7(s.a)))})}),Re(e,631),Re(e,633),n.forEach(function(r){r[1].forEach(function(s){s.iauthor=t.indexOf(s.a);var o={s:Wn(r[0]),e:Wn(r[0])};Re(e,635,B7([o,s])),s.t&&s.t.length>0&&Re(e,637,$L(s)),Re(e,636),delete s.iauthor})}),Re(e,634),Re(e,629),e.end()}function G7(n,e){e.FullPaths.forEach(function(t,r){if(r!=0){var s=t.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");s.slice(-1)!=="/"&&Kt.utils.cfb_add(n,s,e.FileIndex[r].content)}})}var kC=["xlsb","xlsm","xlam","biff8","xla"],$7=(function(){var n=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function t(r,s,o,u){var d=!1,m=!1;o.length==0?m=!0:o.charAt(0)=="["&&(m=!0,o=o.slice(1,-1)),u.length==0?d=!0:u.charAt(0)=="["&&(d=!0,u=u.slice(1,-1));var f=o.length>0?parseInt(o,10)|0:0,v=u.length>0?parseInt(u,10)|0:0;return d?v+=e.c:--v,m?f+=e.r:--f,s+(d?"":"$")+yr(v)+(m?"":"$")+or(f)}return function(s,o){return e=o,s.replace(n,t)}})(),e_=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,t_=(function(){return function(e,t){return e.replace(e_,function(r,s,o,u,d,m){var f=Wx(u)-(o?0:t.c),v=Kx(m)-(d?0:t.r),_=v==0?"":d?v+1:"["+v+"]",y=f==0?"":o?f+1:"["+f+"]";return s+"R"+_+"C"+y})}})();function K7(n,e){return n.replace(e_,function(t,r,s,o,u,d){return r+(s=="$"?s+o:yr(Wx(o)+e.c))+(u=="$"?u+d:or(Kx(d)+e.r))})}function W7(n){return n.length!=1}function jn(n){n.l+=1}function Mo(n,e){var t=n.read_shift(2);return[t&16383,t>>14&1,t>>15&1]}function OC(n,e,t){var r=2;if(t){if(t.biff>=2&&t.biff<=5)return MC(n);t.biff==12&&(r=4)}var s=n.read_shift(r),o=n.read_shift(r),u=Mo(n),d=Mo(n);return{s:{r:s,c:u[0],cRel:u[1],rRel:u[2]},e:{r:o,c:d[0],cRel:d[1],rRel:d[2]}}}function MC(n){var e=Mo(n),t=Mo(n),r=n.read_shift(1),s=n.read_shift(1);return{s:{r:e[0],c:r,cRel:e[1],rRel:e[2]},e:{r:t[0],c:s,cRel:t[1],rRel:t[2]}}}function X7(n,e,t){if(t.biff<8)return MC(n);var r=n.read_shift(t.biff==12?4:2),s=n.read_shift(t.biff==12?4:2),o=Mo(n),u=Mo(n);return{s:{r,c:o[0],cRel:o[1],rRel:o[2]},e:{r:s,c:u[0],cRel:u[1],rRel:u[2]}}}function PC(n,e,t){if(t&&t.biff>=2&&t.biff<=5)return Y7(n);var r=n.read_shift(t&&t.biff==12?4:2),s=Mo(n);return{r,c:s[0],cRel:s[1],rRel:s[2]}}function Y7(n){var e=Mo(n),t=n.read_shift(1);return{r:e[0],c:t,cRel:e[1],rRel:e[2]}}function Q7(n){var e=n.read_shift(2),t=n.read_shift(2);return{r:e,c:t&255,fQuoted:!!(t&16384),cRel:t>>15,rRel:t>>15}}function J7(n,e,t){var r=t&&t.biff?t.biff:8;if(r>=2&&r<=5)return Z7(n);var s=n.read_shift(r>=12?4:2),o=n.read_shift(2),u=(o&16384)>>14,d=(o&32768)>>15;if(o&=16383,d==1)for(;s>524287;)s-=1048576;if(u==1)for(;o>8191;)o=o-16384;return{r:s,c:o,cRel:u,rRel:d}}function Z7(n){var e=n.read_shift(2),t=n.read_shift(1),r=(e&32768)>>15,s=(e&16384)>>14;return e&=16383,r==1&&e>=8192&&(e=e-16384),s==1&&t>=128&&(t=t-256),{r:e,c:t,cRel:s,rRel:r}}function eV(n,e,t){var r=(n[n.l++]&96)>>5,s=OC(n,t.biff>=2&&t.biff<=5?6:8,t);return[r,s]}function tV(n,e,t){var r=(n[n.l++]&96)>>5,s=n.read_shift(2,"i"),o=8;if(t)switch(t.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}var u=OC(n,o,t);return[r,s,u]}function nV(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t&&t.biff>8?12:t.biff<8?6:8,[r]}function rV(n,e,t){var r=(n[n.l++]&96)>>5,s=n.read_shift(2),o=8;if(t)switch(t.biff){case 5:n.l+=12,o=6;break;case 12:o=12;break}return n.l+=o,[r,s]}function aV(n,e,t){var r=(n[n.l++]&96)>>5,s=X7(n,e-1,t);return[r,s]}function sV(n,e,t){var r=(n[n.l++]&96)>>5;return n.l+=t.biff==2?6:t.biff==12?14:7,[r]}function lA(n){var e=n[n.l+1]&1,t=1;return n.l+=4,[e,t]}function iV(n,e,t){n.l+=2;for(var r=n.read_shift(t&&t.biff==2?1:2),s=[],o=0;o<=r;++o)s.push(n.read_shift(t&&t.biff==2?1:2));return s}function oV(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function lV(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=2,[r,n.read_shift(t&&t.biff==2?1:2)]}function cV(n){var e=n[n.l+1]&255?1:0;return n.l+=2,[e,n.read_shift(2)]}function uV(n,e,t){var r=n[n.l+1]&255?1:0;return n.l+=t&&t.biff==2?3:4,[r]}function FC(n){var e=n.read_shift(1),t=n.read_shift(1);return[e,t]}function hV(n){return n.read_shift(2),FC(n)}function dV(n){return n.read_shift(2),FC(n)}function fV(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var s=PC(n,0,t);return[r,s]}function mV(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var s=J7(n,0,t);return[r,s]}function pV(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(2);t&&t.biff==5&&(n.l+=12);var o=PC(n,0,t);return[r,s,o]}function gV(n,e,t){var r=(n[n.l]&96)>>5;n.l+=1;var s=n.read_shift(t&&t.biff<=3?1:2);return[gU[s],UC[s],r]}function vV(n,e,t){var r=n[n.l++],s=n.read_shift(1),o=t&&t.biff<=3?[r==88?-1:0,n.read_shift(1)]:xV(n);return[s,(o[0]===0?UC:pU)[o[1]]]}function xV(n){return[n[n.l+1]>>7,n.read_shift(2)&32767]}function _V(n,e,t){n.l+=t&&t.biff==2?3:4}function yV(n,e,t){if(n.l++,t&&t.biff==12)return[n.read_shift(4,"i"),0];var r=n.read_shift(2),s=n.read_shift(t&&t.biff==2?1:2);return[r,s]}function EV(n){return n.l++,Vd[n.read_shift(1)]}function TV(n){return n.l++,n.read_shift(2)}function wV(n){return n.l++,n.read_shift(1)!==0}function AV(n){return n.l++,Nu(n)}function SV(n,e,t){return n.l++,_C(n,e-1,t)}function bV(n,e){var t=[n.read_shift(1)];if(e==12)switch(t[0]){case 2:t[0]=4;break;case 4:t[0]=16;break;case 0:t[0]=1;break;case 1:t[0]=2;break}switch(t[0]){case 4:t[1]=p9(n,1)?"TRUE":"FALSE",e!=12&&(n.l+=7);break;case 37:case 16:t[1]=Vd[n[n.l]],n.l+=e==12?4:8;break;case 0:n.l+=8;break;case 1:t[1]=Nu(n);break;case 2:t[1]=_9(n,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+t[0])}return t}function NV(n,e,t){for(var r=n.read_shift(t.biff==12?4:2),s=[],o=0;o!=r;++o)s.push((t.biff==12?Wl:T9)(n));return s}function CV(n,e,t){var r=0,s=0;t.biff==12?(r=n.read_shift(4),s=n.read_shift(4)):(s=1+n.read_shift(1),r=1+n.read_shift(2)),t.biff>=2&&t.biff<8&&(--r,--s==0&&(s=256));for(var o=0,u=[];o!=r&&(u[o]=[]);++o)for(var d=0;d!=s;++d)u[o][d]=bV(n,t.biff);return u}function IV(n,e,t){var r=n.read_shift(1)>>>5&3,s=!t||t.biff>=8?4:2,o=n.read_shift(s);switch(t.biff){case 2:n.l+=5;break;case 3:case 4:n.l+=8;break;case 5:n.l+=12;break}return[r,0,o]}function RV(n,e,t){if(t.biff==5)return DV(n);var r=n.read_shift(1)>>>5&3,s=n.read_shift(2),o=n.read_shift(4);return[r,s,o]}function DV(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2,"i");n.l+=8;var r=n.read_shift(2);return n.l+=12,[e,t,r]}function jV(n,e,t){var r=n.read_shift(1)>>>5&3;n.l+=t&&t.biff==2?3:4;var s=n.read_shift(t&&t.biff==2?1:2);return[r,s]}function kV(n,e,t){var r=n.read_shift(1)>>>5&3,s=n.read_shift(t&&t.biff==2?1:2);return[r,s]}function OV(n,e,t){var r=n.read_shift(1)>>>5&3;return n.l+=4,t.biff<8&&n.l--,t.biff==12&&(n.l+=2),[r]}function MV(n,e,t){var r=(n[n.l++]&96)>>5,s=n.read_shift(2),o=4;if(t)switch(t.biff){case 5:o=15;break;case 12:o=6;break}return n.l+=o,[r,s]}var PV=Ps,FV=Ps,LV=Ps;function Ud(n,e,t){return n.l+=2,[Q7(n)]}function n_(n){return n.l+=6,[]}var VV=Ud,UV=n_,BV=n_,zV=Ud;function LC(n){return n.l+=2,[vC(n),n.read_shift(2)&1]}var qV=Ud,HV=LC,GV=n_,$V=Ud,KV=Ud,WV=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function XV(n){n.l+=2;var e=n.read_shift(2),t=n.read_shift(2),r=n.read_shift(4),s=n.read_shift(2),o=n.read_shift(2),u=WV[t>>2&31];return{ixti:e,coltype:t&3,rt:u,idx:r,c:s,C:o}}function YV(n){return n.l+=2,[n.read_shift(4)]}function QV(n,e,t){return n.l+=5,n.l+=2,n.l+=t.biff==2?1:4,["PTGSHEET"]}function JV(n,e,t){return n.l+=t.biff==2?4:5,["PTGENDSHEET"]}function ZV(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function eU(n){var e=n.read_shift(1)>>>5&3,t=n.read_shift(2);return[e,t]}function tU(n){return n.l+=4,[0,0]}var cA={1:{n:"PtgExp",f:yV},2:{n:"PtgTbl",f:LV},3:{n:"PtgAdd",f:jn},4:{n:"PtgSub",f:jn},5:{n:"PtgMul",f:jn},6:{n:"PtgDiv",f:jn},7:{n:"PtgPower",f:jn},8:{n:"PtgConcat",f:jn},9:{n:"PtgLt",f:jn},10:{n:"PtgLe",f:jn},11:{n:"PtgEq",f:jn},12:{n:"PtgGe",f:jn},13:{n:"PtgGt",f:jn},14:{n:"PtgNe",f:jn},15:{n:"PtgIsect",f:jn},16:{n:"PtgUnion",f:jn},17:{n:"PtgRange",f:jn},18:{n:"PtgUplus",f:jn},19:{n:"PtgUminus",f:jn},20:{n:"PtgPercent",f:jn},21:{n:"PtgParen",f:jn},22:{n:"PtgMissArg",f:jn},23:{n:"PtgStr",f:SV},26:{n:"PtgSheet",f:QV},27:{n:"PtgEndSheet",f:JV},28:{n:"PtgErr",f:EV},29:{n:"PtgBool",f:wV},30:{n:"PtgInt",f:TV},31:{n:"PtgNum",f:AV},32:{n:"PtgArray",f:sV},33:{n:"PtgFunc",f:gV},34:{n:"PtgFuncVar",f:vV},35:{n:"PtgName",f:IV},36:{n:"PtgRef",f:fV},37:{n:"PtgArea",f:eV},38:{n:"PtgMemArea",f:jV},39:{n:"PtgMemErr",f:PV},40:{n:"PtgMemNoMem",f:FV},41:{n:"PtgMemFunc",f:kV},42:{n:"PtgRefErr",f:OV},43:{n:"PtgAreaErr",f:nV},44:{n:"PtgRefN",f:mV},45:{n:"PtgAreaN",f:aV},46:{n:"PtgMemAreaN",f:ZV},47:{n:"PtgMemNoMemN",f:eU},57:{n:"PtgNameX",f:RV},58:{n:"PtgRef3d",f:pV},59:{n:"PtgArea3d",f:tV},60:{n:"PtgRefErr3d",f:MV},61:{n:"PtgAreaErr3d",f:rV},255:{}},nU={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},rU={1:{n:"PtgElfLel",f:LC},2:{n:"PtgElfRw",f:$V},3:{n:"PtgElfCol",f:VV},6:{n:"PtgElfRwV",f:KV},7:{n:"PtgElfColV",f:zV},10:{n:"PtgElfRadical",f:qV},11:{n:"PtgElfRadicalS",f:GV},13:{n:"PtgElfColS",f:UV},15:{n:"PtgElfColSV",f:BV},16:{n:"PtgElfRadicalLel",f:HV},25:{n:"PtgList",f:XV},29:{n:"PtgSxName",f:YV},255:{}},aU={0:{n:"PtgAttrNoop",f:tU},1:{n:"PtgAttrSemi",f:uV},2:{n:"PtgAttrIf",f:lV},4:{n:"PtgAttrChoose",f:iV},8:{n:"PtgAttrGoto",f:oV},16:{n:"PtgAttrSum",f:_V},32:{n:"PtgAttrBaxcel",f:lA},33:{n:"PtgAttrBaxcel",f:lA},64:{n:"PtgAttrSpace",f:hV},65:{n:"PtgAttrSpaceSemi",f:dV},128:{n:"PtgAttrIfError",f:cV},255:{}};function sU(n,e,t,r){if(r.biff<8)return Ps(n,e);for(var s=n.l+e,o=[],u=0;u!==t.length;++u)switch(t[u][0]){case"PtgArray":t[u][1]=CV(n,0,r),o.push(t[u][1]);break;case"PtgMemArea":t[u][2]=NV(n,t[u][1],r),o.push(t[u][2]);break;case"PtgExp":r&&r.biff==12&&(t[u][1][1]=n.read_shift(4),o.push(t[u][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+t[u][0]}return e=s-n.l,e!==0&&o.push(Ps(n,e)),o}function iU(n,e,t){for(var r=n.l+e,s,o,u=[];r!=n.l;)e=r-n.l,o=n[n.l],s=cA[o]||cA[nU[o]],(o===24||o===25)&&(s=(o===24?rU:aU)[n[n.l+1]]),!s||!s.f?Ps(n,e):u.push([s.n,s.f(n,e,t)]);return u}function oU(n){for(var e=[],t=0;t<n.length;++t){for(var r=n[t],s=[],o=0;o<r.length;++o){var u=r[o];if(u)switch(u[0]){case 2:s.push('"'+u[1].replace(/"/g,'""')+'"');break;default:s.push(u[1])}else s.push("")}e.push(s.join(","))}return e.join(";")}var lU={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function cU(n,e){if(!n&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(n)?"'"+n+"'":n}function VC(n,e,t){if(!n)return"SH33TJSERR0";if(t.biff>8&&(!n.XTI||!n.XTI[e]))return n.SheetNames[e];if(!n.XTI)return"SH33TJSERR6";var r=n.XTI[e];if(t.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":n.XTI[e-1];if(!r)return"SH33TJSERR1";var s="";if(t.biff>8)switch(n[r[0]][0]){case 357:return s=r[1]==-1?"#REF":n.SheetNames[r[1]],r[1]==r[2]?s:s+":"+n.SheetNames[r[2]];case 358:return t.SID!=null?n.SheetNames[t.SID]:"SH33TJSSAME"+n[r[0]][0];case 355:default:return"SH33TJSSRC"+n[r[0]][0]}switch(n[r[0]][0][0]){case 1025:return s=r[1]==-1?"#REF":n.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+n.SheetNames[r[2]];case 14849:return n[r[0]].slice(1).map(function(o){return o.Name}).join(";;");default:return n[r[0]][0][3]?(s=r[1]==-1?"#REF":n[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+n[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function uA(n,e,t){var r=VC(n,e,t);return r=="#REF"?r:cU(r,t)}function fu(n,e,t,r,s){var o=s&&s.biff||8,u={s:{c:0,r:0}},d=[],m,f,v,_=0,y=0,E,b="";if(!n[0]||!n[0][0])return"";for(var w=-1,S="",k=0,D=n[0].length;k<D;++k){var j=n[0][k];switch(j[0]){case"PtgUminus":d.push("-"+d.pop());break;case"PtgUplus":d.push("+"+d.pop());break;case"PtgPercent":d.push(d.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(m=d.pop(),f=d.pop(),w>=0){switch(n[0][w][1][0]){case 0:S=vn(" ",n[0][w][1][1]);break;case 1:S=vn("\r",n[0][w][1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}f=f+S,w=-1}d.push(f+lU[j[0]]+m);break;case"PtgIsect":m=d.pop(),f=d.pop(),d.push(f+" "+m);break;case"PtgUnion":m=d.pop(),f=d.pop(),d.push(f+","+m);break;case"PtgRange":m=d.pop(),f=d.pop(),d.push(f+":"+m);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":v=Qh(j[1][1],u,s),d.push(Jh(v,o));break;case"PtgRefN":v=t?Qh(j[1][1],t,s):j[1][1],d.push(Jh(v,o));break;case"PtgRef3d":_=j[1][1],v=Qh(j[1][2],u,s),b=uA(r,_,s),d.push(b+"!"+Jh(v,o));break;case"PtgFunc":case"PtgFuncVar":var X=j[1][0],te=j[1][1];X||(X=0),X&=127;var ie=X==0?[]:d.slice(-X);d.length-=X,te==="User"&&(te=ie.shift()),d.push(te+"("+ie.join(",")+")");break;case"PtgBool":d.push(j[1]?"TRUE":"FALSE");break;case"PtgInt":d.push(j[1]);break;case"PtgNum":d.push(String(j[1]));break;case"PtgStr":d.push('"'+j[1].replace(/"/g,'""')+'"');break;case"PtgErr":d.push(j[1]);break;case"PtgAreaN":E=Ww(j[1][1],t?{s:t}:u,s),d.push(kv(E,s));break;case"PtgArea":E=Ww(j[1][1],u,s),d.push(kv(E,s));break;case"PtgArea3d":_=j[1][1],E=j[1][2],b=uA(r,_,s),d.push(b+"!"+kv(E,s));break;case"PtgAttrSum":d.push("SUM("+d.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":y=j[1][2];var I=(r.names||[])[y-1]||(r[0]||[])[y],R=I?I.Name:"SH33TJSNAME"+String(y);R&&R.slice(0,6)=="_xlfn."&&!s.xlfn&&(R=R.slice(6)),d.push(R);break;case"PtgNameX":var N=j[1][1];y=j[1][2];var F;if(s.biff<=5)N<0&&(N=-N),r[N]&&(F=r[N][y]);else{var U="";if(((r[N]||[])[0]||[])[0]==14849||(((r[N]||[])[0]||[])[0]==1025?r[N][y]&&r[N][y].itab>0&&(U=r.SheetNames[r[N][y].itab-1]+"!"):U=r.SheetNames[y-1]+"!"),r[N]&&r[N][y])U+=r[N][y].Name;else if(r[0]&&r[0][y])U+=r[0][y].Name;else{var M=(VC(r,N,s)||"").split(";;");M[y-1]?U=M[y-1]:U+="SH33TJSERRX"}d.push(U);break}F||(F={Name:"SH33TJSERRY"}),d.push(F.Name);break;case"PtgParen":var B="(",J=")";if(w>=0){switch(S="",n[0][w][1][0]){case 2:B=vn(" ",n[0][w][1][1])+B;break;case 3:B=vn("\r",n[0][w][1][1])+B;break;case 4:J=vn(" ",n[0][w][1][1])+J;break;case 5:J=vn("\r",n[0][w][1][1])+J;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+n[0][w][1][0])}w=-1}d.push(B+d.pop()+J);break;case"PtgRefErr":d.push("#REF!");break;case"PtgRefErr3d":d.push("#REF!");break;case"PtgExp":v={c:j[1][1],r:j[1][0]};var Ee={c:t.c,r:t.r};if(r.sharedf[zt(v)]){var re=r.sharedf[zt(v)];d.push(fu(re,u,Ee,r,s))}else{var xe=!1;for(m=0;m!=r.arrayf.length;++m)if(f=r.arrayf[m],!(v.c<f[0].s.c||v.c>f[0].e.c)&&!(v.r<f[0].s.r||v.r>f[0].e.r)){d.push(fu(f[1],u,Ee,r,s)),xe=!0;break}xe||d.push(j[1])}break;case"PtgArray":d.push("{"+oU(j[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":w=k;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":d.push("");break;case"PtgAreaErr":d.push("#REF!");break;case"PtgAreaErr3d":d.push("#REF!");break;case"PtgList":d.push("Table"+j[1].idx+"[#"+j[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(j));default:throw new Error("Unrecognized Formula Token: "+String(j))}var le=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(s.biff!=3&&w>=0&&le.indexOf(n[0][k][0])==-1){j=n[0][w];var Le=!0;switch(j[1][0]){case 4:Le=!1;case 0:S=vn(" ",j[1][1]);break;case 5:Le=!1;case 1:S=vn("\r",j[1][1]);break;default:if(S="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+j[1][0])}d.push((Le?S:"")+d.pop()+(Le?"":S)),w=-1}}if(d.length>1&&s.WTF)throw new Error("bad formula stack");return d[0]}function uU(n){if(n==null){var e=we(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof n=="number")return Fl(n);return Fl(0)}function hU(n,e,t,r,s){var o=Ll(e,t,s),u=uU(n.v),d=we(6),m=33;d.write_shift(2,m),d.write_shift(4,0);for(var f=we(n.bf.length),v=0;v<n.bf.length;++v)f[v]=n.bf[v];var _=sr([o,u,d,f]);return _}function ip(n,e,t){var r=n.read_shift(4),s=iU(n,r,t),o=n.read_shift(4),u=o>0?sU(n,o,s,t):null;return[s,u]}var dU=ip,op=ip,fU=ip,mU=ip,pU={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},UC={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},gU={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function vU(n){var e="of:="+n.replace(e_,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function xU(n){return n.replace(/\./,"!")}var Zh=typeof Map<"u";function r_(n,e,t){var r=0,s=n.length;if(t){if(Zh?t.has(e):Object.prototype.hasOwnProperty.call(t,e)){for(var o=Zh?t.get(e):t[e];r<o.length;++r)if(n[o[r]].t===e)return n.Count++,o[r]}}else for(;r<s;++r)if(n[r].t===e)return n.Count++,r;return n[s]={t:e},n.Count++,n.Unique++,t&&(Zh?(t.has(e)||t.set(e,[]),t.get(e).push(s)):(Object.prototype.hasOwnProperty.call(t,e)||(t[e]=[]),t[e].push(s))),s}function lp(n,e){var t={min:n+1,max:n+1},r=-1;return e.MDW&&(yi=e.MDW),e.width!=null?t.customWidth=1:e.wpx!=null?r=_m(e.wpx):e.wch!=null&&(r=e.wch),r>-1?(t.width=A1(r),t.customWidth=1):e.width!=null&&(t.width=e.width),e.hidden&&(t.hidden=!0),e.level!=null&&(t.outlineLevel=t.level=e.level),t}function BC(n,e){if(n){var t=[.7,.7,.75,.75,.3,.3];n.left==null&&(n.left=t[0]),n.right==null&&(n.right=t[1]),n.top==null&&(n.top=t[2]),n.bottom==null&&(n.bottom=t[3]),n.header==null&&(n.header=t[4]),n.footer==null&&(n.footer=t[5])}}function qo(n,e,t){var r=t.revssf[e.z!=null?e.z:"General"],s=60,o=n.length;if(r==null&&t.ssf){for(;s<392;++s)if(t.ssf[s]==null){PN(e.z,s),t.ssf[s]=e.z,t.revssf[e.z]=r=s;break}}for(s=0;s!=o;++s)if(n[s].numFmtId===r)return s;return n[o]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},o}function _U(n,e,t){if(n&&n["!ref"]){var r=rn(n["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+t+"): "+n["!ref"])}}function yU(n){if(n.length===0)return"";for(var e='<mergeCells count="'+n.length+'">',t=0;t!=n.length;++t)e+='<mergeCell ref="'+Pn(n[t])+'"/>';return e+"</mergeCells>"}function EU(n,e,t,r,s){var o=!1,u={},d=null;if(r.bookType!=="xlsx"&&e.vbaraw){var m=e.SheetNames[t];try{e.Workbook&&(m=e.Workbook.Sheets[t].CodeName||m)}catch{}o=!0,u.codeName=xd(Ut(m))}if(n&&n["!outline"]){var f={summaryBelow:1,summaryRight:1};n["!outline"].above&&(f.summaryBelow=0),n["!outline"].left&&(f.summaryRight=0),d=(d||"")+Pe("outlinePr",null,f)}!o&&!d||(s[s.length]=Pe("sheetPr",d,u))}var TU=["objects","scenarios","selectLockedCells","selectUnlockedCells"],wU=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function AU(n){var e={sheet:1};return TU.forEach(function(t){n[t]!=null&&n[t]&&(e[t]="1")}),wU.forEach(function(t){n[t]!=null&&!n[t]&&(e[t]="0")}),n.password&&(e.password=AC(n.password).toString(16).toUpperCase()),Pe("sheetProtection",null,e)}function SU(n){return BC(n),Pe("pageMargins",null,n)}function bU(n,e){for(var t=["<cols>"],r,s=0;s!=e.length;++s)(r=e[s])&&(t[t.length]=Pe("col",null,lp(s,r)));return t[t.length]="</cols>",t.join("")}function NU(n,e,t,r){var s=typeof n.ref=="string"?n.ref:Pn(n.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var o=t.Workbook.Names,u=va(s);u.s.r==u.e.r&&(u.e.r=va(e["!ref"]).e.r,s=Pn(u));for(var d=0;d<o.length;++d){var m=o[d];if(m.Name=="_xlnm._FilterDatabase"&&m.Sheet==r){m.Ref="'"+t.SheetNames[r]+"'!"+s;break}}return d==o.length&&o.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+s}),Pe("autoFilter",null,{ref:s})}function CU(n,e,t,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Pe("sheetViews",Pe("sheetView",null,s),{})}function IU(n,e,t,r){if(n.c&&t["!comments"].push([e,n.c]),n.v===void 0&&typeof n.f!="string"||n.t==="z"&&!n.f)return"";var s="",o=n.t,u=n.v;if(n.t!=="z")switch(n.t){case"b":s=n.v?"1":"0";break;case"n":s=""+n.v;break;case"e":s=Vd[n.v];break;case"d":r&&r.cellDates?s=kr(n.v,-1).toISOString():(n=Xr(n),n.t="n",s=""+(n.v=Wr(kr(n.v)))),typeof n.z>"u"&&(n.z=_n[14]);break;default:s=n.v;break}var d=ir("v",Ut(s)),m={r:e},f=qo(r.cellXfs,n,r);switch(f!==0&&(m.s=f),n.t){case"n":break;case"d":m.t="d";break;case"b":m.t="b";break;case"e":m.t="e";break;case"z":break;default:if(n.v==null){delete n.t;break}if(n.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){d=ir("v",""+r_(r.Strings,n.v,r.revStrings)),m.t="s";break}m.t="str";break}if(n.t!=o&&(n.t=o,n.v=u),typeof n.f=="string"&&n.f){var v=n.F&&n.F.slice(0,e.length)==e?{t:"array",ref:n.F}:null;d=Pe("f",Ut(n.f),v)+(n.v!=null?d:"")}return n.l&&t["!links"].push([e,n.l]),n.D&&(m.cm=1),Pe("c",d,m)}function RU(n,e,t,r){var s=[],o=[],u=rn(n["!ref"]),d="",m,f="",v=[],_=0,y=0,E=n["!rows"],b=Array.isArray(n),w={r:f},S,k=-1;for(y=u.s.c;y<=u.e.c;++y)v[y]=yr(y);for(_=u.s.r;_<=u.e.r;++_){for(o=[],f=or(_),y=u.s.c;y<=u.e.c;++y){m=v[y]+f;var D=b?(n[_]||[])[y]:n[m];D!==void 0&&(d=IU(D,m,n,e))!=null&&o.push(d)}(o.length>0||E&&E[_])&&(w={r:f},E&&E[_]&&(S=E[_],S.hidden&&(w.hidden=1),k=-1,S.hpx?k=ym(S.hpx):S.hpt&&(k=S.hpt),k>-1&&(w.ht=k,w.customHeight=1),S.level&&(w.outlineLevel=S.level)),s[s.length]=Pe("row",o.join(""),w))}if(E)for(;_<E.length;++_)E&&E[_]&&(w={r:_+1},S=E[_],S.hidden&&(w.hidden=1),k=-1,S.hpx?k=ym(S.hpx):S.hpt&&(k=S.hpt),k>-1&&(w.ht=k,w.customHeight=1),S.level&&(w.outlineLevel=S.level),s[s.length]=Pe("row","",w));return s.join("")}function zC(n,e,t,r){var s=[Fn,Pe("worksheet",null,{xmlns:Au[0],"xmlns:r":Kn.r})],o=t.SheetNames[n],u=0,d="",m=t.Sheets[o];m==null&&(m={});var f=m["!ref"]||"A1",v=rn(f);if(v.e.c>16383||v.e.r>1048575){if(e.WTF)throw new Error("Range "+f+" exceeds format limit A1:XFD1048576");v.e.c=Math.min(v.e.c,16383),v.e.r=Math.min(v.e.c,1048575),f=Pn(v)}r||(r={}),m["!comments"]=[];var _=[];EU(m,t,n,e,s),s[s.length]=Pe("dimension",null,{ref:f}),s[s.length]=CU(m,e,n,t),e.sheetFormat&&(s[s.length]=Pe("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),m["!cols"]!=null&&m["!cols"].length>0&&(s[s.length]=bU(m,m["!cols"])),s[u=s.length]="<sheetData/>",m["!links"]=[],m["!ref"]!=null&&(d=RU(m,e),d.length>0&&(s[s.length]=d)),s.length>u+1&&(s[s.length]="</sheetData>",s[u]=s[u].replace("/>",">")),m["!protect"]&&(s[s.length]=AU(m["!protect"])),m["!autofilter"]!=null&&(s[s.length]=NU(m["!autofilter"],m,t,n)),m["!merges"]!=null&&m["!merges"].length>0&&(s[s.length]=yU(m["!merges"]));var y=-1,E,b=-1;return m["!links"].length>0&&(s[s.length]="<hyperlinks>",m["!links"].forEach(function(w){w[1].Target&&(E={ref:w[0]},w[1].Target.charAt(0)!="#"&&(b=Vt(r,-1,Ut(w[1].Target).replace(/#.*$/,""),St.HLINK),E["r:id"]="rId"+b),(y=w[1].Target.indexOf("#"))>-1&&(E.location=Ut(w[1].Target.slice(y+1))),w[1].Tooltip&&(E.tooltip=Ut(w[1].Tooltip)),s[s.length]=Pe("hyperlink",null,E))}),s[s.length]="</hyperlinks>"),delete m["!links"],m["!margins"]!=null&&(s[s.length]=SU(m["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(s[s.length]=ir("ignoredErrors",Pe("ignoredError",null,{numberStoredAsText:1,sqref:f}))),_.length>0&&(b=Vt(r,-1,"../drawings/drawing"+(n+1)+".xml",St.DRAW),s[s.length]=Pe("drawing",null,{"r:id":"rId"+b}),m["!drawing"]=_),m["!comments"].length>0&&(b=Vt(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",St.VML),s[s.length]=Pe("legacyDrawing",null,{"r:id":"rId"+b}),m["!legacy"]=b),s.length>1&&(s[s.length]="</worksheet>",s[1]=s[1].replace("/>",">")),s.join("")}function DU(n,e){var t={},r=n.l+e;t.r=n.read_shift(4),n.l+=4;var s=n.read_shift(2);n.l+=1;var o=n.read_shift(1);return n.l=r,o&7&&(t.level=o&7),o&16&&(t.hidden=!0),o&32&&(t.hpt=s/20),t}function jU(n,e,t){var r=we(145),s=(t["!rows"]||[])[n]||{};r.write_shift(4,n),r.write_shift(4,0);var o=320;s.hpx?o=ym(s.hpx)*20:s.hpt&&(o=s.hpt*20),r.write_shift(2,o),r.write_shift(1,0);var u=0;s.level&&(u|=s.level),s.hidden&&(u|=16),(s.hpx||s.hpt)&&(u|=32),r.write_shift(1,u),r.write_shift(1,0);var d=0,m=r.l;r.l+=4;for(var f={r:n,c:0},v=0;v<16;++v)if(!(e.s.c>v+1<<10||e.e.c<v<<10)){for(var _=-1,y=-1,E=v<<10;E<v+1<<10;++E){f.c=E;var b=Array.isArray(t)?(t[f.r]||[])[f.c]:t[zt(f)];b&&(_<0&&(_=E),y=E)}_<0||(++d,r.write_shift(4,_),r.write_shift(4,y))}var w=r.l;return r.l=m,r.write_shift(4,d),r.l=w,r.length>r.l?r.slice(0,r.l):r}function kU(n,e,t,r){var s=jU(r,t,e);(s.length>17||(e["!rows"]||[])[r])&&Re(n,0,s)}var OU=Wl,MU=bu;function PU(){}function FU(n,e){var t={},r=n[n.l];return++n.l,t.above=!(r&64),t.left=!(r&128),n.l+=18,t.name=KL(n),t}function LU(n,e,t){t==null&&(t=we(84+4*n.length));var r=192;e&&(e.above&&(r&=-65),e.left&&(r&=-129)),t.write_shift(1,r);for(var s=1;s<3;++s)t.write_shift(1,0);return gm({auto:1},t),t.write_shift(-4,-1),t.write_shift(-4,-1),rC(n,t),t.slice(0,t.l)}function VU(n){var e=Va(n);return[e]}function UU(n,e,t){return t==null&&(t=we(8)),Gl(e,t)}function BU(n){var e=$l(n);return[e]}function zU(n,e,t){return t==null&&(t=we(4)),Kl(e,t)}function qU(n){var e=Va(n),t=n.read_shift(1);return[e,t,"b"]}function HU(n,e,t){return t==null&&(t=we(9)),Gl(e,t),t.write_shift(1,n.v?1:0),t}function GU(n){var e=$l(n),t=n.read_shift(1);return[e,t,"b"]}function $U(n,e,t){return t==null&&(t=we(5)),Kl(e,t),t.write_shift(1,n.v?1:0),t}function KU(n){var e=Va(n),t=n.read_shift(1);return[e,t,"e"]}function WU(n,e,t){return t==null&&(t=we(9)),Gl(e,t),t.write_shift(1,n.v),t}function XU(n){var e=$l(n),t=n.read_shift(1);return[e,t,"e"]}function YU(n,e,t){return t==null&&(t=we(8)),Kl(e,t),t.write_shift(1,n.v),t.write_shift(2,0),t.write_shift(1,0),t}function QU(n){var e=Va(n),t=n.read_shift(4);return[e,t,"s"]}function JU(n,e,t){return t==null&&(t=we(12)),Gl(e,t),t.write_shift(4,e.v),t}function ZU(n){var e=$l(n),t=n.read_shift(4);return[e,t,"s"]}function eB(n,e,t){return t==null&&(t=we(8)),Kl(e,t),t.write_shift(4,e.v),t}function tB(n){var e=Va(n),t=Nu(n);return[e,t,"n"]}function nB(n,e,t){return t==null&&(t=we(16)),Gl(e,t),Fl(n.v,t),t}function rB(n){var e=$l(n),t=Nu(n);return[e,t,"n"]}function aB(n,e,t){return t==null&&(t=we(12)),Kl(e,t),Fl(n.v,t),t}function sB(n){var e=Va(n),t=aC(n);return[e,t,"n"]}function iB(n,e,t){return t==null&&(t=we(12)),Gl(e,t),sC(n.v,t),t}function oB(n){var e=$l(n),t=aC(n);return[e,t,"n"]}function lB(n,e,t){return t==null&&(t=we(8)),Kl(e,t),sC(n.v,t),t}function cB(n){var e=Va(n),t=Xx(n);return[e,t,"is"]}function uB(n){var e=Va(n),t=Er(n);return[e,t,"str"]}function hB(n,e,t){return t==null&&(t=we(12+4*n.v.length)),Gl(e,t),Xn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function dB(n){var e=$l(n),t=Er(n);return[e,t,"str"]}function fB(n,e,t){return t==null&&(t=we(8+4*n.v.length)),Kl(e,t),Xn(n.v,t),t.length>t.l?t.slice(0,t.l):t}function mB(n,e,t){var r=n.l+e,s=Va(n);s.r=t["!row"];var o=n.read_shift(1),u=[s,o,"b"];if(t.cellFormula){n.l+=2;var d=op(n,r-n.l,t);u[3]=fu(d,null,s,t.supbooks,t)}else n.l=r;return u}function pB(n,e,t){var r=n.l+e,s=Va(n);s.r=t["!row"];var o=n.read_shift(1),u=[s,o,"e"];if(t.cellFormula){n.l+=2;var d=op(n,r-n.l,t);u[3]=fu(d,null,s,t.supbooks,t)}else n.l=r;return u}function gB(n,e,t){var r=n.l+e,s=Va(n);s.r=t["!row"];var o=Nu(n),u=[s,o,"n"];if(t.cellFormula){n.l+=2;var d=op(n,r-n.l,t);u[3]=fu(d,null,s,t.supbooks,t)}else n.l=r;return u}function vB(n,e,t){var r=n.l+e,s=Va(n);s.r=t["!row"];var o=Er(n),u=[s,o,"str"];if(t.cellFormula){n.l+=2;var d=op(n,r-n.l,t);u[3]=fu(d,null,s,t.supbooks,t)}else n.l=r;return u}var xB=Wl,_B=bu;function yB(n,e){return e==null&&(e=we(4)),e.write_shift(4,n),e}function EB(n,e){var t=n.l+e,r=Wl(n),s=Yx(n),o=Er(n),u=Er(n),d=Er(n);n.l=t;var m={rfx:r,relId:s,loc:o,display:d};return u&&(m.Tooltip=u),m}function TB(n,e){var t=we(50+4*(n[1].Target.length+(n[1].Tooltip||"").length));bu({s:Wn(n[0]),e:Wn(n[0])},t),Qx("rId"+e,t);var r=n[1].Target.indexOf("#"),s=r==-1?"":n[1].Target.slice(r+1);return Xn(s||"",t),Xn(n[1].Tooltip||"",t),Xn("",t),t.slice(0,t.l)}function wB(){}function AB(n,e,t){var r=n.l+e,s=iC(n),o=n.read_shift(1),u=[s];if(u[2]=o,t.cellFormula){var d=dU(n,r-n.l,t);u[1]=d}else n.l=r;return u}function SB(n,e,t){var r=n.l+e,s=Wl(n),o=[s];if(t.cellFormula){var u=mU(n,r-n.l,t);o[1]=u,n.l=r}else n.l=r;return o}function bB(n,e,t){t==null&&(t=we(18));var r=lp(n,e);t.write_shift(-4,n),t.write_shift(-4,n),t.write_shift(4,(r.width||10)*256),t.write_shift(4,0);var s=0;return e.hidden&&(s|=1),typeof r.width=="number"&&(s|=2),e.level&&(s|=e.level<<8),t.write_shift(2,s),t}var qC=["left","right","top","bottom","header","footer"];function NB(n){var e={};return qC.forEach(function(t){e[t]=Nu(n)}),e}function CB(n,e){return e==null&&(e=we(48)),BC(n),qC.forEach(function(t){Fl(n[t],e)}),e}function IB(n){var e=n.read_shift(2);return n.l+=28,{RTL:e&32}}function RB(n,e,t){t==null&&(t=we(30));var r=924;return(((e||{}).Views||[])[0]||{}).RTL&&(r|=32),t.write_shift(2,r),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,100),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(4,0),t}function DB(n){var e=we(24);return e.write_shift(4,4),e.write_shift(4,1),bu(n,e),e}function jB(n,e){return e==null&&(e=we(66)),e.write_shift(2,n.password?AC(n.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(t){t[1]?e.write_shift(4,n[t[0]]!=null&&!n[t[0]]?1:0):e.write_shift(4,n[t[0]]!=null&&n[t[0]]?0:1)}),e}function kB(){}function OB(){}function MB(n,e,t,r,s,o,u){if(e.v===void 0)return!1;var d="";switch(e.t){case"b":d=e.v?"1":"0";break;case"d":e=Xr(e),e.z=e.z||_n[14],e.v=Wr(kr(e.v)),e.t="n";break;case"n":case"e":d=""+e.v;break;default:d=e.v;break}var m={r:t,c:r};switch(m.s=qo(s.cellXfs,e,s),e.l&&o["!links"].push([zt(m),e.l]),e.c&&o["!comments"].push([zt(m),e.c]),e.t){case"s":case"str":return s.bookSST?(d=r_(s.Strings,e.v,s.revStrings),m.t="s",m.v=d,u?Re(n,18,eB(e,m)):Re(n,7,JU(e,m))):(m.t="str",u?Re(n,17,fB(e,m)):Re(n,6,hB(e,m))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?u?Re(n,13,lB(e,m)):Re(n,2,iB(e,m)):u?Re(n,16,aB(e,m)):Re(n,5,nB(e,m)),!0;case"b":return m.t="b",u?Re(n,15,$U(e,m)):Re(n,4,HU(e,m)),!0;case"e":return m.t="e",u?Re(n,14,YU(e,m)):Re(n,3,WU(e,m)),!0}return u?Re(n,12,zU(e,m)):Re(n,1,UU(e,m)),!0}function PB(n,e,t,r){var s=rn(e["!ref"]||"A1"),o,u="",d=[];Re(n,145);var m=Array.isArray(e),f=s.e.r;e["!rows"]&&(f=Math.max(s.e.r,e["!rows"].length-1));for(var v=s.s.r;v<=f;++v){u=or(v),kU(n,e,s,v);var _=!1;if(v<=s.e.r)for(var y=s.s.c;y<=s.e.c;++y){v===s.s.r&&(d[y]=yr(y)),o=d[y]+u;var E=m?(e[v]||[])[y]:e[o];if(!E){_=!1;continue}_=MB(n,E,v,y,r,e,_)}}Re(n,146)}function FB(n,e){!e||!e["!merges"]||(Re(n,177,yB(e["!merges"].length)),e["!merges"].forEach(function(t){Re(n,176,_B(t))}),Re(n,178))}function LB(n,e){!e||!e["!cols"]||(Re(n,390),e["!cols"].forEach(function(t,r){t&&Re(n,60,bB(r,t))}),Re(n,391))}function VB(n,e){!e||!e["!ref"]||(Re(n,648),Re(n,649,DB(rn(e["!ref"]))),Re(n,650))}function UB(n,e,t){e["!links"].forEach(function(r){if(r[1].Target){var s=Vt(t,-1,r[1].Target.replace(/#.*$/,""),St.HLINK);Re(n,494,TB(r,s))}}),delete e["!links"]}function BB(n,e,t,r){if(e["!comments"].length>0){var s=Vt(r,-1,"../drawings/vmlDrawing"+(t+1)+".vml",St.VML);Re(n,551,Qx("rId"+s)),e["!legacy"]=s}}function zB(n,e,t,r){if(e["!autofilter"]){var s=e["!autofilter"],o=typeof s.ref=="string"?s.ref:Pn(s.ref);t.Workbook||(t.Workbook={Sheets:[]}),t.Workbook.Names||(t.Workbook.Names=[]);var u=t.Workbook.Names,d=va(o);d.s.r==d.e.r&&(d.e.r=va(e["!ref"]).e.r,o=Pn(d));for(var m=0;m<u.length;++m){var f=u[m];if(f.Name=="_xlnm._FilterDatabase"&&f.Sheet==r){f.Ref="'"+t.SheetNames[r]+"'!"+o;break}}m==u.length&&u.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+t.SheetNames[r]+"'!"+o}),Re(n,161,bu(rn(o))),Re(n,162)}}function qB(n,e,t){Re(n,133),Re(n,137,RB(e,t)),Re(n,138),Re(n,134)}function HB(n,e){e["!protect"]&&Re(n,535,jB(e["!protect"]))}function GB(n,e,t,r){var s=Kr(),o=t.SheetNames[n],u=t.Sheets[o]||{},d=o;try{t&&t.Workbook&&(d=t.Workbook.Sheets[n].CodeName||d)}catch{}var m=rn(u["!ref"]||"A1");if(m.e.c>16383||m.e.r>1048575){if(e.WTF)throw new Error("Range "+(u["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");m.e.c=Math.min(m.e.c,16383),m.e.r=Math.min(m.e.c,1048575)}return u["!links"]=[],u["!comments"]=[],Re(s,129),(t.vbaraw||u["!outline"])&&Re(s,147,LU(d,u["!outline"])),Re(s,148,MU(m)),qB(s,u,t.Workbook),LB(s,u),PB(s,u,n,e),HB(s,u),zB(s,u,t,n),FB(s,u),UB(s,u,r),u["!margins"]&&Re(s,476,CB(u["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&VB(s,u),BB(s,u,n,r),Re(s,130),s.end()}function $B(n,e){n.l+=10;var t=Er(n);return{name:t}}var KB=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function WB(n){return!n.Workbook||!n.Workbook.WBProps?"false":SL(n.Workbook.WBProps.date1904)?"true":"false"}var XB="][*?/\\".split("");function HC(n,e){if(n.length>31)throw new Error("Sheet names cannot exceed 31 chars");var t=!0;return XB.forEach(function(r){if(n.indexOf(r)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),t}function YB(n,e,t){n.forEach(function(r,s){HC(r);for(var o=0;o<s;++o)if(r==n[o])throw new Error("Duplicate Sheet Name: "+r);if(t){var u=e&&e[s]&&e[s].CodeName||r;if(u.charCodeAt(0)==95&&u.length>22)throw new Error("Bad Code Name: Worksheet"+u)}})}function QB(n){if(!n||!n.SheetNames||!n.Sheets)throw new Error("Invalid Workbook");if(!n.SheetNames.length)throw new Error("Workbook is empty");var e=n.Workbook&&n.Workbook.Sheets||[];YB(n.SheetNames,e,!!n.vbaraw);for(var t=0;t<n.SheetNames.length;++t)_U(n.Sheets[n.SheetNames[t]],n.SheetNames[t],t)}function GC(n){var e=[Fn];e[e.length]=Pe("workbook",null,{xmlns:Au[0],"xmlns:r":Kn.r});var t=n.Workbook&&(n.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};n.Workbook&&n.Workbook.WBProps&&(KB.forEach(function(d){n.Workbook.WBProps[d[0]]!=null&&n.Workbook.WBProps[d[0]]!=d[1]&&(r[d[0]]=n.Workbook.WBProps[d[0]])}),n.Workbook.WBProps.CodeName&&(r.codeName=n.Workbook.WBProps.CodeName,delete r.CodeName)),e[e.length]=Pe("workbookPr",null,r);var s=n.Workbook&&n.Workbook.Sheets||[],o=0;if(s&&s[0]&&s[0].Hidden){for(e[e.length]="<bookViews>",o=0;o!=n.SheetNames.length&&!(!s[o]||!s[o].Hidden);++o);o==n.SheetNames.length&&(o=0),e[e.length]='<workbookView firstSheet="'+o+'" activeTab="'+o+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",o=0;o!=n.SheetNames.length;++o){var u={name:Ut(n.SheetNames[o].slice(0,31))};if(u.sheetId=""+(o+1),u["r:id"]="rId"+(o+1),s[o])switch(s[o].Hidden){case 1:u.state="hidden";break;case 2:u.state="veryHidden";break}e[e.length]=Pe("sheet",null,u)}return e[e.length]="</sheets>",t&&(e[e.length]="<definedNames>",n.Workbook&&n.Workbook.Names&&n.Workbook.Names.forEach(function(d){var m={name:d.Name};d.Comment&&(m.comment=d.Comment),d.Sheet!=null&&(m.localSheetId=""+d.Sheet),d.Hidden&&(m.hidden="1"),d.Ref&&(e[e.length]=Pe("definedName",Ut(d.Ref),m))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function JB(n,e){var t={};return t.Hidden=n.read_shift(4),t.iTabID=n.read_shift(4),t.strRelID=w1(n),t.name=Er(n),t}function ZB(n,e){return e||(e=we(127)),e.write_shift(4,n.Hidden),e.write_shift(4,n.iTabID),Qx(n.strRelID,e),Xn(n.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function ez(n,e){var t={},r=n.read_shift(4);t.defaultThemeVersion=n.read_shift(4);var s=e>8?Er(n):"";return s.length>0&&(t.CodeName=s),t.autoCompressPictures=!!(r&65536),t.backupFile=!!(r&64),t.checkCompatibility=!!(r&4096),t.date1904=!!(r&1),t.filterPrivacy=!!(r&8),t.hidePivotFieldList=!!(r&1024),t.promptedSolutions=!!(r&16),t.publishItems=!!(r&2048),t.refreshAllConnections=!!(r&262144),t.saveExternalLinkValues=!!(r&128),t.showBorderUnselectedTables=!!(r&4),t.showInkAnnotation=!!(r&32),t.showObjects=["all","placeholders","none"][r>>13&3],t.showPivotChartFilter=!!(r&32768),t.updateLinks=["userSet","never","always"][r>>8&3],t}function tz(n,e){e||(e=we(72));var t=0;return n&&n.filterPrivacy&&(t|=8),e.write_shift(4,t),e.write_shift(4,0),rC(n&&n.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function nz(n,e,t){var r=n.l+e;n.l+=4,n.l+=1;var s=n.read_shift(4),o=WL(n),u=fU(n,0,t),d=Yx(n);n.l=r;var m={Name:o,Ptg:u};return s<268435455&&(m.Sheet=s),d&&(m.Comment=d),m}function rz(n,e){Re(n,143);for(var t=0;t!=e.SheetNames.length;++t){var r=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[t]&&e.Workbook.Sheets[t].Hidden||0,s={Hidden:r,iTabID:t+1,strRelID:"rId"+(t+1),name:e.SheetNames[t]};Re(n,156,ZB(s))}Re(n,144)}function az(n,e){e||(e=we(127));for(var t=0;t!=4;++t)e.write_shift(4,0);return Xn("SheetJS",e),Xn(lm.version,e),Xn(lm.version,e),Xn("7262",e),e.length>e.l?e.slice(0,e.l):e}function sz(n,e){e||(e=we(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,n),e.write_shift(4,n);var t=120;return e.write_shift(1,t),e.length>e.l?e.slice(0,e.l):e}function iz(n,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var t=e.Workbook.Sheets,r=0,s=-1,o=-1;r<t.length;++r)!t[r]||!t[r].Hidden&&s==-1?s=r:t[r].Hidden==1&&o==-1&&(o=r);o>s||(Re(n,135),Re(n,158,sz(s)),Re(n,136))}}function oz(n,e){var t=Kr();return Re(t,131),Re(t,128,az()),Re(t,153,tz(n.Workbook&&n.Workbook.WBProps||null)),iz(t,n),rz(t,n),Re(t,132),t.end()}function lz(n,e,t){return(e.slice(-4)===".bin"?oz:GC)(n)}function cz(n,e,t,r,s){return(e.slice(-4)===".bin"?GB:zC)(n,t,r,s)}function uz(n,e,t){return(e.slice(-4)===".bin"?C7:NC)(n,t)}function hz(n,e,t){return(e.slice(-4)===".bin"?t7:wC)(n,t)}function dz(n,e,t){return(e.slice(-4)===".bin"?H7:jC)(n)}function fz(n){return(n.slice(-4)===".bin"?P7:RC)()}function mz(n,e){var t=[];return n.Props&&t.push(u9(n.Props,e)),n.Custprops&&t.push(h9(n.Props,n.Custprops)),t.join("")}function pz(){return""}function gz(n,e){var t=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(r,s){var o=[];o.push(Pe("NumberFormat",null,{"ss:Format":Ut(_n[r.numFmtId])}));var u={"ss:ID":"s"+(21+s)};t.push(Pe("Style",o.join(""),u))}),Pe("Styles",t.join(""))}function $C(n){return Pe("NamedRange",null,{"ss:Name":n.Name,"ss:RefersTo":"="+t_(n.Ref,{r:0,c:0})})}function vz(n){if(!((n||{}).Workbook||{}).Names)return"";for(var e=n.Workbook.Names,t=[],r=0;r<e.length;++r){var s=e[r];s.Sheet==null&&(s.Name.match(/^_xlfn\./)||t.push($C(s)))}return Pe("Names",t.join(""))}function xz(n,e,t,r){if(!n||!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,o=[],u=0;u<s.length;++u){var d=s[u];d.Sheet==t&&(d.Name.match(/^_xlfn\./)||o.push($C(d)))}return o.join("")}function _z(n,e,t,r){if(!n)return"";var s=[];if(n["!margins"]&&(s.push("<PageSetup>"),n["!margins"].header&&s.push(Pe("Header",null,{"x:Margin":n["!margins"].header})),n["!margins"].footer&&s.push(Pe("Footer",null,{"x:Margin":n["!margins"].footer})),s.push(Pe("PageMargins",null,{"x:Bottom":n["!margins"].bottom||"0.75","x:Left":n["!margins"].left||"0.7","x:Right":n["!margins"].right||"0.7","x:Top":n["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[t])if(r.Workbook.Sheets[t].Hidden)s.push(Pe("Visible",r.Workbook.Sheets[t].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var o=0;o<t&&!(r.Workbook.Sheets[o]&&!r.Workbook.Sheets[o].Hidden);++o);o==t&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),n["!protect"]&&(s.push(ir("ProtectContents","True")),n["!protect"].objects&&s.push(ir("ProtectObjects","True")),n["!protect"].scenarios&&s.push(ir("ProtectScenarios","True")),n["!protect"].selectLockedCells!=null&&!n["!protect"].selectLockedCells?s.push(ir("EnableSelection","NoSelection")):n["!protect"].selectUnlockedCells!=null&&!n["!protect"].selectUnlockedCells&&s.push(ir("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(u){n["!protect"][u[0]]&&s.push("<"+u[1]+"/>")})),s.length==0?"":Pe("WorksheetOptions",s.join(""),{xmlns:ca.x})}function yz(n){return n.map(function(e){var t=AL(e.t||""),r=Pe("ss:Data",t,{xmlns:"http://www.w3.org/TR/REC-html40"});return Pe("Comment",r,{"ss:Author":e.a})}).join("")}function Ez(n,e,t,r,s,o,u){if(!n||n.v==null&&n.f==null)return"";var d={};if(n.f&&(d["ss:Formula"]="="+Ut(t_(n.f,u))),n.F&&n.F.slice(0,e.length)==e){var m=Wn(n.F.slice(e.length+1));d["ss:ArrayRange"]="RC:R"+(m.r==u.r?"":"["+(m.r-u.r)+"]")+"C"+(m.c==u.c?"":"["+(m.c-u.c)+"]")}if(n.l&&n.l.Target&&(d["ss:HRef"]=Ut(n.l.Target),n.l.Tooltip&&(d["x:HRefScreenTip"]=Ut(n.l.Tooltip))),t["!merges"])for(var f=t["!merges"],v=0;v!=f.length;++v)f[v].s.c!=u.c||f[v].s.r!=u.r||(f[v].e.c>f[v].s.c&&(d["ss:MergeAcross"]=f[v].e.c-f[v].s.c),f[v].e.r>f[v].s.r&&(d["ss:MergeDown"]=f[v].e.r-f[v].s.r));var _="",y="";switch(n.t){case"z":if(!r.sheetStubs)return"";break;case"n":_="Number",y=String(n.v);break;case"b":_="Boolean",y=n.v?"1":"0";break;case"e":_="Error",y=Vd[n.v];break;case"d":_="DateTime",y=new Date(n.v).toISOString(),n.z==null&&(n.z=n.z||_n[14]);break;case"s":_="String",y=wL(n.v||"");break}var E=qo(r.cellXfs,n,r);d["ss:StyleID"]="s"+(21+E),d["ss:Index"]=u.c+1;var b=n.v!=null?y:"",w=n.t=="z"?"":'<Data ss:Type="'+_+'">'+b+"</Data>";return(n.c||[]).length>0&&(w+=yz(n.c)),Pe("Cell",w,d)}function Tz(n,e){var t='<Row ss:Index="'+(n+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=bC(e.hpt)),e.hpx&&(t+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(t+=' ss:Hidden="1"')),t+">"}function wz(n,e,t,r){if(!n["!ref"])return"";var s=rn(n["!ref"]),o=n["!merges"]||[],u=0,d=[];n["!cols"]&&n["!cols"].forEach(function(S,k){Zx(S);var D=!!S.width,j=lp(k,S),X={"ss:Index":k+1};D&&(X["ss:Width"]=xm(j.width)),S.hidden&&(X["ss:Hidden"]="1"),d.push(Pe("Column",null,X))});for(var m=Array.isArray(n),f=s.s.r;f<=s.e.r;++f){for(var v=[Tz(f,(n["!rows"]||[])[f])],_=s.s.c;_<=s.e.c;++_){var y=!1;for(u=0;u!=o.length;++u)if(!(o[u].s.c>_)&&!(o[u].s.r>f)&&!(o[u].e.c<_)&&!(o[u].e.r<f)){(o[u].s.c!=_||o[u].s.r!=f)&&(y=!0);break}if(!y){var E={r:f,c:_},b=zt(E),w=m?(n[f]||[])[_]:n[b];v.push(Ez(w,b,n,e,t,r,E))}}v.push("</Row>"),v.length>2&&d.push(v.join(""))}return d.join("")}function Az(n,e,t){var r=[],s=t.SheetNames[n],o=t.Sheets[s],u=o?xz(o,e,n,t):"";return u.length>0&&r.push("<Names>"+u+"</Names>"),u=o?wz(o,e,n,t):"",u.length>0&&r.push("<Table>"+u+"</Table>"),r.push(_z(o,e,n,t)),r.join("")}function Sz(n,e){e||(e={}),n.SSF||(n.SSF=Xr(_n)),n.SSF&&(rp(),np(n.SSF),e.revssf=ap(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF,e.cellXfs=[],qo(e.cellXfs,{},{revssf:{General:0}}));var t=[];t.push(mz(n,e)),t.push(pz()),t.push(""),t.push("");for(var r=0;r<n.SheetNames.length;++r)t.push(Pe("Worksheet",Az(r,e,n),{"ss:Name":Ut(n.SheetNames[r])}));return t[2]=gz(n,e),t[3]=vz(n),Fn+Pe("Workbook",t.join(""),{xmlns:ca.ss,"xmlns:o":ca.o,"xmlns:x":ca.x,"xmlns:ss":ca.ss,"xmlns:dt":ca.dt,"xmlns:html":ca.html})}var Pv={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bz(n,e){var t=[],r=[],s=[],o=0,u,d=Fw(Yw,"n"),m=Fw(Qw,"n");if(n.Props)for(u=cr(n.Props),o=0;o<u.length;++o)(Object.prototype.hasOwnProperty.call(d,u[o])?t:Object.prototype.hasOwnProperty.call(m,u[o])?r:s).push([u[o],n.Props[u[o]]]);if(n.Custprops)for(u=cr(n.Custprops),o=0;o<u.length;++o)Object.prototype.hasOwnProperty.call(n.Props||{},u[o])||(Object.prototype.hasOwnProperty.call(d,u[o])?t:Object.prototype.hasOwnProperty.call(m,u[o])?r:s).push([u[o],n.Custprops[u[o]]]);var f=[];for(o=0;o<s.length;++o)gC.indexOf(s[o][0])>-1||fC.indexOf(s[o][0])>-1||s[o][1]!=null&&f.push(s[o]);r.length&&Kt.utils.cfb_add(e,"/SummaryInformation",nA(r,Pv.SI,m,Qw)),(t.length||f.length)&&Kt.utils.cfb_add(e,"/DocumentSummaryInformation",nA(t,Pv.DSI,d,Yw,f.length?f:null,Pv.UDI))}function Nz(n,e){var t=e||{},r=Kt.utils.cfb_new({root:"R"}),s="/Workbook";switch(t.bookType||"xls"){case"xls":t.bookType="biff8";case"xla":t.bookType||(t.bookType="xla");case"biff8":s="/Workbook",t.biff=8;break;case"biff5":s="/Book",t.biff=5;break;default:throw new Error("invalid type "+t.bookType+" for XLS CFB")}return Kt.utils.cfb_add(r,s,KC(n,t)),t.biff==8&&(n.Props||n.Custprops)&&bz(n,r),t.biff==8&&n.vbaraw&&G7(r,Kt.read(n.vbaraw,{type:typeof n.vbaraw=="string"?"binary":"buffer"})),r}var Cz={0:{f:DU},1:{f:VU},2:{f:sB},3:{f:KU},4:{f:qU},5:{f:tB},6:{f:uB},7:{f:QU},8:{f:vB},9:{f:gB},10:{f:mB},11:{f:pB},12:{f:BU},13:{f:oB},14:{f:XU},15:{f:GU},16:{f:rB},17:{f:dB},18:{f:ZU},19:{f:Xx},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:nz},40:{},42:{},43:{f:u7},44:{f:l7},45:{f:f7},46:{f:p7},47:{f:m7},48:{},49:{f:BL},50:{},51:{f:D7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:z9},62:{f:cB},63:{f:F7},64:{f:kB},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ps,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:IB},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:FU},148:{f:OU,p:16},151:{f:wB},152:{},153:{f:ez},154:{},155:{},156:{f:JB},157:{},158:{},159:{T:1,f:J9},160:{T:-1},161:{T:1,f:Wl},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xB},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:I7},336:{T:-1},337:{f:O7,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:w1},357:{},358:{},359:{},360:{T:1},361:{},362:{f:P9},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:AB},427:{f:SB},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:NB},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:PU},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:EB},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:w1},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:z7},633:{T:1},634:{T:-1},635:{T:1,f:U7},636:{T:-1},637:{f:GL},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:$B},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:OB},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Fe(n,e,t,r){var s=e;if(!isNaN(s)){var o=r||(t||[]).length||0,u=n.next(4);u.write_shift(2,s),u.write_shift(2,o),o>0&&$x(t)&&n.push(t)}}function Iz(n,e,t,r){var s=(t||[]).length||0;if(s<=8224)return Fe(n,e,t,s);var o=e;if(!isNaN(o)){for(var u=t.parts||[],d=0,m=0,f=0;f+(u[d]||8224)<=8224;)f+=u[d]||8224,d++;var v=n.next(4);for(v.write_shift(2,o),v.write_shift(2,f),n.push(t.slice(m,m+f)),m+=f;m<s;){for(v=n.next(4),v.write_shift(2,60),f=0;f+(u[d]||8224)<=8224;)f+=u[d]||8224,d++;v.write_shift(2,f),n.push(t.slice(m,m+f)),m+=f}}}function Bd(n,e,t){return n||(n=we(7)),n.write_shift(2,e),n.write_shift(2,t),n.write_shift(2,0),n.write_shift(1,0),n}function Rz(n,e,t,r){var s=we(9);return Bd(s,n,e),xC(t,r||"b",s),s}function Dz(n,e,t){var r=we(8+2*t.length);return Bd(r,n,e),r.write_shift(1,t.length),r.write_shift(t.length,t,"sbcs"),r.l<r.length?r.slice(0,r.l):r}function jz(n,e,t,r){if(e.v!=null)switch(e.t){case"d":case"n":var s=e.t=="d"?Wr(kr(e.v)):e.v;s==(s|0)&&s>=0&&s<65536?Fe(n,2,$9(t,r,s)):Fe(n,3,G9(t,r,s));return;case"b":case"e":Fe(n,5,Rz(t,r,e.v,e.t));return;case"s":case"str":Fe(n,4,Dz(t,r,(e.v||"").slice(0,255)));return}Fe(n,1,Bd(null,t,r))}function kz(n,e,t,r){var s=Array.isArray(e),o=rn(e["!ref"]||"A1"),u,d="",m=[];if(o.e.c>255||o.e.r>16383){if(r.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");o.e.c=Math.min(o.e.c,255),o.e.r=Math.min(o.e.c,16383),u=Pn(o)}for(var f=o.s.r;f<=o.e.r;++f){d=or(f);for(var v=o.s.c;v<=o.e.c;++v){f===o.s.r&&(m[v]=yr(v)),u=m[v]+d;var _=s?(e[f]||[])[v]:e[u];_&&jz(n,_,f,v)}}}function Oz(n,e){for(var t=e||{},r=Kr(),s=0,o=0;o<n.SheetNames.length;++o)n.SheetNames[o]==t.sheet&&(s=o);if(s==0&&t.sheet&&n.SheetNames[0]!=t.sheet)throw new Error("Sheet not found: "+t.sheet);return Fe(r,t.biff==4?1033:t.biff==3?521:9,Jx(n,16,t)),kz(r,n.Sheets[n.SheetNames[s]],s,t),Fe(r,10),r.end()}function Mz(n,e,t){Fe(n,49,C9({sz:12,name:"Arial"},t))}function Pz(n,e,t){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)e[s]!=null&&Fe(n,1054,D9(s,e[s],t))})}function Fz(n,e){var t=we(19);t.write_shift(4,2151),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,1),t.write_shift(4,0),Fe(n,2151,t),t=we(39),t.write_shift(4,2152),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(2,3),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(2,1),t.write_shift(4,4),t.write_shift(2,0),EC(rn(e["!ref"]||"A1"),t),t.write_shift(4,4),Fe(n,2152,t)}function Lz(n,e){for(var t=0;t<16;++t)Fe(n,224,aA({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(r){Fe(n,224,aA(r,0,e))})}function Vz(n,e){for(var t=0;t<e["!links"].length;++t){var r=e["!links"][t];Fe(n,440,V9(r)),r[1].Tooltip&&Fe(n,2048,U9(r))}delete e["!links"]}function Uz(n,e){if(e){var t=0;e.forEach(function(r,s){++t<=256&&r&&Fe(n,125,q9(lp(s,r),s))})}}function Bz(n,e,t,r,s){var o=16+qo(s.cellXfs,e,s);if(e.v==null&&!e.bf){Fe(n,513,Ll(t,r,o));return}if(e.bf)Fe(n,6,hU(e,t,r,s,o));else switch(e.t){case"d":case"n":var u=e.t=="d"?Wr(kr(e.v)):e.v;Fe(n,515,M9(t,r,u,o));break;case"b":case"e":Fe(n,517,O9(t,r,e.v,o,s,e.t));break;case"s":case"str":if(s.bookSST){var d=r_(s.Strings,e.v,s.revStrings);Fe(n,253,I9(t,r,d,o))}else Fe(n,516,R9(t,r,(e.v||"").slice(0,255),o,s));break;default:Fe(n,513,Ll(t,r,o))}}function zz(n,e,t){var r=Kr(),s=t.SheetNames[n],o=t.Sheets[s]||{},u=(t||{}).Workbook||{},d=(u.Sheets||[])[n]||{},m=Array.isArray(o),f=e.biff==8,v,_="",y=[],E=rn(o["!ref"]||"A1"),b=f?65536:16384;if(E.e.c>255||E.e.r>=b){if(e.WTF)throw new Error("Range "+(o["!ref"]||"A1")+" exceeds format limit A1:IV16384");E.e.c=Math.min(E.e.c,255),E.e.r=Math.min(E.e.c,b-1)}Fe(r,2057,Jx(t,16,e)),Fe(r,13,ka(1)),Fe(r,12,ka(100)),Fe(r,15,Dr(!0)),Fe(r,17,Dr(!1)),Fe(r,16,Fl(.001)),Fe(r,95,Dr(!0)),Fe(r,42,Dr(!1)),Fe(r,43,Dr(!1)),Fe(r,130,ka(1)),Fe(r,128,k9()),Fe(r,131,Dr(!1)),Fe(r,132,Dr(!1)),f&&Uz(r,o["!cols"]),Fe(r,512,j9(E,e)),f&&(o["!links"]=[]);for(var w=E.s.r;w<=E.e.r;++w){_=or(w);for(var S=E.s.c;S<=E.e.c;++S){w===E.s.r&&(y[S]=yr(S)),v=y[S]+_;var k=m?(o[w]||[])[S]:o[v];k&&(Bz(r,k,w,S,e),f&&k.l&&o["!links"].push([v,k.l]))}}var D=d.CodeName||d.name||s;return f&&Fe(r,574,N9((u.Views||[])[0])),f&&(o["!merges"]||[]).length&&Fe(r,229,L9(o["!merges"])),f&&Vz(r,o),Fe(r,442,yC(D)),f&&Fz(r,o),Fe(r,10),r.end()}function qz(n,e,t){var r=Kr(),s=(n||{}).Workbook||{},o=s.Sheets||[],u=s.WBProps||{},d=t.biff==8,m=t.biff==5;if(Fe(r,2057,Jx(n,5,t)),t.bookType=="xla"&&Fe(r,135),Fe(r,225,d?ka(1200):null),Fe(r,193,m9(2)),m&&Fe(r,191),m&&Fe(r,192),Fe(r,226),Fe(r,92,w9("SheetJS",t)),Fe(r,66,ka(d?1200:1252)),d&&Fe(r,353,ka(0)),d&&Fe(r,448),Fe(r,317,H9(n.SheetNames.length)),d&&n.vbaraw&&Fe(r,211),d&&n.vbaraw){var f=u.CodeName||"ThisWorkbook";Fe(r,442,yC(f))}Fe(r,156,ka(17)),Fe(r,25,Dr(!1)),Fe(r,18,Dr(!1)),Fe(r,19,ka(0)),d&&Fe(r,431,Dr(!1)),d&&Fe(r,444,ka(0)),Fe(r,61,b9()),Fe(r,64,Dr(!1)),Fe(r,141,ka(0)),Fe(r,34,Dr(WB(n)=="true")),Fe(r,14,Dr(!0)),d&&Fe(r,439,Dr(!1)),Fe(r,218,ka(0)),Mz(r,n,t),Pz(r,n.SSF,t),Lz(r,t),d&&Fe(r,352,Dr(!1));var v=r.end(),_=Kr();d&&Fe(_,140,B9()),d&&t.Strings&&Iz(_,252,S9(t.Strings)),Fe(_,10);var y=_.end(),E=Kr(),b=0,w=0;for(w=0;w<n.SheetNames.length;++w)b+=(d?12:11)+(d?2:1)*n.SheetNames[w].length;var S=v.length+b+y.length;for(w=0;w<n.SheetNames.length;++w){var k=o[w]||{};Fe(E,133,A9({pos:S,hs:k.Hidden||0,dt:0,name:n.SheetNames[w]},t)),S+=e[w].length}var D=E.end();if(b!=D.length)throw new Error("BS8 "+b+" != "+D.length);var j=[];return v.length&&j.push(v),D.length&&j.push(D),y.length&&j.push(y),sr(j)}function Hz(n,e){var t=e||{},r=[];n&&!n.SSF&&(n.SSF=Xr(_n)),n&&n.SSF&&(rp(),np(n.SSF),t.revssf=ap(n.SSF),t.revssf[n.SSF[65535]]=0,t.ssf=n.SSF),t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,a_(t),t.cellXfs=[],qo(t.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={});for(var s=0;s<n.SheetNames.length;++s)r[r.length]=zz(s,t,n);return r.unshift(qz(n,r,t)),sr(r)}function KC(n,e){for(var t=0;t<=n.SheetNames.length;++t){var r=n.Sheets[n.SheetNames[t]];if(!(!r||!r["!ref"])){var s=va(r["!ref"]);s.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+n.SheetNames[t]+"' extends beyond column IV (255).  Data may be lost.")}}var o=e||{};switch(o.biff||2){case 8:case 5:return Hz(n,e);case 4:case 3:case 2:return Oz(n,e)}throw new Error("invalid type "+o.bookType+" for BIFF")}function Gz(n,e,t,r){for(var s=n["!merges"]||[],o=[],u=e.s.c;u<=e.e.c;++u){for(var d=0,m=0,f=0;f<s.length;++f)if(!(s[f].s.r>t||s[f].s.c>u)&&!(s[f].e.r<t||s[f].e.c<u)){if(s[f].s.r<t||s[f].s.c<u){d=-1;break}d=s[f].e.r-s[f].s.r+1,m=s[f].e.c-s[f].s.c+1;break}if(!(d<0)){var v=zt({r:t,c:u}),_=r.dense?(n[t]||[])[u]:n[v],y=_&&_.v!=null&&(_.h||TL(_.w||(Ii(_),_.w)||""))||"",E={};d>1&&(E.rowspan=d),m>1&&(E.colspan=m),r.editable?y='<span contenteditable="true">'+y+"</span>":_&&(E["data-t"]=_&&_.t||"z",_.v!=null&&(E["data-v"]=_.v),_.z!=null&&(E["data-z"]=_.z),_.l&&(_.l.Target||"#").charAt(0)!="#"&&(y='<a href="'+_.l.Target+'">'+y+"</a>")),E.id=(r.id||"sjs")+"-"+v,o.push(Pe("td",y,E))}}var b="<tr>";return b+o.join("")+"</tr>"}var $z='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Kz="</body></html>";function Wz(n,e,t){var r=[];return r.join("")+"<table"+(t&&t.id?' id="'+t.id+'"':"")+">"}function WC(n,e){var t=e||{},r=t.header!=null?t.header:$z,s=t.footer!=null?t.footer:Kz,o=[r],u=va(n["!ref"]);t.dense=Array.isArray(n),o.push(Wz(n,u,t));for(var d=u.s.r;d<=u.e.r;++d)o.push(Gz(n,u,d,t));return o.push("</table>"+s),o.join("")}function XC(n,e,t){var r=t||{},s=0,o=0;if(r.origin!=null)if(typeof r.origin=="number")s=r.origin;else{var u=typeof r.origin=="string"?Wn(r.origin):r.origin;s=u.r,o=u.c}var d=e.getElementsByTagName("tr"),m=Math.min(r.sheetRows||1e7,d.length),f={s:{r:0,c:0},e:{r:s,c:o}};if(n["!ref"]){var v=va(n["!ref"]);f.s.r=Math.min(f.s.r,v.s.r),f.s.c=Math.min(f.s.c,v.s.c),f.e.r=Math.max(f.e.r,v.e.r),f.e.c=Math.max(f.e.c,v.e.c),s==-1&&(f.e.r=s=v.e.r+1)}var _=[],y=0,E=n["!rows"]||(n["!rows"]=[]),b=0,w=0,S=0,k=0,D=0,j=0;for(n["!cols"]||(n["!cols"]=[]);b<d.length&&w<m;++b){var X=d[b];if(hA(X)){if(r.display)continue;E[w]={hidden:!0}}var te=X.children;for(S=k=0;S<te.length;++S){var ie=te[S];if(!(r.display&&hA(ie))){var I=ie.hasAttribute("data-v")?ie.getAttribute("data-v"):ie.hasAttribute("v")?ie.getAttribute("v"):bL(ie.innerHTML),R=ie.getAttribute("data-z")||ie.getAttribute("z");for(y=0;y<_.length;++y){var N=_[y];N.s.c==k+o&&N.s.r<w+s&&w+s<=N.e.r&&(k=N.e.c+1-o,y=-1)}j=+ie.getAttribute("colspan")||1,((D=+ie.getAttribute("rowspan")||1)>1||j>1)&&_.push({s:{r:w+s,c:k+o},e:{r:w+s+(D||1)-1,c:k+o+(j||1)-1}});var F={t:"s",v:I},U=ie.getAttribute("data-t")||ie.getAttribute("t")||"";I!=null&&(I.length==0?F.t=U||"z":r.raw||I.trim().length==0||U=="s"||(I==="TRUE"?F={t:"b",v:!0}:I==="FALSE"?F={t:"b",v:!1}:isNaN(_i(I))?isNaN(vd(I).getDate())||(F={t:"d",v:kr(I)},r.cellDates||(F={t:"n",v:Wr(F.v)}),F.z=r.dateNF||_n[14]):F={t:"n",v:_i(I)})),F.z===void 0&&R!=null&&(F.z=R);var M="",B=ie.getElementsByTagName("A");if(B&&B.length)for(var J=0;J<B.length&&!(B[J].hasAttribute("href")&&(M=B[J].getAttribute("href"),M.charAt(0)!="#"));++J);M&&M.charAt(0)!="#"&&(F.l={Target:M}),r.dense?(n[w+s]||(n[w+s]=[]),n[w+s][k+o]=F):n[zt({c:k+o,r:w+s})]=F,f.e.c<k+o&&(f.e.c=k+o),k+=j}}++w}return _.length&&(n["!merges"]=(n["!merges"]||[]).concat(_)),f.e.r=Math.max(f.e.r,w-1+s),n["!ref"]=Pn(f),w>=m&&(n["!fullref"]=Pn((f.e.r=d.length-b+w-1+s,f))),n}function YC(n,e){var t=e||{},r=t.dense?[]:{};return XC(r,n,e)}function Xz(n,e){return Hl(YC(n,e),e)}function hA(n){var e="",t=Yz(n);return t&&(e=t(n).getPropertyValue("display")),e||(e=n.style&&n.style.display),e==="none"}function Yz(n){return n.ownerDocument.defaultView&&typeof n.ownerDocument.defaultView.getComputedStyle=="function"?n.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var Qz=(function(){var n=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+_d({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+n+"</office:document-styles>";return function(){return Fn+e}})(),dA=(function(){var n=function(o){return Ut(o).replace(/  +/g,function(u){return'<text:s text:c="'+u.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,t=`          <table:covered-table-cell/>
`,r=function(o,u,d){var m=[];m.push('      <table:table table:name="'+Ut(u.SheetNames[d])+`" table:style-name="ta1">
`);var f=0,v=0,_=va(o["!ref"]||"A1"),y=o["!merges"]||[],E=0,b=Array.isArray(o);if(o["!cols"])for(v=0;v<=_.e.c;++v)m.push("        <table:table-column"+(o["!cols"][v]?' table:style-name="co'+o["!cols"][v].ods+'"':"")+`></table:table-column>
`);var w="",S=o["!rows"]||[];for(f=0;f<_.s.r;++f)w=S[f]?' table:style-name="ro'+S[f].ods+'"':"",m.push("        <table:table-row"+w+`></table:table-row>
`);for(;f<=_.e.r;++f){for(w=S[f]?' table:style-name="ro'+S[f].ods+'"':"",m.push("        <table:table-row"+w+`>
`),v=0;v<_.s.c;++v)m.push(e);for(;v<=_.e.c;++v){var k=!1,D={},j="";for(E=0;E!=y.length;++E)if(!(y[E].s.c>v)&&!(y[E].s.r>f)&&!(y[E].e.c<v)&&!(y[E].e.r<f)){(y[E].s.c!=v||y[E].s.r!=f)&&(k=!0),D["table:number-columns-spanned"]=y[E].e.c-y[E].s.c+1,D["table:number-rows-spanned"]=y[E].e.r-y[E].s.r+1;break}if(k){m.push(t);continue}var X=zt({r:f,c:v}),te=b?(o[f]||[])[v]:o[X];if(te&&te.f&&(D["table:formula"]=Ut(vU(te.f)),te.F&&te.F.slice(0,X.length)==X)){var ie=va(te.F);D["table:number-matrix-columns-spanned"]=ie.e.c-ie.s.c+1,D["table:number-matrix-rows-spanned"]=ie.e.r-ie.s.r+1}if(!te){m.push(e);continue}switch(te.t){case"b":j=te.v?"TRUE":"FALSE",D["office:value-type"]="boolean",D["office:boolean-value"]=te.v?"true":"false";break;case"n":j=te.w||String(te.v||0),D["office:value-type"]="float",D["office:value"]=te.v||0;break;case"s":case"str":j=te.v==null?"":te.v,D["office:value-type"]="string";break;case"d":j=te.w||kr(te.v).toISOString(),D["office:value-type"]="date",D["office:date-value"]=kr(te.v).toISOString(),D["table:style-name"]="ce1";break;default:m.push(e);continue}var I=n(j);if(te.l&&te.l.Target){var R=te.l.Target;R=R.charAt(0)=="#"?"#"+xU(R.slice(1)):R,R.charAt(0)!="#"&&!R.match(/^\w+:/)&&(R="../"+R),I=Pe("text:a",I,{"xlink:href":R.replace(/&/g,"&amp;")})}m.push("          "+Pe("table:table-cell",Pe("text:p",I,{}),D)+`
`)}m.push(`        </table:table-row>
`)}return m.push(`      </table:table>
`),m.join("")},s=function(o,u){o.push(` <office:automatic-styles>
`),o.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),o.push(`   <number:month number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:day number:style="long"/>
`),o.push(`   <number:text>/</number:text>
`),o.push(`   <number:year/>
`),o.push(`  </number:date-style>
`);var d=0;u.SheetNames.map(function(f){return u.Sheets[f]}).forEach(function(f){if(f&&f["!cols"]){for(var v=0;v<f["!cols"].length;++v)if(f["!cols"][v]){var _=f["!cols"][v];if(_.width==null&&_.wpx==null&&_.wch==null)continue;Zx(_),_.ods=d;var y=f["!cols"][v].wpx+"px";o.push('  <style:style style:name="co'+d+`" style:family="table-column">
`),o.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+y+`"/>
`),o.push(`  </style:style>
`),++d}}});var m=0;u.SheetNames.map(function(f){return u.Sheets[f]}).forEach(function(f){if(f&&f["!rows"]){for(var v=0;v<f["!rows"].length;++v)if(f["!rows"][v]){f["!rows"][v].ods=m;var _=f["!rows"][v].hpx+"px";o.push('  <style:style style:name="ro'+m+`" style:family="table-row">
`),o.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+_+`"/>
`),o.push(`  </style:style>
`),++m}}}),o.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),o.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),o.push(`  </style:style>
`),o.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),o.push(` </office:automatic-styles>
`)};return function(u,d){var m=[Fn],f=_d({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),v=_d({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});d.bookType=="fods"?(m.push("<office:document"+f+v+`>
`),m.push(hC().replace(/office:document-meta/g,"office:meta"))):m.push("<office:document-content"+f+`>
`),s(m,u),m.push(`  <office:body>
`),m.push(`    <office:spreadsheet>
`);for(var _=0;_!=u.SheetNames.length;++_)m.push(r(u.Sheets[u.SheetNames[_]],u,_));return m.push(`    </office:spreadsheet>
`),m.push(`  </office:body>
`),d.bookType=="fods"?m.push("</office:document>"):m.push("</office:document-content>"),m.join("")}})();function QC(n,e){if(e.bookType=="fods")return dA(n,e);var t=zx(),r="",s=[],o=[];return r="mimetype",dt(t,r,"application/vnd.oasis.opendocument.spreadsheet"),r="content.xml",dt(t,r,dA(n,e)),s.push([r,"text/xml"]),o.push([r,"ContentFile"]),r="styles.xml",dt(t,r,Qz(n,e)),s.push([r,"text/xml"]),o.push([r,"StylesFile"]),r="meta.xml",dt(t,r,Fn+hC()),s.push([r,"text/xml"]),o.push([r,"MetadataFile"]),r="manifest.rdf",dt(t,r,c9(o)),s.push([r,"application/rdf+xml"]),r="META-INF/manifest.xml",dt(t,r,o9(s)),t}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Em(n){return new DataView(n.buffer,n.byteOffset,n.byteLength)}function Jz(n){return typeof TextEncoder<"u"?new TextEncoder().encode(n):es(xd(n))}function Zz(n,e){e:for(var t=0;t<=n.length-e.length;++t){for(var r=0;r<e.length;++r)if(n[t+r]!=e[r])continue e;return!0}return!1}function Po(n){var e=n.reduce(function(s,o){return s+o.length},0),t=new Uint8Array(e),r=0;return n.forEach(function(s){t.set(s,r),r+=s.length}),t}function eq(n,e,t){var r=Math.floor(t==0?0:Math.LOG10E*Math.log(Math.abs(t)))+6176-20,s=t/Math.pow(10,r-6176);n[e+15]|=r>>7,n[e+14]|=(r&127)<<1;for(var o=0;s>=1;++o,s/=256)n[e+o]=s&255;n[e+15]|=t>=0?0:128}function yd(n,e){var t=e?e[0]:0,r=n[t]&127;e:if(n[t++]>=128&&(r|=(n[t]&127)<<7,n[t++]<128||(r|=(n[t]&127)<<14,n[t++]<128)||(r|=(n[t]&127)<<21,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,28),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,35),++t,n[t++]<128)||(r+=(n[t]&127)*Math.pow(2,42),++t,n[t++]<128)))break e;return e&&(e[0]=t),r}function Lt(n){var e=new Uint8Array(7);e[0]=n&127;var t=1;e:if(n>127){if(e[t-1]|=128,e[t]=n>>7&127,++t,n<=16383||(e[t-1]|=128,e[t]=n>>14&127,++t,n<=2097151)||(e[t-1]|=128,e[t]=n>>21&127,++t,n<=268435455)||(e[t-1]|=128,e[t]=n/256>>>21&127,++t,n<=34359738367)||(e[t-1]|=128,e[t]=n/65536>>>21&127,++t,n<=4398046511103))break e;e[t-1]|=128,e[t]=n/16777216>>>21&127,++t}return e.slice(0,t)}function ru(n){var e=0,t=n[e]&127;e:if(n[e++]>=128){if(t|=(n[e]&127)<<7,n[e++]<128||(t|=(n[e]&127)<<14,n[e++]<128)||(t|=(n[e]&127)<<21,n[e++]<128))break e;t|=(n[e]&127)<<28}return t}function Un(n){for(var e=[],t=[0];t[0]<n.length;){var r=t[0],s=yd(n,t),o=s&7;s=Math.floor(s/8);var u=0,d;if(s==0)break;switch(o){case 0:{for(var m=t[0];n[t[0]++]>=128;);d=n.slice(m,t[0])}break;case 5:u=4,d=n.slice(t[0],t[0]+u),t[0]+=u;break;case 1:u=8,d=n.slice(t[0],t[0]+u),t[0]+=u;break;case 2:u=yd(n,t),d=n.slice(t[0],t[0]+u),t[0]+=u;break;case 3:case 4:default:throw new Error("PB Type ".concat(o," for Field ").concat(s," at offset ").concat(r))}var f={data:d,type:o};e[s]==null?e[s]=[f]:e[s].push(f)}return e}function tr(n){var e=[];return n.forEach(function(t,r){t.forEach(function(s){s.data&&(e.push(Lt(r*8+s.type)),s.type==2&&e.push(Lt(s.data.length)),e.push(s.data))})}),Po(e)}function Qa(n){for(var e,t=[],r=[0];r[0]<n.length;){var s=yd(n,r),o=Un(n.slice(r[0],r[0]+s));r[0]+=s;var u={id:ru(o[1][0].data),messages:[]};o[2].forEach(function(d){var m=Un(d.data),f=ru(m[3][0].data);u.messages.push({meta:m,data:n.slice(r[0],r[0]+f)}),r[0]+=f}),(e=o[3])!=null&&e[0]&&(u.merge=ru(o[3][0].data)>>>0>0),t.push(u)}return t}function Uc(n){var e=[];return n.forEach(function(t){var r=[];r[1]=[{data:Lt(t.id),type:0}],r[2]=[],t.merge!=null&&(r[3]=[{data:Lt(+!!t.merge),type:0}]);var s=[];t.messages.forEach(function(u){s.push(u.data),u.meta[3]=[{type:0,data:Lt(u.data.length)}],r[2].push({data:tr(u.meta),type:2})});var o=tr(r);e.push(Lt(o.length)),e.push(o),s.forEach(function(u){return e.push(u)})}),Po(e)}function tq(n,e){if(n!=0)throw new Error("Unexpected Snappy chunk type ".concat(n));for(var t=[0],r=yd(e,t),s=[];t[0]<e.length;){var o=e[t[0]]&3;if(o==0){var u=e[t[0]++]>>2;if(u<60)++u;else{var d=u-59;u=e[t[0]],d>1&&(u|=e[t[0]+1]<<8),d>2&&(u|=e[t[0]+2]<<16),d>3&&(u|=e[t[0]+3]<<24),u>>>=0,u++,t[0]+=d}s.push(e.slice(t[0],t[0]+u)),t[0]+=u;continue}else{var m=0,f=0;if(o==1?(f=(e[t[0]]>>2&7)+4,m=(e[t[0]++]&224)<<3,m|=e[t[0]++]):(f=(e[t[0]++]>>2)+1,o==2?(m=e[t[0]]|e[t[0]+1]<<8,t[0]+=2):(m=(e[t[0]]|e[t[0]+1]<<8|e[t[0]+2]<<16|e[t[0]+3]<<24)>>>0,t[0]+=4)),s=[Po(s)],m==0)throw new Error("Invalid offset 0");if(m>s[0].length)throw new Error("Invalid offset beyond length");if(f>=m)for(s.push(s[0].slice(-m)),f-=m;f>=s[s.length-1].length;)s.push(s[s.length-1]),f-=s[s.length-1].length;s.push(s[0].slice(-m,-m+f))}}var v=Po(s);if(v.length!=r)throw new Error("Unexpected length: ".concat(v.length," != ").concat(r));return v}function Ja(n){for(var e=[],t=0;t<n.length;){var r=n[t++],s=n[t]|n[t+1]<<8|n[t+2]<<16;t+=3,e.push(tq(r,n.slice(t,t+s))),t+=s}if(t!==n.length)throw new Error("data is not a valid framed stream!");return Po(e)}function Bc(n){for(var e=[],t=0;t<n.length;){var r=Math.min(n.length-t,268435455),s=new Uint8Array(4);e.push(s);var o=Lt(r),u=o.length;e.push(o),r<=60?(u++,e.push(new Uint8Array([r-1<<2]))):r<=256?(u+=2,e.push(new Uint8Array([240,r-1&255]))):r<=65536?(u+=3,e.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(u+=4,e.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(u+=5,e.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),e.push(n.slice(t,t+r)),u+=r,s[0]=0,s[1]=u&255,s[2]=u>>8&255,s[3]=u>>16&255,t+=r}return Po(e)}function Fv(n,e){var t=new Uint8Array(32),r=Em(t),s=12,o=0;switch(t[0]=5,n.t){case"n":t[1]=2,eq(t,s,n.v),o|=1,s+=16;break;case"b":t[1]=6,r.setFloat64(s,n.v?1:0,!0),o|=2,s+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[1]=3,r.setUint32(s,e.indexOf(n.v),!0),o|=8,s+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(8,o,!0),t.slice(0,s)}function Lv(n,e){var t=new Uint8Array(32),r=Em(t),s=12,o=0;switch(t[0]=3,n.t){case"n":t[2]=2,r.setFloat64(s,n.v,!0),o|=32,s+=8;break;case"b":t[2]=6,r.setFloat64(s,n.v?1:0,!0),o|=32,s+=8;break;case"s":if(e.indexOf(n.v)==-1)throw new Error("Value ".concat(n.v," missing from SST!"));t[2]=3,r.setUint32(s,e.indexOf(n.v),!0),o|=16,s+=4;break;default:throw"unsupported cell type "+n.t}return r.setUint32(4,o,!0),t.slice(0,s)}function fo(n){var e=Un(n);return yd(e[1][0].data)}function nq(n,e,t){var r,s,o,u;if(!((r=n[6])!=null&&r[0])||!((s=n[7])!=null&&s[0]))throw"Mutation only works on post-BNC storages!";var d=((u=(o=n[8])==null?void 0:o[0])==null?void 0:u.data)&&ru(n[8][0].data)>0||!1;if(d)throw"Math only works with normal offsets";for(var m=0,f=Em(n[7][0].data),v=0,_=[],y=Em(n[4][0].data),E=0,b=[],w=0;w<e.length;++w){if(e[w]==null){f.setUint16(w*2,65535,!0),y.setUint16(w*2,65535);continue}f.setUint16(w*2,v,!0),y.setUint16(w*2,E,!0);var S,k;switch(typeof e[w]){case"string":S=Fv({t:"s",v:e[w]},t),k=Lv({t:"s",v:e[w]},t);break;case"number":S=Fv({t:"n",v:e[w]},t),k=Lv({t:"n",v:e[w]},t);break;case"boolean":S=Fv({t:"b",v:e[w]},t),k=Lv({t:"b",v:e[w]},t);break;default:throw new Error("Unsupported value "+e[w])}_.push(S),v+=S.length,b.push(k),E+=k.length,++m}for(n[2][0].data=Lt(m);w<n[7][0].data.length/2;++w)f.setUint16(w*2,65535,!0),y.setUint16(w*2,65535,!0);return n[6][0].data=Po(_),n[3][0].data=Po(b),m}function rq(n,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var t=n.Sheets[n.SheetNames[0]];n.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=va(t["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Pn(r)));var o=Tm(t,{range:r,header:1}),u=["~Sh33tJ5~"];o.forEach(function(Z){return Z.forEach(function(Q){typeof Q=="string"&&u.push(Q)})});var d={},m=[],f=Kt.read(e.numbers,{type:"base64"});f.FileIndex.map(function(Z,Q){return[Z,f.FullPaths[Q]]}).forEach(function(Z){var Q=Z[0],ee=Z[1];if(Q.type==2&&Q.name.match(/\.iwa/)){var pe=Q.content,De=Ja(pe),Be=Qa(De);Be.forEach(function(Me){m.push(Me.id),d[Me.id]={deps:[],location:ee,type:ru(Me.messages[0].meta[1][0].data)}})}}),m.sort(function(Z,Q){return Z-Q});var v=m.filter(function(Z){return Z>1}).map(function(Z){return[Z,Lt(Z)]});f.FileIndex.map(function(Z,Q){return[Z,f.FullPaths[Q]]}).forEach(function(Z){var Q=Z[0];if(Z[1],!!Q.name.match(/\.iwa/)){var ee=Qa(Ja(Q.content));ee.forEach(function(pe){pe.messages.forEach(function(De){v.forEach(function(Be){pe.messages.some(function(Me){return ru(Me.meta[1][0].data)!=11006&&Zz(Me.data,Be[1])})&&d[Be[0]].deps.push(pe.id)})})})}});for(var _=Kt.find(f,d[1].location),y=Qa(Ja(_.content)),E,b=0;b<y.length;++b){var w=y[b];w.id==1&&(E=w)}var S=fo(Un(E.messages[0].data)[1][0].data);for(_=Kt.find(f,d[S].location),y=Qa(Ja(_.content)),b=0;b<y.length;++b)w=y[b],w.id==S&&(E=w);for(S=fo(Un(E.messages[0].data)[2][0].data),_=Kt.find(f,d[S].location),y=Qa(Ja(_.content)),b=0;b<y.length;++b)w=y[b],w.id==S&&(E=w);for(S=fo(Un(E.messages[0].data)[2][0].data),_=Kt.find(f,d[S].location),y=Qa(Ja(_.content)),b=0;b<y.length;++b)w=y[b],w.id==S&&(E=w);var k=Un(E.messages[0].data);{k[6][0].data=Lt(r.e.r+1),k[7][0].data=Lt(r.e.c+1);var D=fo(k[46][0].data),j=Kt.find(f,d[D].location),X=Qa(Ja(j.content));{for(var te=0;te<X.length&&X[te].id!=D;++te);if(X[te].id!=D)throw"Bad ColumnRowUIDMapArchive";var ie=Un(X[te].messages[0].data);ie[1]=[],ie[2]=[],ie[3]=[];for(var I=0;I<=r.e.c;++I){var R=[];R[1]=R[2]=[{type:0,data:Lt(I+420690)}],ie[1].push({type:2,data:tr(R)}),ie[2].push({type:0,data:Lt(I)}),ie[3].push({type:0,data:Lt(I)})}ie[4]=[],ie[5]=[],ie[6]=[];for(var N=0;N<=r.e.r;++N)R=[],R[1]=R[2]=[{type:0,data:Lt(N+726270)}],ie[4].push({type:2,data:tr(R)}),ie[5].push({type:0,data:Lt(N)}),ie[6].push({type:0,data:Lt(N)});X[te].messages[0].data=tr(ie)}j.content=Bc(Uc(X)),j.size=j.content.length,delete k[46];var F=Un(k[4][0].data);{F[7][0].data=Lt(r.e.r+1);var U=Un(F[1][0].data),M=fo(U[2][0].data);j=Kt.find(f,d[M].location),X=Qa(Ja(j.content));{if(X[0].id!=M)throw"Bad HeaderStorageBucket";var B=Un(X[0].messages[0].data);for(N=0;N<o.length;++N){var J=Un(B[2][0].data);J[1][0].data=Lt(N),J[4][0].data=Lt(o[N].length),B[2][N]={type:B[2][0].type,data:tr(J)}}X[0].messages[0].data=tr(B)}j.content=Bc(Uc(X)),j.size=j.content.length;var Ee=fo(F[2][0].data);j=Kt.find(f,d[Ee].location),X=Qa(Ja(j.content));{if(X[0].id!=Ee)throw"Bad HeaderStorageBucket";for(B=Un(X[0].messages[0].data),I=0;I<=r.e.c;++I)J=Un(B[2][0].data),J[1][0].data=Lt(I),J[4][0].data=Lt(r.e.r+1),B[2][I]={type:B[2][0].type,data:tr(J)};X[0].messages[0].data=tr(B)}j.content=Bc(Uc(X)),j.size=j.content.length;var re=fo(F[4][0].data);(function(){for(var Z=Kt.find(f,d[re].location),Q=Qa(Ja(Z.content)),ee,pe=0;pe<Q.length;++pe){var De=Q[pe];De.id==re&&(ee=De)}var Be=Un(ee.messages[0].data);{Be[3]=[];var Me=[];u.forEach(function(tt,an){Me[1]=[{type:0,data:Lt(an)}],Me[2]=[{type:0,data:Lt(1)}],Me[3]=[{type:2,data:Jz(tt)}],Be[3].push({type:2,data:tr(Me)})})}ee.messages[0].data=tr(Be);var se=Uc(Q),Xe=Bc(se);Z.content=Xe,Z.size=Z.content.length})();var xe=Un(F[3][0].data);{var le=xe[1][0];delete xe[2];var Le=Un(le.data);{var Te=fo(Le[2][0].data);(function(){for(var Z=Kt.find(f,d[Te].location),Q=Qa(Ja(Z.content)),ee,pe=0;pe<Q.length;++pe){var De=Q[pe];De.id==Te&&(ee=De)}var Be=Un(ee.messages[0].data);{delete Be[6],delete xe[7];var Me=new Uint8Array(Be[5][0].data);Be[5]=[];for(var se=0,Xe=0;Xe<=r.e.r;++Xe){var tt=Un(Me);se+=nq(tt,o[Xe],u),tt[1][0].data=Lt(Xe),Be[5].push({data:tr(tt),type:2})}Be[1]=[{type:0,data:Lt(r.e.c+1)}],Be[2]=[{type:0,data:Lt(r.e.r+1)}],Be[3]=[{type:0,data:Lt(se)}],Be[4]=[{type:0,data:Lt(r.e.r+1)}]}ee.messages[0].data=tr(Be);var an=Uc(Q),ut=Bc(an);Z.content=ut,Z.size=Z.content.length})()}le.data=tr(Le)}F[3][0].data=tr(xe)}k[4][0].data=tr(F)}E.messages[0].data=tr(k);var W=Uc(y),V=Bc(W);return _.content=V,_.size=_.content.length,f}function aq(n){return function(t){for(var r=0;r!=n.length;++r){var s=n[r];t[s[0]]===void 0&&(t[s[0]]=s[1]),s[2]==="n"&&(t[s[0]]=Number(t[s[0]]))}}}function a_(n){aq([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(n)}function sq(n,e){return e.bookType=="ods"?QC(n,e):e.bookType=="numbers"?rq(n,e):e.bookType=="xlsb"?iq(n,e):oq(n,e)}function iq(n,e){Wc=1024,n&&!n.SSF&&(n.SSF=Xr(_n)),n&&n.SSF&&(rp(),np(n.SSF),e.revssf=ap(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Zh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t=e.bookType=="xlsb"?"bin":"xml",r=kC.indexOf(e.bookType)>-1,s=lC();a_(e=e||{});var o=zx(),u="",d=0;if(e.cellXfs=[],qo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),u="docProps/core.xml",dt(o,u,dC(n.Props,e)),s.coreprops.push(u),Vt(e.rels,2,u,St.CORE_PROPS),u="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var m=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&m.push(n.SheetNames[f]);n.Props.SheetNames=m}for(n.Props.Worksheets=n.Props.SheetNames.length,dt(o,u,mC(n.Props)),s.extprops.push(u),Vt(e.rels,3,u,St.EXT_PROPS),n.Custprops!==n.Props&&cr(n.Custprops||{}).length>0&&(u="docProps/custom.xml",dt(o,u,pC(n.Custprops)),s.custprops.push(u),Vt(e.rels,4,u,St.CUST_PROPS)),d=1;d<=n.SheetNames.length;++d){var v={"!id":{}},_=n.Sheets[n.SheetNames[d-1]],y=(_||{})["!type"]||"sheet";switch(y){case"chart":default:u="xl/worksheets/sheet"+d+"."+t,dt(o,u,cz(d-1,u,e,n,v)),s.sheets.push(u),Vt(e.wbrels,-1,"worksheets/sheet"+d+"."+t,St.WS[0])}if(_){var E=_["!comments"],b=!1,w="";E&&E.length>0&&(w="xl/comments"+d+"."+t,dt(o,w,dz(E,w)),s.comments.push(w),Vt(v,-1,"../comments"+d+"."+t,St.CMNT),b=!0),_["!legacy"]&&b&&dt(o,"xl/drawings/vmlDrawing"+d+".vml",DC(d,_["!comments"])),delete _["!comments"],delete _["!legacy"]}v["!id"].rId1&&dt(o,uC(u),tu(v))}return e.Strings!=null&&e.Strings.length>0&&(u="xl/sharedStrings."+t,dt(o,u,hz(e.Strings,u,e)),s.strs.push(u),Vt(e.wbrels,-1,"sharedStrings."+t,St.SST)),u="xl/workbook."+t,dt(o,u,lz(n,u)),s.workbooks.push(u),Vt(e.rels,1,u,St.WB),u="xl/theme/theme1.xml",dt(o,u,IC(n.Themes,e)),s.themes.push(u),Vt(e.wbrels,-1,"theme/theme1.xml",St.THEME),u="xl/styles."+t,dt(o,u,uz(n,u,e)),s.styles.push(u),Vt(e.wbrels,-1,"styles."+t,St.STY),n.vbaraw&&r&&(u="xl/vbaProject.bin",dt(o,u,n.vbaraw),s.vba.push(u),Vt(e.wbrels,-1,"vbaProject.bin",St.VBA)),u="xl/metadata."+t,dt(o,u,fz(u)),s.metadata.push(u),Vt(e.wbrels,-1,"metadata."+t,St.XLMETA),dt(o,"[Content_Types].xml",cC(s,e)),dt(o,"_rels/.rels",tu(e.rels)),dt(o,"xl/_rels/workbook."+t+".rels",tu(e.wbrels)),delete e.revssf,delete e.ssf,o}function oq(n,e){Wc=1024,n&&!n.SSF&&(n.SSF=Xr(_n)),n&&n.SSF&&(rp(),np(n.SSF),e.revssf=ap(n.SSF),e.revssf[n.SSF[65535]]=0,e.ssf=n.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Zh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var t="xml",r=kC.indexOf(e.bookType)>-1,s=lC();a_(e=e||{});var o=zx(),u="",d=0;if(e.cellXfs=[],qo(e.cellXfs,{},{revssf:{General:0}}),n.Props||(n.Props={}),u="docProps/core.xml",dt(o,u,dC(n.Props,e)),s.coreprops.push(u),Vt(e.rels,2,u,St.CORE_PROPS),u="docProps/app.xml",!(n.Props&&n.Props.SheetNames))if(!n.Workbook||!n.Workbook.Sheets)n.Props.SheetNames=n.SheetNames;else{for(var m=[],f=0;f<n.SheetNames.length;++f)(n.Workbook.Sheets[f]||{}).Hidden!=2&&m.push(n.SheetNames[f]);n.Props.SheetNames=m}n.Props.Worksheets=n.Props.SheetNames.length,dt(o,u,mC(n.Props)),s.extprops.push(u),Vt(e.rels,3,u,St.EXT_PROPS),n.Custprops!==n.Props&&cr(n.Custprops||{}).length>0&&(u="docProps/custom.xml",dt(o,u,pC(n.Custprops)),s.custprops.push(u),Vt(e.rels,4,u,St.CUST_PROPS));var v=["SheetJ5"];for(e.tcid=0,d=1;d<=n.SheetNames.length;++d){var _={"!id":{}},y=n.Sheets[n.SheetNames[d-1]],E=(y||{})["!type"]||"sheet";switch(E){case"chart":default:u="xl/worksheets/sheet"+d+"."+t,dt(o,u,zC(d-1,e,n,_)),s.sheets.push(u),Vt(e.wbrels,-1,"worksheets/sheet"+d+"."+t,St.WS[0])}if(y){var b=y["!comments"],w=!1,S="";if(b&&b.length>0){var k=!1;b.forEach(function(D){D[1].forEach(function(j){j.T==!0&&(k=!0)})}),k&&(S="xl/threadedComments/threadedComment"+d+"."+t,dt(o,S,L7(b,v,e)),s.threadedcomments.push(S),Vt(_,-1,"../threadedComments/threadedComment"+d+"."+t,St.TCMNT)),S="xl/comments"+d+"."+t,dt(o,S,jC(b)),s.comments.push(S),Vt(_,-1,"../comments"+d+"."+t,St.CMNT),w=!0}y["!legacy"]&&w&&dt(o,"xl/drawings/vmlDrawing"+d+".vml",DC(d,y["!comments"])),delete y["!comments"],delete y["!legacy"]}_["!id"].rId1&&dt(o,uC(u),tu(_))}return e.Strings!=null&&e.Strings.length>0&&(u="xl/sharedStrings."+t,dt(o,u,wC(e.Strings,e)),s.strs.push(u),Vt(e.wbrels,-1,"sharedStrings."+t,St.SST)),u="xl/workbook."+t,dt(o,u,GC(n)),s.workbooks.push(u),Vt(e.rels,1,u,St.WB),u="xl/theme/theme1.xml",dt(o,u,IC(n.Themes,e)),s.themes.push(u),Vt(e.wbrels,-1,"theme/theme1.xml",St.THEME),u="xl/styles."+t,dt(o,u,NC(n,e)),s.styles.push(u),Vt(e.wbrels,-1,"styles."+t,St.STY),n.vbaraw&&r&&(u="xl/vbaProject.bin",dt(o,u,n.vbaraw),s.vba.push(u),Vt(e.wbrels,-1,"vbaProject.bin",St.VBA)),u="xl/metadata."+t,dt(o,u,RC()),s.metadata.push(u),Vt(e.wbrels,-1,"metadata."+t,St.XLMETA),v.length>1&&(u="xl/persons/person.xml",dt(o,u,V7(v)),s.people.push(u),Vt(e.wbrels,-1,"persons/person.xml",St.PEOPLE)),dt(o,"[Content_Types].xml",cC(s,e)),dt(o,"_rels/.rels",tu(e.rels)),dt(o,"xl/_rels/workbook."+t+".rels",tu(e.wbrels)),delete e.revssf,delete e.ssf,o}function lq(n,e){var t="";switch((e||{}).type||"base64"){case"buffer":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];case"base64":t=Ci(n.slice(0,12));break;case"binary":t=n;break;case"array":return[n[0],n[1],n[2],n[3],n[4],n[5],n[6],n[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3),t.charCodeAt(4),t.charCodeAt(5),t.charCodeAt(6),t.charCodeAt(7)]}function JC(n,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Fd(e.file,Kt.write(n,{type:Ct?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Kt.write(n,e)}function cq(n,e){var t=Xr(e||{}),r=sq(n,t);return uq(r,t)}function uq(n,e){var t={},r=Ct?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(t.compression="DEFLATE"),e.password)t.type=r;else switch(e.type){case"base64":t.type="base64";break;case"binary":t.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":t.type=r;break;default:throw new Error("Unrecognized type "+e.type)}var s=n.FullPaths?Kt.write(n,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[t.type]||t.type,compression:!!e.compression}):n.generate(t);if(typeof Deno<"u"&&typeof s=="string"){if(e.type=="binary"||e.type=="base64")return s;s=new Uint8Array(tp(s))}return e.password&&typeof encrypt_agile<"u"?JC(encrypt_agile(s,e.password),e):e.type==="file"?Fd(e.file,s):e.type=="string"?Xh(s):s}function hq(n,e){var t=e||{},r=Nz(n,t);return JC(r,t)}function ws(n,e,t){t||(t="");var r=t+n;switch(e.type){case"base64":return gd(xd(r));case"binary":return xd(r);case"string":return n;case"file":return Fd(e.file,r,"utf8");case"buffer":return Ct?Di(r,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(r):ws(r,{type:"binary"}).split("").map(function(s){return s.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function dq(n,e){switch(e.type){case"base64":return gd(n);case"binary":return n;case"string":return n;case"file":return Fd(e.file,n,"binary");case"buffer":return Ct?Di(n,"binary"):n.split("").map(function(t){return t.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function b0(n,e){switch(e.type){case"string":case"base64":case"binary":for(var t="",r=0;r<n.length;++r)t+=String.fromCharCode(n[r]);return e.type=="base64"?gd(t):e.type=="string"?Xh(t):t;case"file":return Fd(e.file,n);case"buffer":return n;default:throw new Error("Unrecognized type "+e.type)}}function ZC(n,e){UF(),QB(n);var t=Xr(e||{});if(t.cellStyles&&(t.cellNF=!0,t.sheetStubs=!0),t.type=="array"){t.type="binary";var r=ZC(n,t);return t.type="array",tp(r)}var s=0;if(t.sheet&&(typeof t.sheet=="number"?s=t.sheet:s=n.SheetNames.indexOf(t.sheet),!n.SheetNames[s]))throw new Error("Sheet not found: "+t.sheet+" : "+typeof t.sheet);switch(t.bookType||"xlsb"){case"xml":case"xlml":return ws(Sz(n,t),t);case"slk":case"sylk":return ws(W9.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"htm":case"html":return ws(WC(n.Sheets[n.SheetNames[s]],t),t);case"txt":return dq(t4(n.Sheets[n.SheetNames[s]],t),t);case"csv":return ws(s_(n.Sheets[n.SheetNames[s]],t),t,"\uFEFF");case"dif":return ws(X9.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"dbf":return b0(K9.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"prn":return ws(Y9.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"rtf":return ws(r7.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"eth":return ws(TC.from_sheet(n.Sheets[n.SheetNames[s]],t),t);case"fods":return ws(QC(n,t),t);case"wk1":return b0(sA.sheet_to_wk1(n.Sheets[n.SheetNames[s]],t),t);case"wk3":return b0(sA.book_to_wk3(n,t),t);case"biff2":t.biff||(t.biff=2);case"biff3":t.biff||(t.biff=3);case"biff4":return t.biff||(t.biff=4),b0(KC(n,t),t);case"biff5":t.biff||(t.biff=5);case"biff8":case"xla":case"xls":return t.biff||(t.biff=8),hq(n,t);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return cq(n,t);default:throw new Error("Unrecognized bookType |"+t.bookType+"|")}}function fq(n){if(!n.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},t=n.file.slice(n.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(n.bookType=t.slice(1)),n.bookType=e[n.bookType]||n.bookType}}function e4(n,e,t){var r={};return r.type="file",r.file=e,fq(r),ZC(n,r)}function mq(n,e,t,r,s,o,u,d){var m=or(t),f=d.defval,v=d.raw||!Object.prototype.hasOwnProperty.call(d,"raw"),_=!0,y=s===1?[]:{};if(s!==1)if(Object.defineProperty)try{Object.defineProperty(y,"__rowNum__",{value:t,enumerable:!1})}catch{y.__rowNum__=t}else y.__rowNum__=t;if(!u||n[t])for(var E=e.s.c;E<=e.e.c;++E){var b=u?n[t][E]:n[r[E]+m];if(b===void 0||b.t===void 0){if(f===void 0)continue;o[E]!=null&&(y[o[E]]=f);continue}var w=b.v;switch(b.t){case"z":if(w==null)break;continue;case"e":w=w==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+b.t)}if(o[E]!=null){if(w==null)if(b.t=="e"&&w===null)y[o[E]]=null;else if(f!==void 0)y[o[E]]=f;else if(v&&w===null)y[o[E]]=null;else continue;else y[o[E]]=v&&(b.t!=="n"||b.t==="n"&&d.rawNumbers!==!1)?w:Ii(b,w,d);w!=null&&(_=!1)}}return{row:y,isempty:_}}function Tm(n,e){if(n==null||n["!ref"]==null)return[];var t={t:"n",v:0},r=0,s=1,o=[],u=0,d="",m={s:{r:0,c:0},e:{r:0,c:0}},f=e||{},v=f.range!=null?f.range:n["!ref"];switch(f.header===1?r=1:f.header==="A"?r=2:Array.isArray(f.header)?r=3:f.header==null&&(r=0),typeof v){case"string":m=rn(v);break;case"number":m=rn(n["!ref"]),m.s.r=v;break;default:m=v}r>0&&(s=0);var _=or(m.s.r),y=[],E=[],b=0,w=0,S=Array.isArray(n),k=m.s.r,D=0,j={};S&&!n[k]&&(n[k]=[]);var X=f.skipHidden&&n["!cols"]||[],te=f.skipHidden&&n["!rows"]||[];for(D=m.s.c;D<=m.e.c;++D)if(!(X[D]||{}).hidden)switch(y[D]=yr(D),t=S?n[k][D]:n[y[D]+_],r){case 1:o[D]=D-m.s.c;break;case 2:o[D]=y[D];break;case 3:o[D]=f.header[D-m.s.c];break;default:if(t==null&&(t={w:"__EMPTY",t:"s"}),d=u=Ii(t,null,f),w=j[u]||0,!w)j[u]=1;else{do d=u+"_"+w++;while(j[d]);j[u]=w,j[d]=1}o[D]=d}for(k=m.s.r+s;k<=m.e.r;++k)if(!(te[k]||{}).hidden){var ie=mq(n,m,k,y,r,o,S,f);(ie.isempty===!1||(r===1?f.blankrows!==!1:f.blankrows))&&(E[b++]=ie.row)}return E.length=b,E}var fA=/"/g;function pq(n,e,t,r,s,o,u,d){for(var m=!0,f=[],v="",_=or(t),y=e.s.c;y<=e.e.c;++y)if(r[y]){var E=d.dense?(n[t]||[])[y]:n[r[y]+_];if(E==null)v="";else if(E.v!=null){m=!1,v=""+(d.rawNumbers&&E.t=="n"?E.v:Ii(E,null,d));for(var b=0,w=0;b!==v.length;++b)if((w=v.charCodeAt(b))===s||w===o||w===34||d.forceQuotes){v='"'+v.replace(fA,'""')+'"';break}v=="ID"&&(v='"ID"')}else E.f!=null&&!E.F?(m=!1,v="="+E.f,v.indexOf(",")>=0&&(v='"'+v.replace(fA,'""')+'"')):v="";f.push(v)}return d.blankrows===!1&&m?null:f.join(u)}function s_(n,e){var t=[],r=e??{};if(n==null||n["!ref"]==null)return"";var s=rn(n["!ref"]),o=r.FS!==void 0?r.FS:",",u=o.charCodeAt(0),d=r.RS!==void 0?r.RS:`
`,m=d.charCodeAt(0),f=new RegExp((o=="|"?"\\|":o)+"+$"),v="",_=[];r.dense=Array.isArray(n);for(var y=r.skipHidden&&n["!cols"]||[],E=r.skipHidden&&n["!rows"]||[],b=s.s.c;b<=s.e.c;++b)(y[b]||{}).hidden||(_[b]=yr(b));for(var w=0,S=s.s.r;S<=s.e.r;++S)(E[S]||{}).hidden||(v=pq(n,s,S,_,u,m,o,r),v!=null&&(r.strip&&(v=v.replace(f,"")),(v||r.blankrows!==!1)&&t.push((w++?d:"")+v)));return delete r.dense,t.join("")}function t4(n,e){e||(e={}),e.FS="	",e.RS=`
`;var t=s_(n,e);return t}function gq(n){var e="",t,r="";if(n==null||n["!ref"]==null)return[];var s=rn(n["!ref"]),o="",u=[],d,m=[],f=Array.isArray(n);for(d=s.s.c;d<=s.e.c;++d)u[d]=yr(d);for(var v=s.s.r;v<=s.e.r;++v)for(o=or(v),d=s.s.c;d<=s.e.c;++d)if(e=u[d]+o,t=f?(n[v]||[])[d]:n[e],r="",t!==void 0){if(t.F!=null){if(e=t.F,!t.f)continue;r=t.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(t.f!=null)r=t.f;else{if(t.t=="z")continue;if(t.t=="n"&&t.v!=null)r=""+t.v;else if(t.t=="b")r=t.v?"TRUE":"FALSE";else if(t.w!==void 0)r="'"+t.w;else{if(t.v===void 0)continue;t.t=="s"?r="'"+t.v:r=""+t.v}}m[m.length]=e+"="+r}return m}function n4(n,e,t){var r=t||{},s=+!r.skipHeader,o=n||{},u=0,d=0;if(o&&r.origin!=null)if(typeof r.origin=="number")u=r.origin;else{var m=typeof r.origin=="string"?Wn(r.origin):r.origin;u=m.r,d=m.c}var f,v={s:{c:0,r:0},e:{c:d,r:u+e.length-1+s}};if(o["!ref"]){var _=rn(o["!ref"]);v.e.c=Math.max(v.e.c,_.e.c),v.e.r=Math.max(v.e.r,_.e.r),u==-1&&(u=_.e.r+1,v.e.r=u+e.length-1+s)}else u==-1&&(u=0,v.e.r=e.length-1+s);var y=r.header||[],E=0;e.forEach(function(w,S){cr(w).forEach(function(k){(E=y.indexOf(k))==-1&&(y[E=y.length]=k);var D=w[k],j="z",X="",te=zt({c:d+E,r:u+S+s});f=Ed(o,te),D&&typeof D=="object"&&!(D instanceof Date)?o[te]=D:(typeof D=="number"?j="n":typeof D=="boolean"?j="b":typeof D=="string"?j="s":D instanceof Date?(j="d",r.cellDates||(j="n",D=Wr(D)),X=r.dateNF||_n[14]):D===null&&r.nullError&&(j="e",D=0),f?(f.t=j,f.v=D,delete f.w,delete f.R,X&&(f.z=X)):o[te]=f={t:j,v:D},X&&(f.z=X))})}),v.e.c=Math.max(v.e.c,d+y.length-1);var b=or(u);if(s)for(E=0;E<y.length;++E)o[yr(E+d)+b]={t:"s",v:y[E]};return o["!ref"]=Pn(v),o}function vq(n,e){return n4(null,n,e)}function Ed(n,e,t){if(typeof e=="string"){if(Array.isArray(n)){var r=Wn(e);return n[r.r]||(n[r.r]=[]),n[r.r][r.c]||(n[r.r][r.c]={t:"z"})}return n[e]||(n[e]={t:"z"})}return typeof e!="number"?Ed(n,zt(e)):Ed(n,zt({r:e,c:t||0}))}function xq(n,e){if(typeof e=="number"){if(e>=0&&n.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var t=n.SheetNames.indexOf(e);if(t>-1)return t;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function _q(){return{SheetNames:[],Sheets:{}}}function yq(n,e,t,r){var s=1;if(!t)for(;s<=65535&&n.SheetNames.indexOf(t="Sheet"+s)!=-1;++s,t=void 0);if(!t||n.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&n.SheetNames.indexOf(t)>=0){var o=t.match(/(^.*?)(\d+)$/);s=o&&+o[2]||0;var u=o&&o[1]||t;for(++s;s<=65535&&n.SheetNames.indexOf(t=u+s)!=-1;++s);}if(HC(t),n.SheetNames.indexOf(t)>=0)throw new Error("Worksheet with name |"+t+"| already exists!");return n.SheetNames.push(t),n.Sheets[t]=e,t}function Eq(n,e,t){n.Workbook||(n.Workbook={}),n.Workbook.Sheets||(n.Workbook.Sheets=[]);var r=xq(n,e);switch(n.Workbook.Sheets[r]||(n.Workbook.Sheets[r]={}),t){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+t)}n.Workbook.Sheets[r].Hidden=t}function Tq(n,e){return n.z=e,n}function r4(n,e,t){return e?(n.l={Target:e},t&&(n.l.Tooltip=t)):delete n.l,n}function wq(n,e,t){return r4(n,"#"+e,t)}function Aq(n,e,t){n.c||(n.c=[]),n.c.push({t:e,a:t||"SheetJS"})}function Sq(n,e,t,r){for(var s=typeof e!="string"?e:rn(e),o=typeof e=="string"?e:Pn(e),u=s.s.r;u<=s.e.r;++u)for(var d=s.s.c;d<=s.e.c;++d){var m=Ed(n,u,d);m.t="n",m.F=o,delete m.v,u==s.s.r&&d==s.s.c&&(m.f=t,r&&(m.D=!0))}return n}var au={encode_col:yr,encode_row:or,encode_cell:zt,encode_range:Pn,decode_col:Wx,decode_row:Kx,split_cell:UL,decode_cell:Wn,decode_range:va,format_cell:Ii,sheet_add_aoa:nC,sheet_add_json:n4,sheet_add_dom:XC,aoa_to_sheet:Su,json_to_sheet:vq,table_to_sheet:YC,table_to_book:Xz,sheet_to_csv:s_,sheet_to_txt:t4,sheet_to_json:Tm,sheet_to_html:WC,sheet_to_formulae:gq,sheet_to_row_object_array:Tm,sheet_get_cell:Ed,book_new:_q,book_append_sheet:yq,book_set_sheet_visibility:Eq,cell_set_number_format:Tq,cell_set_hyperlink:r4,cell_set_internal_link:wq,cell_add_comment:Aq,sheet_set_array_formula:Sq,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const bq=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState([]),[o,u]=P.useState([]),[d,m]=P.useState(new Map),[f,v]=P.useState(!0),[_,y]=P.useState(""),[E,b]=P.useState(!1),[w,S]=P.useState(!1),[k,D]=P.useState(null),[j,X]=P.useState({nome:"",unidade:"",quantidadeDisponivel:0}),[te,ie]=P.useState(null),I=P.useCallback(async()=>{if(n){v(!0),y("");try{const[J,Ee,re]=await Promise.all([Za.getEstoquesByObra(n),bl.getKitsByObra(n),y1.getProducoesFaltantesByObra(n)]);t(J),s(Ee);const xe=new Map;Ee.forEach(le=>{xe.set(le.id,re.get(le.id)||0)}),m(xe)}catch(J){y(J instanceof Error?J.message:"Erro ao carregar dados")}finally{v(!1)}}},[n]),R=P.useCallback(()=>{if(r.length===0||e.length===0)return;const J=Za.analisarKits(r,e,d);u(J)},[r,e,d]);P.useEffect(()=>{n&&I()},[n,I]),P.useEffect(()=>{R()},[R]),P.useEffect(()=>(E||w?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[E,w]);const N=J=>{J?(D(J),X({nome:J.nome,unidade:J.unidade,quantidadeDisponivel:J.quantidadeDisponivel})):(D(null),X({nome:"",unidade:"",quantidadeDisponivel:0})),b(!0),ie(null)},F=async J=>{if(J.preventDefault(),!!n){y("");try{k?await Za.updateEstoque(k.id,j):await Za.createEstoque(n,j),await I(),b(!1),X({nome:"",unidade:"",quantidadeDisponivel:0})}catch(Ee){y(Ee instanceof Error?Ee.message:"Erro ao salvar estoque")}}},U=async J=>{if(window.confirm("Tem certeza que deseja excluir este estoque?"))try{await Za.deleteEstoque(J),await I(),ie(null)}catch(Ee){y(Ee instanceof Error?Ee.message:"Erro ao excluir estoque")}},M=(J,Ee)=>{const re=new Map(d);re.set(J,Ee),m(re)},B=()=>{const J=[];o.forEach(xe=>{xe.insumos.forEach(le=>{J.push({Kit:xe.kitNome,Vago:`Vago ${xe.vagaoNumero}`,"Produo Faltante":xe.producaoFaltante,Insumo:le.nome,Unidade:le.unidade,"Qtd por Unidade":le.quantidadePorUnidade,"Qtd Total Necessria":le.quantidadeTotal,"Qtd Alocada":le.quantidadeAlocada,Dficit:le.deficit,Status:le.temAlerta?"ALERTA":"OK"})})});const Ee=au.json_to_sheet(J),re=au.book_new();au.book_append_sheet(re,Ee,"Anlise de Estoque"),e4(re,`analise-estoque-${new Date().getTime()}.xlsx`)};return f?l.jsx("div",{className:"estoque-insumos-container",children:l.jsx("div",{className:"estoque-loading",children:"Carregando dados..."})}):l.jsxs("div",{className:"estoque-insumos-container",children:[l.jsxs("div",{className:"estoque-header",children:[l.jsxs("div",{className:"estoque-header-left",children:[l.jsx(ko,{size:32}),l.jsx("h1",{children:"Analise de Estoque de Insumos"})]}),l.jsxs("div",{className:"estoque-header-actions",children:[l.jsxs("button",{className:"btn-secondary-estoque",onClick:()=>S(!0),children:[l.jsx(_1,{size:18}),"Editar Produo Faltante"]}),l.jsxs("button",{className:"btn-add-estoque",onClick:()=>N(),children:[l.jsx(hn,{size:20}),"Adicionar Insumo ao Estoque"]}),l.jsxs("button",{className:"btn-export-estoque",onClick:B,children:[l.jsx(_N,{size:20}),"Exportar Excel"]})]})]}),_&&l.jsxs("div",{className:"estoque-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:_}),l.jsx("button",{onClick:()=>{y(""),I()},children:l.jsx(dn,{size:16})})]}),l.jsxs("div",{className:"estoque-summary",children:[l.jsx("h2",{children:"Estoque Disponvel"}),l.jsx("div",{className:"estoque-grid",children:e.length===0?l.jsxs("div",{className:"estoque-empty-card",children:[l.jsx(ko,{size:40}),l.jsx("p",{children:"Nenhum insumo cadastrado no estoque"})]}):e.map(J=>l.jsxs("div",{className:"estoque-card",children:[l.jsxs("div",{className:"estoque-card-header",children:[l.jsx("h3",{children:J.nome}),l.jsxs("div",{className:"estoque-card-menu",children:[l.jsx("button",{onClick:()=>ie(te===J.id?null:J.id),children:l.jsx(ql,{size:20})}),te===J.id&&l.jsxs("div",{className:"estoque-dropdown-menu",children:[l.jsxs("button",{onClick:()=>N(J),children:[l.jsx(_1,{size:18}),"Editar"]}),l.jsxs("button",{onClick:()=>U(J.id),children:[l.jsx(ga,{size:18}),"Excluir"]})]})]})]}),l.jsxs("div",{className:"estoque-card-body",children:[l.jsx("span",{className:"estoque-quantidade",children:J.quantidadeDisponivel.toLocaleString("pt-BR")}),l.jsx("span",{className:"estoque-unidade",children:J.unidade})]})]},J.id))})]}),l.jsxs("div",{className:"analise-section",children:[l.jsx("h2",{children:"Anlise de Necessidade por Kit"}),o.length===0?l.jsxs("div",{className:"analise-empty",children:[l.jsx(It,{size:48}),l.jsx("p",{children:"Nenhum kit para analisar"})]}):l.jsx("div",{className:"analise-list",children:o.map(J=>l.jsxs("div",{className:`analise-card ${J.temAlerta?"alerta":"ok"}`,children:[l.jsxs("div",{className:"analise-card-header",children:[l.jsxs("div",{className:"analise-info",children:[J.temAlerta?l.jsx(ns,{size:24,className:"icon-alerta"}):l.jsx($r,{size:24,className:"icon-ok"}),l.jsxs("div",{children:[l.jsx("h3",{children:J.kitNome}),l.jsxs("span",{className:"analise-vagao",children:["Vago ",J.vagaoNumero]}),l.jsxs("span",{className:"analise-producao",children:["Produo faltante: ",J.producaoFaltante," ","apartamentos"]})]})]}),l.jsx("div",{className:"analise-status",children:J.temAlerta?l.jsx("span",{className:"status-badge alerta",children:"ALERTA"}):l.jsx("span",{className:"status-badge ok",children:"OK"})})]}),l.jsx("div",{className:"analise-insumos",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Insumo"}),l.jsx("th",{children:"Unidade"}),l.jsx("th",{children:"Qtd/Un"}),l.jsx("th",{children:"Necessrio"}),l.jsx("th",{children:"Alocado"}),l.jsx("th",{children:"Dficit"})]})}),l.jsx("tbody",{children:J.insumos.map((Ee,re)=>l.jsxs("tr",{className:Ee.temAlerta?"row-alerta":"",children:[l.jsx("td",{children:Ee.nome}),l.jsx("td",{children:Ee.unidade}),l.jsx("td",{children:Ee.quantidadePorUnidade}),l.jsx("td",{children:Ee.quantidadeTotal.toLocaleString("pt-BR")}),l.jsx("td",{children:Ee.quantidadeAlocada.toLocaleString("pt-BR")}),l.jsx("td",{children:Ee.deficit>0?l.jsx("span",{className:"deficit-valor",children:Ee.deficit.toLocaleString("pt-BR")}):"-"})]},re))})]})})]},J.kitId))})]}),E&&hd.createPortal(l.jsx("div",{className:"estoque-modal-overlay",onClick:()=>b(!1),children:l.jsxs("div",{className:"estoque-modal-content",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"estoque-modal-header",children:[l.jsxs("h2",{children:[k?"Editar":"Adicionar"," Insumo ao Estoque"]}),l.jsx("button",{className:"estoque-modal-close",onClick:()=>b(!1),children:l.jsx(dn,{size:24})})]}),l.jsxs("form",{className:"estoque-modal-form",onSubmit:F,children:[l.jsxs("div",{className:"estoque-form-row",children:[l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Nome do insumo *"}),l.jsx("input",{type:"text",value:j.nome,onChange:J=>X({...j,nome:J.target.value}),required:!0})]}),l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Unidade *"}),l.jsx("input",{type:"text",value:j.unidade,onChange:J=>X({...j,unidade:J.target.value}),required:!0,placeholder:"m, kg, pea..."})]})]}),l.jsxs("div",{className:"estoque-form-group",children:[l.jsx("label",{children:"Quantidade disponvel *"}),l.jsx("input",{type:"number",min:0,step:"0.01",value:j.quantidadeDisponivel,onChange:J=>X({...j,quantidadeDisponivel:parseFloat(J.target.value)||0}),required:!0})]}),l.jsxs("div",{className:"estoque-modal-actions",children:[l.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>b(!1),children:"Cancelar"}),l.jsx("button",{type:"submit",className:"btn-primary-modal",children:k?"Atualizar":"Adicionar"})]})]})]})}),document.body),w&&hd.createPortal(l.jsx("div",{className:"estoque-modal-overlay",onClick:()=>S(!1),children:l.jsxs("div",{className:"estoque-modal-content",onClick:J=>J.stopPropagation(),children:[l.jsxs("div",{className:"estoque-modal-header",children:[l.jsx("h2",{children:"Editar Produo Faltante por Kit"}),l.jsx("button",{className:"estoque-modal-close",onClick:()=>S(!1),children:l.jsx(dn,{size:24})})]}),l.jsx("div",{className:"producao-modal-content",children:r.map(J=>l.jsxs("div",{className:"producao-item",children:[l.jsxs("div",{className:"producao-item-info",children:[l.jsx("strong",{children:J.nome}),l.jsxs("span",{children:["Vago ",J.vagaoNumero]})]}),l.jsx("input",{type:"number",min:0,value:d.get(J.id)||0,onChange:Ee=>M(J.id,parseInt(Ee.target.value)||0),placeholder:"Apartamentos faltantes"})]},J.id))}),l.jsxs("div",{className:"estoque-modal-actions",children:[l.jsx("button",{type:"button",className:"btn-secondary-modal",onClick:()=>S(!1),children:"Cancelar"}),l.jsx("button",{type:"button",className:"btn-primary-modal",onClick:async()=>{if(n)try{y(""),await y1.saveProducoesFaltantes(n,d),S(!1)}catch(J){y(J instanceof Error?J.message:"Erro ao salvar produo faltante")}},children:"Salvar e Confirmar"})]})]})}),document.body)]})},Nq=()=>{const{obraId:n}=ur(),[e,t]=P.useState([]),[r,s]=P.useState([]),[o,u]=P.useState([]),[d,m]=P.useState(new Map),[f,v]=P.useState(!0),[_,y]=P.useState(""),E=P.useCallback(async()=>{if(n){v(!0),y("");try{const[S,k,D]=await Promise.all([Za.getEstoquesByObra(n),bl.getKitsByObra(n),y1.getProducoesFaltantesByObra(n)]);t(S),s(k);const j=new Map;k.forEach(X=>{j.set(X.id,D.get(X.id)||0)}),m(j)}catch(S){y(S instanceof Error?S.message:"Erro ao carregar dados")}finally{v(!1)}}},[n]),b=P.useCallback(()=>{if(r.length===0||e.length===0){u([]);return}const k=Za.analisarKits(r,e,d).filter(D=>D.temAlerta);u(k)},[r,e,d]);P.useEffect(()=>{n&&E()},[n,E]),P.useEffect(()=>{b()},[b]);const w=()=>{const S=[];o.forEach(X=>{X.insumos.filter(ie=>ie.temAlerta).forEach(ie=>{S.push({Kit:X.kitNome,Vago:`Vago ${X.vagaoNumero}`,"Produo Faltante":X.producaoFaltante,Insumo:ie.nome,Unidade:ie.unidade,"Qtd por Unidade":ie.quantidadePorUnidade,"Qtd Total Necessria":ie.quantidadeTotal,"Qtd Alocada":ie.quantidadeAlocada,Dficit:ie.deficit})})});const k=au.json_to_sheet(S),D=au.book_new();au.book_append_sheet(D,k,"Material Faltante");const j=[{wch:25},{wch:12},{wch:18},{wch:25},{wch:10},{wch:18},{wch:20},{wch:15},{wch:12}];k["!cols"]=j,e4(D,`material-faltante-${new Date().getTime()}.xlsx`)};return f?l.jsx("div",{className:"material-faltante-container",children:l.jsxs("div",{className:"material-faltante-loading",children:[l.jsx(Bt,{size:48}),l.jsx("p",{children:"Carregando anlise de materiais faltantes..."})]})}):l.jsxs("div",{className:"material-faltante-container",children:[l.jsxs("div",{className:"material-faltante-header",children:[l.jsxs("div",{className:"material-faltante-header-left",children:[l.jsx(ns,{size:32}),l.jsxs("div",{children:[l.jsx("h1",{children:"Material Faltante"}),l.jsx("p",{children:"Kits com dficit de insumos identificados"})]})]}),l.jsx("div",{className:"material-faltante-header-actions",children:l.jsxs("button",{className:"btn-export-material",onClick:w,disabled:o.length===0,children:[l.jsx(_N,{size:20}),"Exportar Excel"]})})]}),_&&l.jsxs("div",{className:"material-faltante-error",children:[l.jsx(ns,{size:20}),l.jsx("span",{children:_}),l.jsx("button",{onClick:()=>{y(""),E()},children:l.jsx(dn,{size:16})})]}),o.length===0?l.jsxs("div",{className:"material-faltante-empty",children:[l.jsx($r,{size:64}),l.jsx("h2",{children:"Nenhum Material Faltante!"}),l.jsx("p",{children:"Todos os kits tm insumos suficientes no estoque. No h dficit identificado no momento."})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"material-faltante-summary",children:[l.jsx(ns,{size:40}),l.jsxs("div",{className:"material-faltante-summary-content",children:[l.jsx("h2",{children:"Ateno Necessria"}),l.jsxs("p",{children:[l.jsx("strong",{children:o.length})," ",o.length===1?"kit possui":"kits possuem"," ","falta de materiais. Revise e providencie os insumos necessrios."]})]})]}),l.jsx("div",{className:"material-faltante-list",children:o.map(S=>{const k=S.insumos.filter(D=>D.temAlerta);return l.jsxs("div",{className:"material-faltante-card",children:[l.jsxs("div",{className:"material-faltante-card-header",children:[l.jsxs("div",{className:"material-faltante-info",children:[l.jsx(ns,{size:24}),l.jsxs("div",{children:[l.jsx("h3",{children:S.kitNome}),l.jsxs("span",{className:"material-faltante-vagao",children:["Vago ",S.vagaoNumero]}),l.jsxs("span",{className:"material-faltante-producao",children:["Produo faltante: ",S.producaoFaltante," ","apartamentos"]})]})]}),l.jsx("div",{className:"material-faltante-badge",children:"ALERTA"})]}),l.jsx("div",{className:"material-faltante-insumos",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Insumo Faltante"}),l.jsx("th",{children:"Unidade"}),l.jsx("th",{children:"Qtd/Un"}),l.jsx("th",{children:"Necessrio"}),l.jsx("th",{children:"Alocado"}),l.jsx("th",{children:"Dficit"})]})}),l.jsx("tbody",{children:k.map((D,j)=>l.jsxs("tr",{children:[l.jsx("td",{children:l.jsx("strong",{children:D.nome})}),l.jsx("td",{children:D.unidade}),l.jsx("td",{children:D.quantidadePorUnidade}),l.jsx("td",{children:D.quantidadeTotal.toLocaleString("pt-BR")}),l.jsx("td",{children:D.quantidadeAlocada.toLocaleString("pt-BR")}),l.jsx("td",{children:l.jsx("span",{className:"deficit-valor-material",children:D.deficit.toLocaleString("pt-BR")})})]},j))})]})})]},S.kitId)})})]})]})},Cq=()=>l.jsxs("div",{className:"page-container",children:[l.jsxs("div",{className:"page-header",children:[l.jsx("h1",{children:"Mapa de Restries"}),l.jsx("p",{children:"Visualizao de restries e dependncias"})]}),l.jsx("div",{className:"page-content",children:l.jsx("p",{children:"Contedo do mdulo de Mapa de Restries ser implementado aqui."})})]}),Iq=()=>{const[n]=gN(),e=Or(),t=n.get("token"),r=n.get("contratoId"),[s,o]=P.useState(null),[u,d]=P.useState(!0),[m,f]=P.useState(null),[v,_]=P.useState(!1),[y,E]=P.useState(!1),[b,w]=P.useState(null),[S,k]=P.useState("");P.useEffect(()=>{(async()=>{if(!t||!r){f("Token ou ID do contrato no fornecido"),d(!1);return}try{d(!0),f(null);const ie=await rs.getContratoById(r);if(!ie){f("Contrato no encontrado");return}if(ie.tokenAprovacao!==t){f("Token de aprovao invlido ou expirado");return}if(ie.status!=="pendente"){f(`Este contrato j foi ${ie.status==="aprovado"?"aprovado":"rejeitado"}`);return}o(ie)}catch(ie){f(ie instanceof Error?ie.message:"Erro ao carregar contrato. Verifique o link de aprovao.")}finally{d(!1)}})()},[t,r]);const D=async()=>{if(!(!t||!r))try{_(!0),f(null),await rs.aprovarContrato({contratoId:r,token:t,aprovado:b==="aprovado",observacoes:S.trim()||void 0});const te=await rs.getContratoById(r);te&&(o(te),E(!1),w(null),k(""))}catch(te){f(te instanceof Error?te.message:"Erro ao processar aprovao. Tente novamente.")}finally{_(!1)}},j=te=>new Intl.NumberFormat("pt-BR",{style:"currency",currency:"BRL"}).format(te),X=te=>new Date(te).toLocaleDateString("pt-BR");return u?l.jsx("div",{className:"aprovar-contrato-container",children:l.jsxs("div",{className:"aprovar-contrato-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando informaes do contrato..."})]})}):m&&!s?l.jsx("div",{className:"aprovar-contrato-container",children:l.jsxs("div",{className:"aprovar-contrato-error",children:[l.jsx(It,{size:48}),l.jsx("h2",{children:"Erro ao carregar contrato"}),l.jsx("p",{children:m}),l.jsx("button",{className:"btn-back-home",onClick:()=>e("/login"),children:"Voltar para Login"})]})}):s?l.jsxs("div",{className:"aprovar-contrato-container",children:[l.jsx("div",{className:"aprovar-contrato-header",children:l.jsxs("div",{className:"aprovar-contrato-logo",children:[l.jsx(Os,{size:32}),l.jsx("h1",{children:"Aprovao de Contrato"})]})}),l.jsxs("div",{className:"aprovar-contrato-content",children:[m&&l.jsxs("div",{className:"aprovar-contrato-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:m})]}),s.status!=="pendente"?l.jsxs("div",{className:"aprovar-contrato-already-processed",children:[l.jsx("div",{className:"status-icon-large",children:s.status==="aprovado"?l.jsx($r,{size:64,className:"status-approved"}):l.jsx(V0,{size:64,className:"status-rejected"})}),l.jsxs("h2",{children:["Contrato ",s.status==="aprovado"?"Aprovado":"Rejeitado"]}),l.jsxs("p",{children:["Este contrato j foi processado em"," ",s.dataAprovacao?X(s.dataAprovacao):X(s.updatedAt),"."]}),s.observacoesAprovacao&&l.jsxs("div",{className:"aprovar-contrato-observations",children:[l.jsx("strong",{children:"Observaes:"}),l.jsx("p",{children:s.observacoesAprovacao})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"aprovar-contrato-info-card",children:[l.jsxs("div",{className:"aprovar-contrato-info-header",children:[l.jsx(Ni,{size:32}),l.jsxs("div",{children:[l.jsxs("h2",{children:[s.tipo==="aditivo"?"Aditivo":"Contrato"," -"," ",s.fornecedor]}),l.jsxs("p",{className:"contrato-number",children:["N ",s.numeroContrato]})]})]}),l.jsxs("div",{className:"aprovar-contrato-info-grid",children:[l.jsxs("div",{className:"info-item",children:[l.jsx(Os,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Fornecedor"}),l.jsx("span",{className:"info-value",children:s.fornecedor})]})]}),l.jsxs("div",{className:"info-item",children:[l.jsx(dd,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Valor Total"}),l.jsx("span",{className:"info-value",children:j(s.valorTotal)})]})]}),l.jsxs("div",{className:"info-item",children:[l.jsx(om,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Data de Criao"}),l.jsx("span",{className:"info-value",children:X(s.createdAt)})]})]}),l.jsxs("div",{className:"info-item",children:[l.jsx(Lx,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Aprovador"}),l.jsx("span",{className:"info-value",children:s.aprovadorNome})]})]}),l.jsxs("div",{className:"info-item",children:[l.jsx(Zm,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"E-mail"}),l.jsx("span",{className:"info-value",children:s.aprovadorEmail})]})]})]})]}),l.jsxs("div",{className:"aprovar-contrato-items",children:[l.jsx("h3",{children:"Itens do Contrato"}),l.jsx("div",{className:"aprovar-contrato-items-table",children:l.jsxs("table",{children:[l.jsx("thead",{children:l.jsxs("tr",{children:[l.jsx("th",{children:"Descrio"}),l.jsx("th",{children:"Unidade"}),l.jsx("th",{children:"Quantidade"}),l.jsx("th",{children:"Valor Unitrio"}),l.jsx("th",{children:"Total"})]})}),l.jsx("tbody",{children:s.itens.map(te=>l.jsxs("tr",{children:[l.jsx("td",{children:te.descricao}),l.jsx("td",{children:te.unidade}),l.jsx("td",{children:te.quantidade}),l.jsx("td",{children:j(te.valorUnitario)}),l.jsx("td",{children:l.jsx("strong",{children:j(te.valorTotal)})})]},te.id))}),l.jsx("tfoot",{children:l.jsxs("tr",{children:[l.jsx("td",{colSpan:4,children:l.jsx("strong",{children:"Total"})}),l.jsx("td",{children:l.jsx("strong",{children:j(s.valorTotal)})})]})})]})})]}),y?l.jsxs("div",{className:"aprovar-contrato-confirm",children:[l.jsx("h3",{children:b==="aprovado"?"Confirmar Aprovao":"Confirmar Rejeio"}),l.jsx("p",{children:b==="aprovado"?"Deseja realmente aprovar este contrato?":"Deseja realmente rejeitar este contrato?"}),l.jsxs("div",{className:"aprovar-contrato-observations-input",children:[l.jsx("label",{htmlFor:"observacoes",children:"Observaes (opcional)"}),l.jsx("textarea",{id:"observacoes",value:S,onChange:te=>k(te.target.value),placeholder:"Adicione observaes sobre sua deciso...",rows:4,disabled:v})]}),l.jsxs("div",{className:"aprovar-contrato-confirm-actions",children:[l.jsx("button",{className:"btn-cancel",onClick:()=>{E(!1),w(null),k("")},disabled:v,children:"Cancelar"}),l.jsx("button",{className:b==="aprovado"?"btn-confirm-approve":"btn-confirm-reject",onClick:D,disabled:v,children:v?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"spinner-rotate"}),"Processando..."]}):l.jsxs(l.Fragment,{children:[b==="aprovado"?l.jsx($r,{size:18}):l.jsx(V0,{size:18}),"Confirmar"]})})]})]}):l.jsxs("div",{className:"aprovar-contrato-actions",children:[l.jsxs("div",{className:"aprovar-contrato-actions-header",children:[l.jsx("h3",{children:"Deciso de Aprovao"}),l.jsx("p",{children:"Revise todas as informaes acima antes de tomar sua deciso."})]}),l.jsxs("div",{className:"aprovar-contrato-buttons",children:[l.jsxs("button",{className:"btn-approve",onClick:()=>{w("aprovado"),E(!0)},children:[l.jsx($r,{size:20}),"Aprovar Contrato"]}),l.jsxs("button",{className:"btn-reject",onClick:()=>{w("rejeitado"),E(!0)},children:[l.jsx(V0,{size:20}),"Rejeitar Contrato"]})]})]}),s.status==="pendente"&&!y&&l.jsx("div",{className:"aprovar-contrato-footer",children:l.jsxs("p",{children:[l.jsx(It,{size:16}),"Esta  uma ao irreversvel. Certifique-se de revisar todos os detalhes antes de prosseguir."]})})]})]})]}):null},Rq=()=>{const[n]=gN(),e=Or(),t=n.get("token"),r=n.get("checklistId"),s=n.get("obraId"),[o,u]=P.useState(null),[d,m]=P.useState(!0),[f,v]=P.useState(null),[_,y]=P.useState(!1),[E,b]=P.useState(!1),[w,S]=P.useState(null),[k,D]=P.useState("");P.useEffect(()=>{(async()=>{if(!t||!r||!s){v("Token, ID do checklist ou ID da obra no fornecido"),m(!1);return}try{m(!0),v(null);const I=await vi.getChecklistById(s,r);if(!I){v("Checklist no encontrado");return}if(I.tokenAprovacao!==t){v("Token de aprovao invlido ou expirado");return}if(I.status!=="pendente"){v(`Este checklist j foi ${I.status==="aprovado"?"aprovado":I.status==="aprovado_com_restricao"?"aprovado com restrio":"processado"}`);return}u(I)}catch(I){v(I instanceof Error?I.message:"Erro ao carregar checklist. Verifique o link de aprovao.")}finally{m(!1)}})()},[t,r,s]);const j=async()=>{if(!(!t||!r||!s||!w))try{y(!0),v(null),await vi.aprovarChecklist({checklistId:r,obraId:s,token:t,aprovado:w==="aprovado",observacoes:k.trim()||void 0});const ie=await vi.getChecklistById(s,r);ie&&(u(ie),b(!1),S(null),D(""))}catch(ie){v(ie instanceof Error?ie.message:"Erro ao processar aprovao. Tente novamente.")}finally{y(!1)}},X=ie=>new Date(ie).toLocaleDateString("pt-BR"),te=ie=>["Janeiro","Fevereiro","Maro","Abril","Maio","Junho","Julho","Agosto","Setembro","Outubro","Novembro","Dezembro"][ie-1]||ie.toString();return d?l.jsx("div",{className:"aprovar-checklist-container",children:l.jsxs("div",{className:"aprovar-checklist-loading",children:[l.jsx(Bt,{size:48,className:"spinner-rotate"}),l.jsx("p",{children:"Carregando informaes do checklist..."})]})}):f&&!o?l.jsx("div",{className:"aprovar-checklist-container",children:l.jsxs("div",{className:"aprovar-checklist-error",children:[l.jsx(It,{size:48}),l.jsx("h2",{children:"Erro ao carregar checklist"}),l.jsx("p",{children:f}),l.jsx("button",{className:"btn-back-home",onClick:()=>e("/login"),children:"Voltar para Login"})]})}):o?l.jsxs("div",{className:"aprovar-checklist-container",children:[l.jsx("div",{className:"aprovar-checklist-header",children:l.jsxs("div",{className:"aprovar-checklist-logo",children:[l.jsx(Ml,{size:32}),l.jsx("h1",{children:"Aprovao de Checklist Mensal"})]})}),l.jsxs("div",{className:"aprovar-checklist-content",children:[f&&l.jsxs("div",{className:"aprovar-checklist-error-banner",children:[l.jsx(It,{size:20}),l.jsx("span",{children:f})]}),o.status!=="pendente"?l.jsxs("div",{className:"aprovar-checklist-already-processed",children:[l.jsx("div",{className:"status-icon-large",children:o.status==="aprovado"?l.jsx($r,{size:64,className:"status-approved"}):l.jsx(ns,{size:64,className:"status-restriction"})}),l.jsxs("h2",{children:["Checklist"," ",o.status==="aprovado"?"Aprovado":"Aprovado com Restrio"]}),l.jsxs("p",{children:["Este checklist j foi processado em"," ",o.dataAprovacao?X(o.dataAprovacao):o.updatedAt?X(o.updatedAt):X(o.createdAt),"."]}),o.observacoesAprovacao&&l.jsxs("div",{className:"aprovar-checklist-observations",children:[l.jsx("strong",{children:"Observaes:"}),l.jsx("p",{children:o.observacoesAprovacao})]})]}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"aprovar-checklist-info-card",children:[l.jsxs("div",{className:"aprovar-checklist-info-header",children:[l.jsx(Ml,{size:32}),l.jsxs("div",{children:[l.jsxs("h2",{children:["Checklist Mensal - ",te(o.mes),"/",o.ano]}),l.jsx("p",{className:"checklist-period",children:"Perodo de referncia"})]})]}),l.jsxs("div",{className:"aprovar-checklist-info-grid",children:[l.jsxs("div",{className:"info-item",children:[l.jsx(om,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Ms/Ano"}),l.jsxs("span",{className:"info-value",children:[te(o.mes),"/",o.ano]})]})]}),l.jsxs("div",{className:"info-item",children:[l.jsx(om,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Data de Criao"}),l.jsx("span",{className:"info-value",children:X(o.createdAt)})]})]}),o.aprovadorNome&&l.jsxs("div",{className:"info-item",children:[l.jsx(Lx,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"Aprovador"}),l.jsx("span",{className:"info-value",children:o.aprovadorNome})]})]}),o.aprovadorEmail&&l.jsxs("div",{className:"info-item",children:[l.jsx(Zm,{size:20}),l.jsxs("div",{children:[l.jsx("span",{className:"info-label",children:"E-mail"}),l.jsx("span",{className:"info-value",children:o.aprovadorEmail})]})]})]}),o.observacoes&&l.jsxs("div",{className:"aprovar-checklist-observations-section",children:[l.jsx("h3",{children:"Observaes do Checklist"}),l.jsx("p",{children:o.observacoes})]})]}),l.jsxs("div",{className:"aprovar-checklist-pdf",children:[l.jsx("h3",{children:"Documento PDF"}),l.jsxs("div",{className:"aprovar-checklist-pdf-card",children:[l.jsxs("div",{className:"pdf-info",children:[l.jsx(Ni,{size:32}),l.jsxs("div",{children:[l.jsx("strong",{children:o.pdfFileName||"checklist.pdf"}),l.jsx("p",{children:"Arquivo PDF do checklist mensal"})]})]}),l.jsxs("a",{href:o.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"btn-view-pdf",children:[l.jsx(xN,{size:20}),"Abrir PDF"]})]})]}),E?l.jsxs("div",{className:"aprovar-checklist-confirm",children:[l.jsx("h3",{children:w==="aprovado"?"Confirmar Aprovao":"Confirmar Aprovao com Restrio"}),l.jsx("p",{children:w==="aprovado"?"Deseja realmente aprovar este checklist?":"Deseja realmente aprovar este checklist com restrio?"}),l.jsxs("div",{className:"aprovar-checklist-observations-input",children:[l.jsxs("label",{htmlFor:"observacoes",children:["Observaes ",w==="aprovado_com_restricao"&&"(recomendado)"]}),l.jsx("textarea",{id:"observacoes",value:k,onChange:ie=>D(ie.target.value),placeholder:w==="aprovado_com_restricao"?"Descreva as restries ou observaes sobre este checklist...":"Adicione observaes sobre sua deciso (opcional)...",rows:4,disabled:_})]}),l.jsxs("div",{className:"aprovar-checklist-confirm-actions",children:[l.jsx("button",{className:"btn-cancel",onClick:()=>{b(!1),S(null),D("")},disabled:_,children:"Cancelar"}),l.jsx("button",{className:w==="aprovado"?"btn-confirm-approve":"btn-confirm-restriction",onClick:j,disabled:_,children:_?l.jsxs(l.Fragment,{children:[l.jsx(Bt,{size:18,className:"spinner-rotate"}),"Processando..."]}):l.jsxs(l.Fragment,{children:[w==="aprovado"?l.jsx($r,{size:18}):l.jsx(ns,{size:18}),"Confirmar"]})})]})]}):l.jsxs("div",{className:"aprovar-checklist-actions",children:[l.jsxs("div",{className:"aprovar-checklist-actions-header",children:[l.jsx("h3",{children:"Deciso de Aprovao"}),l.jsx("p",{children:"Revise o documento PDF e as informaes acima antes de tomar sua deciso."})]}),l.jsxs("div",{className:"aprovar-checklist-buttons",children:[l.jsxs("button",{className:"btn-approve",onClick:()=>{S("aprovado"),b(!0)},children:[l.jsx($r,{size:20}),"Aprovar Checklist"]}),l.jsxs("button",{className:"btn-approve-restriction",onClick:()=>{S("aprovado_com_restricao"),b(!0)},children:[l.jsx(ns,{size:20}),"Aprovar com Restrio"]})]})]}),o.status==="pendente"&&!E&&l.jsx("div",{className:"aprovar-checklist-footer",children:l.jsxs("p",{children:[l.jsx(It,{size:16}),"Esta  uma ao irreversvel. Certifique-se de revisar o documento PDF antes de prosseguir."]})})]})]})]}):null};function Dq(){return l.jsx(SP,{children:l.jsxs(tP,{children:[l.jsx(nn,{path:fi.home,element:l.jsx(Nw,{})}),l.jsx(nn,{path:fi.login,element:l.jsx(Nw,{})}),l.jsx(nn,{path:fi.register,element:l.jsx(lF,{})}),l.jsx(nn,{path:"/aprovar-contrato",element:l.jsx(Iq,{})}),l.jsx(nn,{path:"/aprovar-checklist",element:l.jsx(Rq,{})}),l.jsx(nn,{path:fi.dashboard,element:l.jsx(Vn,{children:l.jsx(cF,{})})}),l.jsx(nn,{path:"/obras/:obraId",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(Ox,{to:"vagoes",replace:!0})})})}),l.jsx(nn,{path:"/obras/:obraId/vagoes",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(dF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/custo-vagoes",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(fF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/estoque-insumos",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(gF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/itens",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(vF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/contrato",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(_F,{})})})}),l.jsx(nn,{path:"/obras/:obraId/kits",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(FF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/checklist-mensal",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(EF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/checklist-mensal/novo",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(TF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/checklist-mensal/:checklistId",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(wF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/medicao",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(AF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/medicao/nova",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(SF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/medicao/:medicaoId",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(bF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/producao",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(NF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/producao-faltante",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(jF,{})})})}),l.jsx(nn,{path:"/obras/:obraId/estoque-kits",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(bq,{})})})}),l.jsx(nn,{path:"/obras/:obraId/material-faltante",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(Nq,{})})})}),l.jsx(nn,{path:"/obras/:obraId/mapa-restricoes",element:l.jsx(Vn,{children:l.jsx(Gn,{children:l.jsx(Cq,{})})})})]})})}function jq(){return l.jsx(h8,{children:l.jsx(Dq,{})})}zI.createRoot(document.getElementById("root")).render(l.jsx(P.StrictMode,{children:l.jsx(jq,{})}));
